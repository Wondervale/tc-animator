import{h as P,j as h,P as Ga,k as Ya,l as Wa,G as Ha,T as Ja,C as Xa,D as Qa,n as el,o as tl,q as nl,X as Bo,O as sl,t as rl,I as ol,S as il,M as al,u as ll,v as cl,w as ul,y as fl,z as dl,A as hl,B as pl,E as ml,F as gl,V as yl,H as bl,J as vl,K as wl,L as _l,N as kl,Q as Uo,U as xl,W as Sl,Y as Nl,Z as jl,_ as Al,$ as $l,a0 as Ol,a1 as Il,a2 as Tl,a3 as El,a4 as Cl,r as X,a5 as zl,a6 as Pl,a7 as Ml,a8 as Ll,a9 as Fl,aa as fr,ab as Dl,ac as Rl,ad as cn,ae as Zl,af as Bl,ag as An,ah as Ul,ai as Kl,aj as Vl,ak as ql,al as Gl,am as Yl,an as Wl,ao as Hl,ap as Jl,aq as Xl,ar as Ql,as as ec,at as tc,au as nc,av as sc}from"./react-ChHeTJGV.js";import{F as rc}from"./monaco-editor-CCoZl4ls.js";import{u as Ko,a as oc,B as ic,b as Vo,c as ac,T as lc,I as cc,d as uc,G as fc,O as dc,e as hc,f as pc,L as mc,N as gc,g as yc,C as bc}from"./react-three-DaEYbaof.js";import{a4 as Br,a5 as vc,e as gt,a6 as dr,$ as wc,a7 as _c}from"./three-DhkpGoii.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function qo(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=qo(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Go(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=qo(t))&&(s&&(s+=" "),s+=e);return s}const hr="-",kc=t=>{const e=Sc(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:i=>{const a=i.split(hr);return a[0]===""&&a.length!==1&&a.shift(),Yo(a,e)||xc(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&s[i]?[...l,...s[i]]:l}}},Yo=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?Yo(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const o=t.join(hr);return e.validators.find(({validator:i})=>i(o))?.classGroupId},Ur=/^\[(.+)\]$/,xc=t=>{if(Ur.test(t)){const e=Ur.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Sc=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const r in n)Ls(n[r],s,r,e);return s},Ls=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const o=r===""?e:Kr(e,r);o.classGroupId=n;return}if(typeof r=="function"){if(Nc(r)){Ls(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([o,i])=>{Ls(i,Kr(e,o),n,s)})})},Kr=(t,e)=>{let n=t;return e.split(hr).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Nc=t=>t.isThemeGetter,jc=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(o,i)=>{n.set(o,i),e++,e>t&&(e=0,s=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=s.get(o))!==void 0)return r(o,i),i},set(o,i){n.has(o)?n.set(o,i):r(o,i)}}},Fs="!",Ds=":",Ac=Ds.length,$c=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=r=>{const o=[];let i=0,a=0,l=0,c;for(let g=0;g<r.length;g++){let p=r[g];if(i===0&&a===0){if(p===Ds){o.push(r.slice(l,g)),l=g+Ac;continue}if(p==="/"){c=g;continue}}p==="["?i++:p==="]"?i--:p==="("?a++:p===")"&&a--}const f=o.length===0?r:r.substring(l),u=Oc(f),d=u!==f,m=c&&c>l?c-l:void 0;return{modifiers:o,hasImportantModifier:d,baseClassName:u,maybePostfixModifierPosition:m}};if(e){const r=e+Ds,o=s;s=i=>i.startsWith(r)?o(i.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(n){const r=s;s=o=>n({className:o,parseClassName:r})}return s},Oc=t=>t.endsWith(Fs)?t.substring(0,t.length-1):t.startsWith(Fs)?t.substring(1):t,Ic=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const r=[];let o=[];return s.forEach(i=>{i[0]==="["||e[i]?(r.push(...o.sort(),i),o=[]):o.push(i)}),r.push(...o.sort()),r}},Tc=t=>({cache:jc(t.cacheSize),parseClassName:$c(t),sortModifiers:Ic(t),...kc(t)}),Ec=/\s+/,Cc=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r,sortModifiers:o}=e,i=[],a=t.trim().split(Ec);let l="";for(let c=a.length-1;c>=0;c-=1){const f=a[c],{isExternal:u,modifiers:d,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}=n(f);if(u){l=f+(l.length>0?" "+l:l);continue}let y=!!p,v=s(y?g.substring(0,p):g);if(!v){if(!y){l=f+(l.length>0?" "+l:l);continue}if(v=s(g),!v){l=f+(l.length>0?" "+l:l);continue}y=!1}const w=o(d).join(":"),_=m?w+Fs:w,k=_+v;if(i.includes(k))continue;i.push(k);const S=r(v,y);for(let N=0;N<S.length;++N){const A=S[N];i.push(_+A)}l=f+(l.length>0?" "+l:l)}return l};function zc(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Wo(e))&&(s&&(s+=" "),s+=n);return s}const Wo=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=Wo(t[s]))&&(n&&(n+=" "),n+=e);return n};function Pc(t,...e){let n,s,r,o=i;function i(l){const c=e.reduce((f,u)=>u(f),t());return n=Tc(c),s=n.cache.get,r=n.cache.set,o=a,a(l)}function a(l){const c=s(l);if(c)return c;const f=Cc(l,n);return r(l,f),f}return function(){return o(zc.apply(null,arguments))}}const me=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Ho=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Jo=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Mc=/^\d+\/\d+$/,Lc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Fc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Rc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nt=t=>Mc.test(t),q=t=>!!t&&!Number.isNaN(Number(t)),He=t=>!!t&&Number.isInteger(Number(t)),ws=t=>t.endsWith("%")&&q(t.slice(0,-1)),Ve=t=>Lc.test(t),Bc=()=>!0,Uc=t=>Fc.test(t)&&!Dc.test(t),Xo=()=>!1,Kc=t=>Rc.test(t),Vc=t=>Zc.test(t),qc=t=>!E(t)&&!C(t),Gc=t=>Kt(t,ti,Xo),E=t=>Ho.test(t),at=t=>Kt(t,ni,Uc),_s=t=>Kt(t,Xc,q),Vr=t=>Kt(t,Qo,Xo),Yc=t=>Kt(t,ei,Vc),$n=t=>Kt(t,si,Kc),C=t=>Jo.test(t),Jt=t=>Vt(t,ni),Wc=t=>Vt(t,Qc),qr=t=>Vt(t,Qo),Hc=t=>Vt(t,ti),Jc=t=>Vt(t,ei),On=t=>Vt(t,si,!0),Kt=(t,e,n)=>{const s=Ho.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Vt=(t,e,n=!1)=>{const s=Jo.exec(t);return s?s[1]?e(s[1]):n:!1},Qo=t=>t==="position"||t==="percentage",ei=t=>t==="image"||t==="url",ti=t=>t==="length"||t==="size"||t==="bg-size",ni=t=>t==="length",Xc=t=>t==="number",Qc=t=>t==="family-name",si=t=>t==="shadow",eu=()=>{const t=me("color"),e=me("font"),n=me("text"),s=me("font-weight"),r=me("tracking"),o=me("leading"),i=me("breakpoint"),a=me("container"),l=me("spacing"),c=me("radius"),f=me("shadow"),u=me("inset-shadow"),d=me("text-shadow"),m=me("drop-shadow"),g=me("blur"),p=me("perspective"),y=me("aspect"),v=me("ease"),w=me("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...k(),C,E],N=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],b=()=>[C,E,l],j=()=>[Nt,"full","auto",...b()],M=()=>[He,"none","subgrid",C,E],z=()=>["auto",{span:["full",He,C,E]},He,C,E],I=()=>[He,"auto",C,E],T=()=>["auto","min","max","fr",C,E],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...b()],Z=()=>[Nt,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],$=()=>[t,C,E],G=()=>[...k(),qr,Vr,{position:[C,E]}],ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",Hc,Gc,{size:[C,E]}],ne=()=>[ws,Jt,at],R=()=>["","none","full",c,C,E],D=()=>["",q,Jt,at],H=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>[q,ws,qr,Vr],je=()=>["","none",g,C,E],Be=()=>["none",q,C,E],Ue=()=>["none",q,C,E],Ke=()=>[q,C,E],Pe=()=>[Nt,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ve],breakpoint:[Ve],color:[Bc],container:[Ve],"drop-shadow":[Ve],ease:["in","out","in-out"],font:[qc],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ve],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ve],shadow:[Ve],spacing:["px",q],text:[Ve],"text-shadow":[Ve],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Nt,E,C,y]}],container:["container"],columns:[{columns:[q,E,C,a]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[He,"auto",C,E]}],basis:[{basis:[Nt,"full","auto",a,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[q,Nt,"auto","initial","none",E]}],grow:[{grow:["",q,C,E]}],shrink:[{shrink:["",q,C,E]}],order:[{order:[He,"first","last","none",C,E]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":T()}],"auto-rows":[{"auto-rows":T()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[a,"screen",...Z()]}],"min-w":[{"min-w":[a,"screen","none",...Z()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[i]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",n,Jt,at]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,C,_s]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ws,E]}],"font-family":[{font:[Wc,E,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,C,E]}],"line-clamp":[{"line-clamp":[q,"none",C,_s]}],leading:[{leading:[o,...b()]}],"list-image":[{"list-image":["none",C,E]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",C,E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[q,"from-font","auto",C,at]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[q,"auto",C,E]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",C,E]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",C,E]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:ee()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},He,C,E],radial:["",C,E],conic:[He,C,E]},Jc,Yc]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[q,C,E]}],"outline-w":[{outline:["",q,Jt,at]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",f,On,$n]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",u,On,$n]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[q,at]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",d,On,$n]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[q,C,E]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[q]}],"mask-image-linear-from-pos":[{"mask-linear-from":B()}],"mask-image-linear-to-pos":[{"mask-linear-to":B()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":B()}],"mask-image-t-to-pos":[{"mask-t-to":B()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":B()}],"mask-image-r-to-pos":[{"mask-r-to":B()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":B()}],"mask-image-b-to-pos":[{"mask-b-to":B()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":B()}],"mask-image-l-to-pos":[{"mask-l-to":B()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":B()}],"mask-image-x-to-pos":[{"mask-x-to":B()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":B()}],"mask-image-y-to-pos":[{"mask-y-to":B()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[C,E]}],"mask-image-radial-from-pos":[{"mask-radial-from":B()}],"mask-image-radial-to-pos":[{"mask-radial-to":B()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[q]}],"mask-image-conic-from-pos":[{"mask-conic-from":B()}],"mask-image-conic-to-pos":[{"mask-conic-to":B()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:ee()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",C,E]}],filter:[{filter:["","none",C,E]}],blur:[{blur:je()}],brightness:[{brightness:[q,C,E]}],contrast:[{contrast:[q,C,E]}],"drop-shadow":[{"drop-shadow":["","none",m,On,$n]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",q,C,E]}],"hue-rotate":[{"hue-rotate":[q,C,E]}],invert:[{invert:["",q,C,E]}],saturate:[{saturate:[q,C,E]}],sepia:[{sepia:["",q,C,E]}],"backdrop-filter":[{"backdrop-filter":["","none",C,E]}],"backdrop-blur":[{"backdrop-blur":je()}],"backdrop-brightness":[{"backdrop-brightness":[q,C,E]}],"backdrop-contrast":[{"backdrop-contrast":[q,C,E]}],"backdrop-grayscale":[{"backdrop-grayscale":["",q,C,E]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[q,C,E]}],"backdrop-invert":[{"backdrop-invert":["",q,C,E]}],"backdrop-opacity":[{"backdrop-opacity":[q,C,E]}],"backdrop-saturate":[{"backdrop-saturate":[q,C,E]}],"backdrop-sepia":[{"backdrop-sepia":["",q,C,E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",C,E]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[q,"initial",C,E]}],ease:[{ease:["linear","initial",v,C,E]}],delay:[{delay:[q,C,E]}],animate:[{animate:["none",w,C,E]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,C,E]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:Be()}],"rotate-x":[{"rotate-x":Be()}],"rotate-y":[{"rotate-y":Be()}],"rotate-z":[{"rotate-z":Be()}],scale:[{scale:Ue()}],"scale-x":[{"scale-x":Ue()}],"scale-y":[{"scale-y":Ue()}],"scale-z":[{"scale-z":Ue()}],"scale-3d":["scale-3d"],skew:[{skew:Ke()}],"skew-x":[{"skew-x":Ke()}],"skew-y":[{"skew-y":Ke()}],transform:[{transform:[C,E,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pe()}],"translate-x":[{"translate-x":Pe()}],"translate-y":[{"translate-y":Pe()}],"translate-z":[{"translate-z":Pe()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",C,E]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",C,E]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[q,Jt,at,_s]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},tu=Pc(eu);function J(...t){return tu(Go(t))}function Qe(t){return t*Math.PI/180}function Gr(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx(Wa,{"data-slot":"resizable-panel-group",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function In(t){const e=P.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=h.jsx(Ga,{"data-slot":"resizable-panel",...n}),e[2]=n,e[3]=s):s=e[3],s}function Yr(t){const e=P.c(12);let n,s,r;e[0]!==t?({withHandle:r,className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);let o;e[4]!==n?(o=J("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90 hover:bg-primary",n),e[4]=n,e[5]=o):o=e[5];let i;e[6]!==r?(i=r&&h.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:h.jsx(Ha,{className:"size-2.5"})}),e[6]=r,e[7]=i):i=e[7];let a;return e[8]!==s||e[9]!==o||e[10]!==i?(a=h.jsx(Ya,{"data-slot":"resizable-handle",className:o,...s,children:i}),e[8]=s,e[9]=o,e[10]=i,e[11]=a):a=e[11],a}function nu(t){const e=P.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=h.jsx(el,{"data-slot":"dialog",...n}),e[2]=n,e[3]=s):s=e[3],s}function su(t){const e=P.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=h.jsx(tl,{"data-slot":"dialog-portal",...n}),e[2]=n,e[3]=s):s=e[3],s}function ru(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx(sl,{"data-slot":"dialog-overlay",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function ou(t){const e=P.c(15);let n,s,r,o;e[0]!==t?({className:s,children:n,showCloseButton:o,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=o):(n=e[1],s=e[2],r=e[3],o=e[4]);const i=o===void 0?!0:o;let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=h.jsx(ru,{}),e[5]=a):a=e[5];let l;e[6]!==s?(l=J("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),e[6]=s,e[7]=l):l=e[7];let c;e[8]!==i?(c=i&&h.jsxs(nl,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[h.jsx(Bo,{}),h.jsx("span",{className:"sr-only",children:"Close"})]}),e[8]=i,e[9]=c):c=e[9];let f;return e[10]!==n||e[11]!==r||e[12]!==l||e[13]!==c?(f=h.jsxs(su,{"data-slot":"dialog-portal",children:[a,h.jsxs(Xa,{"data-slot":"dialog-content",className:l,...r,children:[n,c]})]}),e[10]=n,e[11]=r,e[12]=l,e[13]=c,e[14]=f):f=e[14],f}function iu(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx("div",{"data-slot":"dialog-header",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function au(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("text-lg leading-none font-semibold",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx(Ja,{"data-slot":"dialog-title",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function lu(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("text-muted-foreground text-sm",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx(Qa,{"data-slot":"dialog-description",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function cu(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx(cl,{"data-slot":"menubar",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function Wr(t){const e=P.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=h.jsx(al,{"data-slot":"menubar-menu",...n}),e[2]=n,e[3]=s):s=e[3],s}function uu(t){const e=P.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=h.jsx(ul,{"data-slot":"menubar-portal",...n}),e[2]=n,e[3]=s):s=e[3],s}function fu(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx(rl,{"data-slot":"menubar-trigger",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function du(t){const e=P.c(14);let n,s,r,o,i;e[0]!==t?({className:n,align:r,alignOffset:o,sideOffset:i,...s}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=o,e[5]=i):(n=e[1],s=e[2],r=e[3],o=e[4],i=e[5]);const a=r===void 0?"start":r,l=o===void 0?-4:o,c=i===void 0?8:i;let f;e[6]!==n?(f=J("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-md",n),e[6]=n,e[7]=f):f=e[7];let u;return e[8]!==a||e[9]!==l||e[10]!==s||e[11]!==c||e[12]!==f?(u=h.jsx(uu,{children:h.jsx(ll,{"data-slot":"menubar-content",align:a,alignOffset:l,sideOffset:c,className:f,...s})}),e[8]=a,e[9]=l,e[10]=s,e[11]=c,e[12]=f,e[13]=u):u=e[13],u}function jt(t){const e=P.c(12);let n,s,r,o;e[0]!==t?({className:n,inset:s,variant:o,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=o):(n=e[1],s=e[2],r=e[3],o=e[4]);const i=o===void 0?"default":o;let a;e[5]!==n?(a=J("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[5]=n,e[6]=a):a=e[6];let l;return e[7]!==s||e[8]!==r||e[9]!==a||e[10]!==i?(l=h.jsx(ol,{"data-slot":"menubar-item","data-inset":s,"data-variant":i,className:a,...r}),e[7]=s,e[8]=r,e[9]=a,e[10]=i,e[11]=l):l=e[11],l}function ks(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("bg-border -mx-1 my-1 h-px",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx(il,{"data-slot":"menubar-separator",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function Hr(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("text-muted-foreground ml-auto text-xs tracking-widest",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx("span",{"data-slot":"menubar-shortcut",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function Yn(t){const e=P.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=h.jsx(ml,{"data-slot":"select",...n}),e[2]=n,e[3]=s):s=e[3],s}function Wn(t){const e=P.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=h.jsx(wl,{"data-slot":"select-group",...n}),e[2]=n,e[3]=s):s=e[3],s}function Hn(t){const e=P.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=h.jsx(yl,{"data-slot":"select-value",...n}),e[2]=n,e[3]=s):s=e[3],s}function Jn(t){const e=P.c(13);let n,s,r,o;e[0]!==t?({className:s,size:o,children:n,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=o):(n=e[1],s=e[2],r=e[3],o=e[4]);const i=o===void 0?"default":o;let a;e[5]!==s?(a=J("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 mt-2",s),e[5]=s,e[6]=a):a=e[6];let l;e[7]===Symbol.for("react.memo_cache_sentinel")?(l=h.jsx(kl,{asChild:!0,children:h.jsx(Uo,{className:"size-4 opacity-50"})}),e[7]=l):l=e[7];let c;return e[8]!==n||e[9]!==r||e[10]!==i||e[11]!==a?(c=h.jsxs(gl,{"data-slot":"select-trigger","data-size":i,className:a,...r,children:[n,l]}),e[8]=n,e[9]=r,e[10]=i,e[11]=a,e[12]=c):c=e[12],c}function Xn(t){const e=P.c(20);let n,s,r,o;e[0]!==t?({className:s,children:n,position:o,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=o):(n=e[1],s=e[2],r=e[3],o=e[4]);const i=o===void 0?"popper":o,a=i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let l;e[5]!==s||e[6]!==a?(l=J("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",a,s),e[5]=s,e[6]=a,e[7]=l):l=e[7];let c;e[8]===Symbol.for("react.memo_cache_sentinel")?(c=h.jsx(hu,{}),e[8]=c):c=e[8];const f=i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1";let u;e[9]!==f?(u=J("p-1",f),e[9]=f,e[10]=u):u=e[10];let d;e[11]!==n||e[12]!==u?(d=h.jsx(xl,{className:u,children:n}),e[11]=n,e[12]=u,e[13]=d):d=e[13];let m;e[14]===Symbol.for("react.memo_cache_sentinel")?(m=h.jsx(pu,{}),e[14]=m):m=e[14];let g;return e[15]!==i||e[16]!==r||e[17]!==l||e[18]!==d?(g=h.jsx(bl,{children:h.jsxs(vl,{"data-slot":"select-content",className:l,position:i,...r,children:[c,d,m]})}),e[15]=i,e[16]=r,e[17]=l,e[18]=d,e[19]=g):g=e[19],g}function Qn(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("text-muted-foreground px-2 py-1.5 text-xs",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx(_l,{"data-slot":"select-label",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function ht(t){const e=P.c(13);let n,s,r;e[0]!==t?({className:s,children:n,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);let o;e[4]!==s?(o=J("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),e[4]=s,e[5]=o):o=e[5];let i;e[6]===Symbol.for("react.memo_cache_sentinel")?(i=h.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:h.jsx(dl,{children:h.jsx(hl,{className:"size-4"})})}),e[6]=i):i=e[6];let a;e[7]!==n?(a=h.jsx(pl,{children:n}),e[7]=n,e[8]=a):a=e[8];let l;return e[9]!==r||e[10]!==o||e[11]!==a?(l=h.jsxs(fl,{"data-slot":"select-item",className:o,...r,children:[i,a]}),e[9]=r,e[10]=o,e[11]=a,e[12]=l):l=e[12],l}function hu(t){const e=P.c(9);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("flex cursor-default items-center justify-center py-1",n),e[3]=n,e[4]=r):r=e[4];let o;e[5]===Symbol.for("react.memo_cache_sentinel")?(o=h.jsx(jl,{className:"size-4"}),e[5]=o):o=e[5];let i;return e[6]!==s||e[7]!==r?(i=h.jsx(Sl,{"data-slot":"select-scroll-up-button",className:r,...s,children:o}),e[6]=s,e[7]=r,e[8]=i):i=e[8],i}function pu(t){const e=P.c(9);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("flex cursor-default items-center justify-center py-1",n),e[3]=n,e[4]=r):r=e[4];let o;e[5]===Symbol.for("react.memo_cache_sentinel")?(o=h.jsx(Uo,{className:"size-4"}),e[5]=o):o=e[5];let i;return e[6]!==s||e[7]!==r?(i=h.jsx(Nl,{"data-slot":"select-scroll-down-button",className:r,...s,children:o}),e[6]=s,e[7]=r,e[8]=i):i=e[8],i}function mu(t){const e=P.c(6);let n,s;e[0]!==t?({delayDuration:s,...n}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);const r=s===void 0?0:s;let o;return e[3]!==r||e[4]!==n?(o=h.jsx(Tl,{"data-slot":"tooltip-provider",delayDuration:r,...n}),e[3]=r,e[4]=n,e[5]=o):o=e[5],o}function lt(t){const e=P.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=h.jsx(mu,{children:h.jsx($l,{"data-slot":"tooltip",...n})}),e[2]=n,e[3]=s):s=e[3],s}function ct(t){const e=P.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=h.jsx(Al,{"data-slot":"tooltip-trigger",...n}),e[2]=n,e[3]=s):s=e[3],s}function ut(t){const e=P.c(13);let n,s,r,o;e[0]!==t?({className:s,sideOffset:o,children:n,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=o):(n=e[1],s=e[2],r=e[3],o=e[4]);const i=o===void 0?0:o;let a;e[5]!==s?(a=J("bg-secondary text-secondary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",s),e[5]=s,e[6]=a):a=e[6];let l;e[7]===Symbol.for("react.memo_cache_sentinel")?(l=h.jsx(El,{className:"bg-secondary fill-secondary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"}),e[7]=l):l=e[7];let c;return e[8]!==n||e[9]!==r||e[10]!==i||e[11]!==a?(c=h.jsx(Ol,{children:h.jsxs(Il,{"data-slot":"tooltip-content",sideOffset:i,className:a,...r,children:[n,l]})}),e[8]=n,e[9]=r,e[10]=i,e[11]=a,e[12]=c):c=e[12],c}const Jr=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Xr=Go,gu=(t,e)=>n=>{var s;if(e?.variants==null)return Xr(t,n?.class,n?.className);const{variants:r,defaultVariants:o}=e,i=Object.keys(r).map(c=>{const f=n?.[c],u=o?.[c];if(f===null)return null;const d=Jr(f)||Jr(u);return r[c][d]}),a=n&&Object.entries(n).reduce((c,f)=>{let[u,d]=f;return d===void 0||(c[u]=d),c},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((c,f)=>{let{class:u,className:d,...m}=f;return Object.entries(m).every(g=>{let[p,y]=g;return Array.isArray(y)?y.includes({...o,...a}[p]):{...o,...a}[p]===y})?[...c,u,d]:c},[]);return Xr(t,i,l,n?.class,n?.className)},ri=gu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function yt(t){const e=P.c(14);let n,s,r,o,i;e[0]!==t?({className:n,variant:i,size:r,asChild:o,...s}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=o,e[5]=i):(n=e[1],s=e[2],r=e[3],o=e[4],i=e[5]);const l=(o===void 0?!1:o)?Cl:"button";let c;e[6]!==n||e[7]!==r||e[8]!==i?(c=J(ri({variant:i,size:r,className:n})),e[6]=n,e[7]=r,e[8]=i,e[9]=c):c=e[9];let f;return e[10]!==l||e[11]!==s||e[12]!==c?(f=h.jsx(l,{"data-slot":"button",className:c,...s}),e[10]=l,e[11]=s,e[12]=c,e[13]=f):f=e[13],f}const oi={r:146,g:163,b:187,a:1},yu=t=>{if(typeof t=="string"){const e=t.match(/^#([0-9a-f]{3,8})$/i);if(e){const n=e[1],s=parseInt(n.slice(0,2),16),r=parseInt(n.slice(2,4),16),o=parseInt(n.slice(4,6),16),i=n.length>6?parseInt(n.slice(6,8),16)/255:1;return{r:s,g:r,b:o,a:i}}}return oi},bu=t=>{const e=P.c(24),{defaultColor:n,onChangeComplete:s}=t,r=n===void 0?oi:n,[o,i]=X.useState(!1);let a;e[0]!==r?(a=typeof r=="string"?yu(r):r,e[0]=r,e[1]=a):a=e[1];const[l,c]=X.useState(a);let f;e[2]!==s?(f=zl(F=>s(F),{wait:500}),e[2]=s,e[3]=f):f=e[3];const u=f;let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d=()=>i(vu),e[4]=d):d=e[4];const m=d;let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=()=>i(!1),e[5]=g):g=e[5];const p=g;let y;e[6]!==u?(y=F=>{c(F.rgb),u(F)},e[6]=u,e[7]=y):y=e[7];const v=y,w=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`;let _;e[8]!==w?(_={width:"100%",height:"100%",background:w,borderRadius:"1px",border:"1px solid #ccc"},e[8]=w,e[9]=_):_=e[9];const k=_;let S;e[10]===Symbol.for("react.memo_cache_sentinel")?(S={position:"absolute",zIndex:2,left:"50%",transform:"translateX(-50%)"},e[10]=S):S=e[10];const N=S;let A;e[11]===Symbol.for("react.memo_cache_sentinel")?(A={position:"fixed",top:0,right:0,bottom:0,left:0},e[11]=A):A=e[11];const b=A;let j,M;e[12]!==o?(j=()=>{const F=V=>{o&&!V.target.closest(".color-picker")&&p()};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},M=[o],e[12]=o,e[13]=j,e[14]=M):(j=e[13],M=e[14]),X.useEffect(j,M);let z;e[15]!==k?(z=h.jsx(yt,{onClick:m,variant:"secondary",className:"w-full",children:h.jsx("div",{style:k})}),e[15]=k,e[16]=z):z=e[16];let I;e[17]!==l||e[18]!==o||e[19]!==v?(I=o&&h.jsxs("div",{style:N,className:"color-picker",children:[h.jsx("div",{style:b,onClick:p}),h.jsx(Pl,{color:l,onChange:v,presetColors:["#92A3BB","#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],disableAlpha:!0})]}),e[17]=l,e[18]=o,e[19]=v,e[20]=I):I=e[20];let T;return e[21]!==z||e[22]!==I?(T=h.jsxs("div",{children:[z,I]}),e[21]=z,e[22]=I,e[23]=T):T=e[23],T};function vu(t){return!t}function pr(t){const e=P.c(10);let n,s,r;e[0]!==t?({className:n,type:r,...s}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);let o;e[4]!==n?(o=J("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm mt-2","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),e[4]=n,e[5]=o):o=e[5];let i;return e[6]!==s||e[7]!==o||e[8]!==r?(i=h.jsx("input",{type:r,"data-slot":"input",className:o,...s}),e[6]=s,e[7]=o,e[8]=r,e[9]=i):i=e[9],i}function Le(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx(Ml,{"data-slot":"label",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function xs(t){const e=P.c(9);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),e[3]=n,e[4]=r):r=e[4];let o;e[5]===Symbol.for("react.memo_cache_sentinel")?(o=h.jsx(Ll,{"data-slot":"switch-thumb",className:J("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),e[5]=o):o=e[5];let i;return e[6]!==s||e[7]!==r?(i=h.jsx(Fl,{"data-slot":"switch",className:r,...s,children:o}),e[6]=s,e[7]=r,e[8]=i):i=e[8],i}const De={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ii=Object.create(null);for(const t in De)Object.hasOwn(De,t)&&(ii[De[t]]=t);const ye={to:{},get:{}};ye.get=function(t){const e=t.slice(0,3).toLowerCase();let n,s;switch(e){case"hsl":{n=ye.get.hsl(t),s="hsl";break}case"hwb":{n=ye.get.hwb(t),s="hwb";break}default:{n=ye.get.rgb(t),s="rgb";break}}return n?{model:s,value:n}:null};ye.get.rgb=function(t){if(!t)return null;const e=/^#([a-f\d]{3,4})$/i,n=/^#([a-f\d]{6})([a-f\d]{2})?$/i,s=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,r=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,o=/^(\w+)$/;let i=[0,0,0,1],a,l,c;if(a=t.match(n)){for(c=a[2],a=a[1],l=0;l<3;l++){const f=l*2;i[l]=Number.parseInt(a.slice(f,f+2),16)}c&&(i[3]=Number.parseInt(c,16)/255)}else if(a=t.match(e)){for(a=a[1],c=a[3],l=0;l<3;l++)i[l]=Number.parseInt(a[l]+a[l],16);c&&(i[3]=Number.parseInt(c+c,16)/255)}else if(a=t.match(s)){for(l=0;l<3;l++)i[l]=Number.parseInt(a[l+1],10);a[4]&&(i[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else if(a=t.match(r)){for(l=0;l<3;l++)i[l]=Math.round(Number.parseFloat(a[l+1])*2.55);a[4]&&(i[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else return(a=t.match(o))?a[1]==="transparent"?[0,0,0,0]:Object.hasOwn(De,a[1])?(i=De[a[1]],i[3]=1,i):null:null;for(l=0;l<3;l++)i[l]=et(i[l],0,255);return i[3]=et(i[3],0,1),i};ye.get.hsl=function(t){if(!t)return null;const e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){const s=Number.parseFloat(n[4]),r=(Number.parseFloat(n[1])%360+360)%360,o=et(Number.parseFloat(n[2]),0,100),i=et(Number.parseFloat(n[3]),0,100),a=et(Number.isNaN(s)?1:s,0,1);return[r,o,i,a]}return null};ye.get.hwb=function(t){if(!t)return null;const e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){const s=Number.parseFloat(n[4]),r=(Number.parseFloat(n[1])%360+360)%360,o=et(Number.parseFloat(n[2]),0,100),i=et(Number.parseFloat(n[3]),0,100),a=et(Number.isNaN(s)?1:s,0,1);return[r,o,i,a]}return null};ye.to.hex=function(...t){return"#"+Tn(t[0])+Tn(t[1])+Tn(t[2])+(t[3]<1?Tn(Math.round(t[3]*255)):"")};ye.to.rgb=function(...t){return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};ye.to.rgb.percent=function(...t){const e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),s=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+n+"%, "+s+"%)":"rgba("+e+"%, "+n+"%, "+s+"%, "+t[3]+")"};ye.to.hsl=function(...t){return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};ye.to.hwb=function(...t){let e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};ye.to.keyword=function(...t){return ii[t.slice(0,3)]};function et(t,e,n){return Math.min(Math.max(e,t),n)}function Tn(t){const e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}const ai={};for(const t of Object.keys(De))ai[De[t]]=t;const O={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},Ye=(6/29)**3;function zt(t){const e=t>.0031308?1.055*t**.4166666666666667-.055:t*12.92;return Math.min(Math.max(0,e),1)}function Pt(t){return t>.04045?((t+.055)/1.055)**2.4:t/12.92}for(const t of Object.keys(O)){if(!("channels"in O[t]))throw new Error("missing channels property: "+t);if(!("labels"in O[t]))throw new Error("missing channel labels property: "+t);if(O[t].labels.length!==O[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=O[t];delete O[t].channels,delete O[t].labels,Object.defineProperty(O[t],"channels",{value:e}),Object.defineProperty(O[t],"labels",{value:n})}O.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,s=t[2]/255,r=Math.min(e,n,s),o=Math.max(e,n,s),i=o-r;let a,l;switch(o){case r:{a=0;break}case e:{a=(n-s)/i;break}case n:{a=2+(s-e)/i;break}case s:{a=4+(e-n)/i;break}}a=Math.min(a*60,360),a<0&&(a+=360);const c=(r+o)/2;return o===r?l=0:c<=.5?l=i/(o+r):l=i/(2-o-r),[a,l*100,c*100]};O.rgb.hsv=function(t){let e,n,s,r,o;const i=t[0]/255,a=t[1]/255,l=t[2]/255,c=Math.max(i,a,l),f=c-Math.min(i,a,l),u=function(d){return(c-d)/6/f+1/2};if(f===0)r=0,o=0;else{switch(o=f/c,e=u(i),n=u(a),s=u(l),c){case i:{r=s-n;break}case a:{r=1/3+e-s;break}case l:{r=2/3+n-e;break}}r<0?r+=1:r>1&&(r-=1)}return[r*360,o*100,c*100]};O.rgb.hwb=function(t){const e=t[0],n=t[1];let s=t[2];const r=O.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(n,s));return s=1-1/255*Math.max(e,Math.max(n,s)),[r,o*100,s*100]};O.rgb.oklab=function(t){const e=Pt(t[0]/255),n=Pt(t[1]/255),s=Pt(t[2]/255),r=Math.cbrt(.4122214708*e+.5363325363*n+.0514459929*s),o=Math.cbrt(.2119034982*e+.6806995451*n+.1073969566*s),i=Math.cbrt(.0883024619*e+.2817188376*n+.6299787005*s),a=.2104542553*r+.793617785*o-.0040720468*i,l=1.9779984951*r-2.428592205*o+.4505937099*i,c=.0259040371*r+.7827717662*o-.808675766*i;return[a*100,l*100,c*100]};O.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,s=t[2]/255,r=Math.min(1-e,1-n,1-s),o=(1-e-r)/(1-r)||0,i=(1-n-r)/(1-r)||0,a=(1-s-r)/(1-r)||0;return[o*100,i*100,a*100,r*100]};function wu(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}O.rgb.keyword=function(t){const e=ai[t];if(e)return e;let n=Number.POSITIVE_INFINITY,s;for(const r of Object.keys(De)){const o=De[r],i=wu(t,o);i<n&&(n=i,s=r)}return s};O.keyword.rgb=function(t){return De[t]};O.rgb.xyz=function(t){const e=Pt(t[0]/255),n=Pt(t[1]/255),s=Pt(t[2]/255),r=e*.4124564+n*.3575761+s*.1804375,o=e*.2126729+n*.7151522+s*.072175,i=e*.0193339+n*.119192+s*.9503041;return[r*100,o*100,i*100]};O.rgb.lab=function(t){const e=O.rgb.xyz(t);let n=e[0],s=e[1],r=e[2];n/=95.047,s/=100,r/=108.883,n=n>Ye?n**(1/3):7.787*n+16/116,s=s>Ye?s**(1/3):7.787*s+16/116,r=r>Ye?r**(1/3):7.787*r+16/116;const o=116*s-16,i=500*(n-s),a=200*(s-r);return[o,i,a]};O.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,s=t[2]/100;let r,o;if(n===0)return o=s*255,[o,o,o];const i=s<.5?s*(1+n):s+n-s*n,a=2*s-i,l=[0,0,0];for(let c=0;c<3;c++)r=e+1/3*-(c-1),r<0&&r++,r>1&&r--,6*r<1?o=a+(i-a)*6*r:2*r<1?o=i:3*r<2?o=a+(i-a)*(2/3-r)*6:o=a,l[c]=o*255;return l};O.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,s=t[2]/100,r=n;const o=Math.max(s,.01);s*=2,n*=s<=1?s:2-s,r*=o<=1?o:2-o;const i=(s+n)/2,a=s===0?2*r/(o+r):2*n/(s+n);return[e,a*100,i*100]};O.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let s=t[2]/100;const r=Math.floor(e)%6,o=e-Math.floor(e),i=255*s*(1-n),a=255*s*(1-n*o),l=255*s*(1-n*(1-o));switch(s*=255,r){case 0:return[s,l,i];case 1:return[a,s,i];case 2:return[i,s,l];case 3:return[i,a,s];case 4:return[l,i,s];case 5:return[s,i,a]}};O.hsv.hsl=function(t){const e=t[0],n=t[1]/100,s=t[2]/100,r=Math.max(s,.01);let o,i;i=(2-n)*s;const a=(2-n)*r;return o=n*r,o/=a<=1?a:2-a,o=o||0,i/=2,[e,o*100,i*100]};O.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,s=t[2]/100;const r=n+s;let o;r>1&&(n/=r,s/=r);const i=Math.floor(6*e),a=1-s;o=6*e-i,(i&1)!==0&&(o=1-o);const l=n+o*(a-n);let c,f,u;switch(i){default:case 6:case 0:{c=a,f=l,u=n;break}case 1:{c=l,f=a,u=n;break}case 2:{c=n,f=a,u=l;break}case 3:{c=n,f=l,u=a;break}case 4:{c=l,f=n,u=a;break}case 5:{c=a,f=n,u=l;break}}return[c*255,f*255,u*255]};O.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,s=t[2]/100,r=t[3]/100,o=1-Math.min(1,e*(1-r)+r),i=1-Math.min(1,n*(1-r)+r),a=1-Math.min(1,s*(1-r)+r);return[o*255,i*255,a*255]};O.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,s=t[2]/100;let r,o,i;return r=e*3.2404542+n*-1.5371385+s*-.4985314,o=e*-.969266+n*1.8760108+s*.041556,i=e*.0556434+n*-.2040259+s*1.0572252,r=zt(r),o=zt(o),i=zt(i),[r*255,o*255,i*255]};O.xyz.lab=function(t){let e=t[0],n=t[1],s=t[2];e/=95.047,n/=100,s/=108.883,e=e>Ye?e**(1/3):7.787*e+16/116,n=n>Ye?n**(1/3):7.787*n+16/116,s=s>Ye?s**(1/3):7.787*s+16/116;const r=116*n-16,o=500*(e-n),i=200*(n-s);return[r,o,i]};O.xyz.oklab=function(t){const e=t[0]/100,n=t[1]/100,s=t[2]/100,r=Math.cbrt(.8189330101*e+.3618667424*n-.1288597137*s),o=Math.cbrt(.0329845436*e+.9293118715*n+.0361456387*s),i=Math.cbrt(.0482003018*e+.2643662691*n+.633851707*s),a=.2104542553*r+.793617785*o-.0040720468*i,l=1.9779984951*r-2.428592205*o+.4505937099*i,c=.0259040371*r+.7827717662*o-.808675766*i;return[a*100,l*100,c*100]};O.oklab.oklch=function(t){return O.lab.lch(t)};O.oklab.xyz=function(t){const e=t[0]/100,n=t[1]/100,s=t[2]/100,r=(.999999998*e+.396337792*n+.215803758*s)**3,o=(1.000000008*e-.105561342*n-.063854175*s)**3,i=(1.000000055*e-.089484182*n-1.291485538*s)**3,a=1.227013851*r-.55779998*o+.281256149*i,l=-.040580178*r+1.11225687*o-.071676679*i,c=-.076381285*r-.421481978*o+1.58616322*i;return[a*100,l*100,c*100]};O.oklab.rgb=function(t){const e=t[0]/100,n=t[1]/100,s=t[2]/100,r=(e+.3963377774*n+.2158037573*s)**3,o=(e-.1055613458*n-.0638541728*s)**3,i=(e-.0894841775*n-1.291485548*s)**3,a=zt(4.0767416621*r-3.3077115913*o+.2309699292*i),l=zt(-1.2684380046*r+2.6097574011*o-.3413193965*i),c=zt(-.0041960863*r-.7034186147*o+1.707614701*i);return[a*255,l*255,c*255]};O.oklch.oklab=function(t){return O.lch.lab(t)};O.lab.xyz=function(t){const e=t[0],n=t[1],s=t[2];let r,o,i;o=(e+16)/116,r=n/500+o,i=o-s/200;const a=o**3,l=r**3,c=i**3;return o=a>Ye?a:(o-16/116)/7.787,r=l>Ye?l:(r-16/116)/7.787,i=c>Ye?c:(i-16/116)/7.787,r*=95.047,o*=100,i*=108.883,[r,o,i]};O.lab.lch=function(t){const e=t[0],n=t[1],s=t[2];let r;r=Math.atan2(s,n)*360/2/Math.PI,r<0&&(r+=360);const i=Math.sqrt(n*n+s*s);return[e,i,r]};O.lch.lab=function(t){const e=t[0],n=t[1],r=t[2]/360*2*Math.PI,o=n*Math.cos(r),i=n*Math.sin(r);return[e,o,i]};O.rgb.ansi16=function(t,e=null){const[n,s,r]=t;let o=e===null?O.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),o===0)return 30;let i=30+(Math.round(r/255)<<2|Math.round(s/255)<<1|Math.round(n/255));return o===2&&(i+=60),i};O.hsv.ansi16=function(t){return O.rgb.ansi16(O.hsv.rgb(t),t[2])};O.rgb.ansi256=function(t){const e=t[0],n=t[1],s=t[2];return e>>4===n>>4&&n>>4===s>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(s/255*5)};O.ansi16.rgb=function(t){t=t[0];let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=(Math.trunc(t>50)+1)*.5,s=(e&1)*n*255,r=(e>>1&1)*n*255,o=(e>>2&1)*n*255;return[s,r,o]};O.ansi256.rgb=function(t){if(t=t[0],t>=232){const o=(t-232)*10+8;return[o,o,o]}t-=16;let e;const n=Math.floor(t/36)/5*255,s=Math.floor((e=t%36)/6)/5*255,r=e%6/5*255;return[n,s,r]};O.rgb.hex=function(t){const n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".slice(n.length)+n};O.hex.rgb=function(t){const e=t.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=[...n].map(a=>a+a).join(""));const s=Number.parseInt(n,16),r=s>>16&255,o=s>>8&255,i=s&255;return[r,o,i]};O.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,s=t[2]/255,r=Math.max(Math.max(e,n),s),o=Math.min(Math.min(e,n),s),i=r-o;let a;const l=i<1?o/(1-i):0;return i<=0?a=0:r===e?a=(n-s)/i%6:r===n?a=2+(s-e)/i:a=4+(e-n)/i,a/=6,a%=1,[a*360,i*100,l*100]};O.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,s=n<.5?2*e*n:2*e*(1-n);let r=0;return s<1&&(r=(n-.5*s)/(1-s)),[t[0],s*100,r*100]};O.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,s=e*n;let r=0;return s<1&&(r=(n-s)/(1-s)),[t[0],s*100,r*100]};O.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,s=t[2]/100;if(n===0)return[s*255,s*255,s*255];const r=[0,0,0],o=e%1*6,i=o%1,a=1-i;let l=0;switch(Math.floor(o)){case 0:{r[0]=1,r[1]=i,r[2]=0;break}case 1:{r[0]=a,r[1]=1,r[2]=0;break}case 2:{r[0]=0,r[1]=1,r[2]=i;break}case 3:{r[0]=0,r[1]=a,r[2]=1;break}case 4:{r[0]=i,r[1]=0,r[2]=1;break}default:r[0]=1,r[1]=0,r[2]=a}return l=(1-n)*s,[(n*r[0]+l)*255,(n*r[1]+l)*255,(n*r[2]+l)*255]};O.hcg.hsv=function(t){const e=t[1]/100,n=t[2]/100,s=e+n*(1-e);let r=0;return s>0&&(r=e/s),[t[0],r*100,s*100]};O.hcg.hsl=function(t){const e=t[1]/100,s=t[2]/100*(1-e)+.5*e;let r=0;return s>0&&s<.5?r=e/(2*s):s>=.5&&s<1&&(r=e/(2*(1-s))),[t[0],r*100,s*100]};O.hcg.hwb=function(t){const e=t[1]/100,n=t[2]/100,s=e+n*(1-e);return[t[0],(s-e)*100,(1-s)*100]};O.hwb.hcg=function(t){const e=t[1]/100,s=1-t[2]/100,r=s-e;let o=0;return r<1&&(o=(s-r)/(1-r)),[t[0],r*100,o*100]};O.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};O.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};O.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};O.gray.hsl=function(t){return[0,0,t[0]]};O.gray.hsv=O.gray.hsl;O.gray.hwb=function(t){return[0,100,t[0]]};O.gray.cmyk=function(t){return[0,0,0,t[0]]};O.gray.lab=function(t){return[t[0],0,0]};O.gray.hex=function(t){const e=Math.round(t[0]/100*255)&255,s=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(s.length)+s};O.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};function _u(){const t={},e=Object.keys(O);for(let{length:n}=e,s=0;s<n;s++)t[e[s]]={distance:-1,parent:null};return t}function ku(t){const e=_u(),n=[t];for(e[t].distance=0;n.length>0;){const s=n.pop(),r=Object.keys(O[s]);for(let{length:o}=r,i=0;i<o;i++){const a=r[i],l=e[a];l.distance===-1&&(l.distance=e[s].distance+1,l.parent=s,n.unshift(a))}}return e}function xu(t,e){return function(n){return e(t(n))}}function Su(t,e){const n=[e[t].parent,t];let s=O[e[t].parent][t],r=e[t].parent;for(;e[r].parent;)n.unshift(e[r].parent),s=xu(O[e[r].parent][r],s),r=e[r].parent;return s.conversion=n,s}function Nu(t){const e=ku(t),n={},s=Object.keys(e);for(let{length:r}=s,o=0;o<r;o++){const i=s[o];e[i].parent!==null&&(n[i]=Su(i,e))}return n}const we={},ju=Object.keys(O);function Au(t){const e=function(...n){const s=n[0];return s==null?s:(s.length>1&&(n=s),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function $u(t){const e=function(...n){const s=n[0];if(s==null)return s;s.length>1&&(n=s);const r=t(n);if(typeof r=="object")for(let{length:o}=r,i=0;i<o;i++)r[i]=Math.round(r[i]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}for(const t of ju){we[t]={},Object.defineProperty(we[t],"channels",{value:O[t].channels}),Object.defineProperty(we[t],"labels",{value:O[t].labels});const e=Nu(t),n=Object.keys(e);for(const s of n){const r=e[s];we[t][s]=$u(r),we[t][s].raw=Au(r)}}const li=["keyword","gray","hex"],Rs={};for(const t of Object.keys(we))Rs[[...we[t].labels].sort().join("")]=t;const Zs={};function ve(t,e){if(!(this instanceof ve))return new ve(t,e);if(e&&e in li&&(e=null),e&&!(e in we))throw new Error("Unknown model: "+e);let n,s;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof ve)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){const r=ye.get(t);if(r===null)throw new Error("Unable to parse color from string: "+t);this.model=r.model,s=we[this.model].channels,this.color=r.value.slice(0,s),this.valpha=typeof r.value[s]=="number"?r.value[s]:1}else if(t.length>0){this.model=e||"rgb",s=we[this.model].channels;const r=Array.prototype.slice.call(t,0,s);this.color=Bs(r,s),this.valpha=typeof t[s]=="number"?t[s]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;const r=Object.keys(t);"alpha"in t&&(r.splice(r.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);const o=r.sort().join("");if(!(o in Rs))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=Rs[o];const{labels:i}=we[this.model],a=[];for(n=0;n<i.length;n++)a.push(t[i[n]]);this.color=Bs(a)}if(Zs[this.model])for(s=we[this.model].channels,n=0;n<s;n++){const r=Zs[this.model][n];r&&(this.color[n]=r(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}ve.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in ye.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);const n=e.valpha===1?e.color:[...e.color,this.valpha];return ye.to[e.model](...n)},percentString(t){const e=this.rgb().round(typeof t=="number"?t:1),n=e.valpha===1?e.color:[...e.color,this.valpha];return ye.to.rgb.percent(...n)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=we[this.model],{labels:n}=we[this.model];for(let s=0;s<e;s++)t[n[s]]=this.color[s];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new ve([...this.color.map(Iu(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new ve([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:ce("rgb",0,ge(255)),green:ce("rgb",1,ge(255)),blue:ce("rgb",2,ge(255)),hue:ce(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:ce("hsl",1,ge(100)),lightness:ce("hsl",2,ge(100)),saturationv:ce("hsv",1,ge(100)),value:ce("hsv",2,ge(100)),chroma:ce("hcg",1,ge(100)),gray:ce("hcg",2,ge(100)),white:ce("hwb",1,ge(100)),wblack:ce("hwb",2,ge(100)),cyan:ce("cmyk",0,ge(100)),magenta:ce("cmyk",1,ge(100)),yellow:ce("cmyk",2,ge(100)),black:ce("cmyk",3,ge(100)),x:ce("xyz",0,ge(95.047)),y:ce("xyz",1,ge(100)),z:ce("xyz",2,ge(108.833)),l:ce("lab",0,ge(100)),a:ce("lab",1),b:ce("lab",2),keyword(t){return t!==void 0?new ve(t):we[this.model].keyword(this.color)},hex(t){return t!==void 0?new ve(t):ye.to.hex(...this.rgb().round().color)},hexa(t){if(t!==void 0)return new ve(t);const e=this.rgb().round().color;let n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),ye.to.hex(...e)+n},rgbNumber(){const t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){const t=this.rgb().color,e=[];for(const[n,s]of t.entries()){const r=s/255;e[n]=r<=.04045?r/12.92:((r+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return ve.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const n=t.rgb(),s=this.rgb(),r=e===void 0?.5:e,o=2*r-1,i=n.alpha()-s.alpha(),a=((o*i===-1?o:(o+i)/(1+o*i))+1)/2,l=1-a;return ve.rgb(a*n.red()+l*s.red(),a*n.green()+l*s.green(),a*n.blue()+l*s.blue(),n.alpha()*r+s.alpha()*(1-r))}};for(const t of Object.keys(we)){if(li.includes(t))continue;const{channels:e}=we[t];ve.prototype[t]=function(...n){return this.model===t?new ve(this):n.length>0?new ve(n,t):new ve([...Tu(we[this.model][t].raw(this.color)),this.valpha],t)},ve[t]=function(...n){let s=n[0];return typeof s=="number"&&(s=Bs(n,e)),new ve(s,t)}}function Ou(t,e){return Number(t.toFixed(e))}function Iu(t){return function(e){return Ou(e,t)}}function ce(t,e,n){t=Array.isArray(t)?t:[t];for(const s of t)(Zs[s]||=[])[e]=n;return t=t[0],function(s){let r;return s!==void 0?(n&&(s=n(s)),r=this[t](),r.color[e]=s,r):(r=this[t]().color[e],n&&(r=n(r)),r)}}function ge(t){return function(e){return Math.max(0,Math.min(t,e))}}function Tu(t){return Array.isArray(t)?t:[t]}function Bs(t,e){for(let n=0;n<e;n++)typeof t[n]!="number"&&(t[n]=0);return t}const wn=fr()(Dl((t,e)=>({theme:"dark",saveInterval:300,debugText:!1,gridColor:"#92a3bb",SSAOEnabled:!0,DOFEnabled:!0,antialiasing:"SMAA",setTheme:n=>t({theme:n}),setSaveInterval:n=>t({saveInterval:n}),setDebugText:n=>t({debugText:n}),setGridColor:n=>t({gridColor:n}),setSSAOEnabled:n=>t({SSAOEnabled:n}),setDOFEnabled:n=>t({DOFEnabled:n}),setAntialiasing:n=>t({antialiasing:n}),getComplementaryGridColor:()=>ve(e().gridColor).darken(.5).hex()}),{version:0,name:"preferences",storage:Rl(()=>localStorage)})),Mt=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),Eu=Mt?Promise.resolve().then(function(){return Lu}):Promise.resolve().then(function(){return Uu});async function ci(...t){return(await Eu).default(...t)}Mt?Promise.resolve().then(function(){return Du}):Promise.resolve().then(function(){return Vu});const Cu=Mt?Promise.resolve().then(function(){return Zu}):Promise.resolve().then(function(){return Gu});async function zu(...t){return(await Cu).default(...t)}const Pu=async t=>{const e=await t.getFile();return e.handle=t,e};var Mu=async(t=[{}])=>{Array.isArray(t)||(t=[t]);const e=[];t.forEach((r,o)=>{e[o]={description:r.description||"Files",accept:{}},r.mimeTypes?r.mimeTypes.map(i=>{e[o].accept[i]=r.extensions||[]}):e[o].accept["*/*"]=r.extensions||[]});const n=await window.showOpenFilePicker({id:t[0].id,startIn:t[0].startIn,types:e,multiple:t[0].multiple||!1,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1}),s=await Promise.all(n.map(Pu));return t[0].multiple?s:s[0]},Lu={__proto__:null,default:Mu};function Bn(t){function e(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var s=n.done;return Promise.resolve(n.value).then(function(r){return{value:r,done:s}})}return Bn=function(n){this.s=n,this.n=n.next},Bn.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(n){var s=this.s.return;return s===void 0?Promise.resolve({value:n,done:!0}):e(s.apply(this.s,arguments))},throw:function(n){var s=this.s.return;return s===void 0?Promise.reject(n):e(s.apply(this.s,arguments))}},new Bn(t)}const ui=async(t,e,n=t.name,s)=>{const r=[],o=[];var i,a=!1,l=!1;try{for(var c,f=(function(u){var d,m,g,p=2;for(typeof Symbol<"u"&&(m=Symbol.asyncIterator,g=Symbol.iterator);p--;){if(m&&(d=u[m])!=null)return d.call(u);if(g&&(d=u[g])!=null)return new Bn(d.call(u));m="@@asyncIterator",g="@@iterator"}throw new TypeError("Object is not async iterable")})(t.values());a=!(c=await f.next()).done;a=!1){const u=c.value,d=`${n}/${u.name}`;u.kind==="file"?o.push(u.getFile().then(m=>(m.directoryHandle=t,m.handle=u,Object.defineProperty(m,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>d})))):u.kind!=="directory"||!e||s&&s(u)||r.push(ui(u,e,d,s))}}catch(u){l=!0,i=u}finally{try{a&&f.return!=null&&await f.return()}finally{if(l)throw i}}return[...(await Promise.all(r)).flat(),...await Promise.all(o)]};var Fu=async(t={})=>{t.recursive=t.recursive||!1,t.mode=t.mode||"read";const e=await window.showDirectoryPicker({id:t.id,startIn:t.startIn,mode:t.mode});return(await(await e.values()).next()).done?[e]:ui(e,t.recursive,void 0,t.skipDirectory)},Du={__proto__:null,default:Fu},Ru=async(t,e=[{}],n=null,s=!1,r=null)=>{Array.isArray(e)||(e=[e]),e[0].fileName=e[0].fileName||"Untitled";const o=[];let i=null;if(t instanceof Blob&&t.type?i=t.type:t.headers&&t.headers.get("content-type")&&(i=t.headers.get("content-type")),e.forEach((c,f)=>{o[f]={description:c.description||"Files",accept:{}},c.mimeTypes?(f===0&&i&&c.mimeTypes.push(i),c.mimeTypes.map(u=>{o[f].accept[u]=c.extensions||[]})):i?o[f].accept[i]=c.extensions||[]:o[f].accept["*/*"]=c.extensions||[]}),n)try{await n.getFile()}catch(c){if(n=null,s)throw c}const a=n||await window.showSaveFilePicker({suggestedName:e[0].fileName,id:e[0].id,startIn:e[0].startIn,types:o,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1});!n&&r&&r(a);const l=await a.createWritable();return"stream"in t?(await t.stream().pipeTo(l),a):"body"in t?(await t.body.pipeTo(l),a):(await l.write(await t),await l.close(),a)},Zu={__proto__:null,default:Ru},Bu=async(t=[{}])=>(Array.isArray(t)||(t=[t]),new Promise((e,n)=>{const s=document.createElement("input");s.type="file";const r=[...t.map(o=>o.mimeTypes||[]),...t.map(o=>o.extensions||[])].join();s.multiple=t[0].multiple||!1,s.accept=r||"",s.style.display="none",document.body.append(s),s.addEventListener("cancel",()=>{s.remove(),n(new DOMException("The user aborted a request.","AbortError"))}),s.addEventListener("change",()=>{s.remove(),e(s.multiple?Array.from(s.files):s.files[0])}),"showPicker"in HTMLInputElement.prototype?s.showPicker():s.click()})),Uu={__proto__:null,default:Bu},Ku=async(t=[{}])=>(Array.isArray(t)||(t=[t]),t[0].recursive=t[0].recursive||!1,new Promise((e,n)=>{const s=document.createElement("input");s.type="file",s.webkitdirectory=!0,s.style.display="none",document.body.append(s),s.addEventListener("cancel",()=>{s.remove(),n(new DOMException("The user aborted a request.","AbortError"))}),s.addEventListener("change",()=>{s.remove();let r=Array.from(s.files);t[0].recursive?t[0].recursive&&t[0].skipDirectory&&(r=r.filter(o=>o.webkitRelativePath.split("/").every(i=>!t[0].skipDirectory({name:i,kind:"directory"})))):r=r.filter(o=>o.webkitRelativePath.split("/").length===2),e(r)}),"showPicker"in HTMLInputElement.prototype?s.showPicker():s.click()})),Vu={__proto__:null,default:Ku},qu=async(t,e={})=>{Array.isArray(e)&&(e=e[0]);const n=document.createElement("a");let s=t;"body"in t&&(s=await(async function(i,a){const l=i.getReader(),c=new ReadableStream({start:d=>(async function m(){return l.read().then(({done:g,value:p})=>{if(!g)return d.enqueue(p),m();d.close()})})()}),f=new Response(c),u=await f.blob();return l.releaseLock(),new Blob([u],{type:a})})(t.body,t.headers.get("content-type"))),n.download=e.fileName||"Untitled",n.href=URL.createObjectURL(await s);const r=()=>{typeof o=="function"&&o()},o=e.legacySetup&&e.legacySetup(r,()=>o(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),r()}),n.click(),null},Gu={__proto__:null,default:qu},fe=Uint8Array,Ae=Uint16Array,mr=Int32Array,ss=new fe([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rs=new fe([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Us=new fe([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fi=function(t,e){for(var n=new Ae(31),s=0;s<31;++s)n[s]=e+=1<<t[s-1];for(var r=new mr(n[30]),s=1;s<30;++s)for(var o=n[s];o<n[s+1];++o)r[o]=o-n[s]<<5|s;return{b:n,r}},di=fi(ss,2),hi=di.b,Ks=di.r;hi[28]=258,Ks[258]=28;var pi=fi(rs,0),Yu=pi.b,Qr=pi.r,Vs=new Ae(32768);for(var re=0;re<32768;++re){var Je=(re&43690)>>1|(re&21845)<<1;Je=(Je&52428)>>2|(Je&13107)<<2,Je=(Je&61680)>>4|(Je&3855)<<4,Vs[re]=((Je&65280)>>8|(Je&255)<<8)>>1}var Re=(function(t,e,n){for(var s=t.length,r=0,o=new Ae(e);r<s;++r)t[r]&&++o[t[r]-1];var i=new Ae(e);for(r=1;r<e;++r)i[r]=i[r-1]+o[r-1]<<1;var a;if(n){a=new Ae(1<<e);var l=15-e;for(r=0;r<s;++r)if(t[r])for(var c=r<<4|t[r],f=e-t[r],u=i[t[r]-1]++<<f,d=u|(1<<f)-1;u<=d;++u)a[Vs[u]>>l]=c}else for(a=new Ae(s),r=0;r<s;++r)t[r]&&(a[r]=Vs[i[t[r]-1]++]>>15-t[r]);return a}),nt=new fe(288);for(var re=0;re<144;++re)nt[re]=8;for(var re=144;re<256;++re)nt[re]=9;for(var re=256;re<280;++re)nt[re]=7;for(var re=280;re<288;++re)nt[re]=8;var un=new fe(32);for(var re=0;re<32;++re)un[re]=5;var Wu=Re(nt,9,0),Hu=Re(nt,9,1),Ju=Re(un,5,0),Xu=Re(un,5,1),Ss=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Te=function(t,e,n){var s=e/8|0;return(t[s]|t[s+1]<<8)>>(e&7)&n},Ns=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},gr=function(t){return(t+7)/8|0},_n=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new fe(t.subarray(e,n))},Qu=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ke=function(t,e,n){var s=new Error(e||Qu[t]);if(s.code=t,Error.captureStackTrace&&Error.captureStackTrace(s,ke),!n)throw s;return s},ef=function(t,e,n,s){var r=t.length,o=s?s.length:0;if(!r||e.f&&!e.l)return n||new fe(0);var i=!n,a=i||e.i!=2,l=e.i;i&&(n=new fe(r*3));var c=function(Ke){var Pe=n.length;if(Ke>Pe){var St=new fe(Math.max(Pe*2,Ke));St.set(n),n=St}},f=e.f||0,u=e.p||0,d=e.b||0,m=e.l,g=e.d,p=e.m,y=e.n,v=r*8;do{if(!m){f=Te(t,u,1);var w=Te(t,u+1,3);if(u+=3,w)if(w==1)m=Hu,g=Xu,p=9,y=5;else if(w==2){var N=Te(t,u,31)+257,A=Te(t,u+10,15)+4,b=N+Te(t,u+5,31)+1;u+=14;for(var j=new fe(b),M=new fe(19),z=0;z<A;++z)M[Us[z]]=Te(t,u+z*3,7);u+=A*3;for(var I=Ss(M),T=(1<<I)-1,F=Re(M,I,1),z=0;z<b;){var V=F[Te(t,u,T)];u+=V&15;var _=V>>4;if(_<16)j[z++]=_;else{var U=0,Z=0;for(_==16?(Z=3+Te(t,u,3),u+=2,U=j[z-1]):_==17?(Z=3+Te(t,u,7),u+=3):_==18&&(Z=11+Te(t,u,127),u+=7);Z--;)j[z++]=U}}var $=j.subarray(0,N),G=j.subarray(N);p=Ss($),y=Ss(G),m=Re($,p,1),g=Re(G,y,1)}else ke(1);else{var _=gr(u)+4,k=t[_-4]|t[_-3]<<8,S=_+k;if(S>r){l&&ke(0);break}a&&c(d+k),n.set(t.subarray(_,S),d),e.b=d+=k,e.p=u=S*8,e.f=f;continue}if(u>v){l&&ke(0);break}}a&&c(d+131072);for(var ee=(1<<p)-1,W=(1<<y)-1,ne=u;;ne=u){var U=m[Ns(t,u)&ee],R=U>>4;if(u+=U&15,u>v){l&&ke(0);break}if(U||ke(2),R<256)n[d++]=R;else if(R==256){ne=u,m=null;break}else{var D=R-254;if(R>264){var z=R-257,H=ss[z];D=Te(t,u,(1<<H)-1)+hi[z],u+=H}var be=g[Ns(t,u)&W],B=be>>4;be||ke(3),u+=be&15;var G=Yu[B];if(B>3){var H=rs[B];G+=Ns(t,u)&(1<<H)-1,u+=H}if(u>v){l&&ke(0);break}a&&c(d+131072);var je=d+D;if(d<G){var Be=o-G,Ue=Math.min(G,je);for(Be+d<0&&ke(3);d<Ue;++d)n[d]=s[Be+d]}for(;d<je;++d)n[d]=n[d-G]}}e.l=m,e.p=ne,e.b=d,e.f=f,m&&(f=1,e.m=p,e.d=g,e.n=y)}while(!f);return d!=n.length&&i?_n(n,0,d):n.subarray(0,d)},qe=function(t,e,n){n<<=e&7;var s=e/8|0;t[s]|=n,t[s+1]|=n>>8},Xt=function(t,e,n){n<<=e&7;var s=e/8|0;t[s]|=n,t[s+1]|=n>>8,t[s+2]|=n>>16},js=function(t,e){for(var n=[],s=0;s<t.length;++s)t[s]&&n.push({s,f:t[s]});var r=n.length,o=n.slice();if(!r)return{t:gi,l:0};if(r==1){var i=new fe(n[0].s+1);return i[n[0].s]=1,{t:i,l:1}}n.sort(function(S,N){return S.f-N.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,f=1,u=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=r-1;)a=n[n[c].f<n[u].f?c++:u++],l=n[c!=f&&n[c].f<n[u].f?c++:u++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=o[0].s,s=1;s<r;++s)o[s].s>d&&(d=o[s].s);var m=new Ae(d+1),g=qs(n[f-1],m,0);if(g>e){var s=0,p=0,y=g-e,v=1<<y;for(o.sort(function(N,A){return m[A.s]-m[N.s]||N.f-A.f});s<r;++s){var w=o[s].s;if(m[w]>e)p+=v-(1<<g-m[w]),m[w]=e;else break}for(p>>=y;p>0;){var _=o[s].s;m[_]<e?p-=1<<e-m[_]++-1:++s}for(;s>=0&&p;--s){var k=o[s].s;m[k]==e&&(--m[k],++p)}g=e}return{t:new fe(m),l:g}},qs=function(t,e,n){return t.s==-1?Math.max(qs(t.l,e,n+1),qs(t.r,e,n+1)):e[t.s]=n},eo=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ae(++e),s=0,r=t[0],o=1,i=function(l){n[s++]=l},a=1;a<=e;++a)if(t[a]==r&&a!=e)++o;else{if(!r&&o>2){for(;o>138;o-=138)i(32754);o>2&&(i(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(i(r),--o;o>6;o-=6)i(8304);o>2&&(i(o-3<<5|8208),o=0)}for(;o--;)i(r);o=1,r=t[a]}return{c:n.subarray(0,s),n:e}},Qt=function(t,e){for(var n=0,s=0;s<e.length;++s)n+=t[s]*e[s];return n},mi=function(t,e,n){var s=n.length,r=gr(e+2);t[r]=s&255,t[r+1]=s>>8,t[r+2]=t[r]^255,t[r+3]=t[r+1]^255;for(var o=0;o<s;++o)t[r+o+4]=n[o];return(r+4+s)*8},to=function(t,e,n,s,r,o,i,a,l,c,f){qe(e,f++,n),++r[256];for(var u=js(r,15),d=u.t,m=u.l,g=js(o,15),p=g.t,y=g.l,v=eo(d),w=v.c,_=v.n,k=eo(p),S=k.c,N=k.n,A=new Ae(19),b=0;b<w.length;++b)++A[w[b]&31];for(var b=0;b<S.length;++b)++A[S[b]&31];for(var j=js(A,7),M=j.t,z=j.l,I=19;I>4&&!M[Us[I-1]];--I);var T=c+5<<3,F=Qt(r,nt)+Qt(o,un)+i,V=Qt(r,d)+Qt(o,p)+i+14+3*I+Qt(A,M)+2*A[16]+3*A[17]+7*A[18];if(l>=0&&T<=F&&T<=V)return mi(e,f,t.subarray(l,l+c));var U,Z,$,G;if(qe(e,f,1+(V<F)),f+=2,V<F){U=Re(d,m,0),Z=d,$=Re(p,y,0),G=p;var ee=Re(M,z,0);qe(e,f,_-257),qe(e,f+5,N-1),qe(e,f+10,I-4),f+=14;for(var b=0;b<I;++b)qe(e,f+3*b,M[Us[b]]);f+=3*I;for(var W=[w,S],ne=0;ne<2;++ne)for(var R=W[ne],b=0;b<R.length;++b){var D=R[b]&31;qe(e,f,ee[D]),f+=M[D],D>15&&(qe(e,f,R[b]>>5&127),f+=R[b]>>12)}}else U=Wu,Z=nt,$=Ju,G=un;for(var b=0;b<a;++b){var H=s[b];if(H>255){var D=H>>18&31;Xt(e,f,U[D+257]),f+=Z[D+257],D>7&&(qe(e,f,H>>23&31),f+=ss[D]);var be=H&31;Xt(e,f,$[be]),f+=G[be],be>3&&(Xt(e,f,H>>5&8191),f+=rs[be])}else Xt(e,f,U[H]),f+=Z[H]}return Xt(e,f,U[256]),f+Z[256]},tf=new mr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gi=new fe(0),nf=function(t,e,n,s,r,o){var i=o.z||t.length,a=new fe(s+i+5*(1+Math.ceil(i/7e3))+r),l=a.subarray(s,a.length-r),c=o.l,f=(o.r||0)&7;if(e){f&&(l[0]=o.r>>3);for(var u=tf[e-1],d=u>>13,m=u&8191,g=(1<<n)-1,p=o.p||new Ae(32768),y=o.h||new Ae(g+1),v=Math.ceil(n/3),w=2*v,_=function(vs){return(t[vs]^t[vs+1]<<v^t[vs+2]<<w)&g},k=new mr(25e3),S=new Ae(288),N=new Ae(32),A=0,b=0,j=o.i||0,M=0,z=o.w||0,I=0;j+2<i;++j){var T=_(j),F=j&32767,V=y[T];if(p[F]=V,y[T]=F,z<=j){var U=i-j;if((A>7e3||M>24576)&&(U>423||!c)){f=to(t,l,0,k,S,N,b,M,I,j-I,f),M=A=b=0,I=j;for(var Z=0;Z<286;++Z)S[Z]=0;for(var Z=0;Z<30;++Z)N[Z]=0}var $=2,G=0,ee=m,W=F-V&32767;if(U>2&&T==_(j-W))for(var ne=Math.min(d,U)-1,R=Math.min(32767,j),D=Math.min(258,U);W<=R&&--ee&&F!=V;){if(t[j+$]==t[j+$-W]){for(var H=0;H<D&&t[j+H]==t[j+H-W];++H);if(H>$){if($=H,G=W,H>ne)break;for(var be=Math.min(W,H-2),B=0,Z=0;Z<be;++Z){var je=j-W+Z&32767,Be=p[je],Ue=je-Be&32767;Ue>B&&(B=Ue,V=je)}}}F=V,V=p[F],W+=F-V&32767}if(G){k[M++]=268435456|Ks[$]<<18|Qr[G];var Ke=Ks[$]&31,Pe=Qr[G]&31;b+=ss[Ke]+rs[Pe],++S[257+Ke],++N[Pe],z=j+$,++A}else k[M++]=t[j],++S[t[j]]}}for(j=Math.max(j,z);j<i;++j)k[M++]=t[j],++S[t[j]];f=to(t,l,c,k,S,N,b,M,I,j-I,f),c||(o.r=f&7|l[f/8|0]<<3,f-=7,o.h=y,o.p=p,o.i=j,o.w=z)}else{for(var j=o.w||0;j<i+c;j+=65535){var St=j+65535;St>=i&&(l[f/8|0]=c,St=i),f=mi(l,f+1,t.subarray(j,St))}o.i=i}return _n(a,0,s+gr(f)+r)},sf=(function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var n=e,s=9;--s;)n=(n&1&&-306674912)^n>>>1;t[e]=n}return t})(),rf=function(){var t=-1;return{p:function(e){for(var n=t,s=0;s<e.length;++s)n=sf[n&255^e[s]]^n>>>8;t=n},d:function(){return~t}}},of=function(t,e,n,s,r){if(!r&&(r={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),i=new fe(o.length+t.length);i.set(o),i.set(t,o.length),t=i,r.w=o.length}return nf(t,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,s,r)},yi=function(t,e){var n={};for(var s in t)n[s]=t[s];for(var s in e)n[s]=e[s];return n},Fe=function(t,e){return t[e]|t[e+1]<<8},Ce=function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},As=function(t,e){return Ce(t,e)+Ce(t,e+4)*4294967296},_e=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function af(t,e){return of(t,e||{},0,0)}function lf(t,e){return ef(t,{i:2},e&&e.out,e&&e.dictionary)}var bi=function(t,e,n,s){for(var r in t){var o=t[r],i=e+r,a=s;Array.isArray(o)&&(a=yi(s,o[1]),o=o[0]),o instanceof fe?n[i]=[o,a]:(n[i+="/"]=[new fe(0),a],bi(o,i,n,s))}},no=typeof TextEncoder<"u"&&new TextEncoder,Gs=typeof TextDecoder<"u"&&new TextDecoder,cf=0;try{Gs.decode(gi,{stream:!0}),cf=1}catch{}var uf=function(t){for(var e="",n=0;;){var s=t[n++],r=(s>127)+(s>223)+(s>239);if(n+r>t.length)return{s:e,r:_n(t,n-1)};r?r==3?(s=((s&15)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63)-65536,e+=String.fromCharCode(55296|s>>10,56320|s&1023)):r&1?e+=String.fromCharCode((s&31)<<6|t[n++]&63):e+=String.fromCharCode((s&15)<<12|(t[n++]&63)<<6|t[n++]&63):e+=String.fromCharCode(s)}};function fn(t,e){var n;if(no)return no.encode(t);for(var s=t.length,r=new fe(t.length+(t.length>>1)),o=0,i=function(c){r[o++]=c},n=0;n<s;++n){if(o+5>r.length){var a=new fe(o+8+(s-n<<1));a.set(r),r=a}var l=t.charCodeAt(n);l<128||e?i(l):l<2048?(i(192|l>>6),i(128|l&63)):l>55295&&l<57344?(l=65536+(l&1047552)|t.charCodeAt(++n)&1023,i(240|l>>18),i(128|l>>12&63),i(128|l>>6&63),i(128|l&63)):(i(224|l>>12),i(128|l>>6&63),i(128|l&63))}return _n(r,0,o)}function Ys(t,e){if(e){for(var n="",s=0;s<t.length;s+=16384)n+=String.fromCharCode.apply(null,t.subarray(s,s+16384));return n}else{if(Gs)return Gs.decode(t);var r=uf(t),o=r.s,n=r.r;return n.length&&ke(8),o}}var ff=function(t,e){return e+30+Fe(t,e+26)+Fe(t,e+28)},df=function(t,e,n){var s=Fe(t,e+28),r=Ys(t.subarray(e+46,e+46+s),!(Fe(t,e+8)&2048)),o=e+46+s,i=Ce(t,e+20),a=n&&i==4294967295?hf(t,o):[i,Ce(t,e+24),Ce(t,e+42)],l=a[0],c=a[1],f=a[2];return[Fe(t,e+10),l,c,r,o+Fe(t,e+30)+Fe(t,e+32),f]},hf=function(t,e){for(;Fe(t,e)!=1;e+=4+Fe(t,e+2));return[As(t,e+12),As(t,e+4),As(t,e+20)]},Ws=function(t){var e=0;if(t)for(var n in t){var s=t[n].length;s>65535&&ke(9),e+=s+4}return e},so=function(t,e,n,s,r,o,i,a){var l=s.length,c=n.extra,f=a&&a.length,u=Ws(c);_e(t,e,i!=null?33639248:67324752),e+=4,i!=null&&(t[e++]=20,t[e++]=n.os),t[e]=20,e+=2,t[e++]=n.flag<<1|(o<0&&8),t[e++]=r&&8,t[e++]=n.compression&255,t[e++]=n.compression>>8;var d=new Date(n.mtime==null?Date.now():n.mtime),m=d.getFullYear()-1980;if((m<0||m>119)&&ke(10),_e(t,e,m<<25|d.getMonth()+1<<21|d.getDate()<<16|d.getHours()<<11|d.getMinutes()<<5|d.getSeconds()>>1),e+=4,o!=-1&&(_e(t,e,n.crc),_e(t,e+4,o<0?-o-2:o),_e(t,e+8,n.size)),_e(t,e+12,l),_e(t,e+14,u),e+=16,i!=null&&(_e(t,e,f),_e(t,e+6,n.attrs),_e(t,e+10,i),e+=14),t.set(s,e),e+=l,u)for(var g in c){var p=c[g],y=p.length;_e(t,e,+g),_e(t,e+2,y),t.set(p,e+4),e+=4+y}return f&&(t.set(a,e),e+=f),e},pf=function(t,e,n,s,r){_e(t,e,101010256),_e(t,e+8,n),_e(t,e+10,n),_e(t,e+12,s),_e(t,e+16,r)};function mf(t,e){e||(e={});var n={},s=[];bi(t,"",n,e);var r=0,o=0;for(var i in n){var a=n[i],l=a[0],c=a[1],f=c.level==0?0:8,u=fn(i),d=u.length,m=c.comment,g=m&&fn(m),p=g&&g.length,y=Ws(c.extra);d>65535&&ke(11);var v=f?af(l,c):l,w=v.length,_=rf();_.p(l),s.push(yi(c,{size:l.length,crc:_.d(),c:v,f:u,m:g,u:d!=i.length||g&&m.length!=p,o:r,compression:f})),r+=30+d+y+w,o+=76+2*(d+y)+(p||0)+w}for(var k=new fe(o+22),S=r,N=o-r,A=0;A<s.length;++A){var u=s[A];so(k,u.o,u,u.f,u.u,u.c.length);var b=30+u.f.length+Ws(u.extra);k.set(u.c,u.o+b),so(k,r,u,u.f,u.u,u.c.length,u.o,u.m),r+=16+b+(u.m?u.m.length:0)}return pf(k,r,s.length,N,S),k}function gf(t,e){for(var n={},s=t.length-22;Ce(t,s)!=101010256;--s)(!s||t.length-s>65558)&&ke(13);var r=Fe(t,s+8);if(!r)return{};var o=Ce(t,s+16),i=o==4294967295||r==65535;if(i){var a=Ce(t,s-12);i=Ce(t,a)==101075792,i&&(r=Ce(t,a+32),o=Ce(t,a+48))}for(var l=0;l<r;++l){var c=df(t,o,i),f=c[0],u=c[1],d=c[2],m=c[3],g=c[4],p=c[5],y=ff(t,p);o=g,f?f==8?n[m]=lf(t.subarray(y,y+u),{out:new fe(d)}):ke(14,"unknown compression type "+f):n[m]=_n(t,y,y+u)}return n}class yf{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,n){this.keyToValue.set(e,n),this.valueToKey.set(n,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class vi{constructor(e){this.generateIdentifier=e,this.kv=new yf}register(e,n){this.kv.getByValue(e)||(n||(n=this.generateIdentifier(e)),this.kv.set(n,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}}class bf extends vi{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,n){typeof n=="object"?(n.allowProps&&this.classToAllowedProps.set(e,n.allowProps),super.register(e,n.identifier)):super.register(e,n)}getAllowedProps(e){return this.classToAllowedProps.get(e)}}function vf(t){if("values"in Object)return Object.values(t);const e=[];for(const n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}function wf(t,e){const n=vf(t);if("find"in n)return n.find(e);const s=n;for(let r=0;r<s.length;r++){const o=s[r];if(e(o))return o}}function Dt(t,e){Object.entries(t).forEach(([n,s])=>e(s,n))}function Un(t,e){return t.indexOf(e)!==-1}function ro(t,e){for(let n=0;n<t.length;n++){const s=t[n];if(e(s))return s}}class _f{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return wf(this.transfomers,n=>n.isApplicable(e))}findByName(e){return this.transfomers[e]}}const kf=t=>Object.prototype.toString.call(t).slice(8,-1),wi=t=>typeof t>"u",xf=t=>t===null,dn=t=>typeof t!="object"||t===null||t===Object.prototype?!1:Object.getPrototypeOf(t)===null?!0:Object.getPrototypeOf(t)===Object.prototype,Hs=t=>dn(t)&&Object.keys(t).length===0,st=t=>Array.isArray(t),Sf=t=>typeof t=="string",Nf=t=>typeof t=="number"&&!isNaN(t),jf=t=>typeof t=="boolean",Af=t=>t instanceof RegExp,hn=t=>t instanceof Map,pn=t=>t instanceof Set,_i=t=>kf(t)==="Symbol",$f=t=>t instanceof Date&&!isNaN(t.valueOf()),Of=t=>t instanceof Error,oo=t=>typeof t=="number"&&isNaN(t),If=t=>jf(t)||xf(t)||wi(t)||Nf(t)||Sf(t)||_i(t),Tf=t=>typeof t=="bigint",Ef=t=>t===1/0||t===-1/0,Cf=t=>ArrayBuffer.isView(t)&&!(t instanceof DataView),zf=t=>t instanceof URL,ki=t=>t.replace(/\./g,"\\."),$s=t=>t.map(String).map(ki).join("."),sn=t=>{const e=[];let n="";for(let r=0;r<t.length;r++){let o=t.charAt(r);if(o==="\\"&&t.charAt(r+1)==="."){n+=".",r++;continue}if(o==="."){e.push(n),n="";continue}n+=o}const s=n;return e.push(s),e};function Me(t,e,n,s){return{isApplicable:t,annotation:e,transform:n,untransform:s}}const xi=[Me(wi,"undefined",()=>null,()=>{}),Me(Tf,"bigint",t=>t.toString(),t=>typeof BigInt<"u"?BigInt(t):(console.error("Please add a BigInt polyfill."),t)),Me($f,"Date",t=>t.toISOString(),t=>new Date(t)),Me(Of,"Error",(t,e)=>{const n={name:t.name,message:t.message};return e.allowedErrorProps.forEach(s=>{n[s]=t[s]}),n},(t,e)=>{const n=new Error(t.message);return n.name=t.name,n.stack=t.stack,e.allowedErrorProps.forEach(s=>{n[s]=t[s]}),n}),Me(Af,"regexp",t=>""+t,t=>{const e=t.slice(1,t.lastIndexOf("/")),n=t.slice(t.lastIndexOf("/")+1);return new RegExp(e,n)}),Me(pn,"set",t=>[...t.values()],t=>new Set(t)),Me(hn,"map",t=>[...t.entries()],t=>new Map(t)),Me(t=>oo(t)||Ef(t),"number",t=>oo(t)?"NaN":t>0?"Infinity":"-Infinity",Number),Me(t=>t===0&&1/t===-1/0,"number",()=>"-0",Number),Me(zf,"URL",t=>t.toString(),t=>new URL(t))];function os(t,e,n,s){return{isApplicable:t,annotation:e,transform:n,untransform:s}}const Si=os((t,e)=>_i(t)?!!e.symbolRegistry.getIdentifier(t):!1,(t,e)=>["symbol",e.symbolRegistry.getIdentifier(t)],t=>t.description,(t,e,n)=>{const s=n.symbolRegistry.getValue(e[1]);if(!s)throw new Error("Trying to deserialize unknown symbol");return s}),Pf=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((t,e)=>(t[e.name]=e,t),{}),Ni=os(Cf,t=>["typed-array",t.constructor.name],t=>[...t],(t,e)=>{const n=Pf[e[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(t)});function ji(t,e){return t?.constructor?!!e.classRegistry.getIdentifier(t.constructor):!1}const Ai=os(ji,(t,e)=>["class",e.classRegistry.getIdentifier(t.constructor)],(t,e)=>{const n=e.classRegistry.getAllowedProps(t.constructor);if(!n)return{...t};const s={};return n.forEach(r=>{s[r]=t[r]}),s},(t,e,n)=>{const s=n.classRegistry.getValue(e[1]);if(!s)throw new Error(`Trying to deserialize unknown class '${e[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(s.prototype),t)}),$i=os((t,e)=>!!e.customTransformerRegistry.findApplicable(t),(t,e)=>["custom",e.customTransformerRegistry.findApplicable(t).name],(t,e)=>e.customTransformerRegistry.findApplicable(t).serialize(t),(t,e,n)=>{const s=n.customTransformerRegistry.findByName(e[1]);if(!s)throw new Error("Trying to deserialize unknown custom value");return s.deserialize(t)}),Mf=[Ai,Si,$i,Ni],io=(t,e)=>{const n=ro(Mf,r=>r.isApplicable(t,e));if(n)return{value:n.transform(t,e),type:n.annotation(t,e)};const s=ro(xi,r=>r.isApplicable(t,e));if(s)return{value:s.transform(t,e),type:s.annotation}},Oi={};xi.forEach(t=>{Oi[t.annotation]=t});const Lf=(t,e,n)=>{if(st(e))switch(e[0]){case"symbol":return Si.untransform(t,e,n);case"class":return Ai.untransform(t,e,n);case"custom":return $i.untransform(t,e,n);case"typed-array":return Ni.untransform(t,e,n);default:throw new Error("Unknown transformation: "+e)}else{const s=Oi[e];if(!s)throw new Error("Unknown transformation: "+e);return s.untransform(t,n)}},Ot=(t,e)=>{if(e>t.size)throw new Error("index out of bounds");const n=t.keys();for(;e>0;)n.next(),e--;return n.next().value};function Ii(t){if(Un(t,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(Un(t,"prototype"))throw new Error("prototype is not allowed as a property");if(Un(t,"constructor"))throw new Error("constructor is not allowed as a property")}const Ff=(t,e)=>{Ii(e);for(let n=0;n<e.length;n++){const s=e[n];if(pn(t))t=Ot(t,+s);else if(hn(t)){const r=+s,o=+e[++n]==0?"key":"value",i=Ot(t,r);switch(o){case"key":t=i;break;case"value":t=t.get(i);break}}else t=t[s]}return t},Js=(t,e,n)=>{if(Ii(e),e.length===0)return n(t);let s=t;for(let o=0;o<e.length-1;o++){const i=e[o];if(st(s)){const a=+i;s=s[a]}else if(dn(s))s=s[i];else if(pn(s)){const a=+i;s=Ot(s,a)}else if(hn(s)){if(o===e.length-2)break;const l=+i,c=+e[++o]==0?"key":"value",f=Ot(s,l);switch(c){case"key":s=f;break;case"value":s=s.get(f);break}}}const r=e[e.length-1];if(st(s)?s[+r]=n(s[+r]):dn(s)&&(s[r]=n(s[r])),pn(s)){const o=Ot(s,+r),i=n(o);o!==i&&(s.delete(o),s.add(i))}if(hn(s)){const o=+e[e.length-2],i=Ot(s,o);switch(+r==0?"key":"value"){case"key":{const l=n(i);s.set(l,s.get(i)),l!==i&&s.delete(i);break}case"value":{s.set(i,n(s.get(i)));break}}}return t};function Xs(t,e,n=[]){if(!t)return;if(!st(t)){Dt(t,(o,i)=>Xs(o,e,[...n,...sn(i)]));return}const[s,r]=t;r&&Dt(r,(o,i)=>{Xs(o,e,[...n,...sn(i)])}),e(s,n)}function Df(t,e,n){return Xs(e,(s,r)=>{t=Js(t,r,o=>Lf(o,s,n))}),t}function Rf(t,e){function n(s,r){const o=Ff(t,sn(r));s.map(sn).forEach(i=>{t=Js(t,i,()=>o)})}if(st(e)){const[s,r]=e;s.forEach(o=>{t=Js(t,sn(o),()=>t)}),r&&Dt(r,n)}else Dt(e,n);return t}const Zf=(t,e)=>dn(t)||st(t)||hn(t)||pn(t)||ji(t,e);function Bf(t,e,n){const s=n.get(t);s?s.push(e):n.set(t,[e])}function Uf(t,e){const n={};let s;return t.forEach(r=>{if(r.length<=1)return;e||(r=r.map(a=>a.map(String)).sort((a,l)=>a.length-l.length));const[o,...i]=r;o.length===0?s=i.map($s):n[$s(o)]=i.map($s)}),s?Hs(n)?[s]:[s,n]:Hs(n)?void 0:n}const Ti=(t,e,n,s,r=[],o=[],i=new Map)=>{const a=If(t);if(!a){Bf(t,r,e);const m=i.get(t);if(m)return s?{transformedValue:null}:m}if(!Zf(t,n)){const m=io(t,n),g=m?{transformedValue:m.value,annotations:[m.type]}:{transformedValue:t};return a||i.set(t,g),g}if(Un(o,t))return{transformedValue:null};const l=io(t,n),c=l?.value??t,f=st(c)?[]:{},u={};Dt(c,(m,g)=>{if(g==="__proto__"||g==="constructor"||g==="prototype")throw new Error(`Detected property ${g}. This is a prototype pollution risk, please remove it from your object.`);const p=Ti(m,e,n,s,[...r,g],[...o,t],i);f[g]=p.transformedValue,st(p.annotations)?u[g]=p.annotations:dn(p.annotations)&&Dt(p.annotations,(y,v)=>{u[ki(g)+"."+v]=y})});const d=Hs(u)?{transformedValue:f,annotations:l?[l.type]:void 0}:{transformedValue:f,annotations:l?[l.type,u]:u};return a||i.set(t,d),d};function Ei(t){return Object.prototype.toString.call(t).slice(8,-1)}function ao(t){return Ei(t)==="Array"}function Kf(t){if(Ei(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return!!e&&e.constructor===Object&&e===Object.prototype}function Vf(t,e,n,s,r){const o={}.propertyIsEnumerable.call(s,e)?"enumerable":"nonenumerable";o==="enumerable"&&(t[e]=n),r&&o==="nonenumerable"&&Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!0,configurable:!0})}function Qs(t,e={}){if(ao(t))return t.map(r=>Qs(r,e));if(!Kf(t))return t;const n=Object.getOwnPropertyNames(t),s=Object.getOwnPropertySymbols(t);return[...n,...s].reduce((r,o)=>{if(ao(e.props)&&!e.props.includes(o))return r;const i=t[o],a=Qs(i,e);return Vf(r,o,a,t,e.nonenumerable),r},{})}class Y{constructor({dedupe:e=!1}={}){this.classRegistry=new bf,this.symbolRegistry=new vi(n=>n.description??""),this.customTransformerRegistry=new _f,this.allowedErrorProps=[],this.dedupe=e}serialize(e){const n=new Map,s=Ti(e,n,this,this.dedupe),r={json:s.transformedValue};s.annotations&&(r.meta={...r.meta,values:s.annotations});const o=Uf(n,this.dedupe);return o&&(r.meta={...r.meta,referentialEqualities:o}),r}deserialize(e){const{json:n,meta:s}=e;let r=Qs(n);return s?.values&&(r=Df(r,s.values,this)),s?.referentialEqualities&&(r=Rf(r,s.referentialEqualities)),r}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,n){this.classRegistry.register(e,n)}registerSymbol(e,n){this.symbolRegistry.register(e,n)}registerCustom(e,n){this.customTransformerRegistry.register({name:n,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}}Y.defaultInstance=new Y;Y.serialize=Y.defaultInstance.serialize.bind(Y.defaultInstance);Y.deserialize=Y.defaultInstance.deserialize.bind(Y.defaultInstance);Y.stringify=Y.defaultInstance.stringify.bind(Y.defaultInstance);Y.parse=Y.defaultInstance.parse.bind(Y.defaultInstance);Y.registerClass=Y.defaultInstance.registerClass.bind(Y.defaultInstance);Y.registerSymbol=Y.defaultInstance.registerSymbol.bind(Y.defaultInstance);Y.registerCustom=Y.defaultInstance.registerCustom.bind(Y.defaultInstance);Y.allowErrorProps=Y.defaultInstance.allowErrorProps.bind(Y.defaultInstance);Y.serialize;Y.deserialize;Y.stringify;Y.parse;Y.registerClass;Y.registerCustom;Y.registerSymbol;Y.allowErrorProps;const ft=fn("🦊🚂🎬"),wt=fr((t,e)=>{const n=s=>{const o={...typeof s=="function"?s(e()):s};return"saved"in o&&o.saved===!0?o.saved=!0:o.metadata?.orbitControls||(o.saved=!1),t(o)};return{saved:!1,metadata:{projectName:"",createdAt:null,orbitControls:void 0},cart:null,setMetadata:s=>n({metadata:s}),setProjectName:s=>n(r=>({metadata:{...r.metadata,projectName:s}})),setCart:s=>n({cart:s}),clearCart:()=>n({cart:null}),saveProject:async s=>{const r=wt.getState();if(!r.cart)throw new Error("No cart data to save.");const o=`${r.metadata.projectName||"TCA-Project"}.tcaproj`,i={...r.metadata,createdAt:r.metadata.createdAt||new Date},a=mf({"metadata.json":fn(Y.stringify(i)),"cart.json":fn(Y.stringify(r.cart))},{level:9}),l=new Uint8Array(ft.length+a.length);l.set(ft),l.set(a,ft.length);const c=new Uint8Array(l.length);c.set(l);const f=new Blob([c],{type:"application/binary"}),u=r.fileHandle;if(!u||s){const d=await cn.promise(zu(f,{fileName:o,extensions:[".tcaproj"],mimeTypes:["application/binary"],id:"tca-project"}),{loading:"Saving project...",success:"Project saved successfully!",error:"Failed to save the project."}).unwrap();d&&(n({saved:!0,fileHandle:d,metadata:{...i}}),d.name!==o&&n({metadata:{...i,projectName:d.name.replace(/\.tcaproj$/,"")}}))}else await cn.promise(u.createWritable().then(async m=>(await m.write(c),await m.close(),!0)).catch(()=>!1),{loading:"Saving project...",success:"Project saved successfully!",error:"Failed to save the project."}).unwrap()&&n({saved:!0,fileHandle:u,metadata:{...i}})},loadProjectFromFile:async()=>{const s=await ci({description:"Select a TCA-Project file",extensions:[".tcaproj"],mimeTypes:["application/binary"],id:"tca-project",startIn:"documents"}).catch(()=>null);if(!s)throw new Error("No file selected.");const r=await s.arrayBuffer(),o=new Uint8Array(ft.length);if(o.set(ft),!new Uint8Array(r.slice(0,ft.length)).every((c,f)=>c===o[f]))throw new Error("Invalid TCA-Project file format.");const a=new Uint8Array(r.slice(ft.length)),l=await gf(a);for(const[c,f]of Object.entries(l))switch(c){case"metadata.json":{n({metadata:Y.parse(Ys(f))});break}case"cart.json":{const u=Y.parse(Ys(f));n({cart:u});break}default:console.warn(`Unknown file in TCA-Project: ${c}`);break}n({saved:!0,fileHandle:s.handle})},reset:()=>n({metadata:{projectName:"",createdAt:null},cart:null,fileHandle:void 0})}});function qf(){const t=P.c(57),e=wt(),[n,s]=X.useState(document.fullscreenElement),[r,o]=X.useState(!1),[i,a]=X.useState(!1),l=Yf;let c,f;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{const R=()=>{s(document.fullscreenElement)};return document.addEventListener("fullscreenchange",R),()=>{document.removeEventListener("fullscreenchange",R)}},f=[],t[0]=c,t[1]=f):(c=t[0],f=t[1]),X.useEffect(c,f);let u;t[2]!==e?(u=async()=>{o(!0),await e.saveProject(),e.reset(),o(!1)},t[2]=e,t[3]=u):u=t[3];const d=u;let m,g;t[4]!==e?(m=()=>{const R=D=>{D.key==="s"&&(D.ctrlKey||D.metaKey)&&e.cart?(D.preventDefault(),e.saveProject().catch(Gf)):D.key===","&&(D.ctrlKey||D.metaKey)&&(D.preventDefault(),a(!0))};return window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R)}},g=[e],t[4]=e,t[5]=m,t[6]=g):(m=t[5],g=t[6]),X.useEffect(m,g);let p;t[7]===Symbol.for("react.memo_cache_sentinel")?(p={padding:"-1em",margin:"-1em"},t[7]=p):p=t[7];const y=e.metadata.projectName||"Untitled Project";let v;t[8]!==e.saved?(v=e.saved?h.jsx(Bo,{}):h.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:"currentColor",marginRight:4,aspectRatio:"1 / 1"}}),t[8]=e.saved,t[9]=v):v=t[9];let w;t[10]!==d||t[11]!==r||t[12]!==v?(w=h.jsx(yt,{className:"h-4 w-4",variant:"ghost",size:"icon",disabled:r,onClick:d,children:v}),t[10]=d,t[11]=r,t[12]=v,t[13]=w):w=t[13];let _;t[14]!==y||t[15]!==w?(_=h.jsxs("div",{className:"bg-card flex items-center gap-2 px-2",children:[y,w]}),t[14]=y,t[15]=w,t[16]=_):_=t[16];let k;t[17]===Symbol.for("react.memo_cache_sentinel")?(k=h.jsx(fu,{children:"File"}),t[17]=k):k=t[17];let S;t[18]!==e?(S=async()=>e.saveProject(),t[18]=e,t[19]=S):S=t[19];let N;t[20]===Symbol.for("react.memo_cache_sentinel")?(N=h.jsx(Hr,{children:"CTRL + S"}),t[20]=N):N=t[20];let A;t[21]!==r||t[22]!==S?(A=h.jsxs(jt,{disabled:r,onClick:S,children:["Save Project ",N]}),t[21]=r,t[22]=S,t[23]=A):A=t[23];let b;t[24]!==e?(b=async()=>e.saveProject(!0),t[24]=e,t[25]=b):b=t[25];let j;t[26]!==r||t[27]!==b?(j=h.jsx(jt,{disabled:r,onClick:b,children:"Save Project As"}),t[26]=r,t[27]=b,t[28]=j):j=t[28];let M;t[29]===Symbol.for("react.memo_cache_sentinel")?(M=h.jsx(ks,{}),t[29]=M):M=t[29];let z;t[30]!==e?(z=async()=>e.loadProjectFromFile(),t[30]=e,t[31]=z):z=t[31];let I;t[32]!==r||t[33]!==z?(I=h.jsx(jt,{disabled:r,onClick:z,children:"Load Project"}),t[32]=r,t[33]=z,t[34]=I):I=t[34];let T;t[35]!==d||t[36]!==r?(T=h.jsx(jt,{disabled:r,onClick:d,children:"New Project"}),t[35]=d,t[36]=r,t[37]=T):T=t[37];let F;t[38]===Symbol.for("react.memo_cache_sentinel")?(F=h.jsx(ks,{}),t[38]=F):F=t[38];let V;t[39]===Symbol.for("react.memo_cache_sentinel")?(V=()=>a(!0),t[39]=V):V=t[39];let U,Z,$;t[40]===Symbol.for("react.memo_cache_sentinel")?(U=h.jsxs(jt,{onClick:V,children:["Preferences",h.jsx(Hr,{children:"CTRL + ,"})]}),Z=h.jsx(ks,{}),$=h.jsx(jt,{children:"Print"}),t[40]=U,t[41]=Z,t[42]=$):(U=t[40],Z=t[41],$=t[42]);let G;t[43]!==A||t[44]!==j||t[45]!==I||t[46]!==T?(G=h.jsxs(Wr,{children:[k,h.jsxs(du,{children:[A,j,M,I,T,F,U,Z,$]})]}),t[43]=A,t[44]=j,t[45]=I,t[46]=T,t[47]=G):G=t[47];let ee;t[48]!==n?(ee=h.jsx(Wr,{children:h.jsx(yt,{className:"ml-auto",variant:"ghost",size:"icon",onClick:l,children:n?h.jsx(Bl,{}):h.jsx(Zl,{})})}),t[48]=n,t[49]=ee):ee=t[49];let W;t[50]!==i?(W=h.jsx(Jf,{open:i,setOpen:a}),t[50]=i,t[51]=W):W=t[51];let ne;return t[52]!==G||t[53]!==ee||t[54]!==W||t[55]!==_?(ne=h.jsxs(cu,{style:p,className:"rounded-none",children:[_,G,ee,W]}),t[52]=G,t[53]=ee,t[54]=W,t[55]=_,t[56]=ne):ne=t[56],ne}function Gf(t){console.error("Save failed:",t)}function Yf(){document.fullscreenElement?document.exitFullscreen().catch(Wf):document.documentElement.requestFullscreen().catch(Hf)}function Wf(t){console.error("Error exiting fullscreen mode:",t)}function Hf(t){console.error("Error entering fullscreen mode:",t)}function Jf(t){const e=P.c(69),{open:n,setOpen:s}=t,r=wn();let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=h.jsx(au,{children:"Preferences"}),e[0]=o):o=e[0];let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=h.jsx(Le,{htmlFor:"theme-select",children:"Theme:"}),e[1]=i):i=e[1];let a;e[2]!==r?(a=B=>{if(B!=="light"&&B!=="dark"){console.warn("Invalid theme selected:",B);return}r.setTheme(B)},e[2]=r,e[3]=a):a=e[3];let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=h.jsx(Jn,{className:"h-10 w-full",id:"theme-select",children:h.jsx(Hn,{placeholder:"Select theme"})}),e[4]=l):l=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=h.jsx(Xn,{children:h.jsxs(Wn,{children:[h.jsx(Qn,{children:"Available Themes"}),h.jsx(ht,{value:"light",children:"Light"}),h.jsx(ht,{value:"dark",children:"Dark"})]})}),e[5]=c):c=e[5];let f;e[6]!==r.theme||e[7]!==a?(f=h.jsxs("div",{className:"flex flex-col",children:[i,h.jsxs(Yn,{value:r.theme,onValueChange:a,children:[l,c]})]}),e[6]=r.theme,e[7]=a,e[8]=f):f=e[8];let u;e[9]===Symbol.for("react.memo_cache_sentinel")?(u=h.jsx(Le,{htmlFor:"save-interval",children:"Auto-save Interval (seconds):"}),e[9]=u):u=e[9];let d;e[10]!==r?(d=B=>{const je=parseInt(B.target.value,10);if(isNaN(je)||je<1){console.warn("Invalid save interval:",B.target.value);return}r.setSaveInterval(je)},e[10]=r,e[11]=d):d=e[11];let m;e[12]!==r.saveInterval||e[13]!==d?(m=h.jsxs("div",{className:"flex flex-col",children:[u,h.jsx(pr,{id:"save-interval",type:"number",min:1,value:r.saveInterval,onChange:d,className:"h-10 w-full"})]}),e[12]=r.saveInterval,e[13]=d,e[14]=m):m=e[14];let g;e[15]===Symbol.for("react.memo_cache_sentinel")?(g=h.jsx(Le,{htmlFor:"grid-color",className:"mb-2 block",children:"Grid Color:"}),e[15]=g):g=e[15];let p;e[16]!==r?(p=B=>{r.setGridColor(B.hex)},e[16]=r,e[17]=p):p=e[17];let y;e[18]!==r.gridColor||e[19]!==p?(y=h.jsxs("div",{className:"flex flex-col",children:[g,h.jsx(bu,{defaultColor:r.gridColor,onChangeComplete:p})]}),e[18]=r.gridColor,e[19]=p,e[20]=y):y=e[20];let v;e[21]===Symbol.for("react.memo_cache_sentinel")?(v=h.jsx(ct,{asChild:!0,children:h.jsx(An,{className:"mr-[0.5] inline h-3"})}),e[21]=v):v=e[21];let w;e[22]===Symbol.for("react.memo_cache_sentinel")?(w=h.jsxs(Le,{htmlFor:"antialiasing-select",className:"block",children:[h.jsxs(lt,{children:[v,h.jsx(ut,{children:h.jsx("p",{children:"Antialiasing smooths jagged edges in 3D graphics. Different methods have varying impacts on performance and visual quality. Choose the one that best fits your needs."})})]}),"Antialiasing:"]}),e[22]=w):w=e[22];let _;e[23]!==r?(_=B=>{if(B!=="none"&&B!=="FXAA"&&B!=="SMAA"){console.warn("Invalid antialiasing selected:",B);return}r.setAntialiasing(B)},e[23]=r,e[24]=_):_=e[24];let k;e[25]===Symbol.for("react.memo_cache_sentinel")?(k=h.jsx(Jn,{className:"h-10 w-full",id:"antialiasing-select",children:h.jsx(Hn,{placeholder:"Select antialiasing"})}),e[25]=k):k=e[25];let S;e[26]===Symbol.for("react.memo_cache_sentinel")?(S=h.jsx(Qn,{children:"Available Antialiasing Methods"}),e[26]=S):S=e[26];let N;e[27]===Symbol.for("react.memo_cache_sentinel")?(N=h.jsx(ct,{asChild:!0,children:h.jsx(ht,{value:"none",children:"None"})}),e[27]=N):N=e[27];let A;e[28]===Symbol.for("react.memo_cache_sentinel")?(A=h.jsxs(lt,{children:[N,h.jsx(ut,{children:h.jsx("p",{children:"No antialiasing is applied. This may result in jagged edges on 3D objects, especially at lower resolutions, but offers the best performance."})})]}),e[28]=A):A=e[28];let b;e[29]===Symbol.for("react.memo_cache_sentinel")?(b=h.jsx(ct,{asChild:!0,children:h.jsx(ht,{value:"FXAA",children:"FXAA"})}),e[29]=b):b=e[29];let j;e[30]===Symbol.for("react.memo_cache_sentinel")?(j=h.jsxs(lt,{children:[b,h.jsx(ut,{children:h.jsx("p",{children:"Fast Approximate Anti-Aliasing (FXAA) is a screen-space antialiasing technique that smooths jagged edges with minimal performance impact. It is less resource-intensive than other methods but may produce slightly blurrier results."})})]}),e[30]=j):j=e[30];let M;e[31]===Symbol.for("react.memo_cache_sentinel")?(M=h.jsx(ct,{asChild:!0,children:h.jsx(ht,{value:"SMAA",children:"SMAA"})}),e[31]=M):M=e[31];let z;e[32]===Symbol.for("react.memo_cache_sentinel")?(z=h.jsx(Xn,{children:h.jsxs(Wn,{children:[S,A,j,h.jsxs(lt,{children:[M,h.jsx(ut,{children:h.jsx("p",{children:"Subpixel Morphological Anti-Aliasing (SMAA) is an advanced antialiasing technique that provides high-quality edge smoothing with moderate performance cost. It combines multiple methods to effectively reduce jagged edges while preserving image detail."})})]})]})}),e[32]=z):z=e[32];let I;e[33]!==r.antialiasing||e[34]!==_?(I=h.jsxs("div",{className:"flex flex-col",children:[w,h.jsxs(Yn,{value:r.antialiasing,onValueChange:_,children:[k,z]})]}),e[33]=r.antialiasing,e[34]=_,e[35]=I):I=e[35];let T;e[36]===Symbol.for("react.memo_cache_sentinel")?(T=h.jsx(ct,{asChild:!0,children:h.jsx(An,{className:"mr-[0.5] inline h-3"})}),e[36]=T):T=e[36];let F;e[37]===Symbol.for("react.memo_cache_sentinel")?(F=h.jsxs(Le,{htmlFor:"debug-text",className:"mb-2 block",children:[h.jsxs(lt,{children:[T,h.jsx(ut,{children:h.jsx("p",{children:"Debug text displays additional information about the 3D scene, such as object coordinates and rendering details. It can be useful for troubleshooting but may clutter the view."})})]}),"Debug Text:"]}),e[37]=F):F=e[37];let V;e[38]!==r?(V=B=>r.setDebugText(B),e[38]=r,e[39]=V):V=e[39];let U;e[40]!==r.debugText||e[41]!==V?(U=h.jsxs("div",{className:"flex flex-row gap-2",children:[F,h.jsx(xs,{id:"debug-text",checked:r.debugText,onCheckedChange:V})]}),e[40]=r.debugText,e[41]=V,e[42]=U):U=e[42];let Z;e[43]===Symbol.for("react.memo_cache_sentinel")?(Z=h.jsx(ct,{asChild:!0,children:h.jsx(An,{className:"mr-[0.5] inline h-3"})}),e[43]=Z):Z=e[43];let $;e[44]===Symbol.for("react.memo_cache_sentinel")?($=h.jsxs(Le,{htmlFor:"ssao-enabled",className:"mb-2 block",children:[h.jsxs(lt,{children:[Z,h.jsx(ut,{children:h.jsx("p",{children:"Screen Space Ambient Occlusion (SSAO) is a shading method that adds soft shadows to enhance depth perception in 3D scenes. It can improve visual realism but may impact performance."})})]}),"SSAO Enabled:"]}),e[44]=$):$=e[44];let G;e[45]!==r?(G=B=>r.setSSAOEnabled(B),e[45]=r,e[46]=G):G=e[46];let ee;e[47]!==r.SSAOEnabled||e[48]!==G?(ee=h.jsxs("div",{className:"flex flex-row gap-2",children:[$,h.jsx(xs,{id:"ssao-enabled",checked:r.SSAOEnabled,onCheckedChange:G})]}),e[47]=r.SSAOEnabled,e[48]=G,e[49]=ee):ee=e[49];let W;e[50]===Symbol.for("react.memo_cache_sentinel")?(W=h.jsx(ct,{asChild:!0,children:h.jsx(An,{className:"mr-[0.5] inline h-3"})}),e[50]=W):W=e[50];let ne;e[51]===Symbol.for("react.memo_cache_sentinel")?(ne=h.jsxs(Le,{htmlFor:"dof-enabled",className:"mb-2 block",children:[h.jsxs(lt,{children:[W,h.jsx(ut,{children:h.jsx("p",{children:"Depth of Field (DOF) creates a blurred effect on objects outside the focus area, simulating camera lens behavior. It enhances realism but can be resource-intensive and may affect performance."})})]}),"Depth of Field Enabled:"]}),e[51]=ne):ne=e[51];let R;e[52]!==r?(R=B=>r.setDOFEnabled(B),e[52]=r,e[53]=R):R=e[53];let D;e[54]!==r.DOFEnabled||e[55]!==R?(D=h.jsxs("div",{className:"flex flex-row gap-2",children:[ne,h.jsx(xs,{id:"dof-enabled",checked:r.DOFEnabled,onCheckedChange:R})]}),e[54]=r.DOFEnabled,e[55]=R,e[56]=D):D=e[56];let H;e[57]!==y||e[58]!==I||e[59]!==U||e[60]!==ee||e[61]!==D||e[62]!==f||e[63]!==m?(H=h.jsx(ou,{children:h.jsxs(iu,{children:[o,h.jsx(lu,{asChild:!0,children:h.jsxs("div",{children:["Here you can adjust your preferences for the application.",h.jsxs("div",{className:"mt-4 flex flex-col gap-4",children:[f,m,y,I,U,ee,D]})]})})]})}),e[57]=y,e[58]=I,e[59]=U,e[60]=ee,e[61]=D,e[62]=f,e[63]=m,e[64]=H):H=e[64];let be;return e[65]!==n||e[66]!==s||e[67]!==H?(be=h.jsx(nu,{open:n,onOpenChange:s,children:H}),e[65]=n,e[66]=s,e[67]=H,e[68]=be):be=e[68],be}let Kn=[];function Xf(t){return Kn.push(t),()=>{Kn=Kn.filter(e=>e!==t)}}function Qf(){const t=P.c(2),e=X.useRef(0);let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=performance.now(),t[0]=n):n=t[0];const s=X.useRef(n);let r;return t[1]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{e.current=e.current+1;const o=performance.now(),i=o-s.current;if(i>500){const a=Math.round(e.current*1e3/i);e.current=0,s.current=o,Kn.forEach(l=>l(a))}},t[1]=r):r=t[1],Ko(r),null}function ed(t){const e=P.c(20),{position:n}=t,s=n===void 0?"top-right":n,r=wn(),[o,i]=X.useState(0);let a,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>Xf(i),l=[],e[0]=a,e[1]=l):(a=e[0],l=e[1]),X.useEffect(a,l);const c=s.includes("top")?8:void 0,f=s.includes("bottom")?8:void 0,u=s.includes("left")?8:void 0,d=s.includes("right")?8:void 0;let m;e[2]!==c||e[3]!==f||e[4]!==u||e[5]!==d?(m={top:c,bottom:f,left:u,right:d},e[2]=c,e[3]=f,e[4]=u,e[5]=d,e[6]=m):m=e[6];const g=m;let p;e[7]!==g?(p={...g},e[7]=g,e[8]=p):p=e[8];let y;e[9]!==o?(y=h.jsxs("p",{children:[o," FPS"]}),e[9]=o,e[10]=y):y=e[10];let v;e[11]!==r.DOFEnabled||e[12]!==r.SSAOEnabled||e[13]!==r.antialiasing||e[14]!==r.debugText?(v=r.debugText&&h.jsxs(h.Fragment,{children:[h.jsxs("p",{children:["Debug Text: ",r.debugText?"On":"Off"]}),h.jsxs("p",{children:["Antialiasing: ",r.antialiasing]}),h.jsxs("p",{children:["SSAO: ",r.SSAOEnabled?"On":"Off"]}),h.jsxs("p",{children:["Depth of Field: ",r.DOFEnabled?"On":"Off"]})]}),e[11]=r.DOFEnabled,e[12]=r.SSAOEnabled,e[13]=r.antialiasing,e[14]=r.debugText,e[15]=v):v=e[15];let w;return e[16]!==y||e[17]!==v||e[18]!==p?(w=h.jsxs("div",{className:"text-muted-foreground pointer-events-none fixed z-10 text-right font-mono text-sm",style:p,children:[y,v]}),e[16]=y,e[17]=v,e[18]=p,e[19]=w):w=e[19],w}const En=[],td=5;function nd(){const t=Math.floor(Math.random()*360),e=70+Math.random()*10,n=80+Math.random()*10;return`hsl(${t}, ${e}%, ${n}%)`}function sd(){let t="",e=0;do t=nd(),e++;while(En.includes(t)&&e<10);return En.push(t),En.length>td&&En.shift(),t}function Ci(t){const e=P.c(9),{args:n,position:s}=t,r=oc("/tc-animator/textures/missing.png");let o,i;e[0]!==r?(i=r.clone(),i.magFilter=Br,i.minFilter=Br,e[0]=r,e[1]=i):i=e[1],o=i;const a=o;let l,c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=sd(),e[2]=c):c=e[2],l=c;const f=l;let u;e[3]!==a?(u=h.jsx("meshStandardMaterial",{map:a,color:f}),e[3]=a,e[4]=u):u=e[4];let d;return e[5]!==n||e[6]!==s||e[7]!==u?(d=h.jsx(ic,{args:n,position:s,castShadow:!0,receiveShadow:!0,children:u}),e[5]=n,e[6]=s,e[7]=u,e[8]=d):d=e[8],d}const rd="/tc-animator/models/dummy.glb";Vo.preload(rd);function od({scale:t=1,position:e=new gt(0,0,0)}){const{scene:n}=Vo("/tc-animator/models/dummy.glb"),s=vc(n);return h.jsx("primitive",{object:s,scale:t,position:e,castShadow:!0,receiveShadow:!0,rotation:[0,Qe(180),0]})}function id(){const t=P.c(22),{cart:e}=wt();if(!e?.model)return null;const{position:n}=e.model,s=n?.posX||0,r=n?.posY||0,o=n?.posZ||0;let i;t[0]!==s||t[1]!==r||t[2]!==o?(i=new gt(s,r,o),t[0]=s,t[1]=r,t[2]=o,t[3]=i):i=t[3];const a=i,l=n?.rotX||0;let c;t[4]!==n?.rotY||t[5]!==n?.rotZ||t[6]!==l?(c=new dr(Qe(l),Qe(n?.rotY||0),Qe(n?.rotZ||0)),t[4]=n?.rotY,t[5]=n?.rotZ,t[6]=l,t[7]=c):c=t[7];const f=c,u=n?.sizeX||1,d=n?.sizeY||1,m=n?.sizeZ||1;let g;t[8]!==u||t[9]!==d||t[10]!==m?(g=new gt(u,d,m),t[8]=u,t[9]=d,t[10]=m,t[11]=g):g=t[11];const p=g;let y;t[12]===Symbol.for("react.memo_cache_sentinel")?(y=h.jsx(Ci,{args:[1,1,1],position:[0,0,0]}),t[12]=y):y=t[12];let v;t[13]!==p?(v=h.jsx("group",{scale:p,children:y}),t[13]=p,t[14]=v):v=t[14];let w;t[15]!==e.model?(w=h.jsx(zi,{attachments:e.model}),t[15]=e.model,t[16]=w):w=t[16];let _;return t[17]!==a||t[18]!==f||t[19]!==v||t[20]!==w?(_=h.jsxs("group",{position:a,rotation:f,children:[v,w]}),t[17]=a,t[18]=f,t[19]=v,t[20]=w,t[21]=_):_=t[21],_}function zi(t){const e=P.c(9),{attachments:n}=t,s=wn();let r;if(e[0]!==n.attachments||e[1]!==s){let i;e[3]!==n.attachments?(i=n.attachments||{},e[3]=n.attachments,e[4]=i):i=e[4];let a;e[5]!==s?(a=l=>{const[c,f]=l,u=new gt(f.position?.posX||0,f.position?.posY||0,f.position?.posZ||0),d=new dr(Qe(f.position?.rotX||0),Qe(f.position?.rotY||0),Qe(f.position?.rotZ||0)),m=new gt(f.position?.sizeX||1,f.position?.sizeY||1,f.position?.sizeZ||1);return h.jsxs("group",{position:u,rotation:d,children:[h.jsx("group",{scale:m,children:(()=>{switch(f.type){case"SEAT":return h.jsxs(h.Fragment,{children:[s.debugText&&h.jsx(lo,{fontSize:.3,color:"white",anchorX:"center",anchorY:"middle",outlineWidth:.05,outlineColor:"black",position:[0,3.5,0],children:`S: ${c}
Pos:${u.toArray().map(fd)}`}),h.jsx(od,{position:new gt(0,0,0)})]});case"HITBOX":return null;default:return h.jsx(Ci,{args:[1,1,1],position:[0,0,0]})}})()}),s.debugText&&!["SEAT","HITBOX"].includes(f.type)&&h.jsx(lo,{position:[0,1.5,0],fontSize:.3,color:"yellow",anchorX:"center",anchorY:"middle",scale:[1,1,1],outlineWidth:.05,outlineColor:"black",children:`${c}
pos:${u.toArray().map(ud)}
rot:${d.toArray().filter(cd).map(ld)}
scale:${m.toArray().map(ad)}`}),f.attachments&&h.jsx(zi,{attachments:f})]},c)},e[5]=s,e[6]=a):a=e[6],r=Object.entries(i).map(a),e[0]=n.attachments,e[1]=s,e[2]=r}else r=e[2];let o;return e[7]!==r?(o=h.jsx(h.Fragment,{children:r}),e[7]=r,e[8]=o):o=e[8],o}function ad(t){return t.toFixed(2)}function ld(t){return t.toFixed(2)}function cd(t){return typeof t=="number"}function ud(t){return t.toFixed(2)}function fd(t){return`
${t.toFixed(2)}`}function lo(t){const e=P.c(4),n=X.useRef(null),{camera:s}=ac();let r;e[0]!==s?(r=()=>{if(!n.current)return;const i=n.current.getWorldPosition(new gt),a=s.position.clone();a.y=i.y;const l=a.sub(i).normalize();let c=Math.atan2(l.x,l.z);if(n.current.parent){const f=new wc;n.current.parent.getWorldQuaternion(f);const d=new dr().setFromQuaternion(f,"YXZ").y;c=c-d+Math.PI}else c=c+Math.PI;n.current.rotation.set(0,c+Qe(180),0)},e[0]=s,e[1]=r):r=e[1],Ko(r);let o;return e[2]!==t?(o=h.jsx(lc,{ref:n,...t,children:t.children}),e[2]=t,e[3]=o):o=e[3],o}function dd(){const t=P.c(39),e=wn(),n=X.useRef(null),s=wt();let r,o;t[0]!==s.metadata.orbitControls?(r=()=>{const T=n.current,F=s.metadata.orbitControls;T&&F&&(T.object.position.set(...F.position),T.target.set(...F.target),F.zoom&&T.object.zoom!==void 0&&(T.object.zoom=F.zoom,T.object.updateProjectionMatrix()),T.update())},o=[s.metadata.orbitControls],t[0]=s.metadata.orbitControls,t[1]=r,t[2]=o):(r=t[1],o=t[2]),X.useEffect(r,o);let i,a;t[3]!==s?(i=()=>{const T=n.current;if(!T)return;const F=()=>{s.setProjectName(s.metadata.projectName),s.setMetadata({...s.metadata,orbitControls:{position:[T.object.position.x,T.object.position.y,T.object.position.z],target:[T.target.x,T.target.y,T.target.z],zoom:T.object.zoom}})};return T.addEventListener("change",F),()=>T.removeEventListener("change",F)},a=[s],t[3]=s,t[4]=i,t[5]=a):(i=t[4],a=t[5]),X.useEffect(i,a);let l;t[6]===Symbol.for("react.memo_cache_sentinel")?(l={position:[3,3,3],fov:45},t[6]=l):l=t[6];let c,f;t[7]===Symbol.for("react.memo_cache_sentinel")?(c=[1,2],f={powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1},t[7]=c,t[8]=f):(c=t[7],f=t[8]);let u,d,m;t[9]===Symbol.for("react.memo_cache_sentinel")?(u=h.jsx(Qf,{}),d=h.jsx("ambientLight",{intensity:2}),m=h.jsx("directionalLight",{position:[5,5,5],intensity:3,castShadow:!0}),t[9]=u,t[10]=d,t[11]=m):(u=t[9],d=t[10],m=t[11]);let g;t[12]===Symbol.for("react.memo_cache_sentinel")?(g=h.jsx(X.Suspense,{fallback:null,children:h.jsx(id,{})}),t[12]=g):g=t[12];let p;t[13]===Symbol.for("react.memo_cache_sentinel")?(p=[.5,-.501,.5],t[13]=p):p=t[13];const y=e.gridColor;let v;t[14]!==e?(v=e.getComplementaryGridColor(),t[14]=e,t[15]=v):v=t[15];let w;t[16]!==e.gridColor||t[17]!==v?(w=h.jsx(fc,{position:p,cellSize:.0625,sectionSize:1,cellThickness:.5,sectionThickness:1.5,cellColor:y,sectionColor:v,infiniteGrid:!0,side:_c}),t[16]=e.gridColor,t[17]=v,t[18]=w):w=t[18];let _;t[19]===Symbol.for("react.memo_cache_sentinel")?(_=h.jsx(dc,{ref:n,makeDefault:!0,enableDamping:!1}),t[19]=_):_=t[19];let k;t[20]===Symbol.for("react.memo_cache_sentinel")?(k=[80,80],t[20]=k):k=t[20];let S;t[21]===Symbol.for("react.memo_cache_sentinel")?(S=h.jsx(hc,{alignment:"bottom-right",margin:k,children:h.jsx(pc,{axisColors:["#9d4b4b","#2f7f4f","#3b5b9d"],labelColor:"white"})}),t[21]=S):S=t[21];let N;t[22]!==e.SSAOEnabled?(N=e.SSAOEnabled?h.jsx(cc,{}):h.jsx(h.Fragment,{}),t[22]=e.SSAOEnabled,t[23]=N):N=t[23];let A;e:switch(e.antialiasing){case"FXAA":{let T;t[24]===Symbol.for("react.memo_cache_sentinel")?(T=h.jsx(gc,{}),t[24]=T):T=t[24],A=T;break e}case"SMAA":{let T;t[25]===Symbol.for("react.memo_cache_sentinel")?(T=h.jsx(mc,{}),t[25]=T):T=t[25],A=T;break e}default:{let T;t[26]===Symbol.for("react.memo_cache_sentinel")?(T=h.jsx(h.Fragment,{}),t[26]=T):T=t[26],A=T}}let b;t[27]!==e.DOFEnabled?(b=e.DOFEnabled?h.jsx(uc,{focusDistance:2,focalLength:5,bokehScale:2}):h.jsx(h.Fragment,{}),t[27]=e.DOFEnabled,t[28]=b):b=t[28];let j;t[29]!==N||t[30]!==A||t[31]!==b?(j=h.jsxs(yc,{enableNormalPass:!0,depthBuffer:!0,stencilBuffer:!0,enabled:!0,children:[N,A,b]}),t[29]=N,t[30]=A,t[31]=b,t[32]=j):j=t[32];let M;t[33]!==w||t[34]!==j?(M=h.jsx(bc,{className:"three-bg",camera:l,shadows:!0,dpr:c,gl:f,children:h.jsxs(X.Suspense,{fallback:null,children:[u,d,m,g,w,_,S,j]})}),t[33]=w,t[34]=j,t[35]=M):M=t[35];let z;t[36]===Symbol.for("react.memo_cache_sentinel")?(z=h.jsx(ed,{}),t[36]=z):z=t[36];let I;return t[37]!==M?(I=h.jsxs(h.Fragment,{children:[M,z]}),t[37]=M,t[38]=I):I=t[38],I}function hd(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("bg-accent animate-pulse rounded-md",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx("div",{"data-slot":"skeleton",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function pd(){const t=P.c(16),[e,n]=X.useState(null),[s,r]=X.useState(null),[o,i]=X.useState(!1);let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=_=>{r(_),i(!1)},t[0]=a):a=t[0];const l=a;let c;t[1]!==s?(c=()=>{s&&s.playPause()},t[1]=s,t[2]=c):c=t[2];const f=c;let u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=h.jsx(pr,{type:"file",accept:"audio/*",onChange:_=>{if(_.target.files&&_.target.files.length>0){const k=_.target.files[0];n(k)}}}),t[3]=u):u=t[3];let d;t[4]!==e?(d=e?URL.createObjectURL(e):"",t[4]=e,t[5]=d):d=t[5];let m,g;t[6]===Symbol.for("react.memo_cache_sentinel")?(m=()=>i(!0),g=()=>i(!1),t[6]=m,t[7]=g):(m=t[6],g=t[7]);let p;t[8]!==d?(p=h.jsx(Ul,{url:d,waveColor:"#3a81f6",onReady:l,onPlay:m,onPause:g}),t[8]=d,t[9]=p):p=t[9];const y=o?"Pause":"Play";let v;t[10]!==f||t[11]!==y?(v=h.jsx("button",{onClick:f,children:y}),t[10]=f,t[11]=y,t[12]=v):v=t[12];let w;return t[13]!==p||t[14]!==v?(w=h.jsxs("div",{children:[u,p,v]}),t[13]=p,t[14]=v,t[15]=w):w=t[15],w}function md(){const t=P.c(30),e=wn(),n=wt();let s,r;t[0]!==e.theme?(s=()=>{const S=window.document.documentElement;S.classList.remove("light","dark"),S.classList.add(e.theme)},r=[e.theme],t[0]=e.theme,t[1]=s,t[2]=r):(s=t[1],r=t[2]),X.useEffect(s,r);let o;t[3]!==n.cart||t[4]!==n.saved?(o=()=>{const S=N=>{n.saved||!n.cart||(N.preventDefault(),N.returnValue="")};return window.addEventListener("beforeunload",S),()=>{window.removeEventListener("beforeunload",S)}},t[3]=n.cart,t[4]=n.saved,t[5]=o):o=t[5];let i;t[6]!==n?(i=[n],t[6]=n,t[7]=i):i=t[7],X.useEffect(o,i);let a,l;t[8]!==e.saveInterval||t[9]!==n?(a=()=>{const S=setInterval(()=>{!n.saved&&n.cart&&n.saveProject().catch(gd)},e.saveInterval*1e3);return()=>{clearInterval(S)}},l=[n,e.saveInterval],t[8]=e.saveInterval,t[9]=n,t[10]=a,t[11]=l):(a=t[10],l=t[11]),X.useEffect(a,l);let c;t[12]===Symbol.for("react.memo_cache_sentinel")?(c=h.jsx(qf,{}),t[12]=c):c=t[12];let f;t[13]===Symbol.for("react.memo_cache_sentinel")?(f=h.jsx(hd,{className:"h-full w-full"}),t[13]=f):f=t[13];let u;t[14]!==n.cart?(u=JSON.stringify(n.cart,null,2),t[14]=n.cart,t[15]=u):u=t[15];let d;t[16]===Symbol.for("react.memo_cache_sentinel")?(d={minimap:{enabled:!0},scrollbar:{alwaysConsumeMouseWheel:!1},wordWrap:"on",automaticLayout:!0},t[16]=d):d=t[16];let m;t[17]!==n?(m=S=>{if(S)try{const N=JSON.parse(S);n.setCart(N)}catch(N){console.error("Failed to parse JSON:",N)}},t[17]=n,t[18]=m):m=t[18];let g;t[19]!==m||t[20]!==u?(g=h.jsxs(In,{minSize:5,defaultSize:20,className:"bg-card flex flex-col gap-4 p-4",children:[c,h.jsx(X.Suspense,{fallback:f,children:h.jsx(rc,{language:"json",theme:"vs-dark",value:u,options:d,onChange:m})})]}),t[19]=m,t[20]=u,t[21]=g):g=t[21];let p;t[22]===Symbol.for("react.memo_cache_sentinel")?(p=h.jsx(Yr,{}),t[22]=p):p=t[22];let y;t[23]===Symbol.for("react.memo_cache_sentinel")?(y=h.jsx(In,{minSize:5,children:h.jsx(dd,{})}),t[23]=y):y=t[23];let v;t[24]!==g?(v=h.jsx(In,{children:h.jsxs(Gr,{direction:"horizontal",autoSaveId:"tca-preview",autoSave:"true",children:[g,p,y]})}),t[24]=g,t[25]=v):v=t[25];let w;t[26]===Symbol.for("react.memo_cache_sentinel")?(w=h.jsx(Yr,{}),t[26]=w):w=t[26];let _;t[27]===Symbol.for("react.memo_cache_sentinel")?(_=h.jsxs(In,{minSize:5,defaultSize:40,className:"bg-card p-4",children:["Timeline",h.jsx(pd,{})]}),t[27]=_):_=t[27];let k;return t[28]!==v?(k=h.jsx("div",{className:"h-screen w-screen",children:h.jsxs(Gr,{direction:"vertical",autoSaveId:"tca-project",autoSave:"true",children:[v,w,_]})}),t[28]=v,t[29]=k):k=t[29],k}function gd(t){console.error("Auto-save failed:",t)}function yr(t){const e=P.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=h.jsx(Yl,{"data-slot":"alert-dialog",...n}),e[2]=n,e[3]=s):s=e[3],s}function yd(t){const e=P.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=h.jsx(Wl,{"data-slot":"alert-dialog-portal",...n}),e[2]=n,e[3]=s):s=e[3],s}function bd(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx(Hl,{"data-slot":"alert-dialog-overlay",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function br(t){const e=P.c(9);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]===Symbol.for("react.memo_cache_sentinel")?(r=h.jsx(bd,{}),e[3]=r):r=e[3];let o;e[4]!==n?(o=J("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),e[4]=n,e[5]=o):o=e[5];let i;return e[6]!==s||e[7]!==o?(i=h.jsxs(yd,{children:[r,h.jsx(Gl,{"data-slot":"alert-dialog-content",className:o,...s})]}),e[6]=s,e[7]=o,e[8]=i):i=e[8],i}function vr(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx("div",{"data-slot":"alert-dialog-header",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function wr(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx("div",{"data-slot":"alert-dialog-footer",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function _r(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("text-lg font-semibold",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx(Vl,{"data-slot":"alert-dialog-title",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function kr(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J("text-muted-foreground text-sm",n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx(ql,{"data-slot":"alert-dialog-description",className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function vd(t){const e=P.c(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=J(ri({variant:"outline"}),n),e[3]=n,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=h.jsx(Kl,{className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o}function wd(){const t=[],e=document.createElement("canvas");return!!(e.getContext("webgl")||e.getContext("experimental-webgl"))||t.push("WebGL / 3D Graphics"),"AudioContext"in window||"webkitAudioContext"in window||t.push("Web Audio API (AudioContext)"),"requestAnimationFrame"in window||t.push("Animation Frame API (requestAnimationFrame)"),t}const _d=()=>{const t=P.c(22);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0];const[n,s]=X.useState(e),[r,o]=X.useState(!1);let i,a;if(t[1]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{const _=wd();(_.length>0||!Mt)&&(s(_),setTimeout(()=>{o(!0)},10))},a=[],t[1]=i,t[2]=a):(i=t[1],a=t[2]),X.useEffect(i,a),!r)return null;let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=h.jsx(_r,{children:"Missing Browser Capabilities"}),t[3]=l):l=t[3];let c;t[4]!==n?(c=n.map(kd),t[4]=n,t[5]=c):c=t[5];let f;t[6]===Symbol.for("react.memo_cache_sentinel")?(f=!Mt&&h.jsxs("li",{children:["File System Access API",h.jsx("br",{}),h.jsx("span",{className:"text-xs text-muted-foreground",children:"Used for autosave and loading files directly. Without it, you'll need to manually download and upload your files each time."})]}),t[6]=f):f=t[6];let u;t[7]!==c?(u=h.jsxs("ul",{className:"my-2 list-disc list-inside",children:[c,f]}),t[7]=c,t[8]=u):u=t[8];let d;t[9]===Symbol.for("react.memo_cache_sentinel")?(d=h.jsx("strong",{children:"Chrome"}),t[9]=d):d=t[9];let m;t[10]===Symbol.for("react.memo_cache_sentinel")?(m=h.jsx("strong",{children:"Edge"}),t[10]=m):m=t[10];let g;t[11]===Symbol.for("react.memo_cache_sentinel")?(g=h.jsx("strong",{children:"Brave"}),t[11]=g):g=t[11];let p;t[12]!==u?(p=h.jsxs(vr,{children:[l,h.jsxs(kr,{children:["This app requires certain browser features to work correctly. Your current browser is missing the following capabilities:",u,"To use all features, switch to a modern Chromium-based browser like ",d,","," ",m,", or ",g,"."]})]}),t[12]=u,t[13]=p):p=t[13];let y;t[14]!==n.length?(y=!Mt&&n.length===0&&h.jsx(wr,{children:h.jsx(vd,{children:"Acknowledge"})}),t[14]=n.length,t[15]=y):y=t[15];let v;t[16]!==p||t[17]!==y?(v=h.jsxs(br,{children:[p,y]}),t[16]=p,t[17]=y,t[18]=v):v=t[18];let w;return t[19]!==r||t[20]!==v?(w=h.jsx(yr,{open:r,onOpenChange:o,children:v}),t[19]=r,t[20]=v,t[21]=w):w=t[21],w};function kd(t){return h.jsx("li",{children:t},t)}function x(t,e,n){function s(a,l){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(t),e(a,l);for(const f in i.prototype)f in a||Object.defineProperty(a,f,{value:i.prototype[f].bind(a)});a._zod.constr=i,a._zod.def=l}const r=n?.Parent??Object;class o extends r{}Object.defineProperty(o,"name",{value:t});function i(a){var l;const c=n?.Parent?new o:this;s(c,a),(l=c._zod).deferred??(l.deferred=[]);for(const f of c._zod.deferred)f();return c}return Object.defineProperty(i,"init",{value:s}),Object.defineProperty(i,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(i,"name",{value:t}),i}class mn extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Pi={};function rt(t){return Pi}function xd(t){const e=Object.values(t).filter(s=>typeof s=="number");return Object.entries(t).filter(([s,r])=>e.indexOf(+s)===-1).map(([s,r])=>r)}function er(t,e){return typeof e=="bigint"?e.toString():e}function Mi(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function xr(t){return t==null}function Sr(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function Sd(t,e){const n=(t.toString().split(".")[1]||"").length,s=e.toString();let r=(s.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(s)){const l=s.match(/\d?e-(\d?)/);l?.[1]&&(r=Number.parseInt(l[1]))}const o=n>r?n:r,i=Number.parseInt(t.toFixed(o).replace(".","")),a=Number.parseInt(e.toFixed(o).replace(".",""));return i%a/10**o}const co=Symbol("evaluating");function Q(t,e,n){let s;Object.defineProperty(t,e,{get(){if(s!==co)return s===void 0&&(s=co,s=n()),s},set(r){Object.defineProperty(t,e,{value:r})},configurable:!0})}function Li(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function it(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function qt(...t){const e={};for(const n of t){const s=Object.getOwnPropertyDescriptors(n);Object.assign(e,s)}return Object.defineProperties({},e)}function uo(t){return JSON.stringify(t)}const Fi="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function tr(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Nd=Mi(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function gn(t){if(tr(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(tr(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Di(t){return gn(t)?{...t}:t}const jd=new Set(["string","number","symbol"]);function is(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _t(t,e,n){const s=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(s._zod.parent=t),s}function L(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Ad(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const $d={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Od(t,e){const n=t._zod.def,s=qt(t._zod.def,{get shape(){const r={};for(const o in e){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);e[o]&&(r[o]=n.shape[o])}return it(this,"shape",r),r},checks:[]});return _t(t,s)}function Id(t,e){const n=t._zod.def,s=qt(t._zod.def,{get shape(){const r={...t._zod.def.shape};for(const o in e){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);e[o]&&delete r[o]}return it(this,"shape",r),r},checks:[]});return _t(t,s)}function Td(t,e){if(!gn(e))throw new Error("Invalid input to extend: expected a plain object");const n=qt(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e};return it(this,"shape",s),s},checks:[]});return _t(t,n)}function Ed(t,e){const n=qt(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e._zod.def.shape};return it(this,"shape",s),s},get catchall(){return e._zod.def.catchall},checks:[]});return _t(t,n)}function Cd(t,e,n){const s=qt(e._zod.def,{get shape(){const r=e._zod.def.shape,o={...r};if(n)for(const i in n){if(!(i in r))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(o[i]=t?new t({type:"optional",innerType:r[i]}):r[i])}else for(const i in r)o[i]=t?new t({type:"optional",innerType:r[i]}):r[i];return it(this,"shape",o),o},checks:[]});return _t(e,s)}function zd(t,e,n){const s=qt(e._zod.def,{get shape(){const r=e._zod.def.shape,o={...r};if(n)for(const i in n){if(!(i in o))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(o[i]=new t({type:"nonoptional",innerType:r[i]}))}else for(const i in r)o[i]=new t({type:"nonoptional",innerType:r[i]});return it(this,"shape",o),o},checks:[]});return _t(e,s)}function rn(t,e=0){for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function It(t,e){return e.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(t),n})}function Cn(t){return typeof t=="string"?t:t?.message}function ot(t,e,n){const s={...t,path:t.path??[]};if(!t.message){const r=Cn(t.inst?._zod.def?.error?.(t))??Cn(e?.error?.(t))??Cn(n.customError?.(t))??Cn(n.localeError?.(t))??"Invalid input";s.message=r}return delete s.inst,delete s.continue,e?.reportInput||delete s.input,s}function Nr(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function yn(...t){const[e,n,s]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:s}:{...e}}const Ri=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,er,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Zi=x("$ZodError",Ri),Bi=x("$ZodError",Ri,{Parent:Error});function Pd(t,e=n=>n.message){const n={},s=[];for(const r of t.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):s.push(e(r));return{formErrors:s,fieldErrors:n}}function Md(t,e){const n=e||function(o){return o.message},s={_errors:[]},r=o=>{for(const i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>r({issues:a}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)s._errors.push(n(i));else{let a=s,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(i))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return r(t),s}const Ld=t=>(e,n,s,r)=>{const o=s?Object.assign(s,{async:!1}):{async:!1},i=e._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new mn;if(i.issues.length){const a=new(r?.Err??t)(i.issues.map(l=>ot(l,o,rt())));throw Fi(a,r?.callee),a}return i.value},Fd=t=>async(e,n,s,r)=>{const o=s?Object.assign(s,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},o);if(i instanceof Promise&&(i=await i),i.issues.length){const a=new(r?.Err??t)(i.issues.map(l=>ot(l,o,rt())));throw Fi(a,r?.callee),a}return i.value},Ui=t=>(e,n,s)=>{const r=s?{...s,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},r);if(o instanceof Promise)throw new mn;return o.issues.length?{success:!1,error:new(t??Zi)(o.issues.map(i=>ot(i,r,rt())))}:{success:!0,data:o.value}},Dd=Ui(Bi),Ki=t=>async(e,n,s)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},r);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(i=>ot(i,r,rt())))}:{success:!0,data:o.value}},Rd=Ki(Bi),Zd=/^[cC][^\s-]{8,}$/,Bd=/^[0-9a-z]+$/,Ud=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Kd=/^[0-9a-vA-V]{20}$/,Vd=/^[A-Za-z0-9]{27}$/,qd=/^[a-zA-Z0-9_-]{21}$/,Gd=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Yd=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,fo=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,Wd=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Hd="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Jd(){return new RegExp(Hd,"u")}const Xd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Qd=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,eh=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,th=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nh=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Vi=/^[A-Za-z0-9_-]*$/,sh=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,rh=/^\+(?:[0-9]){6,14}[0-9]$/,qi="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",oh=new RegExp(`^${qi}$`);function Gi(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function ih(t){return new RegExp(`^${Gi(t)}$`)}function ah(t){const e=Gi({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${e}(?:${n.join("|")})`;return new RegExp(`^${qi}T(?:${s})$`)}const lh=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},ch=/^\d+$/,uh=/^-?\d+(?:\.\d+)?/i,fh=/true|false/i,dh=/^[^A-Z]*$/,hh=/^[^a-z]*$/,Ne=x("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),Yi={number:"number",bigint:"bigint",object:"date"},Wi=x("$ZodCheckLessThan",(t,e)=>{Ne.init(t,e);const n=Yi[typeof e.value];t._zod.onattach.push(s=>{const r=s._zod.bag,o=(e.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?r.maximum=e.value:r.exclusiveMaximum=e.value)}),t._zod.check=s=>{(e.inclusive?s.value<=e.value:s.value<e.value)||s.issues.push({origin:n,code:"too_big",maximum:e.value,input:s.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Hi=x("$ZodCheckGreaterThan",(t,e)=>{Ne.init(t,e);const n=Yi[typeof e.value];t._zod.onattach.push(s=>{const r=s._zod.bag,o=(e.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?r.minimum=e.value:r.exclusiveMinimum=e.value)}),t._zod.check=s=>{(e.inclusive?s.value>=e.value:s.value>e.value)||s.issues.push({origin:n,code:"too_small",minimum:e.value,input:s.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),ph=x("$ZodCheckMultipleOf",(t,e)=>{Ne.init(t,e),t._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):Sd(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),mh=x("$ZodCheckNumberFormat",(t,e)=>{Ne.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),s=n?"int":"number",[r,o]=$d[e.format];t._zod.onattach.push(i=>{const a=i._zod.bag;a.format=e.format,a.minimum=r,a.maximum=o,n&&(a.pattern=ch)}),t._zod.check=i=>{const a=i.value;if(n){if(!Number.isInteger(a)){i.issues.push({expected:s,format:e.format,code:"invalid_type",continue:!1,input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?i.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,continue:!e.abort}):i.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,continue:!e.abort});return}}a<r&&i.issues.push({origin:"number",input:a,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!e.abort}),a>o&&i.issues.push({origin:"number",input:a,code:"too_big",maximum:o,inst:t})}}),gh=x("$ZodCheckMaxLength",(t,e)=>{var n;Ne.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!xr(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(s._zod.bag.maximum=e.maximum)}),t._zod.check=s=>{const r=s.value;if(r.length<=e.maximum)return;const i=Nr(r);s.issues.push({origin:i,code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),yh=x("$ZodCheckMinLength",(t,e)=>{var n;Ne.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!xr(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(s._zod.bag.minimum=e.minimum)}),t._zod.check=s=>{const r=s.value;if(r.length>=e.minimum)return;const i=Nr(r);s.issues.push({origin:i,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),bh=x("$ZodCheckLengthEquals",(t,e)=>{var n;Ne.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!xr(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag;r.minimum=e.length,r.maximum=e.length,r.length=e.length}),t._zod.check=s=>{const r=s.value,o=r.length;if(o===e.length)return;const i=Nr(r),a=o>e.length;s.issues.push({origin:i,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:s.value,inst:t,continue:!e.abort})}}),as=x("$ZodCheckStringFormat",(t,e)=>{var n,s;Ne.init(t,e),t._zod.onattach.push(r=>{const o=r._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:e.format,input:r.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(s=t._zod).check??(s.check=()=>{})}),vh=x("$ZodCheckRegex",(t,e)=>{as.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),wh=x("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=dh),as.init(t,e)}),_h=x("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=hh),as.init(t,e)}),kh=x("$ZodCheckIncludes",(t,e)=>{Ne.init(t,e);const n=is(e.includes),s=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=s,t._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(s)}),t._zod.check=r=>{r.value.includes(e.includes,e.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:r.value,inst:t,continue:!e.abort})}}),xh=x("$ZodCheckStartsWith",(t,e)=>{Ne.init(t,e);const n=new RegExp(`^${is(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=s=>{s.value.startsWith(e.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:s.value,inst:t,continue:!e.abort})}}),Sh=x("$ZodCheckEndsWith",(t,e)=>{Ne.init(t,e);const n=new RegExp(`.*${is(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=s=>{s.value.endsWith(e.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:s.value,inst:t,continue:!e.abort})}}),Nh=x("$ZodCheckOverwrite",(t,e)=>{Ne.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class jh{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const s=e.split(`
`).filter(i=>i),r=Math.min(...s.map(i=>i.length-i.trimStart().length)),o=s.map(i=>i.slice(r)).map(i=>" ".repeat(this.indent*2)+i);for(const i of o)this.content.push(i)}compile(){const e=Function,n=this?.args,r=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...n,r.join(`
`))}}const Ah={major:4,minor:0,patch:17},oe=x("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Ah;const s=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&s.unshift(t);for(const r of s)for(const o of r._zod.onattach)o(t);if(s.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const r=(o,i,a)=>{let l=rn(o),c;for(const f of i){if(f._zod.def.when){if(!f._zod.def.when(o))continue}else if(l)continue;const u=o.issues.length,d=f._zod.check(o);if(d instanceof Promise&&a?.async===!1)throw new mn;if(c||d instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await d,o.issues.length!==u&&(l||(l=rn(o,u)))});else{if(o.issues.length===u)continue;l||(l=rn(o,u))}}return c?c.then(()=>o):o};t._zod.run=(o,i)=>{const a=t._zod.parse(o,i);if(a instanceof Promise){if(i.async===!1)throw new mn;return a.then(l=>r(l,s,i))}return r(a,s,i)}}t["~standard"]={validate:r=>{try{const o=Dd(t,r);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return Rd(t,r).then(i=>i.success?{value:i.data}:{issues:i.error?.issues})}},vendor:"zod",version:1}}),jr=x("$ZodString",(t,e)=>{oe.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??lh(t._zod.bag),t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),ie=x("$ZodStringFormat",(t,e)=>{as.init(t,e),jr.init(t,e)}),$h=x("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=Yd),ie.init(t,e)}),Oh=x("$ZodUUID",(t,e)=>{if(e.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(s===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=fo(s))}else e.pattern??(e.pattern=fo());ie.init(t,e)}),Ih=x("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Wd),ie.init(t,e)}),Th=x("$ZodURL",(t,e)=>{ie.init(t,e),t._zod.check=n=>{try{const s=n.value.trim(),r=new URL(s);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:sh.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=r.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),Eh=x("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=Jd()),ie.init(t,e)}),Ch=x("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=qd),ie.init(t,e)}),zh=x("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Zd),ie.init(t,e)}),Ph=x("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=Bd),ie.init(t,e)}),Mh=x("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Ud),ie.init(t,e)}),Lh=x("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Kd),ie.init(t,e)}),Fh=x("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=Vd),ie.init(t,e)}),Dh=x("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=ah(e)),ie.init(t,e)}),Rh=x("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=oh),ie.init(t,e)}),Zh=x("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=ih(e)),ie.init(t,e)}),Bh=x("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Gd),ie.init(t,e)}),Uh=x("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Xd),ie.init(t,e),t._zod.onattach.push(n=>{const s=n._zod.bag;s.format="ipv4"})}),Kh=x("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=Qd),ie.init(t,e),t._zod.onattach.push(n=>{const s=n._zod.bag;s.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),Vh=x("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=eh),ie.init(t,e)}),qh=x("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=th),ie.init(t,e),t._zod.check=n=>{const[s,r]=n.value.split("/");try{if(!r)throw new Error;const o=Number(r);if(`${o}`!==r)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function Ji(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const Gh=x("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=nh),ie.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{Ji(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function Yh(t){if(!Vi.test(t))return!1;const e=t.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return Ji(n)}const Wh=x("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Vi),ie.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{Yh(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),Hh=x("$ZodE164",(t,e)=>{e.pattern??(e.pattern=rh),ie.init(t,e)});function Jh(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const r=JSON.parse(atob(s));return!("typ"in r&&r?.typ!=="JWT"||!r.alg||e&&(!("alg"in r)||r.alg!==e))}catch{return!1}}const Xh=x("$ZodJWT",(t,e)=>{ie.init(t,e),t._zod.check=n=>{Jh(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),Xi=x("$ZodNumber",(t,e)=>{oe.init(t,e),t._zod.pattern=t._zod.bag.pattern??uh,t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const o=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:t,...o?{received:o}:{}}),n}}),Qh=x("$ZodNumber",(t,e)=>{mh.init(t,e),Xi.init(t,e)}),ep=x("$ZodBoolean",(t,e)=>{oe.init(t,e),t._zod.pattern=fh,t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:t}),n}}),tp=x("$ZodAny",(t,e)=>{oe.init(t,e),t._zod.parse=n=>n}),np=x("$ZodUnknown",(t,e)=>{oe.init(t,e),t._zod.parse=n=>n}),sp=x("$ZodNever",(t,e)=>{oe.init(t,e),t._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function ho(t,e,n){t.issues.length&&e.issues.push(...It(n,t.issues)),e.value[n]=t.value}const rp=x("$ZodArray",(t,e)=>{oe.init(t,e),t._zod.parse=(n,s)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:t}),n;n.value=Array(r.length);const o=[];for(let i=0;i<r.length;i++){const a=r[i],l=e.element._zod.run({value:a,issues:[]},s);l instanceof Promise?o.push(l.then(c=>ho(c,n,i))):ho(l,n,i)}return o.length?Promise.all(o).then(()=>n):n}});function zn(t,e,n,s){t.issues.length&&e.issues.push(...It(n,t.issues)),t.value===void 0?n in s&&(e.value[n]=void 0):e.value[n]=t.value}const op=x("$ZodObject",(t,e)=>{oe.init(t,e);const n=Mi(()=>{const u=Object.keys(e.shape);for(const m of u)if(!e.shape[m]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${m}": expected a Zod schema`);const d=Ad(e.shape);return{shape:e.shape,keys:u,keySet:new Set(u),numKeys:u.length,optionalKeys:new Set(d)}});Q(t._zod,"propValues",()=>{const u=e.shape,d={};for(const m in u){const g=u[m]._zod;if(g.values){d[m]??(d[m]=new Set);for(const p of g.values)d[m].add(p)}}return d});const s=u=>{const d=new jh(["shape","payload","ctx"]),m=n.value,g=w=>{const _=uo(w);return`shape[${_}]._zod.run({ value: input[${_}], issues: [] }, ctx)`};d.write("const input = payload.value;");const p=Object.create(null);let y=0;for(const w of m.keys)p[w]=`key_${y++}`;d.write("const newResult = {}");for(const w of m.keys){const _=p[w],k=uo(w);d.write(`const ${_} = ${g(w)};`),d.write(`
        if (${_}.issues.length) {
          payload.issues = payload.issues.concat(${_}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${k}, ...iss.path] : [${k}]
          })));
        }
        
        if (${_}.value === undefined) {
          if (${k} in input) {
            newResult[${k}] = undefined;
          }
        } else {
          newResult[${k}] = ${_}.value;
        }
      `)}d.write("payload.value = newResult;"),d.write("return payload;");const v=d.compile();return(w,_)=>v(u,w,_)};let r;const o=tr,i=!Pi.jitless,l=i&&Nd.value,c=e.catchall;let f;t._zod.parse=(u,d)=>{f??(f=n.value);const m=u.value;if(!o(m))return u.issues.push({expected:"object",code:"invalid_type",input:m,inst:t}),u;const g=[];if(i&&l&&d?.async===!1&&d.jitless!==!0)r||(r=s(e.shape)),u=r(u,d);else{u.value={};const _=f.shape;for(const k of f.keys){const N=_[k]._zod.run({value:m[k],issues:[]},d);N instanceof Promise?g.push(N.then(A=>zn(A,u,k,m))):zn(N,u,k,m)}}if(!c)return g.length?Promise.all(g).then(()=>u):u;const p=[],y=f.keySet,v=c._zod,w=v.def.type;for(const _ of Object.keys(m)){if(y.has(_))continue;if(w==="never"){p.push(_);continue}const k=v.run({value:m[_],issues:[]},d);k instanceof Promise?g.push(k.then(S=>zn(S,u,_,m))):zn(k,u,_,m)}return p.length&&u.issues.push({code:"unrecognized_keys",keys:p,input:m,inst:t}),g.length?Promise.all(g).then(()=>u):u}});function po(t,e,n,s){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const r=t.filter(o=>!rn(o));return r.length===1?(e.value=r[0].value,r[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(i=>ot(i,s,rt())))}),e)}const ip=x("$ZodUnion",(t,e)=>{oe.init(t,e),Q(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),Q(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),Q(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),Q(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${r.map(o=>Sr(o.source)).join("|")})$`)}});const n=e.options.length===1,s=e.options[0]._zod.run;t._zod.parse=(r,o)=>{if(n)return s(r,o);let i=!1;const a=[];for(const l of e.options){const c=l._zod.run({value:r.value,issues:[]},o);if(c instanceof Promise)a.push(c),i=!0;else{if(c.issues.length===0)return c;a.push(c)}}return i?Promise.all(a).then(l=>po(l,r,t,o)):po(a,r,t,o)}}),ap=x("$ZodIntersection",(t,e)=>{oe.init(t,e),t._zod.parse=(n,s)=>{const r=n.value,o=e.left._zod.run({value:r,issues:[]},s),i=e.right._zod.run({value:r,issues:[]},s);return o instanceof Promise||i instanceof Promise?Promise.all([o,i]).then(([l,c])=>mo(n,l,c)):mo(n,o,i)}});function nr(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(gn(t)&&gn(e)){const n=Object.keys(e),s=Object.keys(t).filter(o=>n.indexOf(o)!==-1),r={...t,...e};for(const o of s){const i=nr(t[o],e[o]);if(!i.valid)return{valid:!1,mergeErrorPath:[o,...i.mergeErrorPath]};r[o]=i.data}return{valid:!0,data:r}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<t.length;s++){const r=t[s],o=e[s],i=nr(r,o);if(!i.valid)return{valid:!1,mergeErrorPath:[s,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function mo(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),rn(t))return t;const s=nr(e.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return t.value=s.data,t}const lp=x("$ZodRecord",(t,e)=>{oe.init(t,e),t._zod.parse=(n,s)=>{const r=n.value;if(!gn(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:t}),n;const o=[];if(e.keyType._zod.values){const i=e.keyType._zod.values;n.value={};for(const l of i)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const c=e.valueType._zod.run({value:r[l],issues:[]},s);c instanceof Promise?o.push(c.then(f=>{f.issues.length&&n.issues.push(...It(l,f.issues)),n.value[l]=f.value})):(c.issues.length&&n.issues.push(...It(l,c.issues)),n.value[l]=c.value)}let a;for(const l in r)i.has(l)||(a=a??[],a.push(l));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:t,keys:a})}else{n.value={};for(const i of Reflect.ownKeys(r)){if(i==="__proto__")continue;const a=e.keyType._zod.run({value:i,issues:[]},s);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:a.issues.map(c=>ot(c,s,rt())),input:i,path:[i],inst:t}),n.value[a.value]=a.value;continue}const l=e.valueType._zod.run({value:r[i],issues:[]},s);l instanceof Promise?o.push(l.then(c=>{c.issues.length&&n.issues.push(...It(i,c.issues)),n.value[a.value]=c.value})):(l.issues.length&&n.issues.push(...It(i,l.issues)),n.value[a.value]=l.value)}}return o.length?Promise.all(o).then(()=>n):n}}),cp=x("$ZodEnum",(t,e)=>{oe.init(t,e);const n=xd(e.entries),s=new Set(n);t._zod.values=s,t._zod.pattern=new RegExp(`^(${n.filter(r=>jd.has(typeof r)).map(r=>typeof r=="string"?is(r):r.toString()).join("|")})$`),t._zod.parse=(r,o)=>{const i=r.value;return s.has(i)||r.issues.push({code:"invalid_value",values:n,input:i,inst:t}),r}}),up=x("$ZodTransform",(t,e)=>{oe.init(t,e),t._zod.parse=(n,s)=>{const r=e.transform(n.value,n);if(s.async)return(r instanceof Promise?r:Promise.resolve(r)).then(i=>(n.value=i,n));if(r instanceof Promise)throw new mn;return n.value=r,n}});function go(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const fp=x("$ZodOptional",(t,e)=>{oe.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Q(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Q(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Sr(n.source)})?$`):void 0}),t._zod.parse=(n,s)=>{if(e.innerType._zod.optin==="optional"){const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(o=>go(o,n.value)):go(r,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,s)}}),dp=x("$ZodNullable",(t,e)=>{oe.init(t,e),Q(t._zod,"optin",()=>e.innerType._zod.optin),Q(t._zod,"optout",()=>e.innerType._zod.optout),Q(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Sr(n.source)}|null)$`):void 0}),Q(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,s)=>n.value===null?n:e.innerType._zod.run(n,s)}),hp=x("$ZodDefault",(t,e)=>{oe.init(t,e),t._zod.optin="optional",Q(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{if(n.value===void 0)return n.value=e.defaultValue,n;const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(o=>yo(o,e)):yo(r,e)}});function yo(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const pp=x("$ZodPrefault",(t,e)=>{oe.init(t,e),t._zod.optin="optional",Q(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>(n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,s))}),mp=x("$ZodNonOptional",(t,e)=>{oe.init(t,e),Q(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),t._zod.parse=(n,s)=>{const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(o=>bo(o,t)):bo(r,t)}});function bo(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const gp=x("$ZodCatch",(t,e)=>{oe.init(t,e),Q(t._zod,"optin",()=>e.innerType._zod.optin),Q(t._zod,"optout",()=>e.innerType._zod.optout),Q(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(i=>ot(i,s,rt()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=e.catchValue({...n,error:{issues:r.issues.map(o=>ot(o,s,rt()))},input:n.value}),n.issues=[]),n)}}),yp=x("$ZodPipe",(t,e)=>{oe.init(t,e),Q(t._zod,"values",()=>e.in._zod.values),Q(t._zod,"optin",()=>e.in._zod.optin),Q(t._zod,"optout",()=>e.out._zod.optout),Q(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,s)=>{const r=e.in._zod.run(n,s);return r instanceof Promise?r.then(o=>vo(o,e,s)):vo(r,e,s)}});function vo(t,e,n){return t.issues.length?t:e.out._zod.run({value:t.value,issues:t.issues},n)}const bp=x("$ZodReadonly",(t,e)=>{oe.init(t,e),Q(t._zod,"propValues",()=>e.innerType._zod.propValues),Q(t._zod,"values",()=>e.innerType._zod.values),Q(t._zod,"optin",()=>e.innerType._zod.optin),Q(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,s)=>{const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(wo):wo(r)}});function wo(t){return t.value=Object.freeze(t.value),t}const vp=x("$ZodLazy",(t,e)=>{oe.init(t,e),Q(t._zod,"innerType",()=>e.getter()),Q(t._zod,"pattern",()=>t._zod.innerType._zod.pattern),Q(t._zod,"propValues",()=>t._zod.innerType._zod.propValues),Q(t._zod,"optin",()=>t._zod.innerType._zod.optin??void 0),Q(t._zod,"optout",()=>t._zod.innerType._zod.optout??void 0),t._zod.parse=(n,s)=>t._zod.innerType._zod.run(n,s)}),wp=x("$ZodCustom",(t,e)=>{Ne.init(t,e),oe.init(t,e),t._zod.parse=(n,s)=>n,t._zod.check=n=>{const s=n.value,r=e.fn(s);if(r instanceof Promise)return r.then(o=>_o(o,n,s,t));_o(r,n,s,t)}});function _o(t,e,n,s){if(!t){const r={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(r.params=s._zod.def.params),e.issues.push(yn(r))}}class _p{constructor(){this._map=new Map,this._idmap=new Map}add(e,...n){const s=n[0];if(this._map.set(e,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const r={...s,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function kp(){return new _p}const Pn=kp();function xp(t,e){return new t({type:"string",...L(e)})}function Sp(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...L(e)})}function ko(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...L(e)})}function Np(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...L(e)})}function jp(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...L(e)})}function Ap(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...L(e)})}function $p(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...L(e)})}function Op(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...L(e)})}function Ip(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...L(e)})}function Tp(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...L(e)})}function Ep(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...L(e)})}function Cp(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...L(e)})}function zp(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...L(e)})}function Pp(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...L(e)})}function Mp(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...L(e)})}function Lp(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...L(e)})}function Fp(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...L(e)})}function Dp(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...L(e)})}function Rp(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...L(e)})}function Zp(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...L(e)})}function Bp(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...L(e)})}function Up(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...L(e)})}function Kp(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...L(e)})}function Vp(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...L(e)})}function qp(t,e){return new t({type:"string",format:"date",check:"string_format",...L(e)})}function Gp(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...L(e)})}function Yp(t,e){return new t({type:"string",format:"duration",check:"string_format",...L(e)})}function Wp(t,e){return new t({type:"number",checks:[],...L(e)})}function Hp(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...L(e)})}function Jp(t,e){return new t({type:"boolean",...L(e)})}function Xp(t){return new t({type:"any"})}function Qp(t){return new t({type:"unknown"})}function em(t,e){return new t({type:"never",...L(e)})}function xo(t,e){return new Wi({check:"less_than",...L(e),value:t,inclusive:!1})}function Os(t,e){return new Wi({check:"less_than",...L(e),value:t,inclusive:!0})}function So(t,e){return new Hi({check:"greater_than",...L(e),value:t,inclusive:!1})}function Is(t,e){return new Hi({check:"greater_than",...L(e),value:t,inclusive:!0})}function No(t,e){return new ph({check:"multiple_of",...L(e),value:t})}function Qi(t,e){return new gh({check:"max_length",...L(e),maximum:t})}function es(t,e){return new yh({check:"min_length",...L(e),minimum:t})}function ea(t,e){return new bh({check:"length_equals",...L(e),length:t})}function tm(t,e){return new vh({check:"string_format",format:"regex",...L(e),pattern:t})}function nm(t){return new wh({check:"string_format",format:"lowercase",...L(t)})}function sm(t){return new _h({check:"string_format",format:"uppercase",...L(t)})}function rm(t,e){return new kh({check:"string_format",format:"includes",...L(e),includes:t})}function om(t,e){return new xh({check:"string_format",format:"starts_with",...L(e),prefix:t})}function im(t,e){return new Sh({check:"string_format",format:"ends_with",...L(e),suffix:t})}function kn(t){return new Nh({check:"overwrite",tx:t})}function am(t){return kn(e=>e.normalize(t))}function lm(){return kn(t=>t.trim())}function cm(){return kn(t=>t.toLowerCase())}function um(){return kn(t=>t.toUpperCase())}function fm(t,e,n){return new t({type:"array",element:e,...L(n)})}function dm(t,e,n){return new t({type:"custom",check:"custom",fn:e,...L(n)})}function hm(t){const e=pm(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(yn(s,n.value,e._zod.def));else{const r=s;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=e),r.continue??(r.continue=!e._zod.def.abort),n.issues.push(yn(r))}},t(n.value,n)));return e}function pm(t,e){const n=new Ne({check:"custom",...L(e)});return n._zod.check=t,n}const mm=x("ZodISODateTime",(t,e)=>{Dh.init(t,e),le.init(t,e)});function gm(t){return Vp(mm,t)}const ym=x("ZodISODate",(t,e)=>{Rh.init(t,e),le.init(t,e)});function bm(t){return qp(ym,t)}const vm=x("ZodISOTime",(t,e)=>{Zh.init(t,e),le.init(t,e)});function wm(t){return Gp(vm,t)}const _m=x("ZodISODuration",(t,e)=>{Bh.init(t,e),le.init(t,e)});function km(t){return Yp(_m,t)}const xm=(t,e)=>{Zi.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>Md(t,n)},flatten:{value:n=>Pd(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,er,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,er,2)}},isEmpty:{get(){return t.issues.length===0}}})},ls=x("ZodError",xm,{Parent:Error}),Sm=Ld(ls),Nm=Fd(ls),jm=Ui(ls),Am=Ki(ls),ae=x("ZodType",(t,e)=>(oe.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone({...e,checks:[...e.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),t.clone=(n,s)=>_t(t,n,s),t.brand=()=>t,t.register=((n,s)=>(n.add(t,s),t)),t.parse=(n,s)=>Sm(t,n,s,{callee:t.parse}),t.safeParse=(n,s)=>jm(t,n,s),t.parseAsync=async(n,s)=>Nm(t,n,s,{callee:t.parseAsync}),t.safeParseAsync=async(n,s)=>Am(t,n,s),t.spa=t.safeParseAsync,t.refine=(n,s)=>t.check(kg(n,s)),t.superRefine=n=>t.check(xg(n)),t.overwrite=n=>t.check(kn(n)),t.optional=()=>$o(t),t.nullable=()=>Oo(t),t.nullish=()=>$o(Oo(t)),t.nonoptional=n=>hg(t,n),t.array=()=>Rt(t),t.or=n=>tg([t,n]),t.and=n=>sg(t,n),t.transform=n=>Io(t,ag(n)),t.default=n=>ug(t,n),t.prefault=n=>dg(t,n),t.catch=n=>mg(t,n),t.pipe=n=>Io(t,n),t.readonly=()=>bg(t),t.describe=n=>{const s=t.clone();return Pn.add(s,{description:n}),s},Object.defineProperty(t,"description",{get(){return Pn.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Pn.get(t);const s=t.clone();return Pn.add(s,n[0]),s},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),ta=x("_ZodString",(t,e)=>{jr.init(t,e),ae.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...s)=>t.check(tm(...s)),t.includes=(...s)=>t.check(rm(...s)),t.startsWith=(...s)=>t.check(om(...s)),t.endsWith=(...s)=>t.check(im(...s)),t.min=(...s)=>t.check(es(...s)),t.max=(...s)=>t.check(Qi(...s)),t.length=(...s)=>t.check(ea(...s)),t.nonempty=(...s)=>t.check(es(1,...s)),t.lowercase=s=>t.check(nm(s)),t.uppercase=s=>t.check(sm(s)),t.trim=()=>t.check(lm()),t.normalize=(...s)=>t.check(am(...s)),t.toLowerCase=()=>t.check(cm()),t.toUpperCase=()=>t.check(um())}),$m=x("ZodString",(t,e)=>{jr.init(t,e),ta.init(t,e),t.email=n=>t.check(Sp(Om,n)),t.url=n=>t.check(Op(Im,n)),t.jwt=n=>t.check(Kp(Vm,n)),t.emoji=n=>t.check(Ip(Tm,n)),t.guid=n=>t.check(ko(jo,n)),t.uuid=n=>t.check(Np(Mn,n)),t.uuidv4=n=>t.check(jp(Mn,n)),t.uuidv6=n=>t.check(Ap(Mn,n)),t.uuidv7=n=>t.check($p(Mn,n)),t.nanoid=n=>t.check(Tp(Em,n)),t.guid=n=>t.check(ko(jo,n)),t.cuid=n=>t.check(Ep(Cm,n)),t.cuid2=n=>t.check(Cp(zm,n)),t.ulid=n=>t.check(zp(Pm,n)),t.base64=n=>t.check(Zp(Bm,n)),t.base64url=n=>t.check(Bp(Um,n)),t.xid=n=>t.check(Pp(Mm,n)),t.ksuid=n=>t.check(Mp(Lm,n)),t.ipv4=n=>t.check(Lp(Fm,n)),t.ipv6=n=>t.check(Fp(Dm,n)),t.cidrv4=n=>t.check(Dp(Rm,n)),t.cidrv6=n=>t.check(Rp(Zm,n)),t.e164=n=>t.check(Up(Km,n)),t.datetime=n=>t.check(gm(n)),t.date=n=>t.check(bm(n)),t.time=n=>t.check(wm(n)),t.duration=n=>t.check(km(n))});function te(t){return xp($m,t)}const le=x("ZodStringFormat",(t,e)=>{ie.init(t,e),ta.init(t,e)}),Om=x("ZodEmail",(t,e)=>{Ih.init(t,e),le.init(t,e)}),jo=x("ZodGUID",(t,e)=>{$h.init(t,e),le.init(t,e)}),Mn=x("ZodUUID",(t,e)=>{Oh.init(t,e),le.init(t,e)}),Im=x("ZodURL",(t,e)=>{Th.init(t,e),le.init(t,e)}),Tm=x("ZodEmoji",(t,e)=>{Eh.init(t,e),le.init(t,e)}),Em=x("ZodNanoID",(t,e)=>{Ch.init(t,e),le.init(t,e)}),Cm=x("ZodCUID",(t,e)=>{zh.init(t,e),le.init(t,e)}),zm=x("ZodCUID2",(t,e)=>{Ph.init(t,e),le.init(t,e)}),Pm=x("ZodULID",(t,e)=>{Mh.init(t,e),le.init(t,e)}),Mm=x("ZodXID",(t,e)=>{Lh.init(t,e),le.init(t,e)}),Lm=x("ZodKSUID",(t,e)=>{Fh.init(t,e),le.init(t,e)}),Fm=x("ZodIPv4",(t,e)=>{Uh.init(t,e),le.init(t,e)}),Dm=x("ZodIPv6",(t,e)=>{Kh.init(t,e),le.init(t,e)}),Rm=x("ZodCIDRv4",(t,e)=>{Vh.init(t,e),le.init(t,e)}),Zm=x("ZodCIDRv6",(t,e)=>{qh.init(t,e),le.init(t,e)}),Bm=x("ZodBase64",(t,e)=>{Gh.init(t,e),le.init(t,e)}),Um=x("ZodBase64URL",(t,e)=>{Wh.init(t,e),le.init(t,e)}),Km=x("ZodE164",(t,e)=>{Hh.init(t,e),le.init(t,e)}),Vm=x("ZodJWT",(t,e)=>{Xh.init(t,e),le.init(t,e)}),na=x("ZodNumber",(t,e)=>{Xi.init(t,e),ae.init(t,e),t.gt=(s,r)=>t.check(So(s,r)),t.gte=(s,r)=>t.check(Is(s,r)),t.min=(s,r)=>t.check(Is(s,r)),t.lt=(s,r)=>t.check(xo(s,r)),t.lte=(s,r)=>t.check(Os(s,r)),t.max=(s,r)=>t.check(Os(s,r)),t.int=s=>t.check(Ao(s)),t.safe=s=>t.check(Ao(s)),t.positive=s=>t.check(So(0,s)),t.nonnegative=s=>t.check(Is(0,s)),t.negative=s=>t.check(xo(0,s)),t.nonpositive=s=>t.check(Os(0,s)),t.multipleOf=(s,r)=>t.check(No(s,r)),t.step=(s,r)=>t.check(No(s,r)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function ue(t){return Wp(na,t)}const qm=x("ZodNumberFormat",(t,e)=>{Qh.init(t,e),na.init(t,e)});function Ao(t){return Hp(qm,t)}const Gm=x("ZodBoolean",(t,e)=>{ep.init(t,e),ae.init(t,e)});function bt(t){return Jp(Gm,t)}const Ym=x("ZodAny",(t,e)=>{tp.init(t,e),ae.init(t,e)});function Wm(){return Xp(Ym)}const Hm=x("ZodUnknown",(t,e)=>{np.init(t,e),ae.init(t,e)});function sr(){return Qp(Hm)}const Jm=x("ZodNever",(t,e)=>{sp.init(t,e),ae.init(t,e)});function Xm(t){return em(Jm,t)}const Qm=x("ZodArray",(t,e)=>{rp.init(t,e),ae.init(t,e),t.element=e.element,t.min=(n,s)=>t.check(es(n,s)),t.nonempty=n=>t.check(es(1,n)),t.max=(n,s)=>t.check(Qi(n,s)),t.length=(n,s)=>t.check(ea(n,s)),t.unwrap=()=>t.element});function Rt(t,e){return fm(Qm,t,e)}const sa=x("ZodObject",(t,e)=>{op.init(t,e),ae.init(t,e),Q(t,"shape",()=>e.shape),t.keyof=()=>og(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:sr()}),t.loose=()=>t.clone({...t._zod.def,catchall:sr()}),t.strict=()=>t.clone({...t._zod.def,catchall:Xm()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>Td(t,n),t.merge=n=>Ed(t,n),t.pick=n=>Od(t,n),t.omit=n=>Id(t,n),t.partial=(...n)=>Cd(ra,t,n[0]),t.required=(...n)=>zd(oa,t,n[0])});function on(t,e){const n={type:"object",get shape(){return it(this,"shape",t?Li(t):{}),this.shape},...L(e)};return new sa(n)}function kt(t,e){return new sa({type:"object",get shape(){return it(this,"shape",Li(t)),this.shape},catchall:sr(),...L(e)})}const eg=x("ZodUnion",(t,e)=>{ip.init(t,e),ae.init(t,e),t.options=e.options});function tg(t,e){return new eg({type:"union",options:t,...L(e)})}const ng=x("ZodIntersection",(t,e)=>{ap.init(t,e),ae.init(t,e)});function sg(t,e){return new ng({type:"intersection",left:t,right:e})}const rg=x("ZodRecord",(t,e)=>{lp.init(t,e),ae.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function Zt(t,e,n){return new rg({type:"record",keyType:t,valueType:e,...L(n)})}const rr=x("ZodEnum",(t,e)=>{cp.init(t,e),ae.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(s,r)=>{const o={};for(const i of s)if(n.has(i))o[i]=e.entries[i];else throw new Error(`Key ${i} not found in enum`);return new rr({...e,checks:[],...L(r),entries:o})},t.exclude=(s,r)=>{const o={...e.entries};for(const i of s)if(n.has(i))delete o[i];else throw new Error(`Key ${i} not found in enum`);return new rr({...e,checks:[],...L(r),entries:o})}});function og(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(s=>[s,s])):t;return new rr({type:"enum",entries:n,...L(e)})}const ig=x("ZodTransform",(t,e)=>{up.init(t,e),ae.init(t,e),t._zod.parse=(n,s)=>{n.addIssue=o=>{if(typeof o=="string")n.issues.push(yn(o,n.value,e));else{const i=o;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),n.issues.push(yn(i))}};const r=e.transform(n.value,n);return r instanceof Promise?r.then(o=>(n.value=o,n)):(n.value=r,n)}});function ag(t){return new ig({type:"transform",transform:t})}const ra=x("ZodOptional",(t,e)=>{fp.init(t,e),ae.init(t,e),t.unwrap=()=>t._zod.def.innerType});function $o(t){return new ra({type:"optional",innerType:t})}const lg=x("ZodNullable",(t,e)=>{dp.init(t,e),ae.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Oo(t){return new lg({type:"nullable",innerType:t})}const cg=x("ZodDefault",(t,e)=>{hp.init(t,e),ae.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function ug(t,e){return new cg({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Di(e)}})}const fg=x("ZodPrefault",(t,e)=>{pp.init(t,e),ae.init(t,e),t.unwrap=()=>t._zod.def.innerType});function dg(t,e){return new fg({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Di(e)}})}const oa=x("ZodNonOptional",(t,e)=>{mp.init(t,e),ae.init(t,e),t.unwrap=()=>t._zod.def.innerType});function hg(t,e){return new oa({type:"nonoptional",innerType:t,...L(e)})}const pg=x("ZodCatch",(t,e)=>{gp.init(t,e),ae.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function mg(t,e){return new pg({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const gg=x("ZodPipe",(t,e)=>{yp.init(t,e),ae.init(t,e),t.in=e.in,t.out=e.out});function Io(t,e){return new gg({type:"pipe",in:t,out:e})}const yg=x("ZodReadonly",(t,e)=>{bp.init(t,e),ae.init(t,e),t.unwrap=()=>t._zod.def.innerType});function bg(t){return new yg({type:"readonly",innerType:t})}const vg=x("ZodLazy",(t,e)=>{vp.init(t,e),ae.init(t,e),t.unwrap=()=>t._zod.def.getter()});function wg(t){return new vg({type:"lazy",getter:t})}const _g=x("ZodCustom",(t,e)=>{wp.init(t,e),ae.init(t,e)});function kg(t,e={}){return dm(_g,t,e)}function xg(t){return hm(t)}const ia=kt({transform:te().optional(),posX:ue(),posY:ue(),posZ:ue(),rotX:ue(),rotY:ue(),rotZ:ue(),sizeX:ue().optional(),sizeY:ue().optional(),sizeZ:ue().optional(),anchor:te().optional()}),Sg=kt({enabled:bt()}),aa=kt({"==":te(),v:ue(),type:te(),meta:Wm().optional()}),la=wg(()=>on({type:te(),item:aa.optional(),position:ia,attachments:Zt(te(),la).optional(),displayItem:Sg.optional(),shulkerColor:te().optional(),schematic:te().optional(),displayMode:te().optional(),firstPersonViewMode:te().optional(),firstPersonViewLockMode:te().optional(),lockRotation:bt().optional(),names:Rt(te()).optional(),text:te().optional(),animations:Zt(te(),kt({nodes:Rt(te()),looped:bt().optional(),speed:ue().optional()})).optional(),brightness:on({block:ue(),sky:ue()}).optional()})),Ng=kt({type:te(),entityType:te(),attachments:Zt(te(),la),position:ia.optional(),item:aa.optional(),shulkerColor:te().optional(),editor:on({selectedIndex:ue().optional(),animNodeSelectedOption:ue().optional(),scrollOffset:ue().optional(),expanded:bt().optional()}).passthrough().optional(),animations:Zt(te(),on({nodes:Rt(te()),looped:bt().optional(),speed:ue().optional()}).passthrough()).optional(),physical:on({cartLength:ue().optional(),wheelCenter:ue().optional(),wheelDistance:ue().optional(),cartCouplerLength:ue().optional()}).passthrough().optional()}),jg=kt({model:Ng.optional(),entityType:te(),flipped:bt().optional()}),Ag=kt({savedName:te(),name:te().optional(),carts:Zt(te(),jg).optional(),claims:Rt(te()).optional(),spawnPattern:te().optional(),flipped:bt().optional(),spawnLimit:ue().optional(),usedModels:Rt(te()).optional()}),$g=Zt(te(),Ag);function Og(t){const e=$g.safeParse(t);return e.success?{valid:!0}:{valid:!1,errors:e.error.issues.map(n=>`${n.path.join(".")}: ${n.message}`)}}const Ar=Symbol.for("yaml.alias"),or=Symbol.for("yaml.document"),tt=Symbol.for("yaml.map"),ca=Symbol.for("yaml.pair"),Ze=Symbol.for("yaml.scalar"),Gt=Symbol.for("yaml.seq"),Ie=Symbol.for("yaml.node.type"),xt=t=>!!t&&typeof t=="object"&&t[Ie]===Ar,cs=t=>!!t&&typeof t=="object"&&t[Ie]===or,xn=t=>!!t&&typeof t=="object"&&t[Ie]===tt,pe=t=>!!t&&typeof t=="object"&&t[Ie]===ca,se=t=>!!t&&typeof t=="object"&&t[Ie]===Ze,Sn=t=>!!t&&typeof t=="object"&&t[Ie]===Gt;function de(t){if(t&&typeof t=="object")switch(t[Ie]){case tt:case Gt:return!0}return!1}function he(t){if(t&&typeof t=="object")switch(t[Ie]){case Ar:case tt:case Ze:case Gt:return!0}return!1}const ua=t=>(se(t)||de(t))&&!!t.anchor,dt=Symbol("break visit"),Ig=Symbol("skip children"),an=Symbol("remove node");function Yt(t,e){const n=Tg(e);cs(t)?Tt(null,t.contents,n,Object.freeze([t]))===an&&(t.contents=null):Tt(null,t,n,Object.freeze([]))}Yt.BREAK=dt;Yt.SKIP=Ig;Yt.REMOVE=an;function Tt(t,e,n,s){const r=Eg(t,e,n,s);if(he(r)||pe(r))return Cg(t,s,r),Tt(t,r,n,s);if(typeof r!="symbol"){if(de(e)){s=Object.freeze(s.concat(e));for(let o=0;o<e.items.length;++o){const i=Tt(o,e.items[o],n,s);if(typeof i=="number")o=i-1;else{if(i===dt)return dt;i===an&&(e.items.splice(o,1),o-=1)}}}else if(pe(e)){s=Object.freeze(s.concat(e));const o=Tt("key",e.key,n,s);if(o===dt)return dt;o===an&&(e.key=null);const i=Tt("value",e.value,n,s);if(i===dt)return dt;i===an&&(e.value=null)}}return r}function Tg(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function Eg(t,e,n,s){if(typeof n=="function")return n(t,e,s);if(xn(e))return n.Map?.(t,e,s);if(Sn(e))return n.Seq?.(t,e,s);if(pe(e))return n.Pair?.(t,e,s);if(se(e))return n.Scalar?.(t,e,s);if(xt(e))return n.Alias?.(t,e,s)}function Cg(t,e,n){const s=e[e.length-1];if(de(s))s.items[t]=n;else if(pe(s))t==="key"?s.key=n:s.value=n;else if(cs(s))s.contents=n;else{const r=xt(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}const zg={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Pg=t=>t.replace(/[!,[\]{}]/g,e=>zg[e]);class xe{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},xe.defaultYaml,e),this.tags=Object.assign({},xe.defaultTags,n)}clone(){const e=new xe(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new xe(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:xe.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},xe.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:xe.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},xe.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),r=s.shift();switch(r){case"%TAG":{if(s.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[o,i]=s;return this.tags[o]=i,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[o]=s;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const i=/^\d+\.\d+$/.test(o);return n(6,`Unsupported YAML version ${o}`,i),!1}}default:return n(0,`Unknown directive ${r}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const i=e.slice(2,-1);return i==="!"||i==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),i)}const[,s,r]=e.match(/^(.*!)([^!]*)$/s);r||n(`The ${e} tag has no suffix`);const o=this.tags[s];if(o)try{return o+decodeURIComponent(r)}catch(i){return n(String(i)),null}return s==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,s]of Object.entries(this.tags))if(e.startsWith(s))return n+Pg(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let r;if(e&&s.length>0&&he(e.contents)){const o={};Yt(e.contents,(i,a)=>{he(a)&&a.tag&&(o[a.tag]=!0)}),r=Object.keys(o)}else r=[];for(const[o,i]of s)o==="!!"&&i==="tag:yaml.org,2002:"||(!e||r.some(a=>a.startsWith(i)))&&n.push(`%TAG ${o} ${i}`);return n.join(`
`)}}xe.defaultYaml={explicit:!1,version:"1.2"};xe.defaultTags={"!!":"tag:yaml.org,2002:"};function fa(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function da(t){const e=new Set;return Yt(t,{Value(n,s){s.anchor&&e.add(s.anchor)}}),e}function ha(t,e){for(let n=1;;++n){const s=`${t}${n}`;if(!e.has(s))return s}}function Mg(t,e){const n=[],s=new Map;let r=null;return{onAnchor:o=>{n.push(o),r??(r=da(t));const i=ha(e,r);return r.add(i),i},setAnchors:()=>{for(const o of n){const i=s.get(o);if(typeof i=="object"&&i.anchor&&(se(i.node)||de(i.node)))i.node.anchor=i.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:s}}function Et(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let r=0,o=s.length;r<o;++r){const i=s[r],a=Et(t,s,String(r),i);a===void 0?delete s[r]:a!==i&&(s[r]=a)}else if(s instanceof Map)for(const r of Array.from(s.keys())){const o=s.get(r),i=Et(t,s,r,o);i===void 0?s.delete(r):i!==o&&s.set(r,i)}else if(s instanceof Set)for(const r of Array.from(s)){const o=Et(t,s,r,r);o===void 0?s.delete(r):o!==r&&(s.delete(r),s.add(o))}else for(const[r,o]of Object.entries(s)){const i=Et(t,s,r,o);i===void 0?delete s[r]:i!==o&&(s[r]=i)}return t.call(e,n,s)}function Oe(t,e,n){if(Array.isArray(t))return t.map((s,r)=>Oe(s,String(r),n));if(t&&typeof t.toJSON=="function"){if(!n||!ua(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=o=>{s.res=o,delete n.onCreate};const r=t.toJSON(e,n);return n.onCreate&&n.onCreate(r),r}return typeof t=="bigint"&&!n?.keep?Number(t):t}class $r{constructor(e){Object.defineProperty(this,Ie,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:s,onAnchor:r,reviver:o}={}){if(!cs(e))throw new TypeError("A document argument is required");const i={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=Oe(this,"",i);if(typeof r=="function")for(const{count:l,res:c}of i.anchors.values())r(c,l);return typeof o=="function"?Et(o,{"":a},"",a):a}}class Or extends $r{constructor(e){super(Ar),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let s;n?.aliasResolveCache?s=n.aliasResolveCache:(s=[],Yt(e,{Node:(o,i)=>{(xt(i)||ua(i))&&s.push(i)}}),n&&(n.aliasResolveCache=s));let r;for(const o of s){if(o===this)break;o.anchor===this.source&&(r=o)}return r}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:r,maxAliasCount:o}=n,i=this.resolve(r,n);if(!i){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=s.get(i);if(a||(Oe(i,null,n),a=s.get(i)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Vn(r,i,s)),a.count*a.aliasCount>o)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,s){const r=`*${this.source}`;if(e){if(fa(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(e.implicitKey)return`${r} `}return r}}function Vn(t,e,n){if(xt(e)){const s=e.resolve(t),r=n&&s&&n.get(s);return r?r.count*r.aliasCount:0}else if(de(e)){let s=0;for(const r of e.items){const o=Vn(t,r,n);o>s&&(s=o)}return s}else if(pe(e)){const s=Vn(t,e.key,n),r=Vn(t,e.value,n);return Math.max(s,r)}return 1}const pa=t=>!t||typeof t!="function"&&typeof t!="object";class K extends $r{constructor(e){super(Ze),this.value=e}toJSON(e,n){return n?.keep?this.value:Oe(this.value,e,n)}toString(){return String(this.value)}}K.BLOCK_FOLDED="BLOCK_FOLDED";K.BLOCK_LITERAL="BLOCK_LITERAL";K.PLAIN="PLAIN";K.QUOTE_DOUBLE="QUOTE_DOUBLE";K.QUOTE_SINGLE="QUOTE_SINGLE";const Lg="tag:yaml.org,2002:";function Fg(t,e,n){if(e){const s=n.filter(o=>o.tag===e),r=s.find(o=>!o.format)??s[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return n.find(s=>s.identify?.(t)&&!s.format)}function bn(t,e,n){if(cs(t)&&(t=t.contents),he(t))return t;if(pe(t)){const u=n.schema[tt].createNode?.(n.schema,null,n);return u.items.push(t),u}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:r,onTagObj:o,schema:i,sourceObjects:a}=n;let l;if(s&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor??(l.anchor=r(t)),new Or(l.anchor);l={anchor:null,node:null},a.set(t,l)}e?.startsWith("!!")&&(e=Lg+e.slice(2));let c=Fg(t,e,i.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const u=new K(t);return l&&(l.node=u),u}c=t instanceof Map?i[tt]:Symbol.iterator in Object(t)?i[Gt]:i[tt]}o&&(o(c),delete n.onTagObj);const f=c?.createNode?c.createNode(n.schema,t,n):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(n.schema,t,n):new K(t);return e?f.tag=e:c.default||(f.tag=c.tag),l&&(l.node=f),f}function ts(t,e,n){let s=n;for(let r=e.length-1;r>=0;--r){const o=e[r];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const i=[];i[o]=s,s=i}else s=new Map([[o,s]])}return bn(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const tn=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class ma extends $r{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>he(s)||pe(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(tn(e))this.add(n);else{const[s,...r]=e,o=this.get(s,!0);if(de(o))o.addIn(r,n);else if(o===void 0&&this.schema)this.set(s,ts(this.schema,r,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const r=this.get(n,!0);if(de(r))return r.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...r]=e,o=this.get(s,!0);return r.length===0?!n&&se(o)?o.value:o:de(o)?o.getIn(r,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!pe(n))return!1;const s=n.value;return s==null||e&&se(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const r=this.get(n,!0);return de(r)?r.hasIn(s):!1}setIn(e,n){const[s,...r]=e;if(r.length===0)this.set(s,n);else{const o=this.get(s,!0);if(de(o))o.setIn(r,n);else if(o===void 0&&this.schema)this.set(s,ts(this.schema,r,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}}const Dg=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Ge(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const pt=(t,e,n)=>t.endsWith(`
`)?Ge(n,e):n.includes(`
`)?`
`+Ge(n,e):(t.endsWith(" ")?"":" ")+n,ga="flow",ir="block",qn="quoted";function us(t,e,n="flow",{indentAtStart:s,lineWidth:r=80,minContentWidth:o=20,onFold:i,onOverflow:a}={}){if(!r||r<0)return t;r<o&&(o=0);const l=Math.max(1+o,1+r-e.length);if(t.length<=l)return t;const c=[],f={};let u=r-e.length;typeof s=="number"&&(s>r-Math.max(2,o)?c.push(0):u=r-s);let d,m,g=!1,p=-1,y=-1,v=-1;n===ir&&(p=To(t,p,e.length),p!==-1&&(u=p+l));for(let _;_=t[p+=1];){if(n===qn&&_==="\\"){switch(y=p,t[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}v=p}if(_===`
`)n===ir&&(p=To(t,p,e.length)),u=p+e.length+l,d=void 0;else{if(_===" "&&m&&m!==" "&&m!==`
`&&m!=="	"){const k=t[p+1];k&&k!==" "&&k!==`
`&&k!=="	"&&(d=p)}if(p>=u)if(d)c.push(d),u=d+l,d=void 0;else if(n===qn){for(;m===" "||m==="	";)m=_,_=t[p+=1],g=!0;const k=p>v+1?p-2:y-1;if(f[k])return t;c.push(k),f[k]=!0,u=k+l,d=void 0}else g=!0}m=_}if(g&&a&&a(),c.length===0)return t;i&&i();let w=t.slice(0,c[0]);for(let _=0;_<c.length;++_){const k=c[_],S=c[_+1]||t.length;k===0?w=`
${e}${t.slice(0,S)}`:(n===qn&&f[k]&&(w+=`${t[k]}\\`),w+=`
${e}${t.slice(k+1,S)}`)}return w}function To(t,e,n){let s=e,r=e+1,o=t[r];for(;o===" "||o==="	";)if(e<r+n)o=t[++e];else{do o=t[++e];while(o&&o!==`
`);s=e,r=e+1,o=t[r]}return s}const fs=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),ds=t=>/^(%|---|\.\.\.)/m.test(t);function Rg(t,e,n){if(!e||e<0)return!1;const s=e-n,r=t.length;if(r<=s)return!1;for(let o=0,i=0;o<r;++o)if(t[o]===`
`){if(o-i>s)return!0;if(i=o+1,r-i<=s)return!1}return!0}function ln(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,r=e.options.doubleQuotedMinMultiLineLength,o=e.indent||(ds(t)?"  ":"");let i="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(i+=n.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{i+=n.slice(a,l);const f=n.substr(l+2,4);switch(f){case"0000":i+="\\0";break;case"0007":i+="\\a";break;case"000b":i+="\\v";break;case"001b":i+="\\e";break;case"0085":i+="\\N";break;case"00a0":i+="\\_";break;case"2028":i+="\\L";break;case"2029":i+="\\P";break;default:f.substr(0,2)==="00"?i+="\\x"+f.substr(2):i+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||n[l+2]==='"'||n.length<r)l+=1;else{for(i+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)i+=`
`,l+=2;i+=o,n[l+2]===" "&&(i+="\\"),l+=1,a=l+1}break;default:l+=1}return i=a?i+n.slice(a):n,s?i:us(i,o,qn,fs(e,!1))}function ar(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return ln(t,e);const n=e.indent||(ds(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:us(s,n,ga,fs(e,!1))}function Ct(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=ln;else{const r=t.includes('"'),o=t.includes("'");r&&!o?s=ar:o&&!r?s=ln:s=n?ar:ln}return s(t,e)}let lr;try{lr=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{lr=/\n+(?!\n|$)/g}function Gn({comment:t,type:e,value:n},s,r,o){const{blockQuote:i,commentString:a,lineWidth:l}=s.options;if(!i||/\n[\t ]+$/.test(n))return Ct(n,s);const c=s.indent||(s.forceBlockIndent||ds(n)?"  ":""),f=i==="literal"?!0:i==="folded"||e===K.BLOCK_FOLDED?!1:e===K.BLOCK_LITERAL?!0:!Rg(n,l,c.length);if(!n)return f?`|
`:`>
`;let u,d;for(d=n.length;d>0;--d){const S=n[d-1];if(S!==`
`&&S!=="	"&&S!==" ")break}let m=n.substring(d);const g=m.indexOf(`
`);g===-1?u="-":n===m||g!==m.length-1?(u="+",o&&o()):u="",m&&(n=n.slice(0,-m.length),m[m.length-1]===`
`&&(m=m.slice(0,-1)),m=m.replace(lr,`$&${c}`));let p=!1,y,v=-1;for(y=0;y<n.length;++y){const S=n[y];if(S===" ")p=!0;else if(S===`
`)v=y;else break}let w=n.substring(0,v<y?v+1:y);w&&(n=n.substring(w.length),w=w.replace(/\n+/g,`$&${c}`));let k=(p?c?"2":"1":"")+u;if(t&&(k+=" "+a(t.replace(/ ?[\r\n]+/g," ")),r&&r()),!f){const S=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let N=!1;const A=fs(s,!0);i!=="folded"&&e!==K.BLOCK_FOLDED&&(A.onOverflow=()=>{N=!0});const b=us(`${w}${S}${m}`,c,ir,A);if(!N)return`>${k}
${c}${b}`}return n=n.replace(/\n+/g,`$&${c}`),`|${k}
${c}${w}${n}${m}`}function Zg(t,e,n,s){const{type:r,value:o}=t,{actualString:i,implicitKey:a,indent:l,indentStep:c,inFlow:f}=e;if(a&&o.includes(`
`)||f&&/[[\]{},]/.test(o))return Ct(o,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||f||!o.includes(`
`)?Ct(o,e):Gn(t,e,n,s);if(!a&&!f&&r!==K.PLAIN&&o.includes(`
`))return Gn(t,e,n,s);if(ds(o)){if(l==="")return e.forceBlockIndent=!0,Gn(t,e,n,s);if(a&&l===c)return Ct(o,e)}const u=o.replace(/\n+/g,`$&
${l}`);if(i){const d=p=>p.default&&p.tag!=="tag:yaml.org,2002:str"&&p.test?.test(u),{compat:m,tags:g}=e.doc.schema;if(g.some(d)||m?.some(d))return Ct(o,e)}return a?u:us(u,l,ga,fs(e,!1))}function Ir(t,e,n,s){const{implicitKey:r,inFlow:o}=e,i=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==K.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(i.value)&&(a=K.QUOTE_DOUBLE);const l=f=>{switch(f){case K.BLOCK_FOLDED:case K.BLOCK_LITERAL:return r||o?Ct(i.value,e):Gn(i,e,n,s);case K.QUOTE_DOUBLE:return ln(i.value,e);case K.QUOTE_SINGLE:return ar(i.value,e);case K.PLAIN:return Zg(i,e,n,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:f,defaultStringType:u}=e.options,d=r&&f||u;if(c=l(d),c===null)throw new Error(`Unsupported default string type ${d}`)}return c}function ya(t,e){const n=Object.assign({blockQuote:!0,commentString:Dg,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function Bg(t,e){if(e.tag){const r=t.filter(o=>o.tag===e.tag);if(r.length>0)return r.find(o=>o.format===e.format)??r[0]}let n,s;if(se(e)){s=e.value;let r=t.filter(o=>o.identify?.(s));if(r.length>1){const o=r.filter(i=>i.test);o.length>0&&(r=o)}n=r.find(o=>o.format===e.format)??r.find(o=>!o.format)}else s=e,n=t.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!n){const r=s?.constructor?.name??(s===null?"null":typeof s);throw new Error(`Tag not resolved for ${r} value`)}return n}function Ug(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const r=[],o=(se(t)||de(t))&&t.anchor;o&&fa(o)&&(n.add(o),r.push(`&${o}`));const i=t.tag??(e.default?null:e.tag);return i&&r.push(s.directives.tagString(i)),r.join(" ")}function Bt(t,e,n,s){if(pe(t))return t.toString(e,n,s);if(xt(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let r;const o=he(t)?t:e.doc.createNode(t,{onTagObj:l=>r=l});r??(r=Bg(e.doc.schema.tags,o));const i=Ug(o,r,e);i.length>0&&(e.indentAtStart=(e.indentAtStart??0)+i.length+1);const a=typeof r.stringify=="function"?r.stringify(o,e,n,s):se(o)?Ir(o,e,n,s):o.toString(e,n,s);return i?se(o)||a[0]==="{"||a[0]==="["?`${i} ${a}`:`${i}
${e.indent}${a}`:a}function Kg({key:t,value:e},n,s,r){const{allNullValues:o,doc:i,indent:a,indentStep:l,options:{commentString:c,indentSeq:f,simpleKeys:u}}=n;let d=he(t)&&t.comment||null;if(u){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(de(t)||!he(t)&&typeof t=="object"){const A="With simple keys, collection cannot be used as a key value";throw new Error(A)}}let m=!u&&(!t||d&&e==null&&!n.inFlow||de(t)||(se(t)?t.type===K.BLOCK_FOLDED||t.type===K.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!m&&(u||!o),indent:a+l});let g=!1,p=!1,y=Bt(t,n,()=>g=!0,()=>p=!0);if(!m&&!n.inFlow&&y.length>1024){if(u)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");m=!0}if(n.inFlow){if(o||e==null)return g&&s&&s(),y===""?"?":m?`? ${y}`:y}else if(o&&!u||e==null&&m)return y=`? ${y}`,d&&!g?y+=pt(y,n.indent,c(d)):p&&r&&r(),y;g&&(d=null),m?(d&&(y+=pt(y,n.indent,c(d))),y=`? ${y}
${a}:`):(y=`${y}:`,d&&(y+=pt(y,n.indent,c(d))));let v,w,_;he(e)?(v=!!e.spaceBefore,w=e.commentBefore,_=e.comment):(v=!1,w=null,_=null,e&&typeof e=="object"&&(e=i.createNode(e))),n.implicitKey=!1,!m&&!d&&se(e)&&(n.indentAtStart=y.length+1),p=!1,!f&&l.length>=2&&!n.inFlow&&!m&&Sn(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let k=!1;const S=Bt(e,n,()=>k=!0,()=>p=!0);let N=" ";if(d||v||w){if(N=v?`
`:"",w){const A=c(w);N+=`
${Ge(A,n.indent)}`}S===""&&!n.inFlow?N===`
`&&(N=`

`):N+=`
${n.indent}`}else if(!m&&de(e)){const A=S[0],b=S.indexOf(`
`),j=b!==-1,M=n.inFlow??e.flow??e.items.length===0;if(j||!M){let z=!1;if(j&&(A==="&"||A==="!")){let I=S.indexOf(" ");A==="&"&&I!==-1&&I<b&&S[I+1]==="!"&&(I=S.indexOf(" ",I+1)),(I===-1||b<I)&&(z=!0)}z||(N=`
${n.indent}`)}}else(S===""||S[0]===`
`)&&(N="");return y+=N+S,n.inFlow?k&&s&&s():_&&!k?y+=pt(y,n.indent,c(_)):p&&r&&r(),y}function ba(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const Ln="<<",We={identify:t=>t===Ln||typeof t=="symbol"&&t.description===Ln,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new K(Symbol(Ln)),{addToJSMap:va}),stringify:()=>Ln},Vg=(t,e)=>(We.identify(e)||se(e)&&(!e.type||e.type===K.PLAIN)&&We.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===We.tag&&n.default);function va(t,e,n){if(n=t&&xt(n)?n.resolve(t.doc):n,Sn(n))for(const s of n.items)Ts(t,e,s);else if(Array.isArray(n))for(const s of n)Ts(t,e,s);else Ts(t,e,n)}function Ts(t,e,n){const s=t&&xt(n)?n.resolve(t.doc):n;if(!xn(s))throw new Error("Merge sources must be maps or map aliases");const r=s.toJSON(null,t,Map);for(const[o,i]of r)e instanceof Map?e.has(o)||e.set(o,i):e instanceof Set?e.add(o):Object.prototype.hasOwnProperty.call(e,o)||Object.defineProperty(e,o,{value:i,writable:!0,enumerable:!0,configurable:!0});return e}function wa(t,e,{key:n,value:s}){if(he(n)&&n.addToJSMap)n.addToJSMap(t,e,s);else if(Vg(t,n))va(t,e,s);else{const r=Oe(n,"",t);if(e instanceof Map)e.set(r,Oe(s,r,t));else if(e instanceof Set)e.add(r);else{const o=qg(n,r,t),i=Oe(s,o,t);o in e?Object.defineProperty(e,o,{value:i,writable:!0,enumerable:!0,configurable:!0}):e[o]=i}}return e}function qg(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(he(t)&&n?.doc){const s=ya(n.doc,{});s.anchors=new Set;for(const o of n.anchors.keys())s.anchors.add(o.anchor);s.inFlow=!0,s.inStringifyKey=!0;const r=t.toString(s);if(!n.mapKeyWarned){let o=JSON.stringify(r);o.length>40&&(o=o.substring(0,36)+'..."'),ba(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(e)}function Tr(t,e,n){const s=bn(t,void 0,n),r=bn(e,void 0,n);return new Se(s,r)}class Se{constructor(e,n=null){Object.defineProperty(this,Ie,{value:ca}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return he(n)&&(n=n.clone(e)),he(s)&&(s=s.clone(e)),new Se(n,s)}toJSON(e,n){const s=n?.mapAsMap?new Map:{};return wa(n,s,this)}toString(e,n,s){return e?.doc?Kg(this,e,n,s):JSON.stringify(this)}}function _a(t,e,n){return(e.inFlow??t.flow?Yg:Gg)(t,e,n)}function Gg({comment:t,items:e},n,{blockItemPrefix:s,flowChars:r,itemIndent:o,onChompKeep:i,onComment:a}){const{indent:l,options:{commentString:c}}=n,f=Object.assign({},n,{indent:o,type:null});let u=!1;const d=[];for(let g=0;g<e.length;++g){const p=e[g];let y=null;if(he(p))!u&&p.spaceBefore&&d.push(""),ns(n,d,p.commentBefore,u),p.comment&&(y=p.comment);else if(pe(p)){const w=he(p.key)?p.key:null;w&&(!u&&w.spaceBefore&&d.push(""),ns(n,d,w.commentBefore,u))}u=!1;let v=Bt(p,f,()=>y=null,()=>u=!0);y&&(v+=pt(v,o,c(y))),u&&y&&(u=!1),d.push(s+v)}let m;if(d.length===0)m=r.start+r.end;else{m=d[0];for(let g=1;g<d.length;++g){const p=d[g];m+=p?`
${l}${p}`:`
`}}return t?(m+=`
`+Ge(c(t),l),a&&a()):u&&i&&i(),m}function Yg({items:t},e,{flowChars:n,itemIndent:s}){const{indent:r,indentStep:o,flowCollectionPadding:i,options:{commentString:a}}=e;s+=o;const l=Object.assign({},e,{indent:s,inFlow:!0,type:null});let c=!1,f=0;const u=[];for(let g=0;g<t.length;++g){const p=t[g];let y=null;if(he(p))p.spaceBefore&&u.push(""),ns(e,u,p.commentBefore,!1),p.comment&&(y=p.comment);else if(pe(p)){const w=he(p.key)?p.key:null;w&&(w.spaceBefore&&u.push(""),ns(e,u,w.commentBefore,!1),w.comment&&(c=!0));const _=he(p.value)?p.value:null;_?(_.comment&&(y=_.comment),_.commentBefore&&(c=!0)):p.value==null&&w?.comment&&(y=w.comment)}y&&(c=!0);let v=Bt(p,l,()=>y=null);g<t.length-1&&(v+=","),y&&(v+=pt(v,s,a(y))),!c&&(u.length>f||v.includes(`
`))&&(c=!0),u.push(v),f=u.length}const{start:d,end:m}=n;if(u.length===0)return d+m;if(!c){const g=u.reduce((p,y)=>p+y.length+2,2);c=e.options.lineWidth>0&&g>e.options.lineWidth}if(c){let g=d;for(const p of u)g+=p?`
${o}${r}${p}`:`
`;return`${g}
${r}${m}`}else return`${d}${i}${u.join(" ")}${i}${m}`}function ns({indent:t,options:{commentString:e}},n,s,r){if(s&&r&&(s=s.replace(/^\n+/,"")),s){const o=Ge(e(s),t);n.push(o.trimStart())}}function mt(t,e){const n=se(e)?e.value:e;for(const s of t)if(pe(s)&&(s.key===e||s.key===n||se(s.key)&&s.key.value===n))return s}class $e extends ma{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(tt,e),this.items=[]}static from(e,n,s){const{keepUndefined:r,replacer:o}=s,i=new this(e),a=(l,c)=>{if(typeof o=="function")c=o.call(n,l,c);else if(Array.isArray(o)&&!o.includes(l))return;(c!==void 0||r)&&i.items.push(Tr(l,c,s))};if(n instanceof Map)for(const[l,c]of n)a(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof e.sortMapEntries=="function"&&i.items.sort(e.sortMapEntries),i}add(e,n){let s;pe(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new Se(e,e?.value):s=new Se(e.key,e.value);const r=mt(this.items,s.key),o=this.schema?.sortMapEntries;if(r){if(!n)throw new Error(`Key ${s.key} already set`);se(r.value)&&pa(s.value)?r.value.value=s.value:r.value=s.value}else if(o){const i=this.items.findIndex(a=>o(s,a)<0);i===-1?this.items.push(s):this.items.splice(i,0,s)}else this.items.push(s)}delete(e){const n=mt(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const r=mt(this.items,e)?.value;return(!n&&se(r)?r.value:r)??void 0}has(e){return!!mt(this.items,e)}set(e,n){this.add(new Se(e,n),!0)}toJSON(e,n,s){const r=s?new s:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(r);for(const o of this.items)wa(n,r,o);return r}toString(e,n,s){if(!e)return JSON.stringify(this);for(const r of this.items)if(!pe(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),_a(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}const Wt={collection:"map",default:!0,nodeClass:$e,tag:"tag:yaml.org,2002:map",resolve(t,e){return xn(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>$e.from(t,e,n)};class vt extends ma{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Gt,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=Fn(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=Fn(e);if(typeof s!="number")return;const r=this.items[s];return!n&&se(r)?r.value:r}has(e){const n=Fn(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=Fn(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[s];se(r)&&pa(n)?r.value=n:this.items[s]=n}toJSON(e,n){const s=[];n?.onCreate&&n.onCreate(s);let r=0;for(const o of this.items)s.push(Oe(o,String(r++),n));return s}toString(e,n,s){return e?_a(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}static from(e,n,s){const{replacer:r}=s,o=new this(e);if(n&&Symbol.iterator in Object(n)){let i=0;for(let a of n){if(typeof r=="function"){const l=n instanceof Set?a:String(i++);a=r.call(n,l,a)}o.items.push(bn(a,void 0,s))}}return o}}function Fn(t){let e=se(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const Ht={collection:"seq",default:!0,nodeClass:vt,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Sn(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>vt.from(t,e,n)},hs={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,s){return e=Object.assign({actualString:!0},e),Ir(t,e,n,s)}},ps={identify:t=>t==null,createNode:()=>new K(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new K(null),stringify:({source:t},e)=>typeof t=="string"&&ps.test.test(t)?t:e.options.nullStr},Er={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new K(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&Er.test.test(t)){const s=t[0]==="t"||t[0]==="T";if(e===s)return t}return e?n.options.trueStr:n.options.falseStr}};function ze({format:t,minFractionDigits:e,tag:n,value:s}){if(typeof s=="bigint")return String(s);const r=typeof s=="number"?s:Number(s);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let o=JSON.stringify(s);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let i=o.indexOf(".");i<0&&(i=o.length,o+=".");let a=e-(o.length-i-1);for(;a-- >0;)o+="0"}return o}const ka={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ze},xa={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():ze(t)}},Sa={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new K(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:ze},ms=t=>typeof t=="bigint"||Number.isInteger(t),Cr=(t,e,n,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),n);function Na(t,e,n){const{value:s}=t;return ms(s)&&s>=0?n+s.toString(e):ze(t)}const ja={identify:t=>ms(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>Cr(t,2,8,n),stringify:t=>Na(t,8,"0o")},Aa={identify:ms,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>Cr(t,0,10,n),stringify:ze},$a={identify:t=>ms(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>Cr(t,2,16,n),stringify:t=>Na(t,16,"0x")},Wg=[Wt,Ht,hs,ps,Er,ja,Aa,$a,ka,xa,Sa];function Eo(t){return typeof t=="bigint"||Number.isInteger(t)}const Dn=({value:t})=>JSON.stringify(t),Hg=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Dn},{identify:t=>t==null,createNode:()=>new K(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Dn},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:Dn},{identify:Eo,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>Eo(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Dn}],Jg={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},Xg=[Wt,Ht].concat(Hg,Jg),zr={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),s=new Uint8Array(n.length);for(let r=0;r<n.length;++r)s[r]=n.charCodeAt(r);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},s,r,o){if(!n)return"";const i=n;let a;if(typeof btoa=="function"){let l="";for(let c=0;c<i.length;++c)l+=String.fromCharCode(i[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=K.BLOCK_LITERAL),e!==K.QUOTE_DOUBLE){const l=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),c=Math.ceil(a.length/l),f=new Array(c);for(let u=0,d=0;u<c;++u,d+=l)f[u]=a.substr(d,l);a=f.join(e===K.BLOCK_LITERAL?`
`:" ")}return Ir({comment:t,type:e,value:a},s,r,o)}};function Oa(t,e){if(Sn(t))for(let n=0;n<t.items.length;++n){let s=t.items[n];if(!pe(s)){if(xn(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const r=s.items[0]||new Se(new K(null));if(s.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${s.commentBefore}
${r.key.commentBefore}`:s.commentBefore),s.comment){const o=r.value??r.key;o.comment=o.comment?`${s.comment}
${o.comment}`:s.comment}s=r}t.items[n]=pe(s)?s:new Se(s)}}else e("Expected a sequence for this tag");return t}function Ia(t,e,n){const{replacer:s}=n,r=new vt(t);r.tag="tag:yaml.org,2002:pairs";let o=0;if(e&&Symbol.iterator in Object(e))for(let i of e){typeof s=="function"&&(i=s.call(e,String(o++),i));let a,l;if(Array.isArray(i))if(i.length===2)a=i[0],l=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){const c=Object.keys(i);if(c.length===1)a=c[0],l=i[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=i;r.items.push(Tr(a,l,n))}return r}const Pr={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Oa,createNode:Ia};class Lt extends vt{constructor(){super(),this.add=$e.prototype.add.bind(this),this.delete=$e.prototype.delete.bind(this),this.get=$e.prototype.get.bind(this),this.has=$e.prototype.has.bind(this),this.set=$e.prototype.set.bind(this),this.tag=Lt.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n?.onCreate&&n.onCreate(s);for(const r of this.items){let o,i;if(pe(r)?(o=Oe(r.key,"",n),i=Oe(r.value,o,n)):o=Oe(r,"",n),s.has(o))throw new Error("Ordered maps must not include duplicate keys");s.set(o,i)}return s}static from(e,n,s){const r=Ia(e,n,s),o=new this;return o.items=r.items,o}}Lt.tag="tag:yaml.org,2002:omap";const Mr={collection:"seq",identify:t=>t instanceof Map,nodeClass:Lt,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=Oa(t,e),s=[];for(const{key:r}of n.items)se(r)&&(s.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):s.push(r.value));return Object.assign(new Lt,n)},createNode:(t,e,n)=>Lt.from(t,e,n)};function Ta({value:t,source:e},n){return e&&(t?Ea:Ca).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const Ea={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new K(!0),stringify:Ta},Ca={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new K(!1),stringify:Ta},Qg={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ze},e0={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():ze(t)}},t0={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new K(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const s=t.substring(n+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:ze},Nn=t=>typeof t=="bigint"||Number.isInteger(t);function gs(t,e,n,{intAsBigInt:s}){const r=t[0];if((r==="-"||r==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const i=BigInt(t);return r==="-"?BigInt(-1)*i:i}const o=parseInt(t,n);return r==="-"?-1*o:o}function Lr(t,e,n){const{value:s}=t;if(Nn(s)){const r=s.toString(e);return s<0?"-"+n+r.substr(1):n+r}return ze(t)}const n0={identify:Nn,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>gs(t,2,2,n),stringify:t=>Lr(t,2,"0b")},s0={identify:Nn,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>gs(t,1,8,n),stringify:t=>Lr(t,8,"0")},r0={identify:Nn,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>gs(t,0,10,n),stringify:ze},o0={identify:Nn,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>gs(t,2,16,n),stringify:t=>Lr(t,16,"0x")};class Ft extends $e{constructor(e){super(e),this.tag=Ft.tag}add(e){let n;pe(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Se(e.key,null):n=new Se(e,null),mt(this.items,n.key)||this.items.push(n)}get(e,n){const s=mt(this.items,e);return!n&&pe(s)?se(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=mt(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new Se(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}static from(e,n,s){const{replacer:r}=s,o=new this(e);if(n&&Symbol.iterator in Object(n))for(let i of n)typeof r=="function"&&(i=r.call(n,i,i)),o.items.push(Tr(i,null,s));return o}}Ft.tag="tag:yaml.org,2002:set";const Fr={collection:"map",identify:t=>t instanceof Set,nodeClass:Ft,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>Ft.from(t,e,n),resolve(t,e){if(xn(t)){if(t.hasAllNullValues(!0))return Object.assign(new Ft,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function Dr(t,e){const n=t[0],s=n==="-"||n==="+"?t.substring(1):t,r=i=>e?BigInt(i):Number(i),o=s.replace(/_/g,"").split(":").reduce((i,a)=>i*r(60)+r(a),r(0));return n==="-"?r(-1)*o:o}function za(t){let{value:e}=t,n=i=>i;if(typeof e=="bigint")n=i=>BigInt(i);else if(isNaN(e)||!isFinite(e))return ze(t);let s="";e<0&&(s="-",e*=n(-1));const r=n(60),o=[e%r];return e<60?o.unshift(0):(e=(e-o[0])/r,o.unshift(e%r),e>=60&&(e=(e-o[0])/r,o.unshift(e))),s+o.map(i=>String(i).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Pa={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>Dr(t,n),stringify:za},Ma={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>Dr(t,!1),stringify:za},ys={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(ys.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,r,o,i,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(n,s-1,r,o||0,i||0,a||0,l);const f=e[8];if(f&&f!=="Z"){let u=Dr(f,!1);Math.abs(u)<30&&(u*=60),c-=6e4*u}return new Date(c)},stringify:({value:t})=>t?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},Co=[Wt,Ht,hs,ps,Ea,Ca,n0,s0,r0,o0,Qg,e0,t0,zr,We,Mr,Pr,Fr,Pa,Ma,ys],zo=new Map([["core",Wg],["failsafe",[Wt,Ht,hs]],["json",Xg],["yaml11",Co],["yaml-1.1",Co]]),Po={binary:zr,bool:Er,float:Sa,floatExp:xa,floatNaN:ka,floatTime:Ma,int:Aa,intHex:$a,intOct:ja,intTime:Pa,map:Wt,merge:We,null:ps,omap:Mr,pairs:Pr,seq:Ht,set:Fr,timestamp:ys},i0={"tag:yaml.org,2002:binary":zr,"tag:yaml.org,2002:merge":We,"tag:yaml.org,2002:omap":Mr,"tag:yaml.org,2002:pairs":Pr,"tag:yaml.org,2002:set":Fr,"tag:yaml.org,2002:timestamp":ys};function Es(t,e,n){const s=zo.get(e);if(s&&!t)return n&&!s.includes(We)?s.concat(We):s.slice();let r=s;if(!r)if(Array.isArray(t))r=[];else{const o=Array.from(zo.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${o} or define customTags array`)}if(Array.isArray(t))for(const o of t)r=r.concat(o);else typeof t=="function"&&(r=t(r.slice()));return n&&(r=r.concat(We)),r.reduce((o,i)=>{const a=typeof i=="string"?Po[i]:i;if(!a){const l=JSON.stringify(i),c=Object.keys(Po).map(f=>JSON.stringify(f)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${c}`)}return o.includes(a)||o.push(a),o},[])}const a0=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class Rr{constructor({compat:e,customTags:n,merge:s,resolveKnownTags:r,schema:o,sortMapEntries:i,toStringDefaults:a}){this.compat=Array.isArray(e)?Es(e,"compat"):e?Es(null,e):null,this.name=typeof o=="string"&&o||"core",this.knownTags=r?i0:{},this.tags=Es(n,this.name,s),this.toStringOptions=a??null,Object.defineProperty(this,tt,{value:Wt}),Object.defineProperty(this,Ze,{value:hs}),Object.defineProperty(this,Gt,{value:Ht}),this.sortMapEntries=typeof i=="function"?i:i===!0?a0:null}clone(){const e=Object.create(Rr.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function l0(t,e){const n=[];let s=e.directives===!0;if(e.directives!==!1&&t.directives){const l=t.directives.toString(t);l?(n.push(l),s=!0):t.directives.docStart&&(s=!0)}s&&n.push("---");const r=ya(t,e),{commentString:o}=r.options;if(t.commentBefore){n.length!==1&&n.unshift("");const l=o(t.commentBefore);n.unshift(Ge(l,""))}let i=!1,a=null;if(t.contents){if(he(t.contents)){if(t.contents.spaceBefore&&s&&n.push(""),t.contents.commentBefore){const f=o(t.contents.commentBefore);n.push(Ge(f,""))}r.forceBlockIndent=!!t.comment,a=t.contents.comment}const l=a?void 0:()=>i=!0;let c=Bt(t.contents,r,()=>a=null,l);a&&(c+=pt(c,"",o(a))),(c[0]==="|"||c[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${c}`:n.push(c)}else n.push(Bt(t.contents,r));if(t.directives?.docEnd)if(t.comment){const l=o(t.comment);l.includes(`
`)?(n.push("..."),n.push(Ge(l,""))):n.push(`... ${l}`)}else n.push("...");else{let l=t.comment;l&&i&&(l=l.replace(/^\n+/,"")),l&&((!i||a)&&n[n.length-1]!==""&&n.push(""),n.push(Ge(o(l),"")))}return n.join(`
`)+`
`}class bs{constructor(e,n,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Ie,{value:or});let r=null;typeof n=="function"||Array.isArray(n)?r=n:s===void 0&&n&&(s=n,n=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},s);this.options=o;let{version:i}=o;s?._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(i=this.directives.yaml.version)):this.directives=new xe({version:i}),this.setSchema(i,s),this.contents=e===void 0?null:this.createNode(e,r,s)}clone(){const e=Object.create(bs.prototype,{[Ie]:{value:or}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=he(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){At(this.contents)&&this.contents.add(e)}addIn(e,n){At(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const s=da(this);e.anchor=!n||s.has(n)?ha(n||"a",s):n}return new Or(e.anchor)}createNode(e,n,s){let r;if(typeof n=="function")e=n.call({"":e},"",e),r=n;else if(Array.isArray(n)){const y=w=>typeof w=="number"||w instanceof String||w instanceof Number,v=n.filter(y).map(String);v.length>0&&(n=n.concat(v)),r=n}else s===void 0&&n&&(s=n,n=void 0);const{aliasDuplicateObjects:o,anchorPrefix:i,flow:a,keepUndefined:l,onTagObj:c,tag:f}=s??{},{onAnchor:u,setAnchors:d,sourceObjects:m}=Mg(this,i||"a"),g={aliasDuplicateObjects:o??!0,keepUndefined:l??!1,onAnchor:u,onTagObj:c,replacer:r,schema:this.schema,sourceObjects:m},p=bn(e,f,g);return a&&de(p)&&(p.flow=!0),d(),p}createPair(e,n,s={}){const r=this.createNode(e,null,s),o=this.createNode(n,null,s);return new Se(r,o)}delete(e){return At(this.contents)?this.contents.delete(e):!1}deleteIn(e){return tn(e)?this.contents==null?!1:(this.contents=null,!0):At(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return de(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return tn(e)?!n&&se(this.contents)?this.contents.value:this.contents:de(this.contents)?this.contents.getIn(e,n):void 0}has(e){return de(this.contents)?this.contents.has(e):!1}hasIn(e){return tn(e)?this.contents!==void 0:de(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=ts(this.schema,[e],n):At(this.contents)&&this.contents.set(e,n)}setIn(e,n){tn(e)?this.contents=n:this.contents==null?this.contents=ts(this.schema,Array.from(e),n):At(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new xe({version:"1.1"}),s={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new xe({version:e}),s={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(s)this.schema=new Rr(Object.assign(s,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:s,maxAliasCount:r,onAnchor:o,reviver:i}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=Oe(this.contents,n??"",a);if(typeof o=="function")for(const{count:c,res:f}of a.anchors.values())o(f,c);return typeof i=="function"?Et(i,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return l0(this,e)}}function At(t){if(de(t))return!0;throw new Error("Expected a YAML collection as document contents")}class La extends Error{constructor(e,n,s,r){super(),this.name=e,this.code=s,this.message=r,this.pos=n}}class nn extends La{constructor(e,n,s){super("YAMLParseError",e,n,s)}}class c0 extends La{constructor(e,n,s){super("YAMLWarning",e,n,s)}}const Mo=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));const{line:s,col:r}=n.linePos[0];n.message+=` at line ${s}, column ${r}`;let o=r-1,i=t.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(o>=60&&i.length>80){const a=Math.min(o-39,i.length-79);i="…"+i.substring(a),o-=a-1}if(i.length>80&&(i=i.substring(0,79)+"…"),s>1&&/^ *$/.test(i.substring(0,o))){let a=t.substring(e.lineStarts[s-2],e.lineStarts[s-1]);a.length>80&&(a=a.substring(0,79)+`…
`),i=a+i}if(/[^ ]/.test(i)){let a=1;const l=n.linePos[1];l&&l.line===s&&l.col>r&&(a=Math.max(1,Math.min(l.col-r,80-o)));const c=" ".repeat(o)+"^".repeat(a);n.message+=`:

${i}
${c}
`}};function Ut(t,{flow:e,indicator:n,next:s,offset:r,onError:o,parentIndent:i,startOnNewline:a}){let l=!1,c=a,f=a,u="",d="",m=!1,g=!1,p=null,y=null,v=null,w=null,_=null,k=null,S=null;for(const b of t)switch(g&&(b.type!=="space"&&b.type!=="newline"&&b.type!=="comma"&&o(b.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),g=!1),p&&(c&&b.type!=="comment"&&b.type!=="newline"&&o(p,"TAB_AS_INDENT","Tabs are not allowed as indentation"),p=null),b.type){case"space":!e&&(n!=="doc-start"||s?.type!=="flow-collection")&&b.source.includes("	")&&(p=b),f=!0;break;case"comment":{f||o(b,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const j=b.source.substring(1)||" ";u?u+=d+j:u=j,d="",c=!1;break}case"newline":c?u?u+=b.source:(!k||n!=="seq-item-ind")&&(l=!0):d+=b.source,c=!0,m=!0,(y||v)&&(w=b),f=!0;break;case"anchor":y&&o(b,"MULTIPLE_ANCHORS","A node can have at most one anchor"),b.source.endsWith(":")&&o(b.offset+b.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),y=b,S??(S=b.offset),c=!1,f=!1,g=!0;break;case"tag":{v&&o(b,"MULTIPLE_TAGS","A node can have at most one tag"),v=b,S??(S=b.offset),c=!1,f=!1,g=!0;break}case n:(y||v)&&o(b,"BAD_PROP_ORDER",`Anchors and tags must be after the ${b.source} indicator`),k&&o(b,"UNEXPECTED_TOKEN",`Unexpected ${b.source} in ${e??"collection"}`),k=b,c=n==="seq-item-ind"||n==="explicit-key-ind",f=!1;break;case"comma":if(e){_&&o(b,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),_=b,c=!1,f=!1;break}default:o(b,"UNEXPECTED_TOKEN",`Unexpected ${b.type} token`),c=!1,f=!1}const N=t[t.length-1],A=N?N.offset+N.source.length:r;return g&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&o(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p&&(c&&p.indent<=i||s?.type==="block-map"||s?.type==="block-seq")&&o(p,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:_,found:k,spaceBefore:l,comment:u,hasNewline:m,anchor:y,tag:v,newlineAfterProp:w,end:A,start:S??A}}function vn(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(vn(e.key)||vn(e.value))return!0}return!1;default:return!0}}function cr(t,e,n){if(e?.type==="flow-collection"){const s=e.end[0];s.indent===t&&(s.source==="]"||s.source==="}")&&vn(e)&&n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Fa(t,e,n){const{uniqueKeys:s}=t.options;if(s===!1)return!1;const r=typeof s=="function"?s:(o,i)=>o===i||se(o)&&se(i)&&o.value===i.value;return e.some(o=>r(o.key,n))}const Lo="All mapping items must start at the same column";function u0({composeNode:t,composeEmptyNode:e},n,s,r,o){const i=o?.nodeClass??$e,a=new i(n.schema);n.atRoot&&(n.atRoot=!1);let l=s.offset,c=null;for(const f of s.items){const{start:u,key:d,sep:m,value:g}=f,p=Ut(u,{indicator:"explicit-key-ind",next:d??m?.[0],offset:l,onError:r,parentIndent:s.indent,startOnNewline:!0}),y=!p.found;if(y){if(d&&(d.type==="block-seq"?r(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in d&&d.indent!==s.indent&&r(l,"BAD_INDENT",Lo)),!p.anchor&&!p.tag&&!m){c=p.end,p.comment&&(a.comment?a.comment+=`
`+p.comment:a.comment=p.comment);continue}(p.newlineAfterProp||vn(d))&&r(d??u[u.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else p.found?.indent!==s.indent&&r(l,"BAD_INDENT",Lo);n.atKey=!0;const v=p.end,w=d?t(n,d,p,r):e(n,v,u,null,p,r);n.schema.compat&&cr(s.indent,d,r),n.atKey=!1,Fa(n,a.items,w)&&r(v,"DUPLICATE_KEY","Map keys must be unique");const _=Ut(m??[],{indicator:"map-value-ind",next:g,offset:w.range[2],onError:r,parentIndent:s.indent,startOnNewline:!d||d.type==="block-scalar"});if(l=_.end,_.found){y&&(g?.type==="block-map"&&!_.hasNewline&&r(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&p.start<_.found.offset-1024&&r(w.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const k=g?t(n,g,_,r):e(n,l,m,null,_,r);n.schema.compat&&cr(s.indent,g,r),l=k.range[2];const S=new Se(w,k);n.options.keepSourceTokens&&(S.srcToken=f),a.items.push(S)}else{y&&r(w.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),_.comment&&(w.comment?w.comment+=`
`+_.comment:w.comment=_.comment);const k=new Se(w);n.options.keepSourceTokens&&(k.srcToken=f),a.items.push(k)}}return c&&c<l&&r(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[s.offset,l,c??l],a}function f0({composeNode:t,composeEmptyNode:e},n,s,r,o){const i=o?.nodeClass??vt,a=new i(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=s.offset,c=null;for(const{start:f,value:u}of s.items){const d=Ut(f,{indicator:"seq-item-ind",next:u,offset:l,onError:r,parentIndent:s.indent,startOnNewline:!0});if(!d.found)if(d.anchor||d.tag||u)u&&u.type==="block-seq"?r(d.end,"BAD_INDENT","All sequence items must start at the same column"):r(l,"MISSING_CHAR","Sequence item without - indicator");else{c=d.end,d.comment&&(a.comment=d.comment);continue}const m=u?t(n,u,d,r):e(n,d.end,f,null,d,r);n.schema.compat&&cr(s.indent,u,r),l=m.range[2],a.items.push(m)}return a.range=[s.offset,l,c??l],a}function jn(t,e,n,s){let r="";if(t){let o=!1,i="";for(const a of t){const{source:l,type:c}=a;switch(c){case"space":o=!0;break;case"comment":{n&&!o&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const f=l.substring(1)||" ";r?r+=i+f:r=f,i="";break}case"newline":r&&(i+=l),o=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:r,offset:e}}const Cs="Block collections are not allowed within flow collections",zs=t=>t&&(t.type==="block-map"||t.type==="block-seq");function d0({composeNode:t,composeEmptyNode:e},n,s,r,o){const i=s.start.source==="{",a=i?"flow map":"flow sequence",l=o?.nodeClass??(i?$e:vt),c=new l(n.schema);c.flow=!0;const f=n.atRoot;f&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let u=s.offset+s.start.source.length;for(let y=0;y<s.items.length;++y){const v=s.items[y],{start:w,key:_,sep:k,value:S}=v,N=Ut(w,{flow:a,indicator:"explicit-key-ind",next:_??k?.[0],offset:u,onError:r,parentIndent:s.indent,startOnNewline:!1});if(!N.found){if(!N.anchor&&!N.tag&&!k&&!S){y===0&&N.comma?r(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):y<s.items.length-1&&r(N.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),N.comment&&(c.comment?c.comment+=`
`+N.comment:c.comment=N.comment),u=N.end;continue}!i&&n.options.strict&&vn(_)&&r(_,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(y===0)N.comma&&r(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(N.comma||r(N.start,"MISSING_CHAR",`Missing , between ${a} items`),N.comment){let A="";e:for(const b of w)switch(b.type){case"comma":case"space":break;case"comment":A=b.source.substring(1);break e;default:break e}if(A){let b=c.items[c.items.length-1];pe(b)&&(b=b.value??b.key),b.comment?b.comment+=`
`+A:b.comment=A,N.comment=N.comment.substring(A.length+1)}}if(!i&&!k&&!N.found){const A=S?t(n,S,N,r):e(n,N.end,k,null,N,r);c.items.push(A),u=A.range[2],zs(S)&&r(A.range,"BLOCK_IN_FLOW",Cs)}else{n.atKey=!0;const A=N.end,b=_?t(n,_,N,r):e(n,A,w,null,N,r);zs(_)&&r(b.range,"BLOCK_IN_FLOW",Cs),n.atKey=!1;const j=Ut(k??[],{flow:a,indicator:"map-value-ind",next:S,offset:b.range[2],onError:r,parentIndent:s.indent,startOnNewline:!1});if(j.found){if(!i&&!N.found&&n.options.strict){if(k)for(const I of k){if(I===j.found)break;if(I.type==="newline"){r(I,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}N.start<j.found.offset-1024&&r(j.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else S&&("source"in S&&S.source&&S.source[0]===":"?r(S,"MISSING_CHAR",`Missing space after : in ${a}`):r(j.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const M=S?t(n,S,j,r):j.found?e(n,j.end,k,null,j,r):null;M?zs(S)&&r(M.range,"BLOCK_IN_FLOW",Cs):j.comment&&(b.comment?b.comment+=`
`+j.comment:b.comment=j.comment);const z=new Se(b,M);if(n.options.keepSourceTokens&&(z.srcToken=v),i){const I=c;Fa(n,I.items,b)&&r(A,"DUPLICATE_KEY","Map keys must be unique"),I.items.push(z)}else{const I=new $e(n.schema);I.flow=!0,I.items.push(z);const T=(M??b).range;I.range=[b.range[0],T[1],T[2]],c.items.push(I)}u=M?M.range[2]:j.end}}const d=i?"}":"]",[m,...g]=s.end;let p=u;if(m&&m.source===d)p=m.offset+m.source.length;else{const y=a[0].toUpperCase()+a.substring(1),v=f?`${y} must end with a ${d}`:`${y} in block collection must be sufficiently indented and end with a ${d}`;r(u,f?"MISSING_CHAR":"BAD_INDENT",v),m&&m.source.length!==1&&g.unshift(m)}if(g.length>0){const y=jn(g,p,n.options.strict,r);y.comment&&(c.comment?c.comment+=`
`+y.comment:c.comment=y.comment),c.range=[s.offset,p,y.offset]}else c.range=[s.offset,p,p];return c}function Ps(t,e,n,s,r,o){const i=n.type==="block-map"?u0(t,e,n,s,o):n.type==="block-seq"?f0(t,e,n,s,o):d0(t,e,n,s,o),a=i.constructor;return r==="!"||r===a.tagName?(i.tag=a.tagName,i):(r&&(i.tag=r),i)}function h0(t,e,n,s,r){const o=s.tag,i=o?e.directives.tagName(o.source,d=>r(o,"TAG_RESOLVE_FAILED",d)):null;if(n.type==="block-seq"){const{anchor:d,newlineAfterProp:m}=s,g=d&&o?d.offset>o.offset?d:o:d??o;g&&(!m||m.offset<g.offset)&&r(g,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!o||!i||i==="!"||i===$e.tagName&&a==="map"||i===vt.tagName&&a==="seq")return Ps(t,e,n,r,i);let l=e.schema.tags.find(d=>d.tag===i&&d.collection===a);if(!l){const d=e.schema.knownTags[i];if(d&&d.collection===a)e.schema.tags.push(Object.assign({},d,{default:!1})),l=d;else return d?r(o,"BAD_COLLECTION_TYPE",`${d.tag} used for ${a} collection, but expects ${d.collection??"scalar"}`,!0):r(o,"TAG_RESOLVE_FAILED",`Unresolved tag: ${i}`,!0),Ps(t,e,n,r,i)}const c=Ps(t,e,n,r,i,l),f=l.resolve?.(c,d=>r(o,"TAG_RESOLVE_FAILED",d),e.options)??c,u=he(f)?f:new K(f);return u.range=c.range,u.tag=i,l?.format&&(u.format=l.format),u}function p0(t,e,n){const s=e.offset,r=m0(e,t.options.strict,n);if(!r)return{value:"",type:null,comment:"",range:[s,s,s]};const o=r.mode===">"?K.BLOCK_FOLDED:K.BLOCK_LITERAL,i=e.source?g0(e.source):[];let a=i.length;for(let p=i.length-1;p>=0;--p){const y=i[p][1];if(y===""||y==="\r")a=p;else break}if(a===0){const p=r.chomp==="+"&&i.length>0?`
`.repeat(Math.max(1,i.length-1)):"";let y=s+r.length;return e.source&&(y+=e.source.length),{value:p,type:o,comment:r.comment,range:[s,y,y]}}let l=e.indent+r.indent,c=e.offset+r.length,f=0;for(let p=0;p<a;++p){const[y,v]=i[p];if(v===""||v==="\r")r.indent===0&&y.length>l&&(l=y.length);else{y.length<l&&n(c+y.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),r.indent===0&&(l=y.length),f=p,l===0&&!t.atRoot&&n(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=y.length+v.length+1}for(let p=i.length-1;p>=a;--p)i[p][0].length>l&&(a=p+1);let u="",d="",m=!1;for(let p=0;p<f;++p)u+=i[p][0].slice(l)+`
`;for(let p=f;p<a;++p){let[y,v]=i[p];c+=y.length+v.length+1;const w=v[v.length-1]==="\r";if(w&&(v=v.slice(0,-1)),v&&y.length<l){const k=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;n(c-v.length-(w?2:1),"BAD_INDENT",k),y=""}o===K.BLOCK_LITERAL?(u+=d+y.slice(l)+v,d=`
`):y.length>l||v[0]==="	"?(d===" "?d=`
`:!m&&d===`
`&&(d=`

`),u+=d+y.slice(l)+v,d=`
`,m=!0):v===""?d===`
`?u+=`
`:d=`
`:(u+=d+v,d=" ",m=!1)}switch(r.chomp){case"-":break;case"+":for(let p=a;p<i.length;++p)u+=`
`+i[p][0].slice(l);u[u.length-1]!==`
`&&(u+=`
`);break;default:u+=`
`}const g=s+r.length+e.source.length;return{value:u,type:o,comment:r.comment,range:[s,g,g]}}function m0({offset:t,props:e},n,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=e[0],o=r[0];let i=0,a="",l=-1;for(let d=1;d<r.length;++d){const m=r[d];if(!a&&(m==="-"||m==="+"))a=m;else{const g=Number(m);!i&&g?i=g:l===-1&&(l=t+d)}}l!==-1&&s(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let c=!1,f="",u=r.length;for(let d=1;d<e.length;++d){const m=e[d];switch(m.type){case"space":c=!0;case"newline":u+=m.source.length;break;case"comment":n&&!c&&s(m,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),u+=m.source.length,f=m.source.substring(1);break;case"error":s(m,"UNEXPECTED_TOKEN",m.message),u+=m.source.length;break;default:{const g=`Unexpected token in block scalar header: ${m.type}`;s(m,"UNEXPECTED_TOKEN",g);const p=m.source;p&&typeof p=="string"&&(u+=p.length)}}}return{mode:o,indent:i,chomp:a,comment:f,length:u}}function g0(t){const e=t.split(/\n( *)/),n=e[0],s=n.match(/^( *)/),o=[s?.[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let i=1;i<e.length;i+=2)o.push([e[i],e[i+1]]);return o}function y0(t,e,n){const{offset:s,type:r,source:o,end:i}=t;let a,l;const c=(d,m,g)=>n(s+d,m,g);switch(r){case"scalar":a=K.PLAIN,l=b0(o,c);break;case"single-quoted-scalar":a=K.QUOTE_SINGLE,l=v0(o,c);break;case"double-quoted-scalar":a=K.QUOTE_DOUBLE,l=w0(o,c);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[s,s+o.length,s+o.length]}}const f=s+o.length,u=jn(i,f,e,n);return{value:l,type:a,comment:u.comment,range:[s,f,u.offset]}}function b0(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Da(t)}function v0(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),Da(t.slice(1,-1)).replace(/''/g,"'")}function Da(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(t);if(!s)return t;let r=s[1],o=" ",i=e.lastIndex;for(n.lastIndex=i;s=n.exec(t);)s[1]===""?o===`
`?r+=o:o=`
`:(r+=o+s[1],o=" "),i=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=i,s=a.exec(t),r+o+(s?.[1]??"")}function w0(t,e){let n="";for(let s=1;s<t.length-1;++s){const r=t[s];if(!(r==="\r"&&t[s+1]===`
`))if(r===`
`){const{fold:o,offset:i}=_0(t,s);n+=o,s=i}else if(r==="\\"){let o=t[++s];const i=k0[o];if(i)n+=i;else if(o===`
`)for(o=t[s+1];o===" "||o==="	";)o=t[++s+1];else if(o==="\r"&&t[s+1]===`
`)for(o=t[++s+1];o===" "||o==="	";)o=t[++s+1];else if(o==="x"||o==="u"||o==="U"){const a={x:2,u:4,U:8}[o];n+=x0(t,s+1,a,e),s+=a}else{const a=t.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(r===" "||r==="	"){const o=s;let i=t[s+1];for(;i===" "||i==="	";)i=t[++s+1];i!==`
`&&!(i==="\r"&&t[s+2]===`
`)&&(n+=s>o?t.slice(o,s+1):r)}else n+=r}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function _0(t,e){let n="",s=t[e+1];for(;(s===" "||s==="	"||s===`
`||s==="\r")&&!(s==="\r"&&t[e+2]!==`
`);)s===`
`&&(n+=`
`),e+=1,s=t[e+1];return n||(n=" "),{fold:n,offset:e}}const k0={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function x0(t,e,n,s){const r=t.substr(e,n),i=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(i)){const a=t.substr(e-2,n+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(i)}function Ra(t,e,n,s){const{value:r,type:o,comment:i,range:a}=e.type==="block-scalar"?p0(t,e,s):y0(e,t.options.strict,s),l=n?t.directives.tagName(n.source,u=>s(n,"TAG_RESOLVE_FAILED",u)):null;let c;t.options.stringKeys&&t.atKey?c=t.schema[Ze]:l?c=S0(t.schema,r,l,n,s):e.type==="scalar"?c=N0(t,r,e,s):c=t.schema[Ze];let f;try{const u=c.resolve(r,d=>s(n??e,"TAG_RESOLVE_FAILED",d),t.options);f=se(u)?u:new K(u)}catch(u){const d=u instanceof Error?u.message:String(u);s(n??e,"TAG_RESOLVE_FAILED",d),f=new K(r)}return f.range=a,f.source=r,o&&(f.type=o),l&&(f.tag=l),c.format&&(f.format=c.format),i&&(f.comment=i),f}function S0(t,e,n,s,r){if(n==="!")return t[Ze];const o=[];for(const a of t.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)o.push(a);else return a;for(const a of o)if(a.test?.test(e))return a;const i=t.knownTags[n];return i&&!i.collection?(t.tags.push(Object.assign({},i,{default:!1,test:void 0})),i):(r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Ze])}function N0({atKey:t,directives:e,schema:n},s,r,o){const i=n.tags.find(a=>(a.default===!0||t&&a.default==="key")&&a.test?.test(s))||n[Ze];if(n.compat){const a=n.compat.find(l=>l.default&&l.test?.test(s))??n[Ze];if(i.tag!==a.tag){const l=e.tagString(i.tag),c=e.tagString(a.tag),f=`Value may be parsed as either ${l} or ${c}`;o(r,"TAG_RESOLVE_FAILED",f,!0)}}return i}function j0(t,e,n){if(e){n??(n=e.length);for(let s=n-1;s>=0;--s){let r=e[s];switch(r.type){case"space":case"comment":case"newline":t-=r.source.length;continue}for(r=e[++s];r?.type==="space";)t+=r.source.length,r=e[++s];break}}return t}const A0={composeNode:Za,composeEmptyNode:Zr};function Za(t,e,n,s){const r=t.atKey,{spaceBefore:o,comment:i,anchor:a,tag:l}=n;let c,f=!0;switch(e.type){case"alias":c=$0(t,e,s),(a||l)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=Ra(t,e,l,s),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=h0(A0,t,e,n,s),a&&(c.anchor=a.source.substring(1));break;default:{const u=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",u),c=Zr(t,e.offset,void 0,null,n,s),f=!1}}return a&&c.anchor===""&&s(a,"BAD_ALIAS","Anchor cannot be an empty string"),r&&t.options.stringKeys&&(!se(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&s(l??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),o&&(c.spaceBefore=!0),i&&(e.type==="scalar"&&e.source===""?c.comment=i:c.commentBefore=i),t.options.keepSourceTokens&&f&&(c.srcToken=e),c}function Zr(t,e,n,s,{spaceBefore:r,comment:o,anchor:i,tag:a,end:l},c){const f={type:"scalar",offset:j0(e,n,s),indent:-1,source:""},u=Ra(t,f,a,c);return i&&(u.anchor=i.source.substring(1),u.anchor===""&&c(i,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(u.spaceBefore=!0),o&&(u.comment=o,u.range[2]=l),u}function $0({options:t},{offset:e,source:n,end:s},r){const o=new Or(n.substring(1));o.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&r(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const i=e+n.length,a=jn(s,i,t.strict,r);return o.range=[e,i,a.offset],a.comment&&(o.comment=a.comment),o}function O0(t,e,{offset:n,start:s,value:r,end:o},i){const a=Object.assign({_directives:e},t),l=new bs(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},f=Ut(s,{indicator:"doc-start",next:r??o?.[0],offset:n,onError:i,parentIndent:0,startOnNewline:!0});f.found&&(l.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!f.hasNewline&&i(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=r?Za(c,r,f,i):Zr(c,f.end,s,null,f,i);const u=l.contents.range[2],d=jn(o,u,!1,i);return d.comment&&(l.comment=d.comment),l.range=[n,u,d.offset],l}function en(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function Fo(t){let e="",n=!1,s=!1;for(let r=0;r<t.length;++r){const o=t[r];switch(o[0]){case"#":e+=(e===""?"":s?`

`:`
`)+(o.substring(1)||" "),n=!0,s=!1;break;case"%":t[r+1]?.[0]!=="#"&&(r+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:e,afterEmptyLine:s}}class I0{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,s,r,o)=>{const i=en(n);o?this.warnings.push(new c0(i,s,r)):this.errors.push(new nn(i,s,r))},this.directives=new xe({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:s,afterEmptyLine:r}=Fo(this.prelude);if(s){const o=e.contents;if(n)e.comment=e.comment?`${e.comment}
${s}`:s;else if(r||e.directives.docStart||!o)e.commentBefore=s;else if(de(o)&&!o.flow&&o.items.length>0){let i=o.items[0];pe(i)&&(i=i.key);const a=i.commentBefore;i.commentBefore=a?`${s}
${a}`:s}else{const i=o.commentBefore;o.commentBefore=i?`${s}
${i}`:s}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Fo(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,s=-1){for(const r of e)yield*this.next(r);yield*this.end(n,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,s,r)=>{const o=en(e);o[0]+=n,this.onError(o,"BAD_DIRECTIVE",s,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=O0(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new nn(en(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new nn(en(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const n=jn(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const s=this.doc.comment;this.doc.comment=s?`${s}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new nn(en(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),r=new bs(void 0,s);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,n,n],this.decorate(r,!1),yield r}}}const Ba="\uFEFF",Ua="",Ka="",ur="";function T0(t){switch(t){case Ba:return"byte-order-mark";case Ua:return"doc-mode";case Ka:return"flow-error-end";case ur:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function Ee(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Do=new Set("0123456789ABCDEFabcdef"),E0=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Rn=new Set(",[]{}"),C0=new Set(` ,[]{}
\r	`),Ms=t=>!t||C0.has(t);class z0{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let s=this.next??"stream";for(;s&&(n||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let s=0;for(;n===" ";)n=this.buffer[++s+e];if(n==="\r"){const r=this.buffer[s+e+1];if(r===`
`||!r&&!this.atEnd)return e+s+1}return n===`
`||s>=this.indentNext||!n&&!this.atEnd?e+s:-1}if(n==="-"||n==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&Ee(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Ba&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,s=e.indexOf("#");for(;s!==-1;){const o=e[s-1];if(o===" "||o==="	"){n=s-1;break}else s=e.indexOf("#",s+1)}for(;;){const o=e[n-1];if(o===" "||o==="	")n-=1;else break}const r=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield Ua,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&Ee(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Ee(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Ee(n)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Ms),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,s=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=s=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const r=this.getLine();if(r===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&r[0]!=="#"||s===0&&(r.startsWith("---")||r.startsWith("..."))&&Ee(r[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield Ka,yield*this.parseLineStart();let o=0;for(;r[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),r[o]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Ms),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const i=this.charAt(1);if(this.flowKey||Ee(i)||i===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let o=0;for(;this.buffer[n-1-o]==="\\";)o+=1;if(o%2===0)break;n=this.buffer.indexOf('"',n+1)}const s=this.buffer.substring(0,n);let r=s.indexOf(`
`,this.pos);if(r!==-1){for(;r!==-1;){const o=this.continueScalar(r+1);if(o===-1)break;r=s.indexOf(`
`,o)}r!==-1&&(n=r-(s[r-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Ee(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,s;e:for(let o=this.pos;s=this.buffer[o];++o)switch(s){case" ":n+=1;break;case`
`:e=o,n=0;break;case"\r":{const i=this.buffer[o+1];if(!i&&!this.atEnd)return this.setNext("block-scalar");if(i===`
`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const o=this.continueScalar(e+1);if(o===-1)break;e=this.buffer.indexOf(`
`,o)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let r=e+1;for(s=this.buffer[r];s===" ";)s=this.buffer[++r];if(s==="	"){for(;s==="	"||s===" "||s==="\r"||s===`
`;)s=this.buffer[++r];e=r-1}else if(!this.blockScalarKeep)do{let o=e-1,i=this.buffer[o];i==="\r"&&(i=this.buffer[--o]);const a=o;for(;i===" ";)i=this.buffer[--o];if(i===`
`&&o>=this.pos&&o+1+n>a)e=o;else break}while(!0);return yield ur,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,s=this.pos-1,r;for(;r=this.buffer[++s];)if(r===":"){const o=this.buffer[s+1];if(Ee(o)||e&&Rn.has(o))break;n=s}else if(Ee(r)){let o=this.buffer[s+1];if(r==="\r"&&(o===`
`?(s+=1,r=`
`,o=this.buffer[s+1]):n=s),o==="#"||e&&Rn.has(o))break;if(r===`
`){const i=this.continueScalar(s+1);if(i===-1)break;s=Math.max(s,i-2)}}else{if(e&&Rn.has(r))break;n=s}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield ur,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Ms))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(Ee(n)||e&&Rn.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Ee(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(E0.has(n))n=this.buffer[++e];else if(n==="%"&&Do.has(this.buffer[e+1])&&Do.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,s;do s=this.buffer[++n];while(s===" "||e&&s==="	");const r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let n=this.pos,s=this.buffer[n];for(;!e(s);)s=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class P0{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,s=this.lineStarts.length;for(;n<s;){const o=n+s>>1;this.lineStarts[o]<e?n=o+1:s=o}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const r=this.lineStarts[n-1];return{line:n,col:e-r+1}}}}function Xe(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function Ro(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Va(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Zn(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function $t(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function Zo(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!Xe(e.start,"explicit-key-ind")&&!Xe(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Va(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class M0{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new z0,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,n))yield*this.next(s);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=T0(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const s=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in s?s.indent:0:n.type==="flow-collection"&&s.type==="document"&&(n.indent=0),n.type==="flow-collection"&&Zo(n),s.type){case"document":s.value=n;break;case"block-scalar":s.props.push(n);break;case"block-map":{const r=s.items[s.items.length-1];if(r.value){s.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=n;else{Object.assign(r,{key:n,sep:[]}),this.onKeyLine=!r.explicitKey;return}break}case"block-seq":{const r=s.items[s.items.length-1];r.value?s.items.push({start:[],value:n}):r.value=n;break}case"flow-collection":{const r=s.items[s.items.length-1];!r||r.value?s.items.push({start:[],key:n,sep:[]}):r.sep?r.value=n:Object.assign(r,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const r=n.items[n.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&Ro(r.start)===-1&&(n.indent===0||r.start.every(o=>o.type!=="comment"||o.indent<n.indent))&&(s.type==="document"?s.end=r.start:s.items.push({start:r.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Ro(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=Zn(this.peek(2)),s=$t(n);let r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const s="end"in n.value?n.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const s=!this.onKeyLine&&this.indent===e.indent,r=s&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(r&&n.sep&&!n.value){const i=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":i.push(a);break;case"space":break;case"comment":l.indent>e.indent&&(i.length=0);break;default:i.length=0}}i.length>=2&&(o=n.sep.splice(i[1]))}switch(this.type){case"anchor":case"tag":r||n.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):r||n.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Xe(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(Va(n.key)&&!Xe(n.sep,"newline")){const i=$t(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:a,sep:l}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(Xe(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const i=$t(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||r?e.items.push({start:o,key:null,sep:[this.sourceToken]}):Xe(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);r||n.value?(e.items.push({start:o,key:i,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(i):(Object.assign(n,{key:i,sep:[]}),this.onKeyLine=!0);return}default:{const i=this.startBlockValue(e);if(i){if(i.type==="block-seq"){if(!n.explicitKey&&n.sep&&!Xe(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else s&&e.items.push({start:o});this.stack.push(i);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const s="end"in n.value?n.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||Xe(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s&&s.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:r,sep:[]}):n.sep?this.stack.push(r):Object.assign(n,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const r=Zn(s),o=$t(r);Zo(e);const i=e.end.splice(1,e.end.length);i.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:o,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Zn(e),s=$t(n);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Zn(e),s=$t(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function L0(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new P0||null,prettyErrors:e}}function F0(t,e={}){const{lineCounter:n,prettyErrors:s}=L0(e),r=new M0(n?.addNewLine),o=new I0(e);let i=null;for(const a of o.compose(r.parse(t),!0,t.length))if(!i)i=a;else if(i.options.logLevel!=="silent"){i.errors.push(new nn(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&n&&(i.errors.forEach(Mo(t,n)),i.warnings.forEach(Mo(t,n))),i}function D0(t,e,n){let s;const r=F0(t,n);if(!r)return null;if(r.warnings.forEach(o=>ba(r.options.logLevel,o)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:s},n))}const qa=fr(t=>({trains:{},currentTrain:void 0,setTrainsFromYml:e=>{try{const n=D0(e),s=Og(n);s.valid?t({trains:n}):(console.error("Invalid YAML data:",s.errors),cn.error("We couldn't load your trains. Please check that you uploaded the SavedTrainProperties YAML file from TrainCarts. See the browser console for more details.",{duration:1e4}),t({trains:{},parseErrors:s.errors}))}catch(n){console.error("Error parsing YAML:",n),cn.error("We couldn't read your file. Please make sure it's a valid YAML and try again. See the browser console for more details.",{duration:1e4}),t({trains:{},parseErrors:["Failed to parse YAML.",String(n)]});return}},setTrains:e=>t({trains:e}),setCurrentTrain:e=>t({currentTrain:e}),clearCurrentTrain:()=>t({currentTrain:void 0}),reset:()=>t({trains:{},currentTrain:void 0,parseErrors:void 0})}));function R0(){const t=P.c(58),e=wt(),n=qa(),[s,r]=X.useState(n.currentTrain),[o,i]=X.useState(e.cart),[a,l]=X.useState(e.metadata.projectName);let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=h.jsx(_r,{children:"New TCA-Project"}),t[0]=c):c=t[0];let f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f=h.jsx(Le,{htmlFor:"projectName",children:"Project name"}),t[1]=f):f=t[1];let u,d,m,g;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=h.jsx(pr,{id:"projectName",placeholder:"My TCA Project",className:"mt-2",onChange:R=>l(R.target.value)}),d=h.jsx("hr",{className:"my-4"}),m=h.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"TC Animator lets you animate one cart from a single train per project. To work on a different train or cart, create a new project for each one."}),g=h.jsx(Le,{htmlFor:"train",children:"Train"}),t[2]=u,t[3]=d,t[4]=m,t[5]=g):(u=t[2],d=t[3],m=t[4],g=t[5]);let p;t[6]!==n.trains?(p=R=>{const D=n.trains[R];D&&(r(D),i(null))},t[6]=n.trains,t[7]=p):p=t[7];let y;t[8]===Symbol.for("react.memo_cache_sentinel")?(y=h.jsx(Jn,{className:"w-full",id:"train",children:h.jsx(Hn,{placeholder:"Select a train"})}),t[8]=y):y=t[8];let v;t[9]===Symbol.for("react.memo_cache_sentinel")?(v=h.jsx(Qn,{children:"Trains"}),t[9]=v):v=t[9];let w;t[10]!==n.trains?(w=Object.values(n.trains).filter(U0).map(B0),t[10]=n.trains,t[11]=w):w=t[11];let _;t[12]!==w?(_=h.jsx(Xn,{children:h.jsxs(Wn,{children:[v,w]})}),t[12]=w,t[13]=_):_=t[13];let k;t[14]!==_||t[15]!==p?(k=h.jsxs(Yn,{onValueChange:p,children:[y,_]}),t[14]=_,t[15]=p,t[16]=k):k=t[16];let S;t[17]===Symbol.for("react.memo_cache_sentinel")?(S=h.jsx(Le,{htmlFor:"cart",className:"mt-4",children:"Cart"}),t[17]=S):S=t[17];let N;t[18]!==o||t[19]!==s?(N=s?.carts?Object.entries(s.carts).find(R=>{const[,D]=R;return D===o})?.[0]??"":"",t[18]=o,t[19]=s,t[20]=N):N=t[20];const A=!s?.carts;let b;t[21]!==s?.carts?(b=R=>{const D=s?.carts?.[R];D&&i(D)},t[21]=s?.carts,t[22]=b):b=t[22];let j;t[23]===Symbol.for("react.memo_cache_sentinel")?(j=h.jsx(Jn,{className:"w-full",id:"cart",children:h.jsx(Hn,{placeholder:"Select a cart"})}),t[23]=j):j=t[23];let M;t[24]===Symbol.for("react.memo_cache_sentinel")?(M=h.jsx(Qn,{children:"Carts"}),t[24]=M):M=t[24];let z;t[25]!==s?.carts?(z=Object.entries(s?.carts||{}).map(Z0),t[25]=s?.carts,t[26]=z):z=t[26];let I;t[27]!==z?(I=h.jsx(Xn,{children:h.jsxs(Wn,{children:[M,z]})}),t[27]=z,t[28]=I):I=t[28];let T;t[29]!==N||t[30]!==A||t[31]!==b||t[32]!==I?(T=h.jsxs(Yn,{value:N,disabled:A,onValueChange:b,children:[j,I]}),t[29]=N,t[30]=A,t[31]=b,t[32]=I,t[33]=T):T=t[33];let F;t[34]!==k||t[35]!==T?(F=h.jsxs(vr,{children:[c,h.jsx(kr,{asChild:!0,children:h.jsxs("div",{children:[f,u,d,m,g,k,S,T]})})]}),t[34]=k,t[35]=T,t[36]=F):F=t[36];let V;t[37]!==e||t[38]!==n?(V=()=>{e.reset(),n.reset()},t[37]=e,t[38]=n,t[39]=V):V=t[39];let U;t[40]===Symbol.for("react.memo_cache_sentinel")?(U=h.jsx(ec,{}),t[40]=U):U=t[40];let Z;t[41]!==V?(Z=h.jsxs(yt,{variant:"secondary",onClick:V,children:[U,"Back"]}),t[41]=V,t[42]=Z):Z=t[42];let $;t[43]!==o||t[44]!==s||t[45]!==a||t[46]!==e||t[47]!==n?($=async()=>{a&&s&&o&&(e.setProjectName(a),n.setCurrentTrain(s),e.setCart(o),await e.saveProject())},t[43]=o,t[44]=s,t[45]=a,t[46]=e,t[47]=n,t[48]=$):$=t[48];const G=!(a&&s&&o);let ee;t[49]!==$||t[50]!==G?(ee=h.jsx(yt,{onClick:$,disabled:G,children:"Create Project"}),t[49]=$,t[50]=G,t[51]=ee):ee=t[51];let W;t[52]!==Z||t[53]!==ee?(W=h.jsxs(wr,{className:"flex justify-between",children:[Z,ee]}),t[52]=Z,t[53]=ee,t[54]=W):W=t[54];let ne;return t[55]!==F||t[56]!==W?(ne=h.jsx(yr,{open:!0,children:h.jsxs(br,{children:[F,W]})}),t[55]=F,t[56]=W,t[57]=ne):ne=t[57],ne}function Z0(t){const[e]=t;return h.jsx(ht,{value:e,children:e},e)}function B0(t){return h.jsx(ht,{value:t.savedName,children:t.savedName},t.savedName)}function U0(t){return t.carts}function K0(){const t=P.c(22),e=wt(),n=qa();let s;t[0]!==n?(s=async()=>{const w=await ci({description:"Select a YAML file",mimeTypes:["application/x-yaml","text/yaml"],extensions:[".yaml",".yml"],id:"load-saved-train-properties",startIn:"documents"}).catch(V0);if(w){const _=await w.text();n.setTrainsFromYml(_),n.setCurrentTrain(Object.values(n.trains)[0])}},t[0]=n,t[1]=s):s=t[1];const r=s;let o;t[2]!==e?(o=async()=>{cn.promise(e.loadProjectFromFile(),{loading:"Loading project...",success:"Project loaded successfully!",error:"Failed to load project."})},t[2]=e,t[3]=o):o=t[3];const i=o;if(Object.entries(n.trains).length>0&&!e.metadata.createdAt){let w;return t[4]===Symbol.for("react.memo_cache_sentinel")?(w=h.jsx(R0,{}),t[4]=w):w=t[4],w}const a=!e.metadata.createdAt;let l;t[5]===Symbol.for("react.memo_cache_sentinel")?(l=h.jsx(_r,{children:"Welcome to TC Animator!"}),t[5]=l):l=t[5];let c;t[6]===Symbol.for("react.memo_cache_sentinel")?(c=h.jsx("h3",{className:"text-lg",children:"Please import a SavedTrainProperties YAML file or open an existing project to get started."}),t[6]=c):c=t[6];let f;t[7]===Symbol.for("react.memo_cache_sentinel")?(f=h.jsx(Jl,{className:"block size-24 mx-auto"}),t[7]=f):f=t[7];let u;t[8]!==r?(u=h.jsxs(yt,{variant:"secondary",className:"aspect-square w-full h-auto flex flex-col",onClick:r,children:[f,"Import SavedTrainProperties"]}),t[8]=r,t[9]=u):u=t[9];let d;t[10]===Symbol.for("react.memo_cache_sentinel")?(d=h.jsx(Xl,{className:"block size-24 mx-auto"}),t[10]=d):d=t[10];let m;t[11]!==i?(m=h.jsxs(yt,{variant:"secondary",className:"aspect-square w-full h-auto flex flex-col",onClick:i,children:[d,"Open TCA-Project"]}),t[11]=i,t[12]=m):m=t[12];let g;t[13]!==u||t[14]!==m?(g=h.jsxs(vr,{children:[l,h.jsx(kr,{asChild:!0,children:h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c,h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u,m]})]})})]}),t[13]=u,t[14]=m,t[15]=g):g=t[15];let p;t[16]===Symbol.for("react.memo_cache_sentinel")?(p=h.jsx(wr,{className:"text-sm text-muted-foreground",children:h.jsxs("a",{href:"https://foxxite.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:["Made with ❤️ by Foxxite | Articca",h.jsx(Ql,{className:"inline-block size-4"})]})}),t[16]=p):p=t[16];let y;t[17]!==g?(y=h.jsxs(br,{children:[g,p]}),t[17]=g,t[18]=y):y=t[18];let v;return t[19]!==y||t[20]!==a?(v=h.jsx(yr,{open:a,children:y}),t[19]=y,t[20]=a,t[21]=v):v=t[21],v}function V0(){return null}tc.createRoot(document.getElementById("root")).render(h.jsx(X.StrictMode,{children:h.jsxs(nc,{apiKey:"phc_BUSEF16sOuHpZeHaaWtsxnquKiyi6SrYZp7LPcKTHmO",options:{api_host:"https://eu.i.posthog.com",defaults:"2025-05-24",capture_exceptions:!0,debug:!1},children:[h.jsx(_d,{}),h.jsx(K0,{}),h.jsx(md,{}),h.jsx(sc,{position:"top-center"})]})}));
