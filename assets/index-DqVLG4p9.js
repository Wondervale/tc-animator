const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/monaco-BiVoQtDK.js","assets/react-CXwaHllq.js"])))=>i.map(i=>d[i]);
import{g as be,j as w,P as Gh,h as Kh,k as Hh,T as Yh,C as Wh,D as Xh,l as Qh,n as Jh,o as ed,O as td,q as nd,I as rd,S as sd,M as id,t as od,u as ad,v as ld,w as cd,y as ud,z as fd,A as hd,B as dd,V as pd,E as gd,F as md,G as yd,L as bd,H as wd,J as _d,K as vd,N as xd,Q as Ed,U as Sd,X as kd,Y as Ad,Z as Td,_ as Nd,$ as Od,r as ze,a0 as Id,a1 as Cd,a2 as Rd,a3 as jd,a4 as Pd,a5 as ba,a6 as Md,a7 as zd,a8 as lu,a9 as ir,aa as Ld,ab as $d,ac as Bd,ad as Dd,ae as Fd,af as Ud,ag as Vd,ah as Zd,ai as qd,aj as Gd,ak as Kd,al as Hd,am as Yd,an as Wd,ao as Xd,ap as Qd,aq as Jd,ar as ep,as as tp}from"./react-CXwaHllq.js";import{G as np,X as cu,C as rp,a as uu,b as sp,M as ip,c as op,I as Cs,d as ap,B as lp,e as cp,R as up,f as fp,F as hp,E as dp,g as pp}from"./lucide-B0Bd-N0N.js";import{u as wa,a as fu,T as gp,B as mp,b as yp,c as _a,I as bp,d as wp,e as _p,O as vp,L as xp,f as Ep,g as Sp,P as kp,G as Ap,h as Tp,i as Np,C as Op,_ as Ip}from"./react-three-CfZVdHiw.js";import{e as Nt,Q as Cp,a7 as va,a8 as ll,a9 as hu,aa as du,ab as Rp,ac as jp}from"./three-BJdXbyDF.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function pu(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=pu(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gu(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=pu(t))&&(r&&(r+=" "),r+=e);return r}const xa="-",Pp=t=>{const e=zp(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(xa);return a[0]===""&&a.length!==1&&a.shift(),mu(a,e)||Mp(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},mu=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?mu(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(xa);return e.validators.find(({validator:o})=>o(i))?.classGroupId},cl=/^\[(.+)\]$/,Mp=t=>{if(cl.test(t)){const e=cl.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},zp=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)jo(n[s],r,s,e);return r},jo=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ul(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Lp(s)){jo(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{jo(o,ul(e,i),n,r)})})},ul=(t,e)=>{let n=t;return e.split(xa).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Lp=t=>t.isThemeGetter,$p=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Po="!",Mo=":",Bp=Mo.length,Dp=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,a=0,l=0,c;for(let b=0;b<s.length;b++){let m=s[b];if(o===0&&a===0){if(m===Mo){i.push(s.slice(l,b)),l=b+Bp;continue}if(m==="/"){c=b;continue}}m==="["?o++:m==="]"?o--:m==="("?a++:m===")"&&a--}const f=i.length===0?s:s.substring(l),h=Fp(f),d=h!==f,g=c&&c>l?c-l:void 0;return{modifiers:i,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:g}};if(e){const s=e+Mo,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},Fp=t=>t.endsWith(Po)?t.substring(0,t.length-1):t.startsWith(Po)?t.substring(1):t,Up=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||e[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},Vp=t=>({cache:$p(t.cacheSize),parseClassName:Dp(t),sortModifiers:Up(t),...Pp(t)}),Zp=/\s+/,qp=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(Zp);let l="";for(let c=a.length-1;c>=0;c-=1){const f=a[c],{isExternal:h,modifiers:d,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:m}=n(f);if(h){l=f+(l.length>0?" "+l:l);continue}let _=!!m,p=r(_?b.substring(0,m):b);if(!p){if(!_){l=f+(l.length>0?" "+l:l);continue}if(p=r(b),!p){l=f+(l.length>0?" "+l:l);continue}_=!1}const k=i(d).join(":"),S=g?k+Po:k,v=S+p;if(o.includes(v))continue;o.push(v);const A=s(p,_);for(let N=0;N<A.length;++N){const y=A[N];o.push(S+y)}l=f+(l.length>0?" "+l:l)}return l};function Gp(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yu(e))&&(r&&(r+=" "),r+=n);return r}const yu=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yu(t[r]))&&(n&&(n+=" "),n+=e);return n};function Kp(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((f,h)=>h(f),t());return n=Vp(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const f=qp(l,n);return s(l,f),f}return function(){return i(Gp.apply(null,arguments))}}const vt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},bu=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wu=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Hp=/^\d+\/\d+$/,Yp=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Wp=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Xp=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Qp=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jp=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_r=t=>Hp.test(t),Ze=t=>!!t&&!Number.isNaN(Number(t)),En=t=>!!t&&Number.isInteger(Number(t)),so=t=>t.endsWith("%")&&Ze(t.slice(0,-1)),mn=t=>Yp.test(t),eg=()=>!0,tg=t=>Wp.test(t)&&!Xp.test(t),_u=()=>!1,ng=t=>Qp.test(t),rg=t=>Jp.test(t),sg=t=>!Ne(t)&&!Oe(t),ig=t=>Zr(t,Eu,_u),Ne=t=>bu.test(t),Qn=t=>Zr(t,Su,tg),io=t=>Zr(t,ug,Ze),fl=t=>Zr(t,vu,_u),og=t=>Zr(t,xu,rg),Rs=t=>Zr(t,ku,ng),Oe=t=>wu.test(t),Qr=t=>qr(t,Su),ag=t=>qr(t,fg),hl=t=>qr(t,vu),lg=t=>qr(t,Eu),cg=t=>qr(t,xu),js=t=>qr(t,ku,!0),Zr=(t,e,n)=>{const r=bu.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},qr=(t,e,n=!1)=>{const r=wu.exec(t);return r?r[1]?e(r[1]):n:!1},vu=t=>t==="position"||t==="percentage",xu=t=>t==="image"||t==="url",Eu=t=>t==="length"||t==="size"||t==="bg-size",Su=t=>t==="length",ug=t=>t==="number",fg=t=>t==="family-name",ku=t=>t==="shadow",hg=()=>{const t=vt("color"),e=vt("font"),n=vt("text"),r=vt("font-weight"),s=vt("tracking"),i=vt("leading"),o=vt("breakpoint"),a=vt("container"),l=vt("spacing"),c=vt("radius"),f=vt("shadow"),h=vt("inset-shadow"),d=vt("text-shadow"),g=vt("drop-shadow"),b=vt("blur"),m=vt("perspective"),_=vt("aspect"),p=vt("ease"),k=vt("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...v(),Oe,Ne],N=()=>["auto","hidden","clip","visible","scroll"],y=()=>["auto","contain","none"],E=()=>[Oe,Ne,l],C=()=>[_r,"full","auto",...E()],j=()=>[En,"none","subgrid",Oe,Ne],B=()=>["auto",{span:["full",En,Oe,Ne]},En,Oe,Ne],M=()=>[En,"auto",Oe,Ne],V=()=>["auto","min","max","fr",Oe,Ne],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],oe=()=>["auto",...E()],le=()=>[_r,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],J=()=>[t,Oe,Ne],fe=()=>[...v(),hl,fl,{position:[Oe,Ne]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ke=()=>["auto","cover","contain",lg,ig,{size:[Oe,Ne]}],Ae=()=>[so,Qr,Qn],_e=()=>["","none","full",c,Oe,Ne],H=()=>["",Ze,Qr,Qn],Se=()=>["solid","dashed","dotted","double"],Le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],De=()=>[Ze,so,hl,fl],Ke=()=>["","none",b,Oe,Ne],We=()=>["none",Ze,Oe,Ne],O=()=>["none",Ze,Oe,Ne],I=()=>[Ze,Oe,Ne],P=()=>[_r,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[mn],breakpoint:[mn],color:[eg],container:[mn],"drop-shadow":[mn],ease:["in","out","in-out"],font:[sg],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[mn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[mn],shadow:[mn],spacing:["px",Ze],text:[mn],"text-shadow":[mn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_r,Ne,Oe,_]}],container:["container"],columns:[{columns:[Ze,Ne,Oe,a]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:y()}],"overscroll-x":[{"overscroll-x":y()}],"overscroll-y":[{"overscroll-y":y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[En,"auto",Oe,Ne]}],basis:[{basis:[_r,"full","auto",a,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ze,_r,"auto","initial","none",Ne]}],grow:[{grow:["",Ze,Oe,Ne]}],shrink:[{shrink:["",Ze,Oe,Ne]}],order:[{order:[En,"first","last","none",Oe,Ne]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:oe()}],mx:[{mx:oe()}],my:[{my:oe()}],ms:[{ms:oe()}],me:[{me:oe()}],mt:[{mt:oe()}],mr:[{mr:oe()}],mb:[{mb:oe()}],ml:[{ml:oe()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[a,"screen",...le()]}],"min-w":[{"min-w":[a,"screen","none",...le()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...le()]}],h:[{h:["screen","lh",...le()]}],"min-h":[{"min-h":["screen","lh","none",...le()]}],"max-h":[{"max-h":["screen","lh",...le()]}],"font-size":[{text:["base",n,Qr,Qn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Oe,io]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",so,Ne]}],"font-family":[{font:[ag,Ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Oe,Ne]}],"line-clamp":[{"line-clamp":[Ze,"none",Oe,io]}],leading:[{leading:[i,...E()]}],"list-image":[{"list-image":["none",Oe,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Oe,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ze,"from-font","auto",Oe,Qn]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[Ze,"auto",Oe,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:ke()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},En,Oe,Ne],radial:["",Oe,Ne],conic:[En,Oe,Ne]},cg,og]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:Ae()}],"gradient-via-pos":[{via:Ae()}],"gradient-to-pos":[{to:Ae()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:_e()}],"rounded-s":[{"rounded-s":_e()}],"rounded-e":[{"rounded-e":_e()}],"rounded-t":[{"rounded-t":_e()}],"rounded-r":[{"rounded-r":_e()}],"rounded-b":[{"rounded-b":_e()}],"rounded-l":[{"rounded-l":_e()}],"rounded-ss":[{"rounded-ss":_e()}],"rounded-se":[{"rounded-se":_e()}],"rounded-ee":[{"rounded-ee":_e()}],"rounded-es":[{"rounded-es":_e()}],"rounded-tl":[{"rounded-tl":_e()}],"rounded-tr":[{"rounded-tr":_e()}],"rounded-br":[{"rounded-br":_e()}],"rounded-bl":[{"rounded-bl":_e()}],"border-w":[{border:H()}],"border-w-x":[{"border-x":H()}],"border-w-y":[{"border-y":H()}],"border-w-s":[{"border-s":H()}],"border-w-e":[{"border-e":H()}],"border-w-t":[{"border-t":H()}],"border-w-r":[{"border-r":H()}],"border-w-b":[{"border-b":H()}],"border-w-l":[{"border-l":H()}],"divide-x":[{"divide-x":H()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":H()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ze,Oe,Ne]}],"outline-w":[{outline:["",Ze,Qr,Qn]}],"outline-color":[{outline:J()}],shadow:[{shadow:["","none",f,js,Rs]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",h,js,Rs]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[Ze,Qn]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":H()}],"inset-ring-color":[{"inset-ring":J()}],"text-shadow":[{"text-shadow":["none",d,js,Rs]}],"text-shadow-color":[{"text-shadow":J()}],opacity:[{opacity:[Ze,Oe,Ne]}],"mix-blend":[{"mix-blend":[...Le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":De()}],"mask-image-linear-to-pos":[{"mask-linear-to":De()}],"mask-image-linear-from-color":[{"mask-linear-from":J()}],"mask-image-linear-to-color":[{"mask-linear-to":J()}],"mask-image-t-from-pos":[{"mask-t-from":De()}],"mask-image-t-to-pos":[{"mask-t-to":De()}],"mask-image-t-from-color":[{"mask-t-from":J()}],"mask-image-t-to-color":[{"mask-t-to":J()}],"mask-image-r-from-pos":[{"mask-r-from":De()}],"mask-image-r-to-pos":[{"mask-r-to":De()}],"mask-image-r-from-color":[{"mask-r-from":J()}],"mask-image-r-to-color":[{"mask-r-to":J()}],"mask-image-b-from-pos":[{"mask-b-from":De()}],"mask-image-b-to-pos":[{"mask-b-to":De()}],"mask-image-b-from-color":[{"mask-b-from":J()}],"mask-image-b-to-color":[{"mask-b-to":J()}],"mask-image-l-from-pos":[{"mask-l-from":De()}],"mask-image-l-to-pos":[{"mask-l-to":De()}],"mask-image-l-from-color":[{"mask-l-from":J()}],"mask-image-l-to-color":[{"mask-l-to":J()}],"mask-image-x-from-pos":[{"mask-x-from":De()}],"mask-image-x-to-pos":[{"mask-x-to":De()}],"mask-image-x-from-color":[{"mask-x-from":J()}],"mask-image-x-to-color":[{"mask-x-to":J()}],"mask-image-y-from-pos":[{"mask-y-from":De()}],"mask-image-y-to-pos":[{"mask-y-to":De()}],"mask-image-y-from-color":[{"mask-y-from":J()}],"mask-image-y-to-color":[{"mask-y-to":J()}],"mask-image-radial":[{"mask-radial":[Oe,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":De()}],"mask-image-radial-to-pos":[{"mask-radial-to":De()}],"mask-image-radial-from-color":[{"mask-radial-from":J()}],"mask-image-radial-to-color":[{"mask-radial-to":J()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":v()}],"mask-image-conic-pos":[{"mask-conic":[Ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":De()}],"mask-image-conic-to-pos":[{"mask-conic-to":De()}],"mask-image-conic-from-color":[{"mask-conic-from":J()}],"mask-image-conic-to-color":[{"mask-conic-to":J()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:ke()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Oe,Ne]}],filter:[{filter:["","none",Oe,Ne]}],blur:[{blur:Ke()}],brightness:[{brightness:[Ze,Oe,Ne]}],contrast:[{contrast:[Ze,Oe,Ne]}],"drop-shadow":[{"drop-shadow":["","none",g,js,Rs]}],"drop-shadow-color":[{"drop-shadow":J()}],grayscale:[{grayscale:["",Ze,Oe,Ne]}],"hue-rotate":[{"hue-rotate":[Ze,Oe,Ne]}],invert:[{invert:["",Ze,Oe,Ne]}],saturate:[{saturate:[Ze,Oe,Ne]}],sepia:[{sepia:["",Ze,Oe,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Oe,Ne]}],"backdrop-blur":[{"backdrop-blur":Ke()}],"backdrop-brightness":[{"backdrop-brightness":[Ze,Oe,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[Ze,Oe,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ze,Oe,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ze,Oe,Ne]}],"backdrop-invert":[{"backdrop-invert":["",Ze,Oe,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[Ze,Oe,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[Ze,Oe,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",Ze,Oe,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Oe,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ze,"initial",Oe,Ne]}],ease:[{ease:["linear","initial",p,Oe,Ne]}],delay:[{delay:[Ze,Oe,Ne]}],animate:[{animate:["none",k,Oe,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Oe,Ne]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:We()}],"rotate-x":[{"rotate-x":We()}],"rotate-y":[{"rotate-y":We()}],"rotate-z":[{"rotate-z":We()}],scale:[{scale:O()}],"scale-x":[{"scale-x":O()}],"scale-y":[{"scale-y":O()}],"scale-z":[{"scale-z":O()}],"scale-3d":["scale-3d"],skew:[{skew:I()}],"skew-x":[{"skew-x":I()}],"skew-y":[{"skew-y":I()}],transform:[{transform:[Oe,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:P()}],"translate-x":[{"translate-x":P()}],"translate-y":[{"translate-y":P()}],"translate-z":[{"translate-z":P()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe,Ne]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[Ze,Qr,Qn,io]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},dg=Kp(hg);function Be(...t){return dg(gu(t))}function fn(t){return-t*(Math.PI/180)}function Au(t){const e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}function dl(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(Hh,{"data-slot":"resizable-panel-group",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Ps(t){const e=be.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=w.jsx(Gh,{"data-slot":"resizable-panel",...n}),e[2]=n,e[3]=r):r=e[3],r}function pl(t){const e=be.c(12);let n,r,s;e[0]!==t?({withHandle:s,className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s):(n=e[1],r=e[2],s=e[3]);let i;e[4]!==n?(i=Be("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90 hover:bg-primary",n),e[4]=n,e[5]=i):i=e[5];let o;e[6]!==s?(o=s&&w.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:w.jsx(np,{className:"size-2.5"})}),e[6]=s,e[7]=o):o=e[7];let a;return e[8]!==r||e[9]!==i||e[10]!==o?(a=w.jsx(Kh,{"data-slot":"resizable-handle",className:i,...r,children:o}),e[8]=r,e[9]=i,e[10]=o,e[11]=a):a=e[11],a}function pg(t){const e=be.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=w.jsx(Qh,{"data-slot":"dialog",...n}),e[2]=n,e[3]=r):r=e[3],r}function gg(t){const e=be.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=w.jsx(Jh,{"data-slot":"dialog-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function mg(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(td,{"data-slot":"dialog-overlay",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function yg(t){const e=be.c(15);let n,r,s,i;e[0]!==t?({className:r,children:n,showCloseButton:i,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?!0:i;let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=w.jsx(mg,{}),e[5]=a):a=e[5];let l;e[6]!==r?(l=Be("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),e[6]=r,e[7]=l):l=e[7];let c;e[8]!==o?(c=o&&w.jsxs(ed,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[w.jsx(cu,{}),w.jsx("span",{className:"sr-only",children:"Close"})]}),e[8]=o,e[9]=c):c=e[9];let f;return e[10]!==n||e[11]!==s||e[12]!==l||e[13]!==c?(f=w.jsxs(gg,{"data-slot":"dialog-portal",children:[a,w.jsxs(Wh,{"data-slot":"dialog-content",className:l,...s,children:[n,c]})]}),e[10]=n,e[11]=s,e[12]=l,e[13]=c,e[14]=f):f=e[14],f}function bg(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx("div",{"data-slot":"dialog-header",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function wg(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("text-lg leading-none font-semibold",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(Yh,{"data-slot":"dialog-title",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function _g(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("text-muted-foreground text-sm",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(Xh,{"data-slot":"dialog-description",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function vg(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(ad,{"data-slot":"menubar",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function gl(t){const e=be.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=w.jsx(id,{"data-slot":"menubar-menu",...n}),e[2]=n,e[3]=r):r=e[3],r}function xg(t){const e=be.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=w.jsx(ld,{"data-slot":"menubar-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function Eg(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(nd,{"data-slot":"menubar-trigger",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Sg(t){const e=be.c(14);let n,r,s,i,o;e[0]!==t?({className:n,align:s,alignOffset:i,sideOffset:o,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=o):(n=e[1],r=e[2],s=e[3],i=e[4],o=e[5]);const a=s===void 0?"start":s,l=i===void 0?-4:i,c=o===void 0?8:o;let f;e[6]!==n?(f=Be("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-md",n),e[6]=n,e[7]=f):f=e[7];let h;return e[8]!==a||e[9]!==l||e[10]!==r||e[11]!==c||e[12]!==f?(h=w.jsx(xg,{children:w.jsx(od,{"data-slot":"menubar-content",align:a,alignOffset:l,sideOffset:c,className:f,...r})}),e[8]=a,e[9]=l,e[10]=r,e[11]=c,e[12]=f,e[13]=h):h=e[13],h}function vr(t){const e=be.c(12);let n,r,s,i;e[0]!==t?({className:n,inset:r,variant:i,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?"default":i;let a;e[5]!==n?(a=Be("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[5]=n,e[6]=a):a=e[6];let l;return e[7]!==r||e[8]!==s||e[9]!==a||e[10]!==o?(l=w.jsx(rd,{"data-slot":"menubar-item","data-inset":r,"data-variant":o,className:a,...s}),e[7]=r,e[8]=s,e[9]=a,e[10]=o,e[11]=l):l=e[11],l}function oo(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("bg-border -mx-1 my-1 h-px",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(sd,{"data-slot":"menubar-separator",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function ml(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("text-muted-foreground ml-auto text-xs tracking-widest",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx("span",{"data-slot":"menubar-shortcut",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function zo(t){const e=be.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=w.jsx(hd,{"data-slot":"select",...n}),e[2]=n,e[3]=r):r=e[3],r}function Lo(t){const e=be.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=w.jsx(yd,{"data-slot":"select-group",...n}),e[2]=n,e[3]=r):r=e[3],r}function $o(t){const e=be.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=w.jsx(pd,{"data-slot":"select-value",...n}),e[2]=n,e[3]=r):r=e[3],r}function Bo(t){const e=be.c(13);let n,r,s,i;e[0]!==t?({className:r,size:i,children:n,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?"default":i;let a;e[5]!==r?(a=Be("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 mt-2",r),e[5]=r,e[6]=a):a=e[6];let l;e[7]===Symbol.for("react.memo_cache_sentinel")?(l=w.jsx(wd,{asChild:!0,children:w.jsx(uu,{className:"size-4 opacity-50"})}),e[7]=l):l=e[7];let c;return e[8]!==n||e[9]!==s||e[10]!==o||e[11]!==a?(c=w.jsxs(dd,{"data-slot":"select-trigger","data-size":o,className:a,...s,children:[n,l]}),e[8]=n,e[9]=s,e[10]=o,e[11]=a,e[12]=c):c=e[12],c}function Do(t){const e=be.c(20);let n,r,s,i;e[0]!==t?({className:r,children:n,position:i,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?"popper":i,a=o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let l;e[5]!==r||e[6]!==a?(l=Be("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",a,r),e[5]=r,e[6]=a,e[7]=l):l=e[7];let c;e[8]===Symbol.for("react.memo_cache_sentinel")?(c=w.jsx(kg,{}),e[8]=c):c=e[8];const f=o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1";let h;e[9]!==f?(h=Be("p-1",f),e[9]=f,e[10]=h):h=e[10];let d;e[11]!==n||e[12]!==h?(d=w.jsx(_d,{className:h,children:n}),e[11]=n,e[12]=h,e[13]=d):d=e[13];let g;e[14]===Symbol.for("react.memo_cache_sentinel")?(g=w.jsx(Ag,{}),e[14]=g):g=e[14];let b;return e[15]!==o||e[16]!==s||e[17]!==l||e[18]!==d?(b=w.jsx(gd,{children:w.jsxs(md,{"data-slot":"select-content",className:l,position:o,...s,children:[c,d,g]})}),e[15]=o,e[16]=s,e[17]=l,e[18]=d,e[19]=b):b=e[19],b}function Fo(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("text-muted-foreground px-2 py-1.5 text-xs",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(bd,{"data-slot":"select-label",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Ti(t){const e=be.c(13);let n,r,s;e[0]!==t?({className:r,children:n,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s):(n=e[1],r=e[2],s=e[3]);let i;e[4]!==r?(i=Be("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),e[4]=r,e[5]=i):i=e[5];let o;e[6]===Symbol.for("react.memo_cache_sentinel")?(o=w.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:w.jsx(ud,{children:w.jsx(rp,{className:"size-4"})})}),e[6]=o):o=e[6];let a;e[7]!==n?(a=w.jsx(fd,{children:n}),e[7]=n,e[8]=a):a=e[8];let l;return e[9]!==s||e[10]!==i||e[11]!==a?(l=w.jsxs(cd,{"data-slot":"select-item",className:i,...s,children:[o,a]}),e[9]=s,e[10]=i,e[11]=a,e[12]=l):l=e[12],l}function kg(t){const e=be.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("flex cursor-default items-center justify-center py-1",n),e[3]=n,e[4]=s):s=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=w.jsx(sp,{className:"size-4"}),e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==s?(o=w.jsx(vd,{"data-slot":"select-scroll-up-button",className:s,...r,children:i}),e[6]=r,e[7]=s,e[8]=o):o=e[8],o}function Ag(t){const e=be.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("flex cursor-default items-center justify-center py-1",n),e[3]=n,e[4]=s):s=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=w.jsx(uu,{className:"size-4"}),e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==s?(o=w.jsx(xd,{"data-slot":"select-scroll-down-button",className:s,...r,children:i}),e[6]=r,e[7]=s,e[8]=o):o=e[8],o}function Tg(t){const e=be.c(6);let n,r;e[0]!==t?({delayDuration:r,...n}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);const s=r===void 0?0:r;let i;return e[3]!==s||e[4]!==n?(i=w.jsx(Td,{"data-slot":"tooltip-provider",delayDuration:s,...n}),e[3]=s,e[4]=n,e[5]=i):i=e[5],i}function Ln(t){const e=be.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=w.jsx(Tg,{children:w.jsx(Sd,{"data-slot":"tooltip",...n})}),e[2]=n,e[3]=r):r=e[3],r}function $n(t){const e=be.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=w.jsx(Ed,{"data-slot":"tooltip-trigger",...n}),e[2]=n,e[3]=r):r=e[3],r}function Bn(t){const e=be.c(13);let n,r,s,i;e[0]!==t?({className:r,sideOffset:i,children:n,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?0:i;let a;e[5]!==r?(a=Be("bg-secondary text-secondary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",r),e[5]=r,e[6]=a):a=e[6];let l;e[7]===Symbol.for("react.memo_cache_sentinel")?(l=w.jsx(Nd,{className:"bg-secondary fill-secondary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"}),e[7]=l):l=e[7];let c;return e[8]!==n||e[9]!==s||e[10]!==o||e[11]!==a?(c=w.jsx(kd,{children:w.jsxs(Ad,{"data-slot":"tooltip-content",sideOffset:o,className:a,...s,children:[n,l]})}),e[8]=n,e[9]=s,e[10]=o,e[11]=a,e[12]=c):c=e[12],c}const yl=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,bl=gu,Tu=(t,e)=>n=>{var r;if(e?.variants==null)return bl(t,n?.class,n?.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const f=n?.[c],h=i?.[c];if(f===null)return null;const d=yl(f)||yl(h);return s[c][d]}),a=n&&Object.entries(n).reduce((c,f)=>{let[h,d]=f;return d===void 0||(c[h]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:h,className:d,...g}=f;return Object.entries(g).every(b=>{let[m,_]=b;return Array.isArray(_)?_.includes({...i,...a}[m]):{...i,...a}[m]===_})?[...c,h,d]:c},[]);return bl(t,o,l,n?.class,n?.className)},Nu=Tu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function pn(t){const e=be.c(14);let n,r,s,i,o;e[0]!==t?({className:n,variant:o,size:s,asChild:i,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=o):(n=e[1],r=e[2],s=e[3],i=e[4],o=e[5]);const l=(i===void 0?!1:i)?Od:"button";let c;e[6]!==n||e[7]!==s||e[8]!==o?(c=Be(Nu({variant:o,size:s,className:n})),e[6]=n,e[7]=s,e[8]=o,e[9]=c):c=e[9];let f;return e[10]!==l||e[11]!==r||e[12]!==c?(f=w.jsx(l,{"data-slot":"button",className:c,...r}),e[10]=l,e[11]=r,e[12]=c,e[13]=f):f=e[13],f}const Ou={r:146,g:163,b:187,a:1},Ng=t=>{if(typeof t=="string"){const e=t.match(/^#([0-9a-f]{3,8})$/i);if(e){const n=e[1],r=parseInt(n.slice(0,2),16),s=parseInt(n.slice(2,4),16),i=parseInt(n.slice(4,6),16),o=n.length>6?parseInt(n.slice(6,8),16)/255:1;return{r,g:s,b:i,a:o}}}return Ou},Og=t=>{const e=be.c(24),{defaultColor:n,onChangeComplete:r}=t,s=n===void 0?Ou:n,[i,o]=ze.useState(!1);let a;e[0]!==s?(a=typeof s=="string"?Ng(s):s,e[0]=s,e[1]=a):a=e[1];const[l,c]=ze.useState(a);let f;e[2]!==r?(f=Id(ie=>r(ie),{wait:500}),e[2]=r,e[3]=f):f=e[3];const h=f;let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d=()=>o(Ig),e[4]=d):d=e[4];const g=d;let b;e[5]===Symbol.for("react.memo_cache_sentinel")?(b=()=>o(!1),e[5]=b):b=e[5];const m=b;let _;e[6]!==h?(_=ie=>{c(ie.rgb),h(ie)},e[6]=h,e[7]=_):_=e[7];const p=_,k=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`;let S;e[8]!==k?(S={width:"100%",height:"100%",background:k,borderRadius:"1px",border:"1px solid #ccc"},e[8]=k,e[9]=S):S=e[9];const v=S;let A;e[10]===Symbol.for("react.memo_cache_sentinel")?(A={position:"absolute",zIndex:2,left:"50%",transform:"translateX(-50%)"},e[10]=A):A=e[10];const N=A;let y;e[11]===Symbol.for("react.memo_cache_sentinel")?(y={position:"fixed",top:0,right:0,bottom:0,left:0},e[11]=y):y=e[11];const E=y;let C,j;e[12]!==i?(C=()=>{const ie=te=>{i&&!te.target.closest(".color-picker")&&m()};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},j=[i],e[12]=i,e[13]=C,e[14]=j):(C=e[13],j=e[14]),ze.useEffect(C,j);let B;e[15]!==v?(B=w.jsx(pn,{onClick:g,variant:"secondary",className:"w-full",children:w.jsx("div",{style:v})}),e[15]=v,e[16]=B):B=e[16];let M;e[17]!==l||e[18]!==i||e[19]!==p?(M=i&&w.jsxs("div",{style:N,className:"color-picker",children:[w.jsx("div",{style:E,onClick:m}),w.jsx(Cd,{color:l,onChange:p,presetColors:["#92A3BB","#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],disableAlpha:!0})]}),e[17]=l,e[18]=i,e[19]=p,e[20]=M):M=e[20];let V;return e[21]!==B||e[22]!==M?(V=w.jsxs("div",{children:[B,M]}),e[21]=B,e[22]=M,e[23]=V):V=e[23],V};function Ig(t){return!t}function Ea(t){const e=be.c(10);let n,r,s;e[0]!==t?({className:n,type:s,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s):(n=e[1],r=e[2],s=e[3]);let i;e[4]!==n?(i=Be("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm mt-2","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),e[4]=n,e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==i||e[8]!==s?(o=w.jsx("input",{type:s,"data-slot":"input",className:i,...r}),e[6]=r,e[7]=i,e[8]=s,e[9]=o):o=e[9],o}function tn(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(Rd,{"data-slot":"label",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Ms(t){const e=be.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),e[3]=n,e[4]=s):s=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=w.jsx(jd,{"data-slot":"switch-thumb",className:Be("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==s?(o=w.jsx(Pd,{"data-slot":"switch",className:s,...r,children:i}),e[6]=r,e[7]=s,e[8]=o):o=e[8],o}const hn={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Iu=Object.create(null);for(const t in hn)Object.hasOwn(hn,t)&&(Iu[hn[t]]=t);const Et={to:{},get:{}};Et.get=function(t){const e=t.slice(0,3).toLowerCase();let n,r;switch(e){case"hsl":{n=Et.get.hsl(t),r="hsl";break}case"hwb":{n=Et.get.hwb(t),r="hwb";break}default:{n=Et.get.rgb(t),r="rgb";break}}return n?{model:r,value:n}:null};Et.get.rgb=function(t){if(!t)return null;const e=/^#([a-f\d]{3,4})$/i,n=/^#([a-f\d]{6})([a-f\d]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,s=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,i=/^(\w+)$/;let o=[0,0,0,1],a,l,c;if(a=t.match(n)){for(c=a[2],a=a[1],l=0;l<3;l++){const f=l*2;o[l]=Number.parseInt(a.slice(f,f+2),16)}c&&(o[3]=Number.parseInt(c,16)/255)}else if(a=t.match(e)){for(a=a[1],c=a[3],l=0;l<3;l++)o[l]=Number.parseInt(a[l]+a[l],16);c&&(o[3]=Number.parseInt(c+c,16)/255)}else if(a=t.match(r)){for(l=0;l<3;l++)o[l]=Number.parseInt(a[l+1],10);a[4]&&(o[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else if(a=t.match(s)){for(l=0;l<3;l++)o[l]=Math.round(Number.parseFloat(a[l+1])*2.55);a[4]&&(o[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else return(a=t.match(i))?a[1]==="transparent"?[0,0,0,0]:Object.hasOwn(hn,a[1])?(o=hn[a[1]],o[3]=1,o):null:null;for(l=0;l<3;l++)o[l]=Fn(o[l],0,255);return o[3]=Fn(o[3],0,1),o};Et.get.hsl=function(t){if(!t)return null;const e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){const r=Number.parseFloat(n[4]),s=(Number.parseFloat(n[1])%360+360)%360,i=Fn(Number.parseFloat(n[2]),0,100),o=Fn(Number.parseFloat(n[3]),0,100),a=Fn(Number.isNaN(r)?1:r,0,1);return[s,i,o,a]}return null};Et.get.hwb=function(t){if(!t)return null;const e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*[\s,]\s*([+-]?[\d.]+)%\s*[\s,]\s*([+-]?[\d.]+)%\s*(?:[\s,]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){const r=Number.parseFloat(n[4]),s=(Number.parseFloat(n[1])%360+360)%360,i=Fn(Number.parseFloat(n[2]),0,100),o=Fn(Number.parseFloat(n[3]),0,100),a=Fn(Number.isNaN(r)?1:r,0,1);return[s,i,o,a]}return null};Et.to.hex=function(...t){return"#"+zs(t[0])+zs(t[1])+zs(t[2])+(t[3]<1?zs(Math.round(t[3]*255)):"")};Et.to.rgb=function(...t){return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};Et.to.rgb.percent=function(...t){const e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"};Et.to.hsl=function(...t){return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};Et.to.hwb=function(...t){let e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};Et.to.keyword=function(...t){return Iu[t.slice(0,3)]};function Fn(t,e,n){return Math.min(Math.max(e,t),n)}function zs(t){const e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}const Cu={};for(const t of Object.keys(hn))Cu[hn[t]]=t;const ye={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},wn=(6/29)**3;function Cr(t){const e=t>.0031308?1.055*t**.4166666666666667-.055:t*12.92;return Math.min(Math.max(0,e),1)}function Rr(t){return t>.04045?((t+.055)/1.055)**2.4:t/12.92}for(const t of Object.keys(ye)){if(!("channels"in ye[t]))throw new Error("missing channels property: "+t);if(!("labels"in ye[t]))throw new Error("missing channel labels property: "+t);if(ye[t].labels.length!==ye[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=ye[t];delete ye[t].channels,delete ye[t].labels,Object.defineProperty(ye[t],"channels",{value:e}),Object.defineProperty(ye[t],"labels",{value:n})}ye.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.min(e,n,r),i=Math.max(e,n,r),o=i-s;let a,l;switch(i){case s:{a=0;break}case e:{a=(n-r)/o;break}case n:{a=2+(r-e)/o;break}case r:{a=4+(e-n)/o;break}}a=Math.min(a*60,360),a<0&&(a+=360);const c=(s+i)/2;return i===s?l=0:c<=.5?l=o/(i+s):l=o/(2-i-s),[a,l*100,c*100]};ye.rgb.hsv=function(t){let e,n,r,s,i;const o=t[0]/255,a=t[1]/255,l=t[2]/255,c=Math.max(o,a,l),f=c-Math.min(o,a,l),h=function(d){return(c-d)/6/f+1/2};if(f===0)s=0,i=0;else{switch(i=f/c,e=h(o),n=h(a),r=h(l),c){case o:{s=r-n;break}case a:{s=1/3+e-r;break}case l:{s=2/3+n-e;break}}s<0?s+=1:s>1&&(s-=1)}return[s*360,i*100,c*100]};ye.rgb.hwb=function(t){const e=t[0],n=t[1];let r=t[2];const s=ye.rgb.hsl(t)[0],i=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[s,i*100,r*100]};ye.rgb.oklab=function(t){const e=Rr(t[0]/255),n=Rr(t[1]/255),r=Rr(t[2]/255),s=Math.cbrt(.4122214708*e+.5363325363*n+.0514459929*r),i=Math.cbrt(.2119034982*e+.6806995451*n+.1073969566*r),o=Math.cbrt(.0883024619*e+.2817188376*n+.6299787005*r),a=.2104542553*s+.793617785*i-.0040720468*o,l=1.9779984951*s-2.428592205*i+.4505937099*o,c=.0259040371*s+.7827717662*i-.808675766*o;return[a*100,l*100,c*100]};ye.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.min(1-e,1-n,1-r),i=(1-e-s)/(1-s)||0,o=(1-n-s)/(1-s)||0,a=(1-r-s)/(1-s)||0;return[i*100,o*100,a*100,s*100]};function Cg(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}ye.rgb.keyword=function(t){const e=Cu[t];if(e)return e;let n=Number.POSITIVE_INFINITY,r;for(const s of Object.keys(hn)){const i=hn[s],o=Cg(t,i);o<n&&(n=o,r=s)}return r};ye.keyword.rgb=function(t){return hn[t]};ye.rgb.xyz=function(t){const e=Rr(t[0]/255),n=Rr(t[1]/255),r=Rr(t[2]/255),s=e*.4124564+n*.3575761+r*.1804375,i=e*.2126729+n*.7151522+r*.072175,o=e*.0193339+n*.119192+r*.9503041;return[s*100,i*100,o*100]};ye.rgb.lab=function(t){const e=ye.rgb.xyz(t);let n=e[0],r=e[1],s=e[2];n/=95.047,r/=100,s/=108.883,n=n>wn?n**(1/3):7.787*n+16/116,r=r>wn?r**(1/3):7.787*r+16/116,s=s>wn?s**(1/3):7.787*s+16/116;const i=116*r-16,o=500*(n-r),a=200*(r-s);return[i,o,a]};ye.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;let s,i;if(n===0)return i=r*255,[i,i,i];const o=r<.5?r*(1+n):r+n-r*n,a=2*r-o,l=[0,0,0];for(let c=0;c<3;c++)s=e+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?i=a+(o-a)*6*s:2*s<1?i=o:3*s<2?i=a+(o-a)*(2/3-s)*6:i=a,l[c]=i*255;return l};ye.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,r=t[2]/100,s=n;const i=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,s*=i<=1?i:2-i;const o=(r+n)/2,a=r===0?2*s/(i+s):2*n/(r+n);return[e,a*100,o*100]};ye.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let r=t[2]/100;const s=Math.floor(e)%6,i=e-Math.floor(e),o=255*r*(1-n),a=255*r*(1-n*i),l=255*r*(1-n*(1-i));switch(r*=255,s){case 0:return[r,l,o];case 1:return[a,r,o];case 2:return[o,r,l];case 3:return[o,a,r];case 4:return[l,o,r];case 5:return[r,o,a]}};ye.hsv.hsl=function(t){const e=t[0],n=t[1]/100,r=t[2]/100,s=Math.max(r,.01);let i,o;o=(2-n)*r;const a=(2-n)*s;return i=n*s,i/=a<=1?a:2-a,i=i||0,o/=2,[e,i*100,o*100]};ye.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,r=t[2]/100;const s=n+r;let i;s>1&&(n/=s,r/=s);const o=Math.floor(6*e),a=1-r;i=6*e-o,(o&1)!==0&&(i=1-i);const l=n+i*(a-n);let c,f,h;switch(o){default:case 6:case 0:{c=a,f=l,h=n;break}case 1:{c=l,f=a,h=n;break}case 2:{c=n,f=a,h=l;break}case 3:{c=n,f=l,h=a;break}case 4:{c=l,f=n,h=a;break}case 5:{c=a,f=n,h=l;break}}return[c*255,f*255,h*255]};ye.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=t[3]/100,i=1-Math.min(1,e*(1-s)+s),o=1-Math.min(1,n*(1-s)+s),a=1-Math.min(1,r*(1-s)+s);return[i*255,o*255,a*255]};ye.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100;let s,i,o;return s=e*3.2404542+n*-1.5371385+r*-.4985314,i=e*-.969266+n*1.8760108+r*.041556,o=e*.0556434+n*-.2040259+r*1.0572252,s=Cr(s),i=Cr(i),o=Cr(o),[s*255,i*255,o*255]};ye.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>wn?e**(1/3):7.787*e+16/116,n=n>wn?n**(1/3):7.787*n+16/116,r=r>wn?r**(1/3):7.787*r+16/116;const s=116*n-16,i=500*(e-n),o=200*(n-r);return[s,i,o]};ye.xyz.oklab=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=Math.cbrt(.8189330101*e+.3618667424*n-.1288597137*r),i=Math.cbrt(.0329845436*e+.9293118715*n+.0361456387*r),o=Math.cbrt(.0482003018*e+.2643662691*n+.633851707*r),a=.2104542553*s+.793617785*i-.0040720468*o,l=1.9779984951*s-2.428592205*i+.4505937099*o,c=.0259040371*s+.7827717662*i-.808675766*o;return[a*100,l*100,c*100]};ye.oklab.oklch=function(t){return ye.lab.lch(t)};ye.oklab.xyz=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=(.999999998*e+.396337792*n+.215803758*r)**3,i=(1.000000008*e-.105561342*n-.063854175*r)**3,o=(1.000000055*e-.089484182*n-1.291485538*r)**3,a=1.227013851*s-.55779998*i+.281256149*o,l=-.040580178*s+1.11225687*i-.071676679*o,c=-.076381285*s-.421481978*i+1.58616322*o;return[a*100,l*100,c*100]};ye.oklab.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=(e+.3963377774*n+.2158037573*r)**3,i=(e-.1055613458*n-.0638541728*r)**3,o=(e-.0894841775*n-1.291485548*r)**3,a=Cr(4.0767416621*s-3.3077115913*i+.2309699292*o),l=Cr(-1.2684380046*s+2.6097574011*i-.3413193965*o),c=Cr(-.0041960863*s-.7034186147*i+1.707614701*o);return[a*255,l*255,c*255]};ye.oklch.oklab=function(t){return ye.lch.lab(t)};ye.lab.xyz=function(t){const e=t[0],n=t[1],r=t[2];let s,i,o;i=(e+16)/116,s=n/500+i,o=i-r/200;const a=i**3,l=s**3,c=o**3;return i=a>wn?a:(i-16/116)/7.787,s=l>wn?l:(s-16/116)/7.787,o=c>wn?c:(o-16/116)/7.787,s*=95.047,i*=100,o*=108.883,[s,i,o]};ye.lab.lch=function(t){const e=t[0],n=t[1],r=t[2];let s;s=Math.atan2(r,n)*360/2/Math.PI,s<0&&(s+=360);const o=Math.sqrt(n*n+r*r);return[e,o,s]};ye.lch.lab=function(t){const e=t[0],n=t[1],s=t[2]/360*2*Math.PI,i=n*Math.cos(s),o=n*Math.sin(s);return[e,i,o]};ye.rgb.ansi16=function(t,e=null){const[n,r,s]=t;let i=e===null?ye.rgb.hsv(t)[2]:e;if(i=Math.round(i/50),i===0)return 30;let o=30+(Math.round(s/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return i===2&&(o+=60),o};ye.hsv.ansi16=function(t){return ye.rgb.ansi16(ye.hsv.rgb(t),t[2])};ye.rgb.ansi256=function(t){const e=t[0],n=t[1],r=t[2];return e>>4===n>>4&&n>>4===r>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};ye.ansi16.rgb=function(t){t=t[0];let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=(Math.trunc(t>50)+1)*.5,r=(e&1)*n*255,s=(e>>1&1)*n*255,i=(e>>2&1)*n*255;return[r,s,i]};ye.ansi256.rgb=function(t){if(t=t[0],t>=232){const i=(t-232)*10+8;return[i,i,i]}t-=16;let e;const n=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,s=e%6/5*255;return[n,r,s]};ye.rgb.hex=function(t){const n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".slice(n.length)+n};ye.hex.rgb=function(t){const e=t.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=[...n].map(a=>a+a).join(""));const r=Number.parseInt(n,16),s=r>>16&255,i=r>>8&255,o=r&255;return[s,i,o]};ye.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.max(Math.max(e,n),r),i=Math.min(Math.min(e,n),r),o=s-i;let a;const l=o<1?i/(1-o):0;return o<=0?a=0:s===e?a=(n-r)/o%6:s===n?a=2+(r-e)/o:a=4+(e-n)/o,a/=6,a%=1,[a*360,o*100,l*100]};ye.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n);let s=0;return r<1&&(s=(n-.5*r)/(1-r)),[t[0],r*100,s*100]};ye.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=e*n;let s=0;return r<1&&(s=(n-r)/(1-r)),[t[0],r*100,s*100]};ye.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];const s=[0,0,0],i=e%1*6,o=i%1,a=1-o;let l=0;switch(Math.floor(i)){case 0:{s[0]=1,s[1]=o,s[2]=0;break}case 1:{s[0]=a,s[1]=1,s[2]=0;break}case 2:{s[0]=0,s[1]=1,s[2]=o;break}case 3:{s[0]=0,s[1]=a,s[2]=1;break}case 4:{s[0]=o,s[1]=0,s[2]=1;break}default:s[0]=1,s[1]=0,s[2]=a}return l=(1-n)*r,[(n*s[0]+l)*255,(n*s[1]+l)*255,(n*s[2]+l)*255]};ye.hcg.hsv=function(t){const e=t[1]/100,n=t[2]/100,r=e+n*(1-e);let s=0;return r>0&&(s=e/r),[t[0],s*100,r*100]};ye.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let s=0;return r>0&&r<.5?s=e/(2*r):r>=.5&&r<1&&(s=e/(2*(1-r))),[t[0],s*100,r*100]};ye.hcg.hwb=function(t){const e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};ye.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,s=r-e;let i=0;return s<1&&(i=(r-s)/(1-s)),[t[0],s*100,i*100]};ye.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};ye.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};ye.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};ye.gray.hsl=function(t){return[0,0,t[0]]};ye.gray.hsv=ye.gray.hsl;ye.gray.hwb=function(t){return[0,100,t[0]]};ye.gray.cmyk=function(t){return[0,0,0,t[0]]};ye.gray.lab=function(t){return[t[0],0,0]};ye.gray.hex=function(t){const e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(r.length)+r};ye.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};function Rg(){const t={},e=Object.keys(ye);for(let{length:n}=e,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function jg(t){const e=Rg(),n=[t];for(e[t].distance=0;n.length>0;){const r=n.pop(),s=Object.keys(ye[r]);for(let{length:i}=s,o=0;o<i;o++){const a=s[o],l=e[a];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,n.unshift(a))}}return e}function Pg(t,e){return function(n){return e(t(n))}}function Mg(t,e){const n=[e[t].parent,t];let r=ye[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)n.unshift(e[s].parent),r=Pg(ye[e[s].parent][s],r),s=e[s].parent;return r.conversion=n,r}function zg(t){const e=jg(t),n={},r=Object.keys(e);for(let{length:s}=r,i=0;i<s;i++){const o=r[i];e[o].parent!==null&&(n[o]=Mg(o,e))}return n}const kt={},Lg=Object.keys(ye);function $g(t){const e=function(...n){const r=n[0];return r==null?r:(r.length>1&&(n=r),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function Bg(t){const e=function(...n){const r=n[0];if(r==null)return r;r.length>1&&(n=r);const s=t(n);if(typeof s=="object")for(let{length:i}=s,o=0;o<i;o++)s[o]=Math.round(s[o]);return s};return"conversion"in t&&(e.conversion=t.conversion),e}for(const t of Lg){kt[t]={},Object.defineProperty(kt[t],"channels",{value:ye[t].channels}),Object.defineProperty(kt[t],"labels",{value:ye[t].labels});const e=zg(t),n=Object.keys(e);for(const r of n){const s=e[r];kt[t][r]=Bg(s),kt[t][r].raw=$g(s)}}const Ru=["keyword","gray","hex"],Uo={};for(const t of Object.keys(kt))Uo[[...kt[t].labels].sort().join("")]=t;const Vo={};function St(t,e){if(!(this instanceof St))return new St(t,e);if(e&&e in Ru&&(e=null),e&&!(e in kt))throw new Error("Unknown model: "+e);let n,r;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof St)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){const s=Et.get(t);if(s===null)throw new Error("Unable to parse color from string: "+t);this.model=s.model,r=kt[this.model].channels,this.color=s.value.slice(0,r),this.valpha=typeof s.value[r]=="number"?s.value[r]:1}else if(t.length>0){this.model=e||"rgb",r=kt[this.model].channels;const s=Array.prototype.slice.call(t,0,r);this.color=Zo(s,r),this.valpha=typeof t[r]=="number"?t[r]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;const s=Object.keys(t);"alpha"in t&&(s.splice(s.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);const i=s.sort().join("");if(!(i in Uo))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=Uo[i];const{labels:o}=kt[this.model],a=[];for(n=0;n<o.length;n++)a.push(t[o[n]]);this.color=Zo(a)}if(Vo[this.model])for(r=kt[this.model].channels,n=0;n<r;n++){const s=Vo[this.model][n];s&&(this.color[n]=s(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}St.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in Et.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);const n=e.valpha===1?e.color:[...e.color,this.valpha];return Et.to[e.model](...n)},percentString(t){const e=this.rgb().round(typeof t=="number"?t:1),n=e.valpha===1?e.color:[...e.color,this.valpha];return Et.to.rgb.percent(...n)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=kt[this.model],{labels:n}=kt[this.model];for(let r=0;r<e;r++)t[n[r]]=this.color[r];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new St([...this.color.map(Fg(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new St([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:gt("rgb",0,xt(255)),green:gt("rgb",1,xt(255)),blue:gt("rgb",2,xt(255)),hue:gt(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:gt("hsl",1,xt(100)),lightness:gt("hsl",2,xt(100)),saturationv:gt("hsv",1,xt(100)),value:gt("hsv",2,xt(100)),chroma:gt("hcg",1,xt(100)),gray:gt("hcg",2,xt(100)),white:gt("hwb",1,xt(100)),wblack:gt("hwb",2,xt(100)),cyan:gt("cmyk",0,xt(100)),magenta:gt("cmyk",1,xt(100)),yellow:gt("cmyk",2,xt(100)),black:gt("cmyk",3,xt(100)),x:gt("xyz",0,xt(95.047)),y:gt("xyz",1,xt(100)),z:gt("xyz",2,xt(108.833)),l:gt("lab",0,xt(100)),a:gt("lab",1),b:gt("lab",2),keyword(t){return t!==void 0?new St(t):kt[this.model].keyword(this.color)},hex(t){return t!==void 0?new St(t):Et.to.hex(...this.rgb().round().color)},hexa(t){if(t!==void 0)return new St(t);const e=this.rgb().round().color;let n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),Et.to.hex(...e)+n},rgbNumber(){const t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){const t=this.rgb().color,e=[];for(const[n,r]of t.entries()){const s=r/255;e[n]=s<=.04045?s/12.92:((s+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return St.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const n=t.rgb(),r=this.rgb(),s=e===void 0?.5:e,i=2*s-1,o=n.alpha()-r.alpha(),a=((i*o===-1?i:(i+o)/(1+i*o))+1)/2,l=1-a;return St.rgb(a*n.red()+l*r.red(),a*n.green()+l*r.green(),a*n.blue()+l*r.blue(),n.alpha()*s+r.alpha()*(1-s))}};for(const t of Object.keys(kt)){if(Ru.includes(t))continue;const{channels:e}=kt[t];St.prototype[t]=function(...n){return this.model===t?new St(this):n.length>0?new St(n,t):new St([...Ug(kt[this.model][t].raw(this.color)),this.valpha],t)},St[t]=function(...n){let r=n[0];return typeof r=="number"&&(r=Zo(n,e)),new St(r,t)}}function Dg(t,e){return Number(t.toFixed(e))}function Fg(t){return function(e){return Dg(e,t)}}function gt(t,e,n){t=Array.isArray(t)?t:[t];for(const r of t)(Vo[r]||=[])[e]=n;return t=t[0],function(r){let s;return r!==void 0?(n&&(r=n(r)),s=this[t](),s.color[e]=r,s):(s=this[t]().color[e],n&&(s=n(s)),s)}}function xt(t){return function(e){return Math.max(0,Math.min(t,e))}}function Ug(t){return Array.isArray(t)?t:[t]}function Zo(t,e){for(let n=0;n<e;n++)typeof t[n]!="number"&&(t[n]=0);return t}const Es=ba()(Md((t,e)=>({theme:"dark",saveInterval:300,debugText:!1,gridColor:"#92a3bb",SSAOEnabled:!0,DOFEnabled:!0,controlDamping:!1,angleSnap:11.25,distanceSnap:.25,setTheme:n=>t({theme:n}),setSaveInterval:n=>t({saveInterval:n}),setDebugText:n=>t({debugText:n}),setGridColor:n=>t({gridColor:n}),setSSAOEnabled:n=>t({SSAOEnabled:n}),setDOFEnabled:n=>t({DOFEnabled:n}),setControlDamping:n=>t({controlDamping:n}),setAngleSnap:n=>t({angleSnap:n}),setDistanceSnap:n=>t({distanceSnap:n}),getComplementaryGridColor:()=>St(e().gridColor).darken(.5).hex()}),{version:0,name:"preferences",storage:zd(()=>localStorage)})),jr=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),Vg=jr?Promise.resolve().then(function(){return Hg}):Promise.resolve().then(function(){return em});async function Sa(...t){return(await Vg).default(...t)}jr?Promise.resolve().then(function(){return Wg}):Promise.resolve().then(function(){return nm});const Zg=jr?Promise.resolve().then(function(){return Qg}):Promise.resolve().then(function(){return sm});async function qg(...t){return(await Zg).default(...t)}const Gg=async t=>{const e=await t.getFile();return e.handle=t,e};var Kg=async(t=[{}])=>{Array.isArray(t)||(t=[t]);const e=[];t.forEach((s,i)=>{e[i]={description:s.description||"Files",accept:{}},s.mimeTypes?s.mimeTypes.map(o=>{e[i].accept[o]=s.extensions||[]}):e[i].accept["*/*"]=s.extensions||[]});const n=await window.showOpenFilePicker({id:t[0].id,startIn:t[0].startIn,types:e,multiple:t[0].multiple||!1,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(Gg));return t[0].multiple?r:r[0]},Hg={__proto__:null,default:Kg};function mi(t){function e(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var r=n.done;return Promise.resolve(n.value).then(function(s){return{value:s,done:r}})}return mi=function(n){this.s=n,this.n=n.next},mi.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(n){var r=this.s.return;return r===void 0?Promise.resolve({value:n,done:!0}):e(r.apply(this.s,arguments))},throw:function(n){var r=this.s.return;return r===void 0?Promise.reject(n):e(r.apply(this.s,arguments))}},new mi(t)}const ju=async(t,e,n=t.name,r)=>{const s=[],i=[];var o,a=!1,l=!1;try{for(var c,f=(function(h){var d,g,b,m=2;for(typeof Symbol<"u"&&(g=Symbol.asyncIterator,b=Symbol.iterator);m--;){if(g&&(d=h[g])!=null)return d.call(h);if(b&&(d=h[b])!=null)return new mi(d.call(h));g="@@asyncIterator",b="@@iterator"}throw new TypeError("Object is not async iterable")})(t.values());a=!(c=await f.next()).done;a=!1){const h=c.value,d=`${n}/${h.name}`;h.kind==="file"?i.push(h.getFile().then(g=>(g.directoryHandle=t,g.handle=h,Object.defineProperty(g,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>d})))):h.kind!=="directory"||!e||r&&r(h)||s.push(ju(h,e,d,r))}}catch(h){l=!0,o=h}finally{try{a&&f.return!=null&&await f.return()}finally{if(l)throw o}}return[...(await Promise.all(s)).flat(),...await Promise.all(i)]};var Yg=async(t={})=>{t.recursive=t.recursive||!1,t.mode=t.mode||"read";const e=await window.showDirectoryPicker({id:t.id,startIn:t.startIn,mode:t.mode});return(await(await e.values()).next()).done?[e]:ju(e,t.recursive,void 0,t.skipDirectory)},Wg={__proto__:null,default:Yg},Xg=async(t,e=[{}],n=null,r=!1,s=null)=>{Array.isArray(e)||(e=[e]),e[0].fileName=e[0].fileName||"Untitled";const i=[];let o=null;if(t instanceof Blob&&t.type?o=t.type:t.headers&&t.headers.get("content-type")&&(o=t.headers.get("content-type")),e.forEach((c,f)=>{i[f]={description:c.description||"Files",accept:{}},c.mimeTypes?(f===0&&o&&c.mimeTypes.push(o),c.mimeTypes.map(h=>{i[f].accept[h]=c.extensions||[]})):o?i[f].accept[o]=c.extensions||[]:i[f].accept["*/*"]=c.extensions||[]}),n)try{await n.getFile()}catch(c){if(n=null,r)throw c}const a=n||await window.showSaveFilePicker({suggestedName:e[0].fileName,id:e[0].id,startIn:e[0].startIn,types:i,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1});!n&&s&&s(a);const l=await a.createWritable();return"stream"in t?(await t.stream().pipeTo(l),a):"body"in t?(await t.body.pipeTo(l),a):(await l.write(await t),await l.close(),a)},Qg={__proto__:null,default:Xg},Jg=async(t=[{}])=>(Array.isArray(t)||(t=[t]),new Promise((e,n)=>{const r=document.createElement("input");r.type="file";const s=[...t.map(i=>i.mimeTypes||[]),...t.map(i=>i.extensions||[])].join();r.multiple=t[0].multiple||!1,r.accept=s||"",r.style.display="none",document.body.append(r),r.addEventListener("cancel",()=>{r.remove(),n(new DOMException("The user aborted a request.","AbortError"))}),r.addEventListener("change",()=>{r.remove(),e(r.multiple?Array.from(r.files):r.files[0])}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),em={__proto__:null,default:Jg},tm=async(t=[{}])=>(Array.isArray(t)||(t=[t]),t[0].recursive=t[0].recursive||!1,new Promise((e,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0,r.style.display="none",document.body.append(r),r.addEventListener("cancel",()=>{r.remove(),n(new DOMException("The user aborted a request.","AbortError"))}),r.addEventListener("change",()=>{r.remove();let s=Array.from(r.files);t[0].recursive?t[0].recursive&&t[0].skipDirectory&&(s=s.filter(i=>i.webkitRelativePath.split("/").every(o=>!t[0].skipDirectory({name:o,kind:"directory"})))):s=s.filter(i=>i.webkitRelativePath.split("/").length===2),e(s)}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),nm={__proto__:null,default:tm},rm=async(t,e={})=>{Array.isArray(e)&&(e=e[0]);const n=document.createElement("a");let r=t;"body"in t&&(r=await(async function(o,a){const l=o.getReader(),c=new ReadableStream({start:d=>(async function g(){return l.read().then(({done:b,value:m})=>{if(!b)return d.enqueue(m),g();d.close()})})()}),f=new Response(c),h=await f.blob();return l.releaseLock(),new Blob([h],{type:a})})(t.body,t.headers.get("content-type"))),n.download=e.fileName||"Untitled",n.href=URL.createObjectURL(await r);const s=()=>{typeof i=="function"&&i()},i=e.legacySetup&&e.legacySetup(s,()=>i(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),s()}),n.click(),null},sm={__proto__:null,default:rm},mt=Uint8Array,Bt=Uint16Array,ka=Int32Array,Bi=new mt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Di=new mt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qo=new mt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Pu=function(t,e){for(var n=new Bt(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new ka(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},Mu=Pu(Bi,2),zu=Mu.b,Go=Mu.r;zu[28]=258,Go[258]=28;var Lu=Pu(Di,0),im=Lu.b,wl=Lu.r,Ko=new Bt(32768);for(var lt=0;lt<32768;++lt){var Sn=(lt&43690)>>1|(lt&21845)<<1;Sn=(Sn&52428)>>2|(Sn&13107)<<2,Sn=(Sn&61680)>>4|(Sn&3855)<<4,Ko[lt]=((Sn&65280)>>8|(Sn&255)<<8)>>1}var dn=(function(t,e,n){for(var r=t.length,s=0,i=new Bt(e);s<r;++s)t[s]&&++i[t[s]-1];var o=new Bt(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(n){a=new Bt(1<<e);var l=15-e;for(s=0;s<r;++s)if(t[s])for(var c=s<<4|t[s],f=e-t[s],h=o[t[s]-1]++<<f,d=h|(1<<f)-1;h<=d;++h)a[Ko[h]>>l]=c}else for(a=new Bt(r),s=0;s<r;++s)t[s]&&(a[s]=Ko[o[t[s]-1]++]>>15-t[s]);return a}),Zn=new mt(288);for(var lt=0;lt<144;++lt)Zn[lt]=8;for(var lt=144;lt<256;++lt)Zn[lt]=9;for(var lt=256;lt<280;++lt)Zn[lt]=7;for(var lt=280;lt<288;++lt)Zn[lt]=8;var ds=new mt(32);for(var lt=0;lt<32;++lt)ds[lt]=5;var om=dn(Zn,9,0),am=dn(Zn,9,1),lm=dn(ds,5,0),cm=dn(ds,5,1),ao=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Xt=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},lo=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Aa=function(t){return(t+7)/8|0},Ss=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new mt(t.subarray(e,n))},um=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],It=function(t,e,n){var r=new Error(e||um[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,It),!n)throw r;return r},fm=function(t,e,n,r){var s=t.length,i=r?r.length:0;if(!s||e.f&&!e.l)return n||new mt(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new mt(s*3));var c=function(I){var P=n.length;if(I>P){var U=new mt(Math.max(P*2,I));U.set(n),n=U}},f=e.f||0,h=e.p||0,d=e.b||0,g=e.l,b=e.d,m=e.m,_=e.n,p=s*8;do{if(!g){f=Xt(t,h,1);var k=Xt(t,h+1,3);if(h+=3,k)if(k==1)g=am,b=cm,m=9,_=5;else if(k==2){var N=Xt(t,h,31)+257,y=Xt(t,h+10,15)+4,E=N+Xt(t,h+5,31)+1;h+=14;for(var C=new mt(E),j=new mt(19),B=0;B<y;++B)j[qo[B]]=Xt(t,h+B*3,7);h+=y*3;for(var M=ao(j),V=(1<<M)-1,ie=dn(j,M,1),B=0;B<E;){var te=ie[Xt(t,h,V)];h+=te&15;var S=te>>4;if(S<16)C[B++]=S;else{var oe=0,le=0;for(S==16?(le=3+Xt(t,h,3),h+=2,oe=C[B-1]):S==17?(le=3+Xt(t,h,7),h+=3):S==18&&(le=11+Xt(t,h,127),h+=7);le--;)C[B++]=oe}}var J=C.subarray(0,N),fe=C.subarray(N);m=ao(J),_=ao(fe),g=dn(J,m,1),b=dn(fe,_,1)}else It(1);else{var S=Aa(h)+4,v=t[S-4]|t[S-3]<<8,A=S+v;if(A>s){l&&It(0);break}a&&c(d+v),n.set(t.subarray(S,A),d),e.b=d+=v,e.p=h=A*8,e.f=f;continue}if(h>p){l&&It(0);break}}a&&c(d+131072);for(var ue=(1<<m)-1,ke=(1<<_)-1,Ae=h;;Ae=h){var oe=g[lo(t,h)&ue],_e=oe>>4;if(h+=oe&15,h>p){l&&It(0);break}if(oe||It(2),_e<256)n[d++]=_e;else if(_e==256){Ae=h,g=null;break}else{var H=_e-254;if(_e>264){var B=_e-257,Se=Bi[B];H=Xt(t,h,(1<<Se)-1)+zu[B],h+=Se}var Le=b[lo(t,h)&ke],De=Le>>4;Le||It(3),h+=Le&15;var fe=im[De];if(De>3){var Se=Di[De];fe+=lo(t,h)&(1<<Se)-1,h+=Se}if(h>p){l&&It(0);break}a&&c(d+131072);var Ke=d+H;if(d<fe){var We=i-fe,O=Math.min(fe,Ke);for(We+d<0&&It(3);d<O;++d)n[d]=r[We+d]}for(;d<Ke;++d)n[d]=n[d-fe]}}e.l=g,e.p=Ae,e.b=d,e.f=f,g&&(f=1,e.m=m,e.d=b,e.n=_)}while(!f);return d!=n.length&&o?Ss(n,0,d):n.subarray(0,d)},yn=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Jr=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},co=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:Bu,l:0};if(s==1){var o=new mt(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(A,N){return A.f-N.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,f=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=s-1;)a=n[n[c].f<n[h].f?c++:h++],l=n[c!=f&&n[c].f<n[h].f?c++:h++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=i[0].s,r=1;r<s;++r)i[r].s>d&&(d=i[r].s);var g=new Bt(d+1),b=Ho(n[f-1],g,0);if(b>e){var r=0,m=0,_=b-e,p=1<<_;for(i.sort(function(N,y){return g[y.s]-g[N.s]||N.f-y.f});r<s;++r){var k=i[r].s;if(g[k]>e)m+=p-(1<<b-g[k]),g[k]=e;else break}for(m>>=_;m>0;){var S=i[r].s;g[S]<e?m-=1<<e-g[S]++-1:++r}for(;r>=0&&m;--r){var v=i[r].s;g[v]==e&&(--g[v],++m)}b=e}return{t:new mt(g),l:b}},Ho=function(t,e,n){return t.s==-1?Math.max(Ho(t.l,e,n+1),Ho(t.r,e,n+1)):e[t.s]=n},_l=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Bt(++e),r=0,s=t[0],i=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return{c:n.subarray(0,r),n:e}},es=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},$u=function(t,e,n){var r=n.length,s=Aa(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<r;++i)t[s+i+4]=n[i];return(s+4+r)*8},vl=function(t,e,n,r,s,i,o,a,l,c,f){yn(e,f++,n),++s[256];for(var h=co(s,15),d=h.t,g=h.l,b=co(i,15),m=b.t,_=b.l,p=_l(d),k=p.c,S=p.n,v=_l(m),A=v.c,N=v.n,y=new Bt(19),E=0;E<k.length;++E)++y[k[E]&31];for(var E=0;E<A.length;++E)++y[A[E]&31];for(var C=co(y,7),j=C.t,B=C.l,M=19;M>4&&!j[qo[M-1]];--M);var V=c+5<<3,ie=es(s,Zn)+es(i,ds)+o,te=es(s,d)+es(i,m)+o+14+3*M+es(y,j)+2*y[16]+3*y[17]+7*y[18];if(l>=0&&V<=ie&&V<=te)return $u(e,f,t.subarray(l,l+c));var oe,le,J,fe;if(yn(e,f,1+(te<ie)),f+=2,te<ie){oe=dn(d,g,0),le=d,J=dn(m,_,0),fe=m;var ue=dn(j,B,0);yn(e,f,S-257),yn(e,f+5,N-1),yn(e,f+10,M-4),f+=14;for(var E=0;E<M;++E)yn(e,f+3*E,j[qo[E]]);f+=3*M;for(var ke=[k,A],Ae=0;Ae<2;++Ae)for(var _e=ke[Ae],E=0;E<_e.length;++E){var H=_e[E]&31;yn(e,f,ue[H]),f+=j[H],H>15&&(yn(e,f,_e[E]>>5&127),f+=_e[E]>>12)}}else oe=om,le=Zn,J=lm,fe=ds;for(var E=0;E<a;++E){var Se=r[E];if(Se>255){var H=Se>>18&31;Jr(e,f,oe[H+257]),f+=le[H+257],H>7&&(yn(e,f,Se>>23&31),f+=Bi[H]);var Le=Se&31;Jr(e,f,J[Le]),f+=fe[Le],Le>3&&(Jr(e,f,Se>>5&8191),f+=Di[Le])}else Jr(e,f,oe[Se]),f+=le[Se]}return Jr(e,f,oe[256]),f+le[256]},hm=new ka([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Bu=new mt(0),dm=function(t,e,n,r,s,i){var o=i.z||t.length,a=new mt(r+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(r,a.length-s),c=i.l,f=(i.r||0)&7;if(e){f&&(l[0]=i.r>>3);for(var h=hm[e-1],d=h>>13,g=h&8191,b=(1<<n)-1,m=i.p||new Bt(32768),_=i.h||new Bt(b+1),p=Math.ceil(n/3),k=2*p,S=function($){return(t[$]^t[$+1]<<p^t[$+2]<<k)&b},v=new ka(25e3),A=new Bt(288),N=new Bt(32),y=0,E=0,C=i.i||0,j=0,B=i.w||0,M=0;C+2<o;++C){var V=S(C),ie=C&32767,te=_[V];if(m[ie]=te,_[V]=ie,B<=C){var oe=o-C;if((y>7e3||j>24576)&&(oe>423||!c)){f=vl(t,l,0,v,A,N,E,j,M,C-M,f),j=y=E=0,M=C;for(var le=0;le<286;++le)A[le]=0;for(var le=0;le<30;++le)N[le]=0}var J=2,fe=0,ue=g,ke=ie-te&32767;if(oe>2&&V==S(C-ke))for(var Ae=Math.min(d,oe)-1,_e=Math.min(32767,C),H=Math.min(258,oe);ke<=_e&&--ue&&ie!=te;){if(t[C+J]==t[C+J-ke]){for(var Se=0;Se<H&&t[C+Se]==t[C+Se-ke];++Se);if(Se>J){if(J=Se,fe=ke,Se>Ae)break;for(var Le=Math.min(ke,Se-2),De=0,le=0;le<Le;++le){var Ke=C-ke+le&32767,We=m[Ke],O=Ke-We&32767;O>De&&(De=O,te=Ke)}}}ie=te,te=m[ie],ke+=ie-te&32767}if(fe){v[j++]=268435456|Go[J]<<18|wl[fe];var I=Go[J]&31,P=wl[fe]&31;E+=Bi[I]+Di[P],++A[257+I],++N[P],B=C+J,++y}else v[j++]=t[C],++A[t[C]]}}for(C=Math.max(C,B);C<o;++C)v[j++]=t[C],++A[t[C]];f=vl(t,l,c,v,A,N,E,j,M,C-M,f),c||(i.r=f&7|l[f/8|0]<<3,f-=7,i.h=_,i.p=m,i.i=C,i.w=B)}else{for(var C=i.w||0;C<o+c;C+=65535){var U=C+65535;U>=o&&(l[f/8|0]=c,U=o),f=$u(l,f+1,t.subarray(C,U))}i.i=o}return Ss(a,0,r+Aa(f)+s)},pm=(function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(n&1&&-306674912)^n>>>1;t[e]=n}return t})(),gm=function(){var t=-1;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=pm[n&255^e[r]]^n>>>8;t=n},d:function(){return~t}}},mm=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new mt(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return dm(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},Du=function(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n},cn=function(t,e){return t[e]|t[e+1]<<8},nn=function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},uo=function(t,e){return nn(t,e)+nn(t,e+4)*4294967296},Tt=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function ym(t,e){return mm(t,e||{},0,0)}function bm(t,e){return fm(t,{i:2},e&&e.out,e&&e.dictionary)}var Fu=function(t,e,n,r){for(var s in t){var i=t[s],o=e+s,a=r;Array.isArray(i)&&(a=Du(r,i[1]),i=i[0]),i instanceof mt?n[o]=[i,a]:(n[o+="/"]=[new mt(0),a],Fu(i,o,n,r))}},xl=typeof TextEncoder<"u"&&new TextEncoder,Yo=typeof TextDecoder<"u"&&new TextDecoder,wm=0;try{Yo.decode(Bu,{stream:!0}),wm=1}catch{}var _m=function(t){for(var e="",n=0;;){var r=t[n++],s=(r>127)+(r>223)+(r>239);if(n+s>t.length)return{s:e,r:Ss(t,n-1)};s?s==3?(r=((r&15)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):s&1?e+=String.fromCharCode((r&31)<<6|t[n++]&63):e+=String.fromCharCode((r&15)<<12|(t[n++]&63)<<6|t[n++]&63):e+=String.fromCharCode(r)}};function ps(t,e){var n;if(xl)return xl.encode(t);for(var r=t.length,s=new mt(t.length+(t.length>>1)),i=0,o=function(c){s[i++]=c},n=0;n<r;++n){if(i+5>s.length){var a=new mt(i+8+(r-n<<1));a.set(s),s=a}var l=t.charCodeAt(n);l<128||e?o(l):l<2048?(o(192|l>>6),o(128|l&63)):l>55295&&l<57344?(l=65536+(l&1047552)|t.charCodeAt(++n)&1023,o(240|l>>18),o(128|l>>12&63),o(128|l>>6&63),o(128|l&63)):(o(224|l>>12),o(128|l>>6&63),o(128|l&63))}return Ss(s,0,i)}function Wo(t,e){if(e){for(var n="",r=0;r<t.length;r+=16384)n+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return n}else{if(Yo)return Yo.decode(t);var s=_m(t),i=s.s,n=s.r;return n.length&&It(8),i}}var vm=function(t,e){return e+30+cn(t,e+26)+cn(t,e+28)},xm=function(t,e,n){var r=cn(t,e+28),s=Wo(t.subarray(e+46,e+46+r),!(cn(t,e+8)&2048)),i=e+46+r,o=nn(t,e+20),a=n&&o==4294967295?Em(t,i):[o,nn(t,e+24),nn(t,e+42)],l=a[0],c=a[1],f=a[2];return[cn(t,e+10),l,c,s,i+cn(t,e+30)+cn(t,e+32),f]},Em=function(t,e){for(;cn(t,e)!=1;e+=4+cn(t,e+2));return[uo(t,e+12),uo(t,e+4),uo(t,e+20)]},Xo=function(t){var e=0;if(t)for(var n in t){var r=t[n].length;r>65535&&It(9),e+=r+4}return e},El=function(t,e,n,r,s,i,o,a){var l=r.length,c=n.extra,f=a&&a.length,h=Xo(c);Tt(t,e,o!=null?33639248:67324752),e+=4,o!=null&&(t[e++]=20,t[e++]=n.os),t[e]=20,e+=2,t[e++]=n.flag<<1|(i<0&&8),t[e++]=s&&8,t[e++]=n.compression&255,t[e++]=n.compression>>8;var d=new Date(n.mtime==null?Date.now():n.mtime),g=d.getFullYear()-1980;if((g<0||g>119)&&It(10),Tt(t,e,g<<25|d.getMonth()+1<<21|d.getDate()<<16|d.getHours()<<11|d.getMinutes()<<5|d.getSeconds()>>1),e+=4,i!=-1&&(Tt(t,e,n.crc),Tt(t,e+4,i<0?-i-2:i),Tt(t,e+8,n.size)),Tt(t,e+12,l),Tt(t,e+14,h),e+=16,o!=null&&(Tt(t,e,f),Tt(t,e+6,n.attrs),Tt(t,e+10,o),e+=14),t.set(r,e),e+=l,h)for(var b in c){var m=c[b],_=m.length;Tt(t,e,+b),Tt(t,e+2,_),t.set(m,e+4),e+=4+_}return f&&(t.set(a,e),e+=f),e},Sm=function(t,e,n,r,s){Tt(t,e,101010256),Tt(t,e+8,n),Tt(t,e+10,n),Tt(t,e+12,r),Tt(t,e+16,s)};function km(t,e){e||(e={});var n={},r=[];Fu(t,"",n,e);var s=0,i=0;for(var o in n){var a=n[o],l=a[0],c=a[1],f=c.level==0?0:8,h=ps(o),d=h.length,g=c.comment,b=g&&ps(g),m=b&&b.length,_=Xo(c.extra);d>65535&&It(11);var p=f?ym(l,c):l,k=p.length,S=gm();S.p(l),r.push(Du(c,{size:l.length,crc:S.d(),c:p,f:h,m:b,u:d!=o.length||b&&g.length!=m,o:s,compression:f})),s+=30+d+_+k,i+=76+2*(d+_)+(m||0)+k}for(var v=new mt(i+22),A=s,N=i-s,y=0;y<r.length;++y){var h=r[y];El(v,h.o,h,h.f,h.u,h.c.length);var E=30+h.f.length+Xo(h.extra);v.set(h.c,h.o+E),El(v,s,h,h.f,h.u,h.c.length,h.o,h.m),s+=16+E+(h.m?h.m.length:0)}return Sm(v,s,r.length,N,A),v}function Am(t,e){for(var n={},r=t.length-22;nn(t,r)!=101010256;--r)(!r||t.length-r>65558)&&It(13);var s=cn(t,r+8);if(!s)return{};var i=nn(t,r+16),o=i==4294967295||s==65535;if(o){var a=nn(t,r-12);o=nn(t,a)==101075792,o&&(s=nn(t,a+32),i=nn(t,a+48))}for(var l=0;l<s;++l){var c=xm(t,i,o),f=c[0],h=c[1],d=c[2],g=c[3],b=c[4],m=c[5],_=vm(t,m);i=b,f?f==8?n[g]=bm(t.subarray(_,_+h),{out:new mt(d)}):It(14,"unknown compression type "+f):n[g]=Ss(t,_,_+h)}return n}function ee(t,e,n){function r(a,l){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(t),e(a,l);for(const f in o.prototype)f in a||Object.defineProperty(a,f,{value:o.prototype[f].bind(a)});a._zod.constr=o,a._zod.def=l}const s=n?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:t});function o(a){var l;const c=n?.Parent?new i:this;r(c,a),(l=c._zod).deferred??(l.deferred=[]);for(const f of c._zod.deferred)f();return c}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}class Pr extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Uu extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Vu={};function qn(t){return Vu}function Tm(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function Qo(t,e){return typeof e=="bigint"?e.toString():e}function Ta(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Na(t){return t==null}function Oa(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function Nm(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const l=r.match(/\d?e-(\d?)/);l?.[1]&&(s=Number.parseInt(l[1]))}const i=n>s?n:s,o=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return o%a/10**i}const Sl=Symbol("evaluating");function nt(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==Sl)return r===void 0&&(r=Sl,r=n()),r},set(s){Object.defineProperty(t,e,{value:s})},configurable:!0})}function Zu(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function xn(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Gr(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function kl(t){return JSON.stringify(t)}const qu="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Ni(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Om=Ta(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Lr(t){if(Ni(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(Ni(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Gu(t){return Lr(t)?{...t}:Array.isArray(t)?[...t]:t}const Im=new Set(["string","number","symbol"]);function $r(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Xn(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Ce(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Cm(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const Rm={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function jm(t,e){const n=t._zod.def,r=Gr(t._zod.def,{get shape(){const s={};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=n.shape[i])}return xn(this,"shape",s),s},checks:[]});return Xn(t,r)}function Pm(t,e){const n=t._zod.def,r=Gr(t._zod.def,{get shape(){const s={...t._zod.def.shape};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return xn(this,"shape",s),s},checks:[]});return Xn(t,r)}function Mm(t,e){if(!Lr(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=Gr(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return xn(this,"shape",i),i},checks:[]});return Xn(t,s)}function zm(t,e){if(!Lr(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return xn(this,"shape",r),r},checks:t._zod.def.checks};return Xn(t,n)}function Lm(t,e){const n=Gr(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return xn(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Xn(t,n)}function $m(t,e,n){const r=Gr(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=t?new t({type:"optional",innerType:s[o]}):s[o])}else for(const o in s)i[o]=t?new t({type:"optional",innerType:s[o]}):s[o];return xn(this,"shape",i),i},checks:[]});return Xn(e,r)}function Bm(t,e,n){const r=Gr(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=new t({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new t({type:"nonoptional",innerType:s[o]});return xn(this,"shape",i),i},checks:[]});return Xn(e,r)}function kr(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function or(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function Ls(t){return typeof t=="string"?t:t?.message}function Gn(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const s=Ls(t.inst?._zod.def?.error?.(t))??Ls(e?.error?.(t))??Ls(n.customError?.(t))??Ls(n.localeError?.(t))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Ia(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function gs(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const Ku=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Qo,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Hu=ee("$ZodError",Ku),Yu=ee("$ZodError",Ku,{Parent:Error});function Dm(t,e=n=>n.message){const n={},r=[];for(const s of t.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}function Fm(t,e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(a=>s({issues:a}));else if(o.code==="invalid_key")s({issues:o.issues});else if(o.code==="invalid_element")s({issues:o.issues});else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(t),r}const Ca=t=>(e,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new Pr;if(o.issues.length){const a=new(s?.Err??t)(o.issues.map(l=>Gn(l,i,qn())));throw qu(a,s?.callee),a}return o.value},Ra=t=>async(e,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new(s?.Err??t)(o.issues.map(l=>Gn(l,i,qn())));throw qu(a,s?.callee),a}return o.value},Fi=t=>(e,n,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new Pr;return i.issues.length?{success:!1,error:new(t??Hu)(i.issues.map(o=>Gn(o,s,qn())))}:{success:!0,data:i.value}},Um=Fi(Yu),Ui=t=>async(e,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(o=>Gn(o,s,qn())))}:{success:!0,data:i.value}},Vm=Ui(Yu),Zm=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ca(t)(e,n,s)},qm=t=>(e,n,r)=>Ca(t)(e,n,r),Gm=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ra(t)(e,n,s)},Km=t=>async(e,n,r)=>Ra(t)(e,n,r),Hm=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Fi(t)(e,n,s)},Ym=t=>(e,n,r)=>Fi(t)(e,n,r),Wm=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ui(t)(e,n,s)},Xm=t=>async(e,n,r)=>Ui(t)(e,n,r),Qm=/^[cC][^\s-]{8,}$/,Jm=/^[0-9a-z]+$/,e0=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,t0=/^[0-9a-vA-V]{20}$/,n0=/^[A-Za-z0-9]{27}$/,r0=/^[a-zA-Z0-9_-]{21}$/,s0=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,i0=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Al=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,o0=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,a0="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function l0(){return new RegExp(a0,"u")}const c0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,u0=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,f0=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,h0=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,d0=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Wu=/^[A-Za-z0-9_-]*$/,p0=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,g0=/^\+(?:[0-9]){6,14}[0-9]$/,Xu="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",m0=new RegExp(`^${Xu}$`);function Qu(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function y0(t){return new RegExp(`^${Qu(t)}$`)}function b0(t){const e=Qu({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${Xu}T(?:${r})$`)}const w0=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},_0=/^-?\d+$/,v0=/^-?\d+(?:\.\d+)?/,x0=/^(?:true|false)$/i,E0=/^[^A-Z]*$/,S0=/^[^a-z]*$/,Lt=ee("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),Ju={number:"number",bigint:"bigint",object:"date"},ef=ee("$ZodCheckLessThan",(t,e)=>{Lt.init(t,e);const n=Ju[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),tf=ee("$ZodCheckGreaterThan",(t,e)=>{Lt.init(t,e);const n=Ju[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),k0=ee("$ZodCheckMultipleOf",(t,e)=>{Lt.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):Nm(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),A0=ee("$ZodCheckNumberFormat",(t,e)=>{Lt.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[s,i]=Rm[e.format];t._zod.onattach.push(o=>{const a=o._zod.bag;a.format=e.format,a.minimum=s,a.maximum=i,n&&(a.pattern=_0)}),t._zod.check=o=>{const a=o.value;if(n){if(!Number.isInteger(a)){o.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?o.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):o.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}a<s&&o.issues.push({origin:"number",input:a,code:"too_small",minimum:s,inclusive:!0,inst:t,continue:!e.abort}),a>i&&o.issues.push({origin:"number",input:a,code:"too_big",maximum:i,inst:t})}}),T0=ee("$ZodCheckMaxLength",(t,e)=>{var n;Lt.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!Na(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const o=Ia(s);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),N0=ee("$ZodCheckMinLength",(t,e)=>{var n;Lt.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!Na(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const o=Ia(s);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),O0=ee("$ZodCheckLengthEquals",(t,e)=>{var n;Lt.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!Na(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),t._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const o=Ia(s),a=i>e.length;r.issues.push({origin:o,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Vi=ee("$ZodCheckStringFormat",(t,e)=>{var n,r;Lt.init(t,e),t._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),I0=ee("$ZodCheckRegex",(t,e)=>{Vi.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),C0=ee("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=E0),Vi.init(t,e)}),R0=ee("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=S0),Vi.init(t,e)}),j0=ee("$ZodCheckIncludes",(t,e)=>{Lt.init(t,e);const n=$r(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:t,continue:!e.abort})}}),P0=ee("$ZodCheckStartsWith",(t,e)=>{Lt.init(t,e);const n=new RegExp(`^${$r(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),M0=ee("$ZodCheckEndsWith",(t,e)=>{Lt.init(t,e);const n=new RegExp(`.*${$r(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),z0=ee("$ZodCheckOverwrite",(t,e)=>{Lt.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class L0{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(o=>o),s=Math.min(...r.map(o=>o.length-o.trimStart().length)),i=r.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const e=Function,n=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...n,s.join(`
`))}}const $0={major:4,minor:1,patch:9},st=ee("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=$0;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const s of r)for(const i of s._zod.onattach)i(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const s=(o,a,l)=>{let c=kr(o),f;for(const h of a){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(c)continue;const d=o.issues.length,g=h._zod.check(o);if(g instanceof Promise&&l?.async===!1)throw new Pr;if(f||g instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await g,o.issues.length!==d&&(c||(c=kr(o,d)))});else{if(o.issues.length===d)continue;c||(c=kr(o,d))}}return f?f.then(()=>o):o},i=(o,a,l)=>{if(kr(o))return o.aborted=!0,o;const c=s(a,r,l);if(c instanceof Promise){if(l.async===!1)throw new Pr;return c.then(f=>t._zod.parse(f,l))}return t._zod.parse(c,l)};t._zod.run=(o,a)=>{if(a.skipChecks)return t._zod.parse(o,a);if(a.direction==="backward"){const c=t._zod.parse({value:o.value,issues:[]},{...a,skipChecks:!0});return c instanceof Promise?c.then(f=>i(f,o,a)):i(c,o,a)}const l=t._zod.parse(o,a);if(l instanceof Promise){if(a.async===!1)throw new Pr;return l.then(c=>s(c,r,a))}return s(l,r,a)}}t["~standard"]={validate:s=>{try{const i=Um(t,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return Vm(t,s).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),ja=ee("$ZodString",(t,e)=>{st.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??w0(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),ft=ee("$ZodStringFormat",(t,e)=>{Vi.init(t,e),ja.init(t,e)}),B0=ee("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=i0),ft.init(t,e)}),D0=ee("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Al(r))}else e.pattern??(e.pattern=Al());ft.init(t,e)}),F0=ee("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=o0),ft.init(t,e)}),U0=ee("$ZodURL",(t,e)=>{ft.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:p0.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),V0=ee("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=l0()),ft.init(t,e)}),Z0=ee("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=r0),ft.init(t,e)}),q0=ee("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Qm),ft.init(t,e)}),G0=ee("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=Jm),ft.init(t,e)}),K0=ee("$ZodULID",(t,e)=>{e.pattern??(e.pattern=e0),ft.init(t,e)}),H0=ee("$ZodXID",(t,e)=>{e.pattern??(e.pattern=t0),ft.init(t,e)}),Y0=ee("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=n0),ft.init(t,e)}),W0=ee("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=b0(e)),ft.init(t,e)}),X0=ee("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=m0),ft.init(t,e)}),Q0=ee("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=y0(e)),ft.init(t,e)}),J0=ee("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=s0),ft.init(t,e)}),e1=ee("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=c0),ft.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),t1=ee("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=u0),ft.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),n1=ee("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=f0),ft.init(t,e)}),r1=ee("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=h0),ft.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function nf(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const s1=ee("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=d0),ft.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{nf(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function i1(t){if(!Wu.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return nf(n)}const o1=ee("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Wu),ft.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{i1(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),a1=ee("$ZodE164",(t,e)=>{e.pattern??(e.pattern=g0),ft.init(t,e)});function l1(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const c1=ee("$ZodJWT",(t,e)=>{ft.init(t,e),t._zod.check=n=>{l1(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),rf=ee("$ZodNumber",(t,e)=>{st.init(t,e),t._zod.pattern=t._zod.bag.pattern??v0,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:t,...i?{received:i}:{}}),n}}),u1=ee("$ZodNumber",(t,e)=>{A0.init(t,e),rf.init(t,e)}),f1=ee("$ZodBoolean",(t,e)=>{st.init(t,e),t._zod.pattern=x0,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:t}),n}}),h1=ee("$ZodUnknown",(t,e)=>{st.init(t,e),t._zod.parse=n=>n}),d1=ee("$ZodNever",(t,e)=>{st.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),p1=ee("$ZodDate",(t,e)=>{st.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const s=n.value,i=s instanceof Date;return i&&!Number.isNaN(s.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:s,...i?{received:"Invalid Date"}:{},inst:t}),n}});function Tl(t,e,n){t.issues.length&&e.issues.push(...or(n,t.issues)),e.value[n]=t.value}const g1=ee("$ZodArray",(t,e)=>{st.init(t,e),t._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:t}),n;n.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const a=s[o],l=e.element._zod.run({value:a,issues:[]},r);l instanceof Promise?i.push(l.then(c=>Tl(c,n,o))):Tl(l,n,o)}return i.length?Promise.all(i).then(()=>n):n}});function Oi(t,e,n,r){t.issues.length&&e.issues.push(...or(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function sf(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=Cm(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function of(t,e,n,r,s,i){const o=[],a=s.keySet,l=s.catchall._zod,c=l.def.type;for(const f of Object.keys(e)){if(a.has(f))continue;if(c==="never"){o.push(f);continue}const h=l.run({value:e[f],issues:[]},r);h instanceof Promise?t.push(h.then(d=>Oi(d,n,f,e))):Oi(h,n,f,e)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const m1=ee("$ZodObject",(t,e)=>{st.init(t,e);const n=Ta(()=>sf(e));nt(t._zod,"propValues",()=>{const o=e.shape,a={};for(const l in o){const c=o[l]._zod;if(c.values){a[l]??(a[l]=new Set);for(const f of c.values)a[l].add(f)}}return a});const r=Ni,s=e.catchall;let i;t._zod.parse=(o,a)=>{i??(i=n.value);const l=o.value;if(!r(l))return o.issues.push({expected:"object",code:"invalid_type",input:l,inst:t}),o;o.value={};const c=[],f=i.shape;for(const h of i.keys){const g=f[h]._zod.run({value:l[h],issues:[]},a);g instanceof Promise?c.push(g.then(b=>Oi(b,o,h,l))):Oi(g,o,h,l)}return s?of(c,l,o,a,n.value,t):c.length?Promise.all(c).then(()=>o):o}}),y1=ee("$ZodObjectJIT",(t,e)=>{m1.init(t,e);const n=t._zod.parse,r=Ta(()=>sf(e)),s=d=>{const g=new L0(["shape","payload","ctx"]),b=r.value,m=S=>{const v=kl(S);return`shape[${v}]._zod.run({ value: input[${v}], issues: [] }, ctx)`};g.write("const input = payload.value;");const _=Object.create(null);let p=0;for(const S of b.keys)_[S]=`key_${p++}`;g.write("const newResult = {};");for(const S of b.keys){const v=_[S],A=kl(S);g.write(`const ${v} = ${m(S)};`),g.write(`
        if (${v}.issues.length) {
          payload.issues = payload.issues.concat(${v}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${A}, ...iss.path] : [${A}]
          })));
        }
        
        
        if (${v}.value === undefined) {
          if (${A} in input) {
            newResult[${A}] = undefined;
          }
        } else {
          newResult[${A}] = ${v}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const k=g.compile();return(S,v)=>k(d,S,v)};let i;const o=Ni,a=!Vu.jitless,c=a&&Om.value,f=e.catchall;let h;t._zod.parse=(d,g)=>{h??(h=r.value);const b=d.value;return o(b)?a&&c&&g?.async===!1&&g.jitless!==!0?(i||(i=s(e.shape)),d=i(d,g),f?of([],b,d,g,h,t):d):n(d,g):(d.issues.push({expected:"object",code:"invalid_type",input:b,inst:t}),d)}});function Nl(t,e,n,r){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const s=t.filter(i=>!kr(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(o=>Gn(o,r,qn())))}),e)}const b1=ee("$ZodUnion",(t,e)=>{st.init(t,e),nt(t._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),nt(t._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),nt(t._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),nt(t._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>Oa(i.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(s,i)=>{if(n)return r(s,i);let o=!1;const a=[];for(const l of e.options){const c=l._zod.run({value:s.value,issues:[]},i);if(c instanceof Promise)a.push(c),o=!0;else{if(c.issues.length===0)return c;a.push(c)}}return o?Promise.all(a).then(l=>Nl(l,s,t,i)):Nl(a,s,t,i)}}),w1=ee("$ZodIntersection",(t,e)=>{st.init(t,e),t._zod.parse=(n,r)=>{const s=n.value,i=e.left._zod.run({value:s,issues:[]},r),o=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([l,c])=>Ol(n,l,c)):Ol(n,i,o)}});function Jo(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Lr(t)&&Lr(e)){const n=Object.keys(e),r=Object.keys(t).filter(i=>n.indexOf(i)!==-1),s={...t,...e};for(const i of r){const o=Jo(t[i],e[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r],o=Jo(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Ol(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),kr(t))return t;const r=Jo(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const _1=ee("$ZodTuple",(t,e)=>{st.init(t,e);const n=e.items,r=n.length-[...n].reverse().findIndex(s=>s._zod.optin!=="optional");t._zod.parse=(s,i)=>{const o=s.value;if(!Array.isArray(o))return s.issues.push({input:o,inst:t,expected:"tuple",code:"invalid_type"}),s;s.value=[];const a=[];if(!e.rest){const c=o.length>n.length,f=o.length<r-1;if(c||f)return s.issues.push({...c?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},input:o,inst:t,origin:"array"}),s}let l=-1;for(const c of n){if(l++,l>=o.length&&l>=r)continue;const f=c._zod.run({value:o[l],issues:[]},i);f instanceof Promise?a.push(f.then(h=>$s(h,s,l))):$s(f,s,l)}if(e.rest){const c=o.slice(n.length);for(const f of c){l++;const h=e.rest._zod.run({value:f,issues:[]},i);h instanceof Promise?a.push(h.then(d=>$s(d,s,l))):$s(h,s,l)}}return a.length?Promise.all(a).then(()=>s):s}});function $s(t,e,n){t.issues.length&&e.issues.push(...or(n,t.issues)),e.value[n]=t.value}const v1=ee("$ZodRecord",(t,e)=>{st.init(t,e),t._zod.parse=(n,r)=>{const s=n.value;if(!Lr(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:t}),n;const i=[];if(e.keyType._zod.values){const o=e.keyType._zod.values;n.value={};for(const l of o)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const c=e.valueType._zod.run({value:s[l],issues:[]},r);c instanceof Promise?i.push(c.then(f=>{f.issues.length&&n.issues.push(...or(l,f.issues)),n.value[l]=f.value})):(c.issues.length&&n.issues.push(...or(l,c.issues)),n.value[l]=c.value)}let a;for(const l in s)o.has(l)||(a=a??[],a.push(l));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:t,keys:a})}else{n.value={};for(const o of Reflect.ownKeys(s)){if(o==="__proto__")continue;const a=e.keyType._zod.run({value:o,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:a.issues.map(c=>Gn(c,r,qn())),input:o,path:[o],inst:t}),n.value[a.value]=a.value;continue}const l=e.valueType._zod.run({value:s[o],issues:[]},r);l instanceof Promise?i.push(l.then(c=>{c.issues.length&&n.issues.push(...or(o,c.issues)),n.value[a.value]=c.value})):(l.issues.length&&n.issues.push(...or(o,l.issues)),n.value[a.value]=l.value)}}return i.length?Promise.all(i).then(()=>n):n}}),x1=ee("$ZodEnum",(t,e)=>{st.init(t,e);const n=Tm(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(s=>Im.has(typeof s)).map(s=>typeof s=="string"?$r(s):s.toString()).join("|")})$`),t._zod.parse=(s,i)=>{const o=s.value;return r.has(o)||s.issues.push({code:"invalid_value",values:n,input:o,inst:t}),s}}),E1=ee("$ZodLiteral",(t,e)=>{if(st.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(n=>typeof n=="string"?$r(n):n?$r(n.toString()):String(n)).join("|")})$`),t._zod.parse=(n,r)=>{const s=n.value;return t._zod.values.has(s)||n.issues.push({code:"invalid_value",values:e.values,input:s,inst:t}),n}}),S1=ee("$ZodTransform",(t,e)=>{st.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Uu(t.constructor.name);const s=e.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(n.value=o,n));if(s instanceof Promise)throw new Pr;return n.value=s,n}});function Il(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const k1=ee("$ZodOptional",(t,e)=>{st.init(t,e),t._zod.optin="optional",t._zod.optout="optional",nt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),nt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Oa(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>Il(i,n.value)):Il(s,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),A1=ee("$ZodNullable",(t,e)=>{st.init(t,e),nt(t._zod,"optin",()=>e.innerType._zod.optin),nt(t._zod,"optout",()=>e.innerType._zod.optout),nt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Oa(n.source)}|null)$`):void 0}),nt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),T1=ee("$ZodDefault",(t,e)=>{st.init(t,e),t._zod.optin="optional",nt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>Cl(i,e)):Cl(s,e)}});function Cl(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const N1=ee("$ZodPrefault",(t,e)=>{st.init(t,e),t._zod.optin="optional",nt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),O1=ee("$ZodNonOptional",(t,e)=>{st.init(t,e),nt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>Rl(i,t)):Rl(s,t)}});function Rl(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const I1=ee("$ZodCatch",(t,e)=>{st.init(t,e),nt(t._zod,"optin",()=>e.innerType._zod.optin),nt(t._zod,"optout",()=>e.innerType._zod.optout),nt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(o=>Gn(o,r,qn()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(i=>Gn(i,r,qn()))},input:n.value}),n.issues=[]),n)}}),C1=ee("$ZodPipe",(t,e)=>{st.init(t,e),nt(t._zod,"values",()=>e.in._zod.values),nt(t._zod,"optin",()=>e.in._zod.optin),nt(t._zod,"optout",()=>e.out._zod.optout),nt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(n,r);return i instanceof Promise?i.then(o=>Bs(o,e.in,r)):Bs(i,e.in,r)}const s=e.in._zod.run(n,r);return s instanceof Promise?s.then(i=>Bs(i,e.out,r)):Bs(s,e.out,r)}});function Bs(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const R1=ee("$ZodReadonly",(t,e)=>{st.init(t,e),nt(t._zod,"propValues",()=>e.innerType._zod.propValues),nt(t._zod,"values",()=>e.innerType._zod.values),nt(t._zod,"optin",()=>e.innerType._zod.optin),nt(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(jl):jl(s)}});function jl(t){return t.value=Object.freeze(t.value),t}const j1=ee("$ZodLazy",(t,e)=>{st.init(t,e),nt(t._zod,"innerType",()=>e.getter()),nt(t._zod,"pattern",()=>t._zod.innerType._zod.pattern),nt(t._zod,"propValues",()=>t._zod.innerType._zod.propValues),nt(t._zod,"optin",()=>t._zod.innerType._zod.optin??void 0),nt(t._zod,"optout",()=>t._zod.innerType._zod.optout??void 0),t._zod.parse=(n,r)=>t._zod.innerType._zod.run(n,r)}),P1=ee("$ZodCustom",(t,e)=>{Lt.init(t,e),st.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>Pl(i,n,r,t));Pl(s,n,r,t)}});function Pl(t,e,n,r){if(!t){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(gs(s))}}class M1{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function z1(){return new M1}const Ds=z1();function L1(t,e){return new t({type:"string",...Ce(e)})}function $1(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ce(e)})}function Ml(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ce(e)})}function B1(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ce(e)})}function D1(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ce(e)})}function F1(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ce(e)})}function U1(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ce(e)})}function V1(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ce(e)})}function Z1(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ce(e)})}function q1(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ce(e)})}function G1(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ce(e)})}function K1(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ce(e)})}function H1(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ce(e)})}function Y1(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ce(e)})}function W1(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ce(e)})}function X1(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ce(e)})}function Q1(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ce(e)})}function J1(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ce(e)})}function ey(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ce(e)})}function ty(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ce(e)})}function ny(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ce(e)})}function ry(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ce(e)})}function sy(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ce(e)})}function iy(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ce(e)})}function oy(t,e){return new t({type:"string",format:"date",check:"string_format",...Ce(e)})}function ay(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ce(e)})}function ly(t,e){return new t({type:"string",format:"duration",check:"string_format",...Ce(e)})}function cy(t,e){return new t({type:"number",checks:[],...Ce(e)})}function uy(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ce(e)})}function fy(t,e){return new t({type:"boolean",...Ce(e)})}function hy(t){return new t({type:"unknown"})}function dy(t,e){return new t({type:"never",...Ce(e)})}function py(t,e){return new t({type:"date",...Ce(e)})}function zl(t,e){return new ef({check:"less_than",...Ce(e),value:t,inclusive:!1})}function yi(t,e){return new ef({check:"less_than",...Ce(e),value:t,inclusive:!0})}function Ll(t,e){return new tf({check:"greater_than",...Ce(e),value:t,inclusive:!1})}function bi(t,e){return new tf({check:"greater_than",...Ce(e),value:t,inclusive:!0})}function $l(t,e){return new k0({check:"multiple_of",...Ce(e),value:t})}function af(t,e){return new T0({check:"max_length",...Ce(e),maximum:t})}function Ii(t,e){return new N0({check:"min_length",...Ce(e),minimum:t})}function lf(t,e){return new O0({check:"length_equals",...Ce(e),length:t})}function gy(t,e){return new I0({check:"string_format",format:"regex",...Ce(e),pattern:t})}function my(t){return new C0({check:"string_format",format:"lowercase",...Ce(t)})}function yy(t){return new R0({check:"string_format",format:"uppercase",...Ce(t)})}function by(t,e){return new j0({check:"string_format",format:"includes",...Ce(e),includes:t})}function wy(t,e){return new P0({check:"string_format",format:"starts_with",...Ce(e),prefix:t})}function _y(t,e){return new M0({check:"string_format",format:"ends_with",...Ce(e),suffix:t})}function ks(t){return new z0({check:"overwrite",tx:t})}function vy(t){return ks(e=>e.normalize(t))}function xy(){return ks(t=>t.trim())}function Ey(){return ks(t=>t.toLowerCase())}function Sy(){return ks(t=>t.toUpperCase())}function ky(t,e,n){return new t({type:"array",element:e,...Ce(n)})}function Ay(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Ce(n)})}function Ty(t){const e=Ny(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(gs(r,n.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),n.issues.push(gs(s))}},t(n.value,n)));return e}function Ny(t,e){const n=new Lt({check:"custom",...Ce(e)});return n._zod.check=t,n}const Oy=ee("ZodISODateTime",(t,e)=>{W0.init(t,e),dt.init(t,e)});function Iy(t){return iy(Oy,t)}const Cy=ee("ZodISODate",(t,e)=>{X0.init(t,e),dt.init(t,e)});function Ry(t){return oy(Cy,t)}const jy=ee("ZodISOTime",(t,e)=>{Q0.init(t,e),dt.init(t,e)});function Py(t){return ay(jy,t)}const My=ee("ZodISODuration",(t,e)=>{J0.init(t,e),dt.init(t,e)});function zy(t){return ly(My,t)}const Ly=(t,e)=>{Hu.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>Fm(t,n)},flatten:{value:n=>Dm(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Qo,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Qo,2)}},isEmpty:{get(){return t.issues.length===0}}})},Ht=ee("ZodError",Ly,{Parent:Error}),$y=Ca(Ht),By=Ra(Ht),Dy=Fi(Ht),Fy=Ui(Ht),Uy=Zm(Ht),Vy=qm(Ht),Zy=Gm(Ht),qy=Km(Ht),Gy=Hm(Ht),Ky=Ym(Ht),Hy=Wm(Ht),Yy=Xm(Ht),ct=ee("ZodType",(t,e)=>(st.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone({...e,checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),t.clone=(n,r)=>Xn(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>$y(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>Dy(t,n,r),t.parseAsync=async(n,r)=>By(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>Fy(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>Uy(t,n,r),t.decode=(n,r)=>Vy(t,n,r),t.encodeAsync=async(n,r)=>Zy(t,n,r),t.decodeAsync=async(n,r)=>qy(t,n,r),t.safeEncode=(n,r)=>Gy(t,n,r),t.safeDecode=(n,r)=>Ky(t,n,r),t.safeEncodeAsync=async(n,r)=>Hy(t,n,r),t.safeDecodeAsync=async(n,r)=>Yy(t,n,r),t.refine=(n,r)=>t.check(Zb(n,r)),t.superRefine=n=>t.check(qb(n)),t.overwrite=n=>t.check(ks(n)),t.optional=()=>Zl(t),t.nullable=()=>ql(t),t.nullish=()=>Zl(ql(t)),t.nonoptional=n=>Mb(t,n),t.array=()=>Br(t),t.or=n=>hf([t,n]),t.and=n=>Eb(t,n),t.transform=n=>Gl(t,Ob(n)),t.default=n=>Rb(t,n),t.prefault=n=>Pb(t,n),t.catch=n=>Lb(t,n),t.pipe=n=>Gl(t,n),t.readonly=()=>Db(t),t.describe=n=>{const r=t.clone();return Ds.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return Ds.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Ds.get(t);const r=t.clone();return Ds.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),cf=ee("_ZodString",(t,e)=>{ja.init(t,e),ct.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(gy(...r)),t.includes=(...r)=>t.check(by(...r)),t.startsWith=(...r)=>t.check(wy(...r)),t.endsWith=(...r)=>t.check(_y(...r)),t.min=(...r)=>t.check(Ii(...r)),t.max=(...r)=>t.check(af(...r)),t.length=(...r)=>t.check(lf(...r)),t.nonempty=(...r)=>t.check(Ii(1,...r)),t.lowercase=r=>t.check(my(r)),t.uppercase=r=>t.check(yy(r)),t.trim=()=>t.check(xy()),t.normalize=(...r)=>t.check(vy(...r)),t.toLowerCase=()=>t.check(Ey()),t.toUpperCase=()=>t.check(Sy())}),Wy=ee("ZodString",(t,e)=>{ja.init(t,e),cf.init(t,e),t.email=n=>t.check($1(Xy,n)),t.url=n=>t.check(V1(Qy,n)),t.jwt=n=>t.check(sy(db,n)),t.emoji=n=>t.check(Z1(Jy,n)),t.guid=n=>t.check(Ml(Bl,n)),t.uuid=n=>t.check(B1(Fs,n)),t.uuidv4=n=>t.check(D1(Fs,n)),t.uuidv6=n=>t.check(F1(Fs,n)),t.uuidv7=n=>t.check(U1(Fs,n)),t.nanoid=n=>t.check(q1(eb,n)),t.guid=n=>t.check(Ml(Bl,n)),t.cuid=n=>t.check(G1(tb,n)),t.cuid2=n=>t.check(K1(nb,n)),t.ulid=n=>t.check(H1(rb,n)),t.base64=n=>t.check(ty(ub,n)),t.base64url=n=>t.check(ny(fb,n)),t.xid=n=>t.check(Y1(sb,n)),t.ksuid=n=>t.check(W1(ib,n)),t.ipv4=n=>t.check(X1(ob,n)),t.ipv6=n=>t.check(Q1(ab,n)),t.cidrv4=n=>t.check(J1(lb,n)),t.cidrv6=n=>t.check(ey(cb,n)),t.e164=n=>t.check(ry(hb,n)),t.datetime=n=>t.check(Iy(n)),t.date=n=>t.check(Ry(n)),t.time=n=>t.check(Py(n)),t.duration=n=>t.check(zy(n))});function Qe(t){return L1(Wy,t)}const dt=ee("ZodStringFormat",(t,e)=>{ft.init(t,e),cf.init(t,e)}),Xy=ee("ZodEmail",(t,e)=>{F0.init(t,e),dt.init(t,e)}),Bl=ee("ZodGUID",(t,e)=>{B0.init(t,e),dt.init(t,e)}),Fs=ee("ZodUUID",(t,e)=>{D0.init(t,e),dt.init(t,e)}),Qy=ee("ZodURL",(t,e)=>{U0.init(t,e),dt.init(t,e)}),Jy=ee("ZodEmoji",(t,e)=>{V0.init(t,e),dt.init(t,e)}),eb=ee("ZodNanoID",(t,e)=>{Z0.init(t,e),dt.init(t,e)}),tb=ee("ZodCUID",(t,e)=>{q0.init(t,e),dt.init(t,e)}),nb=ee("ZodCUID2",(t,e)=>{G0.init(t,e),dt.init(t,e)}),rb=ee("ZodULID",(t,e)=>{K0.init(t,e),dt.init(t,e)}),sb=ee("ZodXID",(t,e)=>{H0.init(t,e),dt.init(t,e)}),ib=ee("ZodKSUID",(t,e)=>{Y0.init(t,e),dt.init(t,e)}),ob=ee("ZodIPv4",(t,e)=>{e1.init(t,e),dt.init(t,e)}),ab=ee("ZodIPv6",(t,e)=>{t1.init(t,e),dt.init(t,e)}),lb=ee("ZodCIDRv4",(t,e)=>{n1.init(t,e),dt.init(t,e)}),cb=ee("ZodCIDRv6",(t,e)=>{r1.init(t,e),dt.init(t,e)}),ub=ee("ZodBase64",(t,e)=>{s1.init(t,e),dt.init(t,e)}),fb=ee("ZodBase64URL",(t,e)=>{o1.init(t,e),dt.init(t,e)}),hb=ee("ZodE164",(t,e)=>{a1.init(t,e),dt.init(t,e)}),db=ee("ZodJWT",(t,e)=>{c1.init(t,e),dt.init(t,e)}),uf=ee("ZodNumber",(t,e)=>{rf.init(t,e),ct.init(t,e),t.gt=(r,s)=>t.check(Ll(r,s)),t.gte=(r,s)=>t.check(bi(r,s)),t.min=(r,s)=>t.check(bi(r,s)),t.lt=(r,s)=>t.check(zl(r,s)),t.lte=(r,s)=>t.check(yi(r,s)),t.max=(r,s)=>t.check(yi(r,s)),t.int=r=>t.check(Dl(r)),t.safe=r=>t.check(Dl(r)),t.positive=r=>t.check(Ll(0,r)),t.nonnegative=r=>t.check(bi(0,r)),t.negative=r=>t.check(zl(0,r)),t.nonpositive=r=>t.check(yi(0,r)),t.multipleOf=(r,s)=>t.check($l(r,s)),t.step=(r,s)=>t.check($l(r,s)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Ye(t){return cy(uf,t)}const pb=ee("ZodNumberFormat",(t,e)=>{u1.init(t,e),uf.init(t,e)});function Dl(t){return uy(pb,t)}const gb=ee("ZodBoolean",(t,e)=>{f1.init(t,e),ct.init(t,e)});function dr(t){return fy(gb,t)}const mb=ee("ZodUnknown",(t,e)=>{h1.init(t,e),ct.init(t,e)});function Ci(){return hy(mb)}const yb=ee("ZodNever",(t,e)=>{d1.init(t,e),ct.init(t,e)});function bb(t){return dy(yb,t)}const wb=ee("ZodDate",(t,e)=>{p1.init(t,e),ct.init(t,e),t.min=(r,s)=>t.check(bi(r,s)),t.max=(r,s)=>t.check(yi(r,s));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function Fl(t){return py(wb,t)}const _b=ee("ZodArray",(t,e)=>{g1.init(t,e),ct.init(t,e),t.element=e.element,t.min=(n,r)=>t.check(Ii(n,r)),t.nonempty=n=>t.check(Ii(1,n)),t.max=(n,r)=>t.check(af(n,r)),t.length=(n,r)=>t.check(lf(n,r)),t.unwrap=()=>t.element});function Br(t,e){return ky(_b,t,e)}const ff=ee("ZodObject",(t,e)=>{y1.init(t,e),ct.init(t,e),nt(t,"shape",()=>e.shape),t.keyof=()=>Ab(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Ci()}),t.loose=()=>t.clone({...t._zod.def,catchall:Ci()}),t.strict=()=>t.clone({...t._zod.def,catchall:bb()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>Mm(t,n),t.safeExtend=n=>zm(t,n),t.merge=n=>Lm(t,n),t.pick=n=>jm(t,n),t.omit=n=>Pm(t,n),t.partial=(...n)=>$m(df,t,n[0]),t.required=(...n)=>Bm(pf,t,n[0])});function ur(t,e){const n={type:"object",get shape(){return xn(this,"shape",t?Zu(t):{}),this.shape},...Ce(e)};return new ff(n)}function Kn(t,e){return new ff({type:"object",get shape(){return xn(this,"shape",Zu(t)),this.shape},catchall:Ci(),...Ce(e)})}const vb=ee("ZodUnion",(t,e)=>{b1.init(t,e),ct.init(t,e),t.options=e.options});function hf(t,e){return new vb({type:"union",options:t,...Ce(e)})}const xb=ee("ZodIntersection",(t,e)=>{w1.init(t,e),ct.init(t,e)});function Eb(t,e){return new xb({type:"intersection",left:t,right:e})}const Sb=ee("ZodTuple",(t,e)=>{_1.init(t,e),ct.init(t,e),t.rest=n=>t.clone({...t._zod.def,rest:n})});function Ul(t,e,n){const r=e instanceof st,s=r?n:e,i=r?e:null;return new Sb({type:"tuple",items:t,rest:i,...Ce(s)})}const kb=ee("ZodRecord",(t,e)=>{v1.init(t,e),ct.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function Hn(t,e,n){return new kb({type:"record",keyType:t,valueType:e,...Ce(n)})}const ea=ee("ZodEnum",(t,e)=>{x1.init(t,e),ct.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,s)=>{const i={};for(const o of r)if(n.has(o))i[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new ea({...e,checks:[],...Ce(s),entries:i})},t.exclude=(r,s)=>{const i={...e.entries};for(const o of r)if(n.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new ea({...e,checks:[],...Ce(s),entries:i})}});function Ab(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new ea({type:"enum",entries:n,...Ce(e)})}const Tb=ee("ZodLiteral",(t,e)=>{E1.init(t,e),ct.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Vl(t,e){return new Tb({type:"literal",values:Array.isArray(t)?t:[t],...Ce(e)})}const Nb=ee("ZodTransform",(t,e)=>{S1.init(t,e),ct.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Uu(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(gs(i,n.value,e));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),n.issues.push(gs(o))}};const s=e.transform(n.value,n);return s instanceof Promise?s.then(i=>(n.value=i,n)):(n.value=s,n)}});function Ob(t){return new Nb({type:"transform",transform:t})}const df=ee("ZodOptional",(t,e)=>{k1.init(t,e),ct.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Zl(t){return new df({type:"optional",innerType:t})}const Ib=ee("ZodNullable",(t,e)=>{A1.init(t,e),ct.init(t,e),t.unwrap=()=>t._zod.def.innerType});function ql(t){return new Ib({type:"nullable",innerType:t})}const Cb=ee("ZodDefault",(t,e)=>{T1.init(t,e),ct.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Rb(t,e){return new Cb({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Gu(e)}})}const jb=ee("ZodPrefault",(t,e)=>{N1.init(t,e),ct.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Pb(t,e){return new jb({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Gu(e)}})}const pf=ee("ZodNonOptional",(t,e)=>{O1.init(t,e),ct.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Mb(t,e){return new pf({type:"nonoptional",innerType:t,...Ce(e)})}const zb=ee("ZodCatch",(t,e)=>{I1.init(t,e),ct.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Lb(t,e){return new zb({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const $b=ee("ZodPipe",(t,e)=>{C1.init(t,e),ct.init(t,e),t.in=e.in,t.out=e.out});function Gl(t,e){return new $b({type:"pipe",in:t,out:e})}const Bb=ee("ZodReadonly",(t,e)=>{R1.init(t,e),ct.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Db(t){return new Bb({type:"readonly",innerType:t})}const Fb=ee("ZodLazy",(t,e)=>{j1.init(t,e),ct.init(t,e),t.unwrap=()=>t._zod.def.getter()});function Ub(t){return new Fb({type:"lazy",getter:t})}const Vb=ee("ZodCustom",(t,e)=>{P1.init(t,e),ct.init(t,e)});function Zb(t,e={}){return Ay(Vb,t,e)}function qb(t){return Ty(t)}const Gb=ur({schemaVersion:Ye().min(0).default(0),projectName:Qe(),createdAt:Fl().optional().nullable(),lastModifiedAt:Fl().optional().nullable(),orbitControls:ur({position:Ul([Ye(),Ye(),Ye()]),target:Ul([Ye(),Ye(),Ye()]),zoom:Ye().optional()}).optional()});var Us={},ts={},Vs={},Kl;function Pt(){if(Kl)return Vs;Kl=1,Object.defineProperty(Vs,"__esModule",{value:!0});let t=class extends Error{constructor(n){super(n),this.name="NBTError"}};return Vs.default=t,Vs}var ns={},Hl;function Yt(){if(Hl)return ns;Hl=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.concatUint8Arrays=t,ns.isLittleEndian=e;function t(...n){let r=0;for(let o of n)r+=o.length;let s=new Uint8Array(r),i=0;for(let o of n)s.set(o,i),i+=o.length;return s}function e(n){return n==="bedrock"}return ns}var fo={},Zs={},qs={},Yl;function Pa(){if(Yl)return qs;Yl=1,Object.defineProperty(qs,"__esModule",{value:!0});const t=Ft(),e=Pt(),n=Yt();let r=class An{constructor(i){this.value=i&0xffffffffffffffffn}static fromSNBTValue(i){if(i=i.trim(),!/[-+]?(?:0|[1-9][0-9]*)[lL]?/.test(i))throw new e.default("Invalid long SNBT value");return new An(BigInt(i.replace(/[lL]/,"").trim()))}static fromUint8Array(i,o){return new An(new DataView(i.buffer).getBigInt64(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return An.fromSNBTValue(i)}fromUint8Array(i,o){return An.fromUint8Array(i,o)}copy(){return new An(this.value)}equals(i){return i instanceof An&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return An.getTagId()}setValue(i){this.value=i&0xffffffffffffffffn}toSNBTValue(i){return this.value+"l"}toUint8Array(i){const o=new ArrayBuffer(8);return new DataView(o).setBigInt64(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.LONG}};return qs.default=r,qs}var Gs={},Wl;function Kr(){if(Wl)return Gs;Wl=1,Object.defineProperty(Gs,"__esModule",{value:!0});const t=Ft(),e=Pt(),n=Yt();let r=class Tn{constructor(i){this.value=i&4294967295}static fromSNBTValue(i){if(i=i.trim(),!/[-+]?(?:0|[1-9][0-9]*)/.test(i))throw new e.default("Invalid int SNBT value");return new Tn(Number(i.trim()))}static fromUint8Array(i,o){return new Tn(new DataView(i.buffer).getInt32(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return Tn.fromSNBTValue(i)}fromUint8Array(i,o){return Tn.fromUint8Array(i,o)}copy(){return new Tn(this.value)}equals(i){return i instanceof Tn&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return Tn.getTagId()}setValue(i){this.value=i&4294967295}toSNBTValue(i){return this.value.toString()}toUint8Array(i){const o=new ArrayBuffer(4);return new DataView(o).setInt32(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.INT}};return Gs.default=r,Gs}var Xl;function Kb(){if(Xl)return Zs;Xl=1,Object.defineProperty(Zs,"__esModule",{value:!0});const t=Ft(),e=Pt(),n=Yt(),r=Pa(),s=Kr();let i=class Nn{constructor(a){if(a.length>=2**31)throw new e.default("Long array is too long");this.value=a}static fromSNBTValue(a){a=a.replace(" ","").trim();const l=a.replace("[L;","").replace("]","").split(","),c=[];return l.forEach((f,h)=>c[h]=r.default.fromSNBTValue(f)),new Nn(c)}static fromUint8Array(a,l){const c=[],f=s.default.fromUint8Array(a.slice(0,4),l).getValue();let h=4;for(let d=0;d<f;d++)c.push(r.default.fromUint8Array(a.slice(h,h+8),l)),h+=8;return new Nn(c)}fromSNBTValue(a){return Nn.fromSNBTValue(a)}fromUint8Array(a,l){return Nn.fromUint8Array(a,l)}copy(){return new Nn(this.value)}equals(a){return a instanceof Nn&&this.value.every((l,c)=>l.equals(this.value[c]))}getValue(){return this.value}getValueDeep(){return this.value.map(a=>a.getValueDeep())}getTagId(){return Nn.getTagId()}setValue(a){if(a.length>=2**31)throw new e.default("Long array is too long");this.value=a}toSNBTValue(a){let l="[L;"+(a==="formated"?" ":"");if(this.value.length>0){l+=a==="formated"?" ":"";for(let c=0;c<this.value.length-1;c++)l+=this.value[c].toSNBTValue(a)+","+(a==="formated"?" ":"");l+=this.value[this.value.length-1].toSNBTValue(a)}return l+="]",l}toUint8Array(a){return(0,n.concatUint8Arrays)(new s.default(this.value.length).toUint8Array(a),...this.value.map(l=>l.toUint8Array(a)))}static getTagId(){return t.default.LONG_ARRAY}};return Zs.default=i,Zs}var Ks={},Ql;function Hb(){if(Ql)return Ks;Ql=1,Object.defineProperty(Ks,"__esModule",{value:!0});const t=Ft(),e=Pt(),n=Yt(),r=Kr();let s=class On{constructor(o){if(o.length>=2**31)throw new e.default("Int array is too long");this.value=o}static fromSNBTValue(o){o=o.replace(" ","");const a=o.replace("[I;","").replace("]","").split(","),l=[];return a.forEach((c,f)=>l[f]=r.default.fromSNBTValue(c)),new On(l)}static fromUint8Array(o,a){const l=[],c=r.default.fromUint8Array(o.slice(0,4),a).getValue();let f=4;for(let h=0;h<c;h++)l.push(r.default.fromUint8Array(o.slice(f,f+4),a)),f+=4;return new On(l)}fromSNBTValue(o){return On.fromSNBTValue(o)}fromUint8Array(o,a){return On.fromUint8Array(o,a)}copy(){return new On(this.value)}equals(o){return o instanceof On&&this.value.every((a,l)=>a.equals(this.value[l]))}getValue(){return this.value}getValueDeep(){return this.value.map(o=>o.getValueDeep())}getTagId(){return On.getTagId()}setValue(o){if(o.length>=2**31)throw new e.default("Int array is too long");this.value=o}toSNBTValue(o){let a="[I;";if(this.value.length>0){a+=o==="formated"?" ":"";for(let l=0;l<this.value.length-1;l++)a+=this.value[l].toSNBTValue(o)+","+(o==="formated"?" ":"");a+=this.value[this.value.length-1].toSNBTValue(o)}return a+="]",a}toUint8Array(o){return(0,n.concatUint8Arrays)(new r.default(this.value.length).toUint8Array(o),...this.value.map(a=>a.toUint8Array(o)))}static getTagId(){return t.default.INT_ARRAY}};return Ks.default=s,Ks}var Hs={},Jl;function gf(){if(Jl)return Hs;Jl=1,Object.defineProperty(Hs,"__esModule",{value:!0});const t=Ft(),e=Pt(),n=Yt(),r=Kr();let s=class In{constructor(o){if(o.length>=2**31)throw new e.default("List is too long");if(o.length>0&&o.some(a=>a.getTagId()!==o[0].getTagId()))throw new e.default("List contains different types");this.value=o}static fromSNBTValue(o){if(o=o.trim(),!o.startsWith("[")||!o.endsWith("]"))throw new Error("Invalid compound SNBT value");const a=[];let l=[],c="";for(let f=1;f<o.length-1;f++){const h=o.charAt(f),d=f-1<1?"":o.charAt(f-1),g=f+1>=o.length-1?"":o.charAt(f+1);switch(h){case"{":(!l[l.length-1]||!l[l.length-1].includes("string"))&&l.push("compound");break;case"[":(!l[l.length-1]||!l[l.length-1].includes("string"))&&l.push("list");break;case'"':l[l.length-1]==='"string"'?d!=="\\"&&l.pop():l[l.length-1]!=='"string"'&&l.push('"string"');break;case"'":l[l.length-1]==="'string'"?d!=="\\"&&l.pop():l[l.length-1]!=="'string'"&&l.push("'string'");break;case"]":l[l.length-1]==="list"&&l.pop();break;case"}":l[l.length-1]==="compound"&&l.pop();break}if(l.length>0)c+=h;else{const b=()=>{const m=(0,t.getPayloadTypeBySNBTValue)(c);a.push(m.fromSNBTValue(c)),c=""};if(h===" ")continue;h===","?b():(c+=h,g===""&&b())}}return new In(a)}static fromUint8Array(o,a){const l=[],c=r.default.fromUint8Array(o.slice(1,5),a).getValue();if(c>0){const f=(0,t.getPayloadType)(o[0]);let h=5;for(let d=0;d<c;d++){const g=f.fromUint8Array(o.slice(h),a);l.push(g),h+=g.toUint8Array(a).length}}return new In(l)}fromSNBTValue(o){return In.fromSNBTValue(o)}fromUint8Array(o,a){return In.fromUint8Array(o,a)}copy(){return new In(this.value)}equals(o){return o instanceof In&&this.value.every((a,l)=>a.equals(this.value[l]))}getValue(){return this.value}getValueDeep(){return this.value.map(o=>o.getValueDeep())}getTagId(){return In.getTagId()}setValue(o){if(o.length>=2**31)throw new e.default("List is too long");if(o.length>0&&o.some(a=>a.getTagId()!==o[0].getTagId()))throw new e.default("List contains different types");this.value=o}toSNBTValue(o){let a="[";if(this.value.length>0){for(let l=0;l<this.value.length-1;l++)a+=this.value[l].toSNBTValue(o)+","+(o==="formated"?" ":"");a+=this.value[this.value.length-1].toSNBTValue(o)}return a+="]",a}toUint8Array(o){return(0,n.concatUint8Arrays)(this.value.length===0?new Uint8Array([0]):new Uint8Array([this.value[0].getTagId()]),new r.default(this.value.length).toUint8Array(o),...this.value.map(a=>a.toUint8Array(o)))}static getTagId(){return t.default.LIST}};return Hs.default=s,Hs}var Ys={},ec;function Ma(){if(ec)return Ys;ec=1,Object.defineProperty(Ys,"__esModule",{value:!0});const t=Ft(),e=Pt();let n=class an{constructor(s){this.value=s&255}static fromSNBTValue(s){if(s=s.trim(),s==="true")return new an(1);if(s==="false")return new an(0);if(!/[-+]?(?:0|[1-9][0-9]*)[bB]?/.test(s))throw new e.default("Invalid byte SNBT value");return new an(Number(s.replace(/[bB]/,"").trim()))}static fromUint8Array(s,i){return new an(new DataView(s.buffer).getInt8(0))}fromSNBTValue(s){return an.fromSNBTValue(s)}fromUint8Array(s,i){return an.fromUint8Array(s,i)}copy(){return new an(this.value)}equals(s){return s instanceof an&&this.value===s.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return an.getTagId()}setValue(s){this.value=s&255}toSNBTValue(s){return this.value+"b"}toUint8Array(s){const i=new ArrayBuffer(1);return new DataView(i).setInt8(0,this.value),new Uint8Array(i)}static getTagId(){return t.default.BYTE}};return Ys.default=n,Ys}var Ws={},tc;function mf(){if(tc)return Ws;tc=1,Object.defineProperty(Ws,"__esModule",{value:!0});const t=Ft(),e=Pt(),n=Yt();let r=class Cn{constructor(i){this.value=i&65535}static fromSNBTValue(i){if(i=i=i.replace(" ","").trim(),!/[-+]?(?:0|[1-9][0-9]*)[sS]?/.test(i))throw new e.default("Invalid short SNBT value");return new Cn(Number(i.replace(/[sS]/,"").trim()))}static fromUint8Array(i,o){return new Cn(new DataView(i.buffer).getInt32(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return Cn.fromSNBTValue(i)}fromUint8Array(i,o){return Cn.fromUint8Array(i,o)}copy(){return new Cn(this.value)}equals(i){return i instanceof Cn&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return Cn.getTagId()}setValue(i){this.value=i&65535}toSNBTValue(i){return this.value+"s"}toUint8Array(i){const o=new ArrayBuffer(2);return new DataView(o).setInt16(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.SHORT}};return Ws.default=r,Ws}var Xs={},nc;function yf(){if(nc)return Xs;nc=1,Object.defineProperty(Xs,"__esModule",{value:!0});const t=Ft(),e=Pt(),n=Yt();let r=class ln{constructor(i){this.value=ln.numToFloat(i)}static fromSNBTValue(i){if(i=i.trim(),!/[-+]?(?:[0-9]+[.]?|[0-9]*[.][0-9]+)(?:e[-+]?[0-9]+)?[fF]?/.test(i))throw new e.default("Invalid float SNBT value");return new ln(Number(i.replace(/[fF]/,"").trim()))}static fromUint8Array(i,o){return new ln(new DataView(i.buffer).getFloat32(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return ln.fromSNBTValue(i)}fromUint8Array(i,o){return ln.fromUint8Array(i,o)}copy(){return new ln(this.value)}equals(i){return i instanceof ln&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return ln.getTagId()}setValue(i){this.value=ln.numToFloat(i)}toSNBTValue(i){return this.value+"f"}toUint8Array(i){const o=new ArrayBuffer(4);return new DataView(o).setFloat32(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.FLOAT}static numToFloat(i){return new Float32Array([i])[0]}};return Xs.default=r,Xs}var Qs={},rc;function bf(){if(rc)return Qs;rc=1,Object.defineProperty(Qs,"__esModule",{value:!0});const t=Ft(),e=Pt(),n=Yt();let r=class Rn{constructor(i){this.value=i}static fromSNBTValue(i){if(i=i.trim(),/![-+]?(?:[0-9]+[.]?|[0-9]*[.][0-9]+)(?:e[-+]?[0-9]+)?[dD]?/.test(i))throw new e.default("Invalid double SNBT value");return new Rn(Number(i.replace(/[dD]/,"").trim()))}static fromUint8Array(i,o){return new Rn(new DataView(i.buffer).getFloat64(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return Rn.fromSNBTValue(i)}fromUint8Array(i,o){return Rn.fromUint8Array(i,o)}copy(){return new Rn(this.value)}equals(i){return i instanceof Rn&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return Rn.getTagId()}setValue(i){this.value=i}toSNBTValue(i){return this.value+"d"}toUint8Array(i){const o=new ArrayBuffer(8);return new DataView(o).setFloat64(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.DOUBLE}};return Qs.default=r,Qs}var Js={},sc;function wf(){if(sc)return Js;sc=1,Object.defineProperty(Js,"__esModule",{value:!0});const t=Ft(),e=Pt(),n=Yt();let r=class jn{constructor(i){this.value=i}static fromSNBTValue(i){if(i=i.trim(),new TextEncoder().encode(i).length>65535)throw new e.default("String is too long");if(/([a-zA-Z0-9_\-.+]+)|('.+')|(".+")/.test(i))i.startsWith("'")&&i.endsWith("'")?i=i.substring(1,i.length-1).replace("\\'","'"):i.startsWith('"')&&i.endsWith('"')&&(i=i.substring(1,i.length-1).replace('\\"','"'));else throw new e.default("Invalid string SNBT value");return new jn(i)}static fromUint8Array(i,o){const a=new DataView(i.slice(0,2).buffer).getUint16(0);return new jn(new TextDecoder().decode(i.slice(2,a+2)))}fromSNBTValue(i){return jn.fromSNBTValue(i)}fromUint8Array(i,o){return jn.fromUint8Array(i,o)}copy(){return new jn(this.value)}equals(i){return i instanceof jn&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return jn.getTagId()}setValue(i){this.value=i}toSNBTValue(i){return'"'+this.value.replace('"','\\"')+'"'}toUint8Array(i){const o=new TextEncoder().encode(this.value),a=new ArrayBuffer(2);return new DataView(a).setUint16(0,o.length),(0,n.concatUint8Arrays)(new Uint8Array(a),o)}static getTagId(){return t.default.STRING}};return Js.default=r,Js}var ei={},ic;function Yb(){if(ic)return ei;ic=1,Object.defineProperty(ei,"__esModule",{value:!0});const t=Ft(),e=Pt(),n=Yt(),r=Ma(),s=Kr();let i=class Pn{constructor(a){if(a.length>=2**31)throw new e.default("Byte array is too long");this.value=a}static fromSNBTValue(a){a=a.replace(" ","").trim();const l=a.replace("[B;","").replace("]","").split(","),c=[];return l.forEach((f,h)=>c[h]=r.default.fromSNBTValue(f)),new Pn(c)}static fromUint8Array(a,l){const c=[],f=s.default.fromUint8Array(a.slice(0,4),l).getValue();for(let h=0;h<f;h++)c.push(r.default.fromUint8Array(a.slice(h+4,h+5),l));return new Pn(c)}fromSNBTValue(a){return Pn.fromSNBTValue(a)}fromUint8Array(a,l){return Pn.fromUint8Array(a,l)}copy(){return new Pn(this.value)}equals(a){return a instanceof Pn&&this.value.every((l,c)=>l.equals(this.value[c]))}getValue(){return this.value}getValueDeep(){return this.value.map(a=>a.getValueDeep())}getTagId(){return Pn.getTagId()}setValue(a){if(a.length>=2**31)throw new e.default("Byte array is too long");this.value=a}toSNBTValue(a){let l="[B;";if(this.value.length>0){l+=a==="formated"?" ":"";for(let c=0;c<this.value.length-1;c++)l+=this.value[c].toSNBTValue(a)+","+(a==="formated"?" ":"");l+=this.value[this.value.length-1].toSNBTValue(a)}return l+="]",l}toUint8Array(a){return(0,n.concatUint8Arrays)(new s.default(this.value.length).toUint8Array(a),...this.value.map(l=>l.toUint8Array(a)))}static getTagId(){return t.default.BYTE_ARRAY}};return ei.default=i,ei}var ti={},oc;function za(){if(oc)return ti;oc=1,Object.defineProperty(ti,"__esModule",{value:!0});const t=Ft(),e=Yt(),n=_f(),r=Pt();let s=class Mn{constructor(o){this.value=o}static fromSNBTValue(o){if(o=o.trim(),!o.startsWith("{")||!o.endsWith("}"))throw new Error("Invalid compound SNBT value");const a=[];let l="name",c="?",f=[],h="",d="";for(let g=1;g<o.length-1;g++){const b=o.charAt(g),m=g-1<1?"":o.charAt(g-1),_=g+1>=o.length-1?"":o.charAt(g+1);switch(l){case"name":switch(c){case"?":if(b==="'")c="'";else if(b==='"')c='"';else{if(b===" ")continue;if(/[a-zA-Z0-9_\-.+]/.test(b))c="",h+=b;else throw new r.default("Wrong SNBT format")}break;case'"':if(b==='"')m==="\\"?h+=b:(c="?",l="after-name");else if(b==="\\"){if(_==='"')continue;h+=b}else h+=b;break;case"'":if(b==="'")m==="\\"?h+=b:(c="?",l="after-name");else if(b==="\\"){if(_==="'")continue;h+=b}else h+=b;break;case"":/[a-zA-Z0-9_\-.+]/.test(b)?h+=b:(c="?",l="after-name",g--)}break;case"after-name":if(b===":")l="payload";else{if(b===" ")continue;throw new r.default("Wrong SNBT format")}break;case"payload":switch(b){case"{":(!f[f.length-1]||!f[f.length-1].includes("string"))&&f.push("compound");break;case"[":(!f[f.length-1]||!f[f.length-1].includes("string"))&&f.push("list");break;case'"':f[f.length-1]==='"string"'?m!=="\\"&&f.pop():f[f.length-1]!=='"string"'&&f.push('"string"');break;case"'":f[f.length-1]==="'string'"?m!=="\\"&&f.pop():f[f.length-1]!=="'string'"&&f.push("'string'");break;case"]":f[f.length-1]==="list"&&f.pop();break;case"}":f[f.length-1]==="compound"&&f.pop();break}if(f.length>0)d+=b;else{const p=()=>{const k=(0,t.getPayloadTypeBySNBTValue)(d);a.push(new n.Tag(h,k.fromSNBTValue(d))),d="",l="name",h=""};if(b===" ")continue;b===","?p():(d+=b,_===""&&p())}}}return new Mn(a)}static fromUint8Array(o,a){const l=[];for(let c=0;c<o.length;){const f=o.slice(c);if(f[0]===t.default.END)break;const h=n.Tag.fromUint8Array(f,a);l.push(h),c+=h.toUint8Array(a).length}return new Mn(l)}hasTagName(o){return this.value.some(a=>a.getTagName()===o)}hasTag(o){return this.value.some(a=>a.equals(o))}fromSNBTValue(o){return Mn.fromSNBTValue(o)}fromUint8Array(o,a){return Mn.fromUint8Array(o,a)}copy(){return new Mn(this.value)}equals(o){return o instanceof Mn&&this.value.every((a,l)=>a.equals(this.value[l]))}getValue(){return this.value}getValueDeep(){const o={};return this.value.forEach(a=>o[a.getTagName()]=a.getPayload().getValueDeep()),o}getTagId(){return Mn.getTagId()}setValue(o){this.value=o}toSNBTValue(o){let a="{";if(this.value.length>0){for(let l=0;l<this.value.length-1;l++)a+=this.value[l].toSNBT(o)+","+(o==="formated"?" ":"");a+=this.value[this.value.length-1].toSNBT(o)}return a+="}",a}toUint8Array(o){return(0,e.concatUint8Arrays)(...this.value.map(a=>a.toUint8Array(o)),new Uint8Array([0]))}static getTagId(){return t.default.COMPOUND}};return ti.default=s,ti}var ac;function Ft(){return ac||(ac=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.payloadTypes=void 0,t.getPayloadType=m,t.getPayloadTypeBySNBTValue=_;const e=Kb(),n=Hb(),r=gf(),s=Ma(),i=mf(),o=Kr(),a=Pa(),l=yf(),c=bf(),f=wf(),h=Yb(),d=za(),g=Pt();var b;(function(p){p[p.END=0]="END",p[p.BYTE=1]="BYTE",p[p.SHORT=2]="SHORT",p[p.INT=3]="INT",p[p.LONG=4]="LONG",p[p.FLOAT=5]="FLOAT",p[p.DOUBLE=6]="DOUBLE",p[p.BYTE_ARRAY=7]="BYTE_ARRAY",p[p.STRING=8]="STRING",p[p.LIST=9]="LIST",p[p.COMPOUND=10]="COMPOUND",p[p.INT_ARRAY=11]="INT_ARRAY",p[p.LONG_ARRAY=12]="LONG_ARRAY"})(b||(b={})),t.payloadTypes=[s.default,i.default,o.default,a.default,l.default,c.default,h.default,f.default,r.default,d.default,n.default,e.default];function m(p){const k=t.payloadTypes.find(S=>S.getTagId()===p);if(!k)throw new g.default("Unknown payload type");return k}function _(p){if(p=p.trim(),p.startsWith("{")&&p.endsWith("}"))return m(b.COMPOUND);if(p.startsWith("[")&&p.endsWith("]"))return p=p.replace(" ",""),p.startsWith("[B;")?m(b.BYTE_ARRAY):p.startsWith("[I;")?m(b.INT_ARRAY):p.startsWith("[L;")?m(b.LONG_ARRAY):m(b.LIST);if(p==="false"||p==="true")return m(b.BYTE);const k=p[p.length-1];return k==="b"||k==="B"?m(b.BYTE):k==="s"||k==="S"?m(b.SHORT):k==="l"||k==="L"?m(b.LONG):k==="f"||k==="F"?m(b.FLOAT):k==="d"||k==="D"||/[-+]?(?:[0-9]+[.]|[0-9]*[.][0-9]+)(?:e[-+]?[0-9]+)?/.test(p)?m(b.DOUBLE):/[-+]?(?:0|[1-9][0-9]*)/.test(p)&&-2147483648<Number(p)&&Number(p)<2**31-1?m(b.INT):m(b.STRING)}t.default=b})(fo)),fo}var lc;function _f(){if(lc)return ts;lc=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.Tag=void 0;const t=Pt(),e=Yt(),n=Ft(),r=Ma(),s=mf(),i=Pa(),o=Kr(),a=yf(),l=bf(),c=wf(),f=gf(),h=za();let d=class At{constructor(b,m,_=!1){if(b.length>65535)throw new t.default("Tag name is too long");if(_&&(m.getTagId()!==n.default.COMPOUND||b!==""))throw new t.default("Root tag must be a compound and its name must by empty");this.name=b,this.payload=m,this.root=_}copy(){return new At(this.name,this.payload.copy())}equals(b){return this.name===b.name&&this.payload.equals(b.payload)}getTagId(){return this.payload.getTagId()}getTagName(){return this.name}isRoot(){return this.root}setTagName(b){if(b.length>65535)throw new t.default("Tag name is too long");this.name=b}getPayload(){return this.payload}setPayload(b){this.payload=b}toSNBT(b){return this.root?this.payload.toSNBTValue(b):`"${this.name.replace('"','\\"')}":${b==="formated"?" ":""}${this.payload.toSNBTValue(b)}`}toJSON(){return this.root?this.payload.getValueDeep():{[this.name]:this.payload.getValueDeep()}}toUint8Array(b){const m=new TextEncoder().encode(this.name),_=new ArrayBuffer(2);return new DataView(_).setUint16(0,m.length,!1),(0,e.concatUint8Arrays)(new Uint8Array([this.payload.getTagId()]),new Uint8Array(_),m,this.payload.toUint8Array(b))}static fromJSON(b,m=!1){const _=Object.keys(b);if(_.length!==1)return At.fromJSON({"":b},m);switch(typeof b[_[0]]){case"string":return new At(_[0],new c.default(b[_[0]]),m);case"boolean":return new At(_[0],new r.default(b[_[0]]?1:0),m);case"bigint":case"number":const p=b[_[0]],k=Number(p);if(typeof p=="bigint"||Number.isInteger(p)){if(p<=127&&p>=-128)return new At(_[0],new r.default(k),m);if(p<=32767&&p>=-32768)return new At(_[0],new s.default(k),m);if(p<=2**31&&p>=-2147483648)return new At(_[0],new o.default(k));if(p<=2n**63n-1n&&p>=-(2n**63n))return new At(_[0],new i.default(BigInt(p)),m)}return new Float32Array([k])[0]==p?new At(_[0],new a.default(k),m):new At(_[0],new l.default(Number(k)),m);case"object":if(Array.isArray(b[_[0]]))return new At(_[0],new f.default(b[_[0]].map(S=>At.fromJSON({"":S}).getPayload())),m);{const S=[];for(const v in b[_[0]])S.push(At.fromJSON({[v]:b[_[0]][v]}));return new At(_[0],new h.default(S),m)}}throw new t.default("Invalid value format")}static fromUint8Array(b,m,_=!1){const p=(0,n.getPayloadType)(b[0]),k=new DataView(b.slice(1,5).buffer).getUint16(0,!1);return new At(new TextDecoder().decode(b.slice(3,3+k)),p.fromUint8Array(b.slice(3+k),m),_)}static fromSNBTTag(b,m=!1){return b=b.trim(),new At("",new h.default([]),m)}};return ts.Tag=d,ts}var Qt={},Jn={},Jt={},er={},cc;function Wb(){if(cc)return er;cc=1;const t=4,e=0,n=1,r=2;function s(T){let ae=T.length;for(;--ae>=0;)T[ae]=0}const i=0,o=1,a=2,l=3,c=258,f=29,h=256,d=h+1+f,g=30,b=19,m=2*d+1,_=15,p=16,k=7,S=256,v=16,A=17,N=18,y=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),E=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),C=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),B=512,M=new Array((d+2)*2);s(M);const V=new Array(g*2);s(V);const ie=new Array(B);s(ie);const te=new Array(c-l+1);s(te);const oe=new Array(f);s(oe);const le=new Array(g);s(le);function J(T,ae,ce,me,ve){this.static_tree=T,this.extra_bits=ae,this.extra_base=ce,this.elems=me,this.max_length=ve,this.has_stree=T&&T.length}let fe,ue,ke;function Ae(T,ae){this.dyn_tree=T,this.max_code=0,this.stat_desc=ae}const _e=T=>T<256?ie[T]:ie[256+(T>>>7)],H=(T,ae)=>{T.pending_buf[T.pending++]=ae&255,T.pending_buf[T.pending++]=ae>>>8&255},Se=(T,ae,ce)=>{T.bi_valid>p-ce?(T.bi_buf|=ae<<T.bi_valid&65535,H(T,T.bi_buf),T.bi_buf=ae>>p-T.bi_valid,T.bi_valid+=ce-p):(T.bi_buf|=ae<<T.bi_valid&65535,T.bi_valid+=ce)},Le=(T,ae,ce)=>{Se(T,ce[ae*2],ce[ae*2+1])},De=(T,ae)=>{let ce=0;do ce|=T&1,T>>>=1,ce<<=1;while(--ae>0);return ce>>>1},Ke=T=>{T.bi_valid===16?(H(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):T.bi_valid>=8&&(T.pending_buf[T.pending++]=T.bi_buf&255,T.bi_buf>>=8,T.bi_valid-=8)},We=(T,ae)=>{const ce=ae.dyn_tree,me=ae.max_code,ve=ae.stat_desc.static_tree,Ie=ae.stat_desc.has_stree,z=ae.stat_desc.extra_bits,Q=ae.stat_desc.extra_base,x=ae.stat_desc.max_length;let he,Ve,de,qe,xe,it,ne=0;for(qe=0;qe<=_;qe++)T.bl_count[qe]=0;for(ce[T.heap[T.heap_max]*2+1]=0,he=T.heap_max+1;he<m;he++)Ve=T.heap[he],qe=ce[ce[Ve*2+1]*2+1]+1,qe>x&&(qe=x,ne++),ce[Ve*2+1]=qe,!(Ve>me)&&(T.bl_count[qe]++,xe=0,Ve>=Q&&(xe=z[Ve-Q]),it=ce[Ve*2],T.opt_len+=it*(qe+xe),Ie&&(T.static_len+=it*(ve[Ve*2+1]+xe)));if(ne!==0){do{for(qe=x-1;T.bl_count[qe]===0;)qe--;T.bl_count[qe]--,T.bl_count[qe+1]+=2,T.bl_count[x]--,ne-=2}while(ne>0);for(qe=x;qe!==0;qe--)for(Ve=T.bl_count[qe];Ve!==0;)de=T.heap[--he],!(de>me)&&(ce[de*2+1]!==qe&&(T.opt_len+=(qe-ce[de*2+1])*ce[de*2],ce[de*2+1]=qe),Ve--)}},O=(T,ae,ce)=>{const me=new Array(_+1);let ve=0,Ie,z;for(Ie=1;Ie<=_;Ie++)ve=ve+ce[Ie-1]<<1,me[Ie]=ve;for(z=0;z<=ae;z++){let Q=T[z*2+1];Q!==0&&(T[z*2]=De(me[Q]++,Q))}},I=()=>{let T,ae,ce,me,ve;const Ie=new Array(_+1);for(ce=0,me=0;me<f-1;me++)for(oe[me]=ce,T=0;T<1<<y[me];T++)te[ce++]=me;for(te[ce-1]=me,ve=0,me=0;me<16;me++)for(le[me]=ve,T=0;T<1<<E[me];T++)ie[ve++]=me;for(ve>>=7;me<g;me++)for(le[me]=ve<<7,T=0;T<1<<E[me]-7;T++)ie[256+ve++]=me;for(ae=0;ae<=_;ae++)Ie[ae]=0;for(T=0;T<=143;)M[T*2+1]=8,T++,Ie[8]++;for(;T<=255;)M[T*2+1]=9,T++,Ie[9]++;for(;T<=279;)M[T*2+1]=7,T++,Ie[7]++;for(;T<=287;)M[T*2+1]=8,T++,Ie[8]++;for(O(M,d+1,Ie),T=0;T<g;T++)V[T*2+1]=5,V[T*2]=De(T,5);fe=new J(M,y,h+1,d,_),ue=new J(V,E,0,g,_),ke=new J(new Array(0),C,0,b,k)},P=T=>{let ae;for(ae=0;ae<d;ae++)T.dyn_ltree[ae*2]=0;for(ae=0;ae<g;ae++)T.dyn_dtree[ae*2]=0;for(ae=0;ae<b;ae++)T.bl_tree[ae*2]=0;T.dyn_ltree[S*2]=1,T.opt_len=T.static_len=0,T.sym_next=T.matches=0},U=T=>{T.bi_valid>8?H(T,T.bi_buf):T.bi_valid>0&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0},$=(T,ae,ce,me)=>{const ve=ae*2,Ie=ce*2;return T[ve]<T[Ie]||T[ve]===T[Ie]&&me[ae]<=me[ce]},D=(T,ae,ce)=>{const me=T.heap[ce];let ve=ce<<1;for(;ve<=T.heap_len&&(ve<T.heap_len&&$(ae,T.heap[ve+1],T.heap[ve],T.depth)&&ve++,!$(ae,me,T.heap[ve],T.depth));)T.heap[ce]=T.heap[ve],ce=ve,ve<<=1;T.heap[ce]=me},Y=(T,ae,ce)=>{let me,ve,Ie=0,z,Q;if(T.sym_next!==0)do me=T.pending_buf[T.sym_buf+Ie++]&255,me+=(T.pending_buf[T.sym_buf+Ie++]&255)<<8,ve=T.pending_buf[T.sym_buf+Ie++],me===0?Le(T,ve,ae):(z=te[ve],Le(T,z+h+1,ae),Q=y[z],Q!==0&&(ve-=oe[z],Se(T,ve,Q)),me--,z=_e(me),Le(T,z,ce),Q=E[z],Q!==0&&(me-=le[z],Se(T,me,Q)));while(Ie<T.sym_next);Le(T,S,ae)},L=(T,ae)=>{const ce=ae.dyn_tree,me=ae.stat_desc.static_tree,ve=ae.stat_desc.has_stree,Ie=ae.stat_desc.elems;let z,Q,x=-1,he;for(T.heap_len=0,T.heap_max=m,z=0;z<Ie;z++)ce[z*2]!==0?(T.heap[++T.heap_len]=x=z,T.depth[z]=0):ce[z*2+1]=0;for(;T.heap_len<2;)he=T.heap[++T.heap_len]=x<2?++x:0,ce[he*2]=1,T.depth[he]=0,T.opt_len--,ve&&(T.static_len-=me[he*2+1]);for(ae.max_code=x,z=T.heap_len>>1;z>=1;z--)D(T,ce,z);he=Ie;do z=T.heap[1],T.heap[1]=T.heap[T.heap_len--],D(T,ce,1),Q=T.heap[1],T.heap[--T.heap_max]=z,T.heap[--T.heap_max]=Q,ce[he*2]=ce[z*2]+ce[Q*2],T.depth[he]=(T.depth[z]>=T.depth[Q]?T.depth[z]:T.depth[Q])+1,ce[z*2+1]=ce[Q*2+1]=he,T.heap[1]=he++,D(T,ce,1);while(T.heap_len>=2);T.heap[--T.heap_max]=T.heap[1],We(T,ae),O(ce,x,T.bl_count)},F=(T,ae,ce)=>{let me,ve=-1,Ie,z=ae[1],Q=0,x=7,he=4;for(z===0&&(x=138,he=3),ae[(ce+1)*2+1]=65535,me=0;me<=ce;me++)Ie=z,z=ae[(me+1)*2+1],!(++Q<x&&Ie===z)&&(Q<he?T.bl_tree[Ie*2]+=Q:Ie!==0?(Ie!==ve&&T.bl_tree[Ie*2]++,T.bl_tree[v*2]++):Q<=10?T.bl_tree[A*2]++:T.bl_tree[N*2]++,Q=0,ve=Ie,z===0?(x=138,he=3):Ie===z?(x=6,he=3):(x=7,he=4))},q=(T,ae,ce)=>{let me,ve=-1,Ie,z=ae[1],Q=0,x=7,he=4;for(z===0&&(x=138,he=3),me=0;me<=ce;me++)if(Ie=z,z=ae[(me+1)*2+1],!(++Q<x&&Ie===z)){if(Q<he)do Le(T,Ie,T.bl_tree);while(--Q!==0);else Ie!==0?(Ie!==ve&&(Le(T,Ie,T.bl_tree),Q--),Le(T,v,T.bl_tree),Se(T,Q-3,2)):Q<=10?(Le(T,A,T.bl_tree),Se(T,Q-3,3)):(Le(T,N,T.bl_tree),Se(T,Q-11,7));Q=0,ve=Ie,z===0?(x=138,he=3):Ie===z?(x=6,he=3):(x=7,he=4)}},Z=T=>{let ae;for(F(T,T.dyn_ltree,T.l_desc.max_code),F(T,T.dyn_dtree,T.d_desc.max_code),L(T,T.bl_desc),ae=b-1;ae>=3&&T.bl_tree[j[ae]*2+1]===0;ae--);return T.opt_len+=3*(ae+1)+5+5+4,ae},re=(T,ae,ce,me)=>{let ve;for(Se(T,ae-257,5),Se(T,ce-1,5),Se(T,me-4,4),ve=0;ve<me;ve++)Se(T,T.bl_tree[j[ve]*2+1],3);q(T,T.dyn_ltree,ae-1),q(T,T.dyn_dtree,ce-1)},we=T=>{let ae=4093624447,ce;for(ce=0;ce<=31;ce++,ae>>>=1)if(ae&1&&T.dyn_ltree[ce*2]!==0)return e;if(T.dyn_ltree[18]!==0||T.dyn_ltree[20]!==0||T.dyn_ltree[26]!==0)return n;for(ce=32;ce<h;ce++)if(T.dyn_ltree[ce*2]!==0)return n;return e};let pe=!1;const Re=T=>{pe||(I(),pe=!0),T.l_desc=new Ae(T.dyn_ltree,fe),T.d_desc=new Ae(T.dyn_dtree,ue),T.bl_desc=new Ae(T.bl_tree,ke),T.bi_buf=0,T.bi_valid=0,P(T)},Te=(T,ae,ce,me)=>{Se(T,(i<<1)+(me?1:0),3),U(T),H(T,ce),H(T,~ce),ce&&T.pending_buf.set(T.window.subarray(ae,ae+ce),T.pending),T.pending+=ce},He=T=>{Se(T,o<<1,3),Le(T,S,M),Ke(T)},Me=(T,ae,ce,me)=>{let ve,Ie,z=0;T.level>0?(T.strm.data_type===r&&(T.strm.data_type=we(T)),L(T,T.l_desc),L(T,T.d_desc),z=Z(T),ve=T.opt_len+3+7>>>3,Ie=T.static_len+3+7>>>3,Ie<=ve&&(ve=Ie)):ve=Ie=ce+5,ce+4<=ve&&ae!==-1?Te(T,ae,ce,me):T.strategy===t||Ie===ve?(Se(T,(o<<1)+(me?1:0),3),Y(T,M,V)):(Se(T,(a<<1)+(me?1:0),3),re(T,T.l_desc.max_code+1,T.d_desc.max_code+1,z+1),Y(T,T.dyn_ltree,T.dyn_dtree)),P(T),me&&U(T)},$e=(T,ae,ce)=>(T.pending_buf[T.sym_buf+T.sym_next++]=ae,T.pending_buf[T.sym_buf+T.sym_next++]=ae>>8,T.pending_buf[T.sym_buf+T.sym_next++]=ce,ae===0?T.dyn_ltree[ce*2]++:(T.matches++,ae--,T.dyn_ltree[(te[ce]+h+1)*2]++,T.dyn_dtree[_e(ae)*2]++),T.sym_next===T.sym_end);return er._tr_init=Re,er._tr_stored_block=Te,er._tr_flush_block=Me,er._tr_tally=$e,er._tr_align=He,er}var ho,uc;function vf(){return uc||(uc=1,ho=(e,n,r,s)=>{let i=e&65535|0,o=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+n[s++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0}),ho}var po,fc;function xf(){if(fc)return po;fc=1;const t=()=>{let r,s=[];for(var i=0;i<256;i++){r=i;for(var o=0;o<8;o++)r=r&1?3988292384^r>>>1:r>>>1;s[i]=r}return s},e=new Uint32Array(t());return po=(r,s,i,o)=>{const a=e,l=o+i;r^=-1;for(let c=o;c<l;c++)r=r>>>8^a[(r^s[c])&255];return r^-1},po}var go,hc;function La(){return hc||(hc=1,go={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),go}var mo,dc;function pr(){return dc||(dc=1,mo={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),mo}var pc;function Xb(){if(pc)return Jt;pc=1;const{_tr_init:t,_tr_stored_block:e,_tr_flush_block:n,_tr_tally:r,_tr_align:s}=Wb(),i=vf(),o=xf(),a=La(),{Z_NO_FLUSH:l,Z_PARTIAL_FLUSH:c,Z_FULL_FLUSH:f,Z_FINISH:h,Z_BLOCK:d,Z_OK:g,Z_STREAM_END:b,Z_STREAM_ERROR:m,Z_DATA_ERROR:_,Z_BUF_ERROR:p,Z_DEFAULT_COMPRESSION:k,Z_FILTERED:S,Z_HUFFMAN_ONLY:v,Z_RLE:A,Z_FIXED:N,Z_DEFAULT_STRATEGY:y,Z_UNKNOWN:E,Z_DEFLATED:C}=pr(),j=9,B=15,M=8,te=256+1+29,oe=30,le=19,J=2*te+1,fe=15,ue=3,ke=258,Ae=ke+ue+1,_e=32,H=42,Se=57,Le=69,De=73,Ke=91,We=103,O=113,I=666,P=1,U=2,$=3,D=4,Y=3,L=(u,W)=>(u.msg=a[W],W),F=u=>u*2-(u>4?9:0),q=u=>{let W=u.length;for(;--W>=0;)u[W]=0},Z=u=>{let W,R,G,K=u.w_size;W=u.hash_size,G=W;do R=u.head[--G],u.head[G]=R>=K?R-K:0;while(--W);W=K,G=W;do R=u.prev[--G],u.prev[G]=R>=K?R-K:0;while(--W)};let we=(u,W,R)=>(W<<u.hash_shift^R)&u.hash_mask;const pe=u=>{const W=u.state;let R=W.pending;R>u.avail_out&&(R=u.avail_out),R!==0&&(u.output.set(W.pending_buf.subarray(W.pending_out,W.pending_out+R),u.next_out),u.next_out+=R,W.pending_out+=R,u.total_out+=R,u.avail_out-=R,W.pending-=R,W.pending===0&&(W.pending_out=0))},Re=(u,W)=>{n(u,u.block_start>=0?u.block_start:-1,u.strstart-u.block_start,W),u.block_start=u.strstart,pe(u.strm)},Te=(u,W)=>{u.pending_buf[u.pending++]=W},He=(u,W)=>{u.pending_buf[u.pending++]=W>>>8&255,u.pending_buf[u.pending++]=W&255},Me=(u,W,R,G)=>{let K=u.avail_in;return K>G&&(K=G),K===0?0:(u.avail_in-=K,W.set(u.input.subarray(u.next_in,u.next_in+K),R),u.state.wrap===1?u.adler=i(u.adler,W,K,R):u.state.wrap===2&&(u.adler=o(u.adler,W,K,R)),u.next_in+=K,u.total_in+=K,K)},$e=(u,W)=>{let R=u.max_chain_length,G=u.strstart,K,ge,Pe=u.prev_length,Ee=u.nice_match;const Ot=u.strstart>u.w_size-Ae?u.strstart-(u.w_size-Ae):0,Xe=u.window,pt=u.w_mask,zt=u.prev,yt=u.strstart+ke;let Ut=Xe[G+Pe-1],$t=Xe[G+Pe];u.prev_length>=u.good_match&&(R>>=2),Ee>u.lookahead&&(Ee=u.lookahead);do if(K=W,!(Xe[K+Pe]!==$t||Xe[K+Pe-1]!==Ut||Xe[K]!==Xe[G]||Xe[++K]!==Xe[G+1])){G+=2,K++;do;while(Xe[++G]===Xe[++K]&&Xe[++G]===Xe[++K]&&Xe[++G]===Xe[++K]&&Xe[++G]===Xe[++K]&&Xe[++G]===Xe[++K]&&Xe[++G]===Xe[++K]&&Xe[++G]===Xe[++K]&&Xe[++G]===Xe[++K]&&G<yt);if(ge=ke-(yt-G),G=yt-ke,ge>Pe){if(u.match_start=W,Pe=ge,ge>=Ee)break;Ut=Xe[G+Pe-1],$t=Xe[G+Pe]}}while((W=zt[W&pt])>Ot&&--R!==0);return Pe<=u.lookahead?Pe:u.lookahead},T=u=>{const W=u.w_size;let R,G,K;do{if(G=u.window_size-u.lookahead-u.strstart,u.strstart>=W+(W-Ae)&&(u.window.set(u.window.subarray(W,W+W-G),0),u.match_start-=W,u.strstart-=W,u.block_start-=W,u.insert>u.strstart&&(u.insert=u.strstart),Z(u),G+=W),u.strm.avail_in===0)break;if(R=Me(u.strm,u.window,u.strstart+u.lookahead,G),u.lookahead+=R,u.lookahead+u.insert>=ue)for(K=u.strstart-u.insert,u.ins_h=u.window[K],u.ins_h=we(u,u.ins_h,u.window[K+1]);u.insert&&(u.ins_h=we(u,u.ins_h,u.window[K+ue-1]),u.prev[K&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=K,K++,u.insert--,!(u.lookahead+u.insert<ue)););}while(u.lookahead<Ae&&u.strm.avail_in!==0)},ae=(u,W)=>{let R=u.pending_buf_size-5>u.w_size?u.w_size:u.pending_buf_size-5,G,K,ge,Pe=0,Ee=u.strm.avail_in;do{if(G=65535,ge=u.bi_valid+42>>3,u.strm.avail_out<ge||(ge=u.strm.avail_out-ge,K=u.strstart-u.block_start,G>K+u.strm.avail_in&&(G=K+u.strm.avail_in),G>ge&&(G=ge),G<R&&(G===0&&W!==h||W===l||G!==K+u.strm.avail_in)))break;Pe=W===h&&G===K+u.strm.avail_in?1:0,e(u,0,0,Pe),u.pending_buf[u.pending-4]=G,u.pending_buf[u.pending-3]=G>>8,u.pending_buf[u.pending-2]=~G,u.pending_buf[u.pending-1]=~G>>8,pe(u.strm),K&&(K>G&&(K=G),u.strm.output.set(u.window.subarray(u.block_start,u.block_start+K),u.strm.next_out),u.strm.next_out+=K,u.strm.avail_out-=K,u.strm.total_out+=K,u.block_start+=K,G-=K),G&&(Me(u.strm,u.strm.output,u.strm.next_out,G),u.strm.next_out+=G,u.strm.avail_out-=G,u.strm.total_out+=G)}while(Pe===0);return Ee-=u.strm.avail_in,Ee&&(Ee>=u.w_size?(u.matches=2,u.window.set(u.strm.input.subarray(u.strm.next_in-u.w_size,u.strm.next_in),0),u.strstart=u.w_size,u.insert=u.strstart):(u.window_size-u.strstart<=Ee&&(u.strstart-=u.w_size,u.window.set(u.window.subarray(u.w_size,u.w_size+u.strstart),0),u.matches<2&&u.matches++,u.insert>u.strstart&&(u.insert=u.strstart)),u.window.set(u.strm.input.subarray(u.strm.next_in-Ee,u.strm.next_in),u.strstart),u.strstart+=Ee,u.insert+=Ee>u.w_size-u.insert?u.w_size-u.insert:Ee),u.block_start=u.strstart),u.high_water<u.strstart&&(u.high_water=u.strstart),Pe?D:W!==l&&W!==h&&u.strm.avail_in===0&&u.strstart===u.block_start?U:(ge=u.window_size-u.strstart,u.strm.avail_in>ge&&u.block_start>=u.w_size&&(u.block_start-=u.w_size,u.strstart-=u.w_size,u.window.set(u.window.subarray(u.w_size,u.w_size+u.strstart),0),u.matches<2&&u.matches++,ge+=u.w_size,u.insert>u.strstart&&(u.insert=u.strstart)),ge>u.strm.avail_in&&(ge=u.strm.avail_in),ge&&(Me(u.strm,u.window,u.strstart,ge),u.strstart+=ge,u.insert+=ge>u.w_size-u.insert?u.w_size-u.insert:ge),u.high_water<u.strstart&&(u.high_water=u.strstart),ge=u.bi_valid+42>>3,ge=u.pending_buf_size-ge>65535?65535:u.pending_buf_size-ge,R=ge>u.w_size?u.w_size:ge,K=u.strstart-u.block_start,(K>=R||(K||W===h)&&W!==l&&u.strm.avail_in===0&&K<=ge)&&(G=K>ge?ge:K,Pe=W===h&&u.strm.avail_in===0&&G===K?1:0,e(u,u.block_start,G,Pe),u.block_start+=G,pe(u.strm)),Pe?$:P)},ce=(u,W)=>{let R,G;for(;;){if(u.lookahead<Ae){if(T(u),u.lookahead<Ae&&W===l)return P;if(u.lookahead===0)break}if(R=0,u.lookahead>=ue&&(u.ins_h=we(u,u.ins_h,u.window[u.strstart+ue-1]),R=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),R!==0&&u.strstart-R<=u.w_size-Ae&&(u.match_length=$e(u,R)),u.match_length>=ue)if(G=r(u,u.strstart-u.match_start,u.match_length-ue),u.lookahead-=u.match_length,u.match_length<=u.max_lazy_match&&u.lookahead>=ue){u.match_length--;do u.strstart++,u.ins_h=we(u,u.ins_h,u.window[u.strstart+ue-1]),R=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart;while(--u.match_length!==0);u.strstart++}else u.strstart+=u.match_length,u.match_length=0,u.ins_h=u.window[u.strstart],u.ins_h=we(u,u.ins_h,u.window[u.strstart+1]);else G=r(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++;if(G&&(Re(u,!1),u.strm.avail_out===0))return P}return u.insert=u.strstart<ue-1?u.strstart:ue-1,W===h?(Re(u,!0),u.strm.avail_out===0?$:D):u.sym_next&&(Re(u,!1),u.strm.avail_out===0)?P:U},me=(u,W)=>{let R,G,K;for(;;){if(u.lookahead<Ae){if(T(u),u.lookahead<Ae&&W===l)return P;if(u.lookahead===0)break}if(R=0,u.lookahead>=ue&&(u.ins_h=we(u,u.ins_h,u.window[u.strstart+ue-1]),R=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),u.prev_length=u.match_length,u.prev_match=u.match_start,u.match_length=ue-1,R!==0&&u.prev_length<u.max_lazy_match&&u.strstart-R<=u.w_size-Ae&&(u.match_length=$e(u,R),u.match_length<=5&&(u.strategy===S||u.match_length===ue&&u.strstart-u.match_start>4096)&&(u.match_length=ue-1)),u.prev_length>=ue&&u.match_length<=u.prev_length){K=u.strstart+u.lookahead-ue,G=r(u,u.strstart-1-u.prev_match,u.prev_length-ue),u.lookahead-=u.prev_length-1,u.prev_length-=2;do++u.strstart<=K&&(u.ins_h=we(u,u.ins_h,u.window[u.strstart+ue-1]),R=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart);while(--u.prev_length!==0);if(u.match_available=0,u.match_length=ue-1,u.strstart++,G&&(Re(u,!1),u.strm.avail_out===0))return P}else if(u.match_available){if(G=r(u,0,u.window[u.strstart-1]),G&&Re(u,!1),u.strstart++,u.lookahead--,u.strm.avail_out===0)return P}else u.match_available=1,u.strstart++,u.lookahead--}return u.match_available&&(G=r(u,0,u.window[u.strstart-1]),u.match_available=0),u.insert=u.strstart<ue-1?u.strstart:ue-1,W===h?(Re(u,!0),u.strm.avail_out===0?$:D):u.sym_next&&(Re(u,!1),u.strm.avail_out===0)?P:U},ve=(u,W)=>{let R,G,K,ge;const Pe=u.window;for(;;){if(u.lookahead<=ke){if(T(u),u.lookahead<=ke&&W===l)return P;if(u.lookahead===0)break}if(u.match_length=0,u.lookahead>=ue&&u.strstart>0&&(K=u.strstart-1,G=Pe[K],G===Pe[++K]&&G===Pe[++K]&&G===Pe[++K])){ge=u.strstart+ke;do;while(G===Pe[++K]&&G===Pe[++K]&&G===Pe[++K]&&G===Pe[++K]&&G===Pe[++K]&&G===Pe[++K]&&G===Pe[++K]&&G===Pe[++K]&&K<ge);u.match_length=ke-(ge-K),u.match_length>u.lookahead&&(u.match_length=u.lookahead)}if(u.match_length>=ue?(R=r(u,1,u.match_length-ue),u.lookahead-=u.match_length,u.strstart+=u.match_length,u.match_length=0):(R=r(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++),R&&(Re(u,!1),u.strm.avail_out===0))return P}return u.insert=0,W===h?(Re(u,!0),u.strm.avail_out===0?$:D):u.sym_next&&(Re(u,!1),u.strm.avail_out===0)?P:U},Ie=(u,W)=>{let R;for(;;){if(u.lookahead===0&&(T(u),u.lookahead===0)){if(W===l)return P;break}if(u.match_length=0,R=r(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++,R&&(Re(u,!1),u.strm.avail_out===0))return P}return u.insert=0,W===h?(Re(u,!0),u.strm.avail_out===0?$:D):u.sym_next&&(Re(u,!1),u.strm.avail_out===0)?P:U};function z(u,W,R,G,K){this.good_length=u,this.max_lazy=W,this.nice_length=R,this.max_chain=G,this.func=K}const Q=[new z(0,0,0,0,ae),new z(4,4,8,4,ce),new z(4,5,16,8,ce),new z(4,6,32,32,ce),new z(4,4,16,16,me),new z(8,16,32,32,me),new z(8,16,128,128,me),new z(8,32,128,256,me),new z(32,128,258,1024,me),new z(32,258,258,4096,me)],x=u=>{u.window_size=2*u.w_size,q(u.head),u.max_lazy_match=Q[u.level].max_lazy,u.good_match=Q[u.level].good_length,u.nice_match=Q[u.level].nice_length,u.max_chain_length=Q[u.level].max_chain,u.strstart=0,u.block_start=0,u.lookahead=0,u.insert=0,u.match_length=u.prev_length=ue-1,u.match_available=0,u.ins_h=0};function he(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(J*2),this.dyn_dtree=new Uint16Array((2*oe+1)*2),this.bl_tree=new Uint16Array((2*le+1)*2),q(this.dyn_ltree),q(this.dyn_dtree),q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(fe+1),this.heap=new Uint16Array(2*te+1),q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*te+1),q(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ve=u=>{if(!u)return 1;const W=u.state;return!W||W.strm!==u||W.status!==H&&W.status!==Se&&W.status!==Le&&W.status!==De&&W.status!==Ke&&W.status!==We&&W.status!==O&&W.status!==I?1:0},de=u=>{if(Ve(u))return L(u,m);u.total_in=u.total_out=0,u.data_type=E;const W=u.state;return W.pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap===2?Se:W.wrap?H:O,u.adler=W.wrap===2?0:1,W.last_flush=-2,t(W),g},qe=u=>{const W=de(u);return W===g&&x(u.state),W},xe=(u,W)=>Ve(u)||u.state.wrap!==2?m:(u.state.gzhead=W,g),it=(u,W,R,G,K,ge)=>{if(!u)return m;let Pe=1;if(W===k&&(W=6),G<0?(Pe=0,G=-G):G>15&&(Pe=2,G-=16),K<1||K>j||R!==C||G<8||G>15||W<0||W>9||ge<0||ge>N||G===8&&Pe!==1)return L(u,m);G===8&&(G=9);const Ee=new he;return u.state=Ee,Ee.strm=u,Ee.status=H,Ee.wrap=Pe,Ee.gzhead=null,Ee.w_bits=G,Ee.w_size=1<<Ee.w_bits,Ee.w_mask=Ee.w_size-1,Ee.hash_bits=K+7,Ee.hash_size=1<<Ee.hash_bits,Ee.hash_mask=Ee.hash_size-1,Ee.hash_shift=~~((Ee.hash_bits+ue-1)/ue),Ee.window=new Uint8Array(Ee.w_size*2),Ee.head=new Uint16Array(Ee.hash_size),Ee.prev=new Uint16Array(Ee.w_size),Ee.lit_bufsize=1<<K+6,Ee.pending_buf_size=Ee.lit_bufsize*4,Ee.pending_buf=new Uint8Array(Ee.pending_buf_size),Ee.sym_buf=Ee.lit_bufsize,Ee.sym_end=(Ee.lit_bufsize-1)*3,Ee.level=W,Ee.strategy=ge,Ee.method=R,qe(u)},ne=(u,W)=>it(u,W,C,B,M,y),se=(u,W)=>{if(Ve(u)||W>d||W<0)return u?L(u,m):m;const R=u.state;if(!u.output||u.avail_in!==0&&!u.input||R.status===I&&W!==h)return L(u,u.avail_out===0?p:m);const G=R.last_flush;if(R.last_flush=W,R.pending!==0){if(pe(u),u.avail_out===0)return R.last_flush=-1,g}else if(u.avail_in===0&&F(W)<=F(G)&&W!==h)return L(u,p);if(R.status===I&&u.avail_in!==0)return L(u,p);if(R.status===H&&R.wrap===0&&(R.status=O),R.status===H){let K=C+(R.w_bits-8<<4)<<8,ge=-1;if(R.strategy>=v||R.level<2?ge=0:R.level<6?ge=1:R.level===6?ge=2:ge=3,K|=ge<<6,R.strstart!==0&&(K|=_e),K+=31-K%31,He(R,K),R.strstart!==0&&(He(R,u.adler>>>16),He(R,u.adler&65535)),u.adler=1,R.status=O,pe(u),R.pending!==0)return R.last_flush=-1,g}if(R.status===Se){if(u.adler=0,Te(R,31),Te(R,139),Te(R,8),R.gzhead)Te(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),Te(R,R.gzhead.time&255),Te(R,R.gzhead.time>>8&255),Te(R,R.gzhead.time>>16&255),Te(R,R.gzhead.time>>24&255),Te(R,R.level===9?2:R.strategy>=v||R.level<2?4:0),Te(R,R.gzhead.os&255),R.gzhead.extra&&R.gzhead.extra.length&&(Te(R,R.gzhead.extra.length&255),Te(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(u.adler=o(u.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=Le;else if(Te(R,0),Te(R,0),Te(R,0),Te(R,0),Te(R,0),Te(R,R.level===9?2:R.strategy>=v||R.level<2?4:0),Te(R,Y),R.status=O,pe(u),R.pending!==0)return R.last_flush=-1,g}if(R.status===Le){if(R.gzhead.extra){let K=R.pending,ge=(R.gzhead.extra.length&65535)-R.gzindex;for(;R.pending+ge>R.pending_buf_size;){let Ee=R.pending_buf_size-R.pending;if(R.pending_buf.set(R.gzhead.extra.subarray(R.gzindex,R.gzindex+Ee),R.pending),R.pending=R.pending_buf_size,R.gzhead.hcrc&&R.pending>K&&(u.adler=o(u.adler,R.pending_buf,R.pending-K,K)),R.gzindex+=Ee,pe(u),R.pending!==0)return R.last_flush=-1,g;K=0,ge-=Ee}let Pe=new Uint8Array(R.gzhead.extra);R.pending_buf.set(Pe.subarray(R.gzindex,R.gzindex+ge),R.pending),R.pending+=ge,R.gzhead.hcrc&&R.pending>K&&(u.adler=o(u.adler,R.pending_buf,R.pending-K,K)),R.gzindex=0}R.status=De}if(R.status===De){if(R.gzhead.name){let K=R.pending,ge;do{if(R.pending===R.pending_buf_size){if(R.gzhead.hcrc&&R.pending>K&&(u.adler=o(u.adler,R.pending_buf,R.pending-K,K)),pe(u),R.pending!==0)return R.last_flush=-1,g;K=0}R.gzindex<R.gzhead.name.length?ge=R.gzhead.name.charCodeAt(R.gzindex++)&255:ge=0,Te(R,ge)}while(ge!==0);R.gzhead.hcrc&&R.pending>K&&(u.adler=o(u.adler,R.pending_buf,R.pending-K,K)),R.gzindex=0}R.status=Ke}if(R.status===Ke){if(R.gzhead.comment){let K=R.pending,ge;do{if(R.pending===R.pending_buf_size){if(R.gzhead.hcrc&&R.pending>K&&(u.adler=o(u.adler,R.pending_buf,R.pending-K,K)),pe(u),R.pending!==0)return R.last_flush=-1,g;K=0}R.gzindex<R.gzhead.comment.length?ge=R.gzhead.comment.charCodeAt(R.gzindex++)&255:ge=0,Te(R,ge)}while(ge!==0);R.gzhead.hcrc&&R.pending>K&&(u.adler=o(u.adler,R.pending_buf,R.pending-K,K))}R.status=We}if(R.status===We){if(R.gzhead.hcrc){if(R.pending+2>R.pending_buf_size&&(pe(u),R.pending!==0))return R.last_flush=-1,g;Te(R,u.adler&255),Te(R,u.adler>>8&255),u.adler=0}if(R.status=O,pe(u),R.pending!==0)return R.last_flush=-1,g}if(u.avail_in!==0||R.lookahead!==0||W!==l&&R.status!==I){let K=R.level===0?ae(R,W):R.strategy===v?Ie(R,W):R.strategy===A?ve(R,W):Q[R.level].func(R,W);if((K===$||K===D)&&(R.status=I),K===P||K===$)return u.avail_out===0&&(R.last_flush=-1),g;if(K===U&&(W===c?s(R):W!==d&&(e(R,0,0,!1),W===f&&(q(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),pe(u),u.avail_out===0))return R.last_flush=-1,g}return W!==h?g:R.wrap<=0?b:(R.wrap===2?(Te(R,u.adler&255),Te(R,u.adler>>8&255),Te(R,u.adler>>16&255),Te(R,u.adler>>24&255),Te(R,u.total_in&255),Te(R,u.total_in>>8&255),Te(R,u.total_in>>16&255),Te(R,u.total_in>>24&255)):(He(R,u.adler>>>16),He(R,u.adler&65535)),pe(u),R.wrap>0&&(R.wrap=-R.wrap),R.pending!==0?g:b)},wr=u=>{if(Ve(u))return m;const W=u.state.status;return u.state=null,W===O?L(u,_):g},at=(u,W)=>{let R=W.length;if(Ve(u))return m;const G=u.state,K=G.wrap;if(K===2||K===1&&G.status!==H||G.lookahead)return m;if(K===1&&(u.adler=i(u.adler,W,R,0)),G.wrap=0,R>=G.w_size){K===0&&(q(G.head),G.strstart=0,G.block_start=0,G.insert=0);let Ot=new Uint8Array(G.w_size);Ot.set(W.subarray(R-G.w_size,R),0),W=Ot,R=G.w_size}const ge=u.avail_in,Pe=u.next_in,Ee=u.input;for(u.avail_in=R,u.next_in=0,u.input=W,T(G);G.lookahead>=ue;){let Ot=G.strstart,Xe=G.lookahead-(ue-1);do G.ins_h=we(G,G.ins_h,G.window[Ot+ue-1]),G.prev[Ot&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=Ot,Ot++;while(--Xe);G.strstart=Ot,G.lookahead=ue-1,T(G)}return G.strstart+=G.lookahead,G.block_start=G.strstart,G.insert=G.lookahead,G.lookahead=0,G.match_length=G.prev_length=ue-1,G.match_available=0,u.next_in=Pe,u.input=Ee,u.avail_in=ge,G.wrap=K,g};return Jt.deflateInit=ne,Jt.deflateInit2=it,Jt.deflateReset=qe,Jt.deflateResetKeep=de,Jt.deflateSetHeader=xe,Jt.deflate=se,Jt.deflateEnd=wr,Jt.deflateSetDictionary=at,Jt.deflateInfo="pako deflate (from Nodeca project)",Jt}var ni={},gc;function Ef(){if(gc)return ni;gc=1;const t=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);return ni.assign=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const r=n.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const s in r)t(r,s)&&(e[s]=r[s])}}return e},ni.flattenChunks=e=>{let n=0;for(let s=0,i=e.length;s<i;s++)n+=e[s].length;const r=new Uint8Array(n);for(let s=0,i=0,o=e.length;s<o;s++){let a=e[s];r.set(a,i),i+=a.length}return r},ni}var rs={},mc;function Sf(){if(mc)return rs;mc=1;let t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t=!1}const e=new Uint8Array(256);for(let r=0;r<256;r++)e[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;e[254]=e[254]=1,rs.string2buf=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let s,i,o,a,l,c=r.length,f=0;for(a=0;a<c;a++)i=r.charCodeAt(a),(i&64512)===55296&&a+1<c&&(o=r.charCodeAt(a+1),(o&64512)===56320&&(i=65536+(i-55296<<10)+(o-56320),a++)),f+=i<128?1:i<2048?2:i<65536?3:4;for(s=new Uint8Array(f),l=0,a=0;l<f;a++)i=r.charCodeAt(a),(i&64512)===55296&&a+1<c&&(o=r.charCodeAt(a+1),(o&64512)===56320&&(i=65536+(i-55296<<10)+(o-56320),a++)),i<128?s[l++]=i:i<2048?(s[l++]=192|i>>>6,s[l++]=128|i&63):i<65536?(s[l++]=224|i>>>12,s[l++]=128|i>>>6&63,s[l++]=128|i&63):(s[l++]=240|i>>>18,s[l++]=128|i>>>12&63,s[l++]=128|i>>>6&63,s[l++]=128|i&63);return s};const n=(r,s)=>{if(s<65534&&r.subarray&&t)return String.fromCharCode.apply(null,r.length===s?r:r.subarray(0,s));let i="";for(let o=0;o<s;o++)i+=String.fromCharCode(r[o]);return i};return rs.buf2string=(r,s)=>{const i=s||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,s));let o,a;const l=new Array(i*2);for(a=0,o=0;o<i;){let c=r[o++];if(c<128){l[a++]=c;continue}let f=e[c];if(f>4){l[a++]=65533,o+=f-1;continue}for(c&=f===2?31:f===3?15:7;f>1&&o<i;)c=c<<6|r[o++]&63,f--;if(f>1){l[a++]=65533;continue}c<65536?l[a++]=c:(c-=65536,l[a++]=55296|c>>10&1023,l[a++]=56320|c&1023)}return n(l,a)},rs.utf8border=(r,s)=>{s=s||r.length,s>r.length&&(s=r.length);let i=s-1;for(;i>=0&&(r[i]&192)===128;)i--;return i<0||i===0?s:i+e[r[i]]>s?i:s},rs}var yo,yc;function kf(){if(yc)return yo;yc=1;function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return yo=t,yo}var bc;function Qb(){if(bc)return Jn;bc=1;const t=Xb(),e=Ef(),n=Sf(),r=La(),s=kf(),i=Object.prototype.toString,{Z_NO_FLUSH:o,Z_SYNC_FLUSH:a,Z_FULL_FLUSH:l,Z_FINISH:c,Z_OK:f,Z_STREAM_END:h,Z_DEFAULT_COMPRESSION:d,Z_DEFAULT_STRATEGY:g,Z_DEFLATED:b}=pr();function m(S){this.options=e.assign({level:d,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:g},S||{});let v=this.options;v.raw&&v.windowBits>0?v.windowBits=-v.windowBits:v.gzip&&v.windowBits>0&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let A=t.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(A!==f)throw new Error(r[A]);if(v.header&&t.deflateSetHeader(this.strm,v.header),v.dictionary){let N;if(typeof v.dictionary=="string"?N=n.string2buf(v.dictionary):i.call(v.dictionary)==="[object ArrayBuffer]"?N=new Uint8Array(v.dictionary):N=v.dictionary,A=t.deflateSetDictionary(this.strm,N),A!==f)throw new Error(r[A]);this._dict_set=!0}}m.prototype.push=function(S,v){const A=this.strm,N=this.options.chunkSize;let y,E;if(this.ended)return!1;for(v===~~v?E=v:E=v===!0?c:o,typeof S=="string"?A.input=n.string2buf(S):i.call(S)==="[object ArrayBuffer]"?A.input=new Uint8Array(S):A.input=S,A.next_in=0,A.avail_in=A.input.length;;){if(A.avail_out===0&&(A.output=new Uint8Array(N),A.next_out=0,A.avail_out=N),(E===a||E===l)&&A.avail_out<=6){this.onData(A.output.subarray(0,A.next_out)),A.avail_out=0;continue}if(y=t.deflate(A,E),y===h)return A.next_out>0&&this.onData(A.output.subarray(0,A.next_out)),y=t.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===f;if(A.avail_out===0){this.onData(A.output);continue}if(E>0&&A.next_out>0){this.onData(A.output.subarray(0,A.next_out)),A.avail_out=0;continue}if(A.avail_in===0)break}return!0},m.prototype.onData=function(S){this.chunks.push(S)},m.prototype.onEnd=function(S){S===f&&(this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg};function _(S,v){const A=new m(v);if(A.push(S,!0),A.err)throw A.msg||r[A.err];return A.result}function p(S,v){return v=v||{},v.raw=!0,_(S,v)}function k(S,v){return v=v||{},v.gzip=!0,_(S,v)}return Jn.Deflate=m,Jn.deflate=_,Jn.deflateRaw=p,Jn.gzip=k,Jn.constants=pr(),Jn}var tr={},Vt={},bo,wc;function Jb(){if(wc)return bo;wc=1;const t=16209,e=16191;return bo=function(r,s){let i,o,a,l,c,f,h,d,g,b,m,_,p,k,S,v,A,N,y,E,C,j,B,M;const V=r.state;i=r.next_in,B=r.input,o=i+(r.avail_in-5),a=r.next_out,M=r.output,l=a-(s-r.avail_out),c=a+(r.avail_out-257),f=V.dmax,h=V.wsize,d=V.whave,g=V.wnext,b=V.window,m=V.hold,_=V.bits,p=V.lencode,k=V.distcode,S=(1<<V.lenbits)-1,v=(1<<V.distbits)-1;e:do{_<15&&(m+=B[i++]<<_,_+=8,m+=B[i++]<<_,_+=8),A=p[m&S];t:for(;;){if(N=A>>>24,m>>>=N,_-=N,N=A>>>16&255,N===0)M[a++]=A&65535;else if(N&16){y=A&65535,N&=15,N&&(_<N&&(m+=B[i++]<<_,_+=8),y+=m&(1<<N)-1,m>>>=N,_-=N),_<15&&(m+=B[i++]<<_,_+=8,m+=B[i++]<<_,_+=8),A=k[m&v];n:for(;;){if(N=A>>>24,m>>>=N,_-=N,N=A>>>16&255,N&16){if(E=A&65535,N&=15,_<N&&(m+=B[i++]<<_,_+=8,_<N&&(m+=B[i++]<<_,_+=8)),E+=m&(1<<N)-1,E>f){r.msg="invalid distance too far back",V.mode=t;break e}if(m>>>=N,_-=N,N=a-l,E>N){if(N=E-N,N>d&&V.sane){r.msg="invalid distance too far back",V.mode=t;break e}if(C=0,j=b,g===0){if(C+=h-N,N<y){y-=N;do M[a++]=b[C++];while(--N);C=a-E,j=M}}else if(g<N){if(C+=h+g-N,N-=g,N<y){y-=N;do M[a++]=b[C++];while(--N);if(C=0,g<y){N=g,y-=N;do M[a++]=b[C++];while(--N);C=a-E,j=M}}}else if(C+=g-N,N<y){y-=N;do M[a++]=b[C++];while(--N);C=a-E,j=M}for(;y>2;)M[a++]=j[C++],M[a++]=j[C++],M[a++]=j[C++],y-=3;y&&(M[a++]=j[C++],y>1&&(M[a++]=j[C++]))}else{C=a-E;do M[a++]=M[C++],M[a++]=M[C++],M[a++]=M[C++],y-=3;while(y>2);y&&(M[a++]=M[C++],y>1&&(M[a++]=M[C++]))}}else if((N&64)===0){A=k[(A&65535)+(m&(1<<N)-1)];continue n}else{r.msg="invalid distance code",V.mode=t;break e}break}}else if((N&64)===0){A=p[(A&65535)+(m&(1<<N)-1)];continue t}else if(N&32){V.mode=e;break e}else{r.msg="invalid literal/length code",V.mode=t;break e}break}}while(i<o&&a<c);y=_>>3,i-=y,_-=y<<3,m&=(1<<_)-1,r.next_in=i,r.next_out=a,r.avail_in=i<o?5+(o-i):5-(i-o),r.avail_out=a<c?257+(c-a):257-(a-c),V.hold=m,V.bits=_},bo}var wo,_c;function ew(){if(_c)return wo;_c=1;const t=15,e=852,n=592,r=0,s=1,i=2,o=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),a=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),l=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),c=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);return wo=(h,d,g,b,m,_,p,k)=>{const S=k.bits;let v=0,A=0,N=0,y=0,E=0,C=0,j=0,B=0,M=0,V=0,ie,te,oe,le,J,fe=null,ue;const ke=new Uint16Array(t+1),Ae=new Uint16Array(t+1);let _e=null,H,Se,Le;for(v=0;v<=t;v++)ke[v]=0;for(A=0;A<b;A++)ke[d[g+A]]++;for(E=S,y=t;y>=1&&ke[y]===0;y--);if(E>y&&(E=y),y===0)return m[_++]=1<<24|64<<16|0,m[_++]=1<<24|64<<16|0,k.bits=1,0;for(N=1;N<y&&ke[N]===0;N++);for(E<N&&(E=N),B=1,v=1;v<=t;v++)if(B<<=1,B-=ke[v],B<0)return-1;if(B>0&&(h===r||y!==1))return-1;for(Ae[1]=0,v=1;v<t;v++)Ae[v+1]=Ae[v]+ke[v];for(A=0;A<b;A++)d[g+A]!==0&&(p[Ae[d[g+A]]++]=A);if(h===r?(fe=_e=p,ue=20):h===s?(fe=o,_e=a,ue=257):(fe=l,_e=c,ue=0),V=0,A=0,v=N,J=_,C=E,j=0,oe=-1,M=1<<E,le=M-1,h===s&&M>e||h===i&&M>n)return 1;for(;;){H=v-j,p[A]+1<ue?(Se=0,Le=p[A]):p[A]>=ue?(Se=_e[p[A]-ue],Le=fe[p[A]-ue]):(Se=96,Le=0),ie=1<<v-j,te=1<<C,N=te;do te-=ie,m[J+(V>>j)+te]=H<<24|Se<<16|Le|0;while(te!==0);for(ie=1<<v-1;V&ie;)ie>>=1;if(ie!==0?(V&=ie-1,V+=ie):V=0,A++,--ke[v]===0){if(v===y)break;v=d[g+p[A]]}if(v>E&&(V&le)!==oe){for(j===0&&(j=E),J+=N,C=v-j,B=1<<C;C+j<y&&(B-=ke[C+j],!(B<=0));)C++,B<<=1;if(M+=1<<C,h===s&&M>e||h===i&&M>n)return 1;oe=V&le,m[oe]=E<<24|C<<16|J-_|0}}return V!==0&&(m[J+V]=v-j<<24|64<<16|0),k.bits=E,0},wo}var vc;function tw(){if(vc)return Vt;vc=1;const t=vf(),e=xf(),n=Jb(),r=ew(),s=0,i=1,o=2,{Z_FINISH:a,Z_BLOCK:l,Z_TREES:c,Z_OK:f,Z_STREAM_END:h,Z_NEED_DICT:d,Z_STREAM_ERROR:g,Z_DATA_ERROR:b,Z_MEM_ERROR:m,Z_BUF_ERROR:_,Z_DEFLATED:p}=pr(),k=16180,S=16181,v=16182,A=16183,N=16184,y=16185,E=16186,C=16187,j=16188,B=16189,M=16190,V=16191,ie=16192,te=16193,oe=16194,le=16195,J=16196,fe=16197,ue=16198,ke=16199,Ae=16200,_e=16201,H=16202,Se=16203,Le=16204,De=16205,Ke=16206,We=16207,O=16208,I=16209,P=16210,U=16211,$=852,D=592,L=15,F=z=>(z>>>24&255)+(z>>>8&65280)+((z&65280)<<8)+((z&255)<<24);function q(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Z=z=>{if(!z)return 1;const Q=z.state;return!Q||Q.strm!==z||Q.mode<k||Q.mode>U?1:0},re=z=>{if(Z(z))return g;const Q=z.state;return z.total_in=z.total_out=Q.total=0,z.msg="",Q.wrap&&(z.adler=Q.wrap&1),Q.mode=k,Q.last=0,Q.havedict=0,Q.flags=-1,Q.dmax=32768,Q.head=null,Q.hold=0,Q.bits=0,Q.lencode=Q.lendyn=new Int32Array($),Q.distcode=Q.distdyn=new Int32Array(D),Q.sane=1,Q.back=-1,f},we=z=>{if(Z(z))return g;const Q=z.state;return Q.wsize=0,Q.whave=0,Q.wnext=0,re(z)},pe=(z,Q)=>{let x;if(Z(z))return g;const he=z.state;return Q<0?(x=0,Q=-Q):(x=(Q>>4)+5,Q<48&&(Q&=15)),Q&&(Q<8||Q>15)?g:(he.window!==null&&he.wbits!==Q&&(he.window=null),he.wrap=x,he.wbits=Q,we(z))},Re=(z,Q)=>{if(!z)return g;const x=new q;z.state=x,x.strm=z,x.window=null,x.mode=k;const he=pe(z,Q);return he!==f&&(z.state=null),he},Te=z=>Re(z,L);let He=!0,Me,$e;const T=z=>{if(He){Me=new Int32Array(512),$e=new Int32Array(32);let Q=0;for(;Q<144;)z.lens[Q++]=8;for(;Q<256;)z.lens[Q++]=9;for(;Q<280;)z.lens[Q++]=7;for(;Q<288;)z.lens[Q++]=8;for(r(i,z.lens,0,288,Me,0,z.work,{bits:9}),Q=0;Q<32;)z.lens[Q++]=5;r(o,z.lens,0,32,$e,0,z.work,{bits:5}),He=!1}z.lencode=Me,z.lenbits=9,z.distcode=$e,z.distbits=5},ae=(z,Q,x,he)=>{let Ve;const de=z.state;return de.window===null&&(de.wsize=1<<de.wbits,de.wnext=0,de.whave=0,de.window=new Uint8Array(de.wsize)),he>=de.wsize?(de.window.set(Q.subarray(x-de.wsize,x),0),de.wnext=0,de.whave=de.wsize):(Ve=de.wsize-de.wnext,Ve>he&&(Ve=he),de.window.set(Q.subarray(x-he,x-he+Ve),de.wnext),he-=Ve,he?(de.window.set(Q.subarray(x-he,x),0),de.wnext=he,de.whave=de.wsize):(de.wnext+=Ve,de.wnext===de.wsize&&(de.wnext=0),de.whave<de.wsize&&(de.whave+=Ve))),0},ce=(z,Q)=>{let x,he,Ve,de,qe,xe,it,ne,se,wr,at,u,W,R,G=0,K,ge,Pe,Ee,Ot,Xe,pt,zt;const yt=new Uint8Array(4);let Ut,$t;const al=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Z(z)||!z.output||!z.input&&z.avail_in!==0)return g;x=z.state,x.mode===V&&(x.mode=ie),qe=z.next_out,Ve=z.output,it=z.avail_out,de=z.next_in,he=z.input,xe=z.avail_in,ne=x.hold,se=x.bits,wr=xe,at=it,zt=f;e:for(;;)switch(x.mode){case k:if(x.wrap===0){x.mode=ie;break}for(;se<16;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}if(x.wrap&2&&ne===35615){x.wbits===0&&(x.wbits=15),x.check=0,yt[0]=ne&255,yt[1]=ne>>>8&255,x.check=e(x.check,yt,2,0),ne=0,se=0,x.mode=S;break}if(x.head&&(x.head.done=!1),!(x.wrap&1)||(((ne&255)<<8)+(ne>>8))%31){z.msg="incorrect header check",x.mode=I;break}if((ne&15)!==p){z.msg="unknown compression method",x.mode=I;break}if(ne>>>=4,se-=4,pt=(ne&15)+8,x.wbits===0&&(x.wbits=pt),pt>15||pt>x.wbits){z.msg="invalid window size",x.mode=I;break}x.dmax=1<<x.wbits,x.flags=0,z.adler=x.check=1,x.mode=ne&512?B:V,ne=0,se=0;break;case S:for(;se<16;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}if(x.flags=ne,(x.flags&255)!==p){z.msg="unknown compression method",x.mode=I;break}if(x.flags&57344){z.msg="unknown header flags set",x.mode=I;break}x.head&&(x.head.text=ne>>8&1),x.flags&512&&x.wrap&4&&(yt[0]=ne&255,yt[1]=ne>>>8&255,x.check=e(x.check,yt,2,0)),ne=0,se=0,x.mode=v;case v:for(;se<32;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}x.head&&(x.head.time=ne),x.flags&512&&x.wrap&4&&(yt[0]=ne&255,yt[1]=ne>>>8&255,yt[2]=ne>>>16&255,yt[3]=ne>>>24&255,x.check=e(x.check,yt,4,0)),ne=0,se=0,x.mode=A;case A:for(;se<16;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}x.head&&(x.head.xflags=ne&255,x.head.os=ne>>8),x.flags&512&&x.wrap&4&&(yt[0]=ne&255,yt[1]=ne>>>8&255,x.check=e(x.check,yt,2,0)),ne=0,se=0,x.mode=N;case N:if(x.flags&1024){for(;se<16;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}x.length=ne,x.head&&(x.head.extra_len=ne),x.flags&512&&x.wrap&4&&(yt[0]=ne&255,yt[1]=ne>>>8&255,x.check=e(x.check,yt,2,0)),ne=0,se=0}else x.head&&(x.head.extra=null);x.mode=y;case y:if(x.flags&1024&&(u=x.length,u>xe&&(u=xe),u&&(x.head&&(pt=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Uint8Array(x.head.extra_len)),x.head.extra.set(he.subarray(de,de+u),pt)),x.flags&512&&x.wrap&4&&(x.check=e(x.check,he,u,de)),xe-=u,de+=u,x.length-=u),x.length))break e;x.length=0,x.mode=E;case E:if(x.flags&2048){if(xe===0)break e;u=0;do pt=he[de+u++],x.head&&pt&&x.length<65536&&(x.head.name+=String.fromCharCode(pt));while(pt&&u<xe);if(x.flags&512&&x.wrap&4&&(x.check=e(x.check,he,u,de)),xe-=u,de+=u,pt)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=C;case C:if(x.flags&4096){if(xe===0)break e;u=0;do pt=he[de+u++],x.head&&pt&&x.length<65536&&(x.head.comment+=String.fromCharCode(pt));while(pt&&u<xe);if(x.flags&512&&x.wrap&4&&(x.check=e(x.check,he,u,de)),xe-=u,de+=u,pt)break e}else x.head&&(x.head.comment=null);x.mode=j;case j:if(x.flags&512){for(;se<16;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}if(x.wrap&4&&ne!==(x.check&65535)){z.msg="header crc mismatch",x.mode=I;break}ne=0,se=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),z.adler=x.check=0,x.mode=V;break;case B:for(;se<32;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}z.adler=x.check=F(ne),ne=0,se=0,x.mode=M;case M:if(x.havedict===0)return z.next_out=qe,z.avail_out=it,z.next_in=de,z.avail_in=xe,x.hold=ne,x.bits=se,d;z.adler=x.check=1,x.mode=V;case V:if(Q===l||Q===c)break e;case ie:if(x.last){ne>>>=se&7,se-=se&7,x.mode=Ke;break}for(;se<3;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}switch(x.last=ne&1,ne>>>=1,se-=1,ne&3){case 0:x.mode=te;break;case 1:if(T(x),x.mode=ke,Q===c){ne>>>=2,se-=2;break e}break;case 2:x.mode=J;break;case 3:z.msg="invalid block type",x.mode=I}ne>>>=2,se-=2;break;case te:for(ne>>>=se&7,se-=se&7;se<32;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}if((ne&65535)!==(ne>>>16^65535)){z.msg="invalid stored block lengths",x.mode=I;break}if(x.length=ne&65535,ne=0,se=0,x.mode=oe,Q===c)break e;case oe:x.mode=le;case le:if(u=x.length,u){if(u>xe&&(u=xe),u>it&&(u=it),u===0)break e;Ve.set(he.subarray(de,de+u),qe),xe-=u,de+=u,it-=u,qe+=u,x.length-=u;break}x.mode=V;break;case J:for(;se<14;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}if(x.nlen=(ne&31)+257,ne>>>=5,se-=5,x.ndist=(ne&31)+1,ne>>>=5,se-=5,x.ncode=(ne&15)+4,ne>>>=4,se-=4,x.nlen>286||x.ndist>30){z.msg="too many length or distance symbols",x.mode=I;break}x.have=0,x.mode=fe;case fe:for(;x.have<x.ncode;){for(;se<3;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}x.lens[al[x.have++]]=ne&7,ne>>>=3,se-=3}for(;x.have<19;)x.lens[al[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,Ut={bits:x.lenbits},zt=r(s,x.lens,0,19,x.lencode,0,x.work,Ut),x.lenbits=Ut.bits,zt){z.msg="invalid code lengths set",x.mode=I;break}x.have=0,x.mode=ue;case ue:for(;x.have<x.nlen+x.ndist;){for(;G=x.lencode[ne&(1<<x.lenbits)-1],K=G>>>24,ge=G>>>16&255,Pe=G&65535,!(K<=se);){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}if(Pe<16)ne>>>=K,se-=K,x.lens[x.have++]=Pe;else{if(Pe===16){for($t=K+2;se<$t;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}if(ne>>>=K,se-=K,x.have===0){z.msg="invalid bit length repeat",x.mode=I;break}pt=x.lens[x.have-1],u=3+(ne&3),ne>>>=2,se-=2}else if(Pe===17){for($t=K+3;se<$t;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}ne>>>=K,se-=K,pt=0,u=3+(ne&7),ne>>>=3,se-=3}else{for($t=K+7;se<$t;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}ne>>>=K,se-=K,pt=0,u=11+(ne&127),ne>>>=7,se-=7}if(x.have+u>x.nlen+x.ndist){z.msg="invalid bit length repeat",x.mode=I;break}for(;u--;)x.lens[x.have++]=pt}}if(x.mode===I)break;if(x.lens[256]===0){z.msg="invalid code -- missing end-of-block",x.mode=I;break}if(x.lenbits=9,Ut={bits:x.lenbits},zt=r(i,x.lens,0,x.nlen,x.lencode,0,x.work,Ut),x.lenbits=Ut.bits,zt){z.msg="invalid literal/lengths set",x.mode=I;break}if(x.distbits=6,x.distcode=x.distdyn,Ut={bits:x.distbits},zt=r(o,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,Ut),x.distbits=Ut.bits,zt){z.msg="invalid distances set",x.mode=I;break}if(x.mode=ke,Q===c)break e;case ke:x.mode=Ae;case Ae:if(xe>=6&&it>=258){z.next_out=qe,z.avail_out=it,z.next_in=de,z.avail_in=xe,x.hold=ne,x.bits=se,n(z,at),qe=z.next_out,Ve=z.output,it=z.avail_out,de=z.next_in,he=z.input,xe=z.avail_in,ne=x.hold,se=x.bits,x.mode===V&&(x.back=-1);break}for(x.back=0;G=x.lencode[ne&(1<<x.lenbits)-1],K=G>>>24,ge=G>>>16&255,Pe=G&65535,!(K<=se);){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}if(ge&&(ge&240)===0){for(Ee=K,Ot=ge,Xe=Pe;G=x.lencode[Xe+((ne&(1<<Ee+Ot)-1)>>Ee)],K=G>>>24,ge=G>>>16&255,Pe=G&65535,!(Ee+K<=se);){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}ne>>>=Ee,se-=Ee,x.back+=Ee}if(ne>>>=K,se-=K,x.back+=K,x.length=Pe,ge===0){x.mode=De;break}if(ge&32){x.back=-1,x.mode=V;break}if(ge&64){z.msg="invalid literal/length code",x.mode=I;break}x.extra=ge&15,x.mode=_e;case _e:if(x.extra){for($t=x.extra;se<$t;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}x.length+=ne&(1<<x.extra)-1,ne>>>=x.extra,se-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=H;case H:for(;G=x.distcode[ne&(1<<x.distbits)-1],K=G>>>24,ge=G>>>16&255,Pe=G&65535,!(K<=se);){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}if((ge&240)===0){for(Ee=K,Ot=ge,Xe=Pe;G=x.distcode[Xe+((ne&(1<<Ee+Ot)-1)>>Ee)],K=G>>>24,ge=G>>>16&255,Pe=G&65535,!(Ee+K<=se);){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}ne>>>=Ee,se-=Ee,x.back+=Ee}if(ne>>>=K,se-=K,x.back+=K,ge&64){z.msg="invalid distance code",x.mode=I;break}x.offset=Pe,x.extra=ge&15,x.mode=Se;case Se:if(x.extra){for($t=x.extra;se<$t;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}x.offset+=ne&(1<<x.extra)-1,ne>>>=x.extra,se-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){z.msg="invalid distance too far back",x.mode=I;break}x.mode=Le;case Le:if(it===0)break e;if(u=at-it,x.offset>u){if(u=x.offset-u,u>x.whave&&x.sane){z.msg="invalid distance too far back",x.mode=I;break}u>x.wnext?(u-=x.wnext,W=x.wsize-u):W=x.wnext-u,u>x.length&&(u=x.length),R=x.window}else R=Ve,W=qe-x.offset,u=x.length;u>it&&(u=it),it-=u,x.length-=u;do Ve[qe++]=R[W++];while(--u);x.length===0&&(x.mode=Ae);break;case De:if(it===0)break e;Ve[qe++]=x.length,it--,x.mode=Ae;break;case Ke:if(x.wrap){for(;se<32;){if(xe===0)break e;xe--,ne|=he[de++]<<se,se+=8}if(at-=it,z.total_out+=at,x.total+=at,x.wrap&4&&at&&(z.adler=x.check=x.flags?e(x.check,Ve,at,qe-at):t(x.check,Ve,at,qe-at)),at=it,x.wrap&4&&(x.flags?ne:F(ne))!==x.check){z.msg="incorrect data check",x.mode=I;break}ne=0,se=0}x.mode=We;case We:if(x.wrap&&x.flags){for(;se<32;){if(xe===0)break e;xe--,ne+=he[de++]<<se,se+=8}if(x.wrap&4&&ne!==(x.total&4294967295)){z.msg="incorrect length check",x.mode=I;break}ne=0,se=0}x.mode=O;case O:zt=h;break e;case I:zt=b;break e;case P:return m;case U:default:return g}return z.next_out=qe,z.avail_out=it,z.next_in=de,z.avail_in=xe,x.hold=ne,x.bits=se,(x.wsize||at!==z.avail_out&&x.mode<I&&(x.mode<Ke||Q!==a))&&ae(z,z.output,z.next_out,at-z.avail_out),wr-=z.avail_in,at-=z.avail_out,z.total_in+=wr,z.total_out+=at,x.total+=at,x.wrap&4&&at&&(z.adler=x.check=x.flags?e(x.check,Ve,at,z.next_out-at):t(x.check,Ve,at,z.next_out-at)),z.data_type=x.bits+(x.last?64:0)+(x.mode===V?128:0)+(x.mode===ke||x.mode===oe?256:0),(wr===0&&at===0||Q===a)&&zt===f&&(zt=_),zt},me=z=>{if(Z(z))return g;let Q=z.state;return Q.window&&(Q.window=null),z.state=null,f},ve=(z,Q)=>{if(Z(z))return g;const x=z.state;return(x.wrap&2)===0?g:(x.head=Q,Q.done=!1,f)},Ie=(z,Q)=>{const x=Q.length;let he,Ve,de;return Z(z)||(he=z.state,he.wrap!==0&&he.mode!==M)?g:he.mode===M&&(Ve=1,Ve=t(Ve,Q,x,0),Ve!==he.check)?b:(de=ae(z,Q,x,x),de?(he.mode=P,m):(he.havedict=1,f))};return Vt.inflateReset=we,Vt.inflateReset2=pe,Vt.inflateResetKeep=re,Vt.inflateInit=Te,Vt.inflateInit2=Re,Vt.inflate=ce,Vt.inflateEnd=me,Vt.inflateGetHeader=ve,Vt.inflateSetDictionary=Ie,Vt.inflateInfo="pako inflate (from Nodeca project)",Vt}var _o,xc;function nw(){if(xc)return _o;xc=1;function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return _o=t,_o}var Ec;function rw(){if(Ec)return tr;Ec=1;const t=tw(),e=Ef(),n=Sf(),r=La(),s=kf(),i=nw(),o=Object.prototype.toString,{Z_NO_FLUSH:a,Z_FINISH:l,Z_OK:c,Z_STREAM_END:f,Z_NEED_DICT:h,Z_STREAM_ERROR:d,Z_DATA_ERROR:g,Z_MEM_ERROR:b}=pr();function m(k){this.options=e.assign({chunkSize:1024*64,windowBits:15,to:""},k||{});const S=this.options;S.raw&&S.windowBits>=0&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),S.windowBits>=0&&S.windowBits<16&&!(k&&k.windowBits)&&(S.windowBits+=32),S.windowBits>15&&S.windowBits<48&&(S.windowBits&15)===0&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let v=t.inflateInit2(this.strm,S.windowBits);if(v!==c)throw new Error(r[v]);if(this.header=new i,t.inflateGetHeader(this.strm,this.header),S.dictionary&&(typeof S.dictionary=="string"?S.dictionary=n.string2buf(S.dictionary):o.call(S.dictionary)==="[object ArrayBuffer]"&&(S.dictionary=new Uint8Array(S.dictionary)),S.raw&&(v=t.inflateSetDictionary(this.strm,S.dictionary),v!==c)))throw new Error(r[v])}m.prototype.push=function(k,S){const v=this.strm,A=this.options.chunkSize,N=this.options.dictionary;let y,E,C;if(this.ended)return!1;for(S===~~S?E=S:E=S===!0?l:a,o.call(k)==="[object ArrayBuffer]"?v.input=new Uint8Array(k):v.input=k,v.next_in=0,v.avail_in=v.input.length;;){for(v.avail_out===0&&(v.output=new Uint8Array(A),v.next_out=0,v.avail_out=A),y=t.inflate(v,E),y===h&&N&&(y=t.inflateSetDictionary(v,N),y===c?y=t.inflate(v,E):y===g&&(y=h));v.avail_in>0&&y===f&&v.state.wrap>0&&k[v.next_in]!==0;)t.inflateReset(v),y=t.inflate(v,E);switch(y){case d:case g:case h:case b:return this.onEnd(y),this.ended=!0,!1}if(C=v.avail_out,v.next_out&&(v.avail_out===0||y===f))if(this.options.to==="string"){let j=n.utf8border(v.output,v.next_out),B=v.next_out-j,M=n.buf2string(v.output,j);v.next_out=B,v.avail_out=A-B,B&&v.output.set(v.output.subarray(j,j+B),0),this.onData(M)}else this.onData(v.output.length===v.next_out?v.output:v.output.subarray(0,v.next_out));if(!(y===c&&C===0)){if(y===f)return y=t.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,!0;if(v.avail_in===0)break}}return!0},m.prototype.onData=function(k){this.chunks.push(k)},m.prototype.onEnd=function(k){k===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg};function _(k,S){const v=new m(S);if(v.push(k),v.err)throw v.msg||r[v.err];return v.result}function p(k,S){return S=S||{},S.raw=!0,_(k,S)}return tr.Inflate=m,tr.inflate=_,tr.inflateRaw=p,tr.ungzip=_,tr.constants=pr(),tr}var Sc;function sw(){if(Sc)return Qt;Sc=1;const{Deflate:t,deflate:e,deflateRaw:n,gzip:r}=Qb(),{Inflate:s,inflate:i,inflateRaw:o,ungzip:a}=rw(),l=pr();return Qt.Deflate=t,Qt.deflate=e,Qt.deflateRaw=n,Qt.gzip=r,Qt.Inflate=s,Qt.inflate=i,Qt.inflateRaw=o,Qt.ungzip=a,Qt.constants=l,Qt}var ss={exports:{}},vo={exports:{}},wi={exports:{}},iw=wi.exports,kc;function Af(){return kc||(kc=1,(function(t){(function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,i=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",l=1e14,c=14,f=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,g=1e9;function b(N){var y,E,C,j=H.prototype={constructor:H,toString:null,valueOf:null},B=new H(1),M=20,V=4,ie=-7,te=21,oe=-1e7,le=1e7,J=!1,fe=1,ue=0,ke={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Ae="0123456789abcdefghijklmnopqrstuvwxyz",_e=!0;function H(O,I){var P,U,$,D,Y,L,F,q,Z=this;if(!(Z instanceof H))return new H(O,I);if(I==null){if(O&&O._isBigNumber===!0){Z.s=O.s,!O.c||O.e>le?Z.c=Z.e=null:O.e<oe?Z.c=[Z.e=0]:(Z.e=O.e,Z.c=O.c.slice());return}if((L=typeof O=="number")&&O*0==0){if(Z.s=1/O<0?(O=-O,-1):1,O===~~O){for(D=0,Y=O;Y>=10;Y/=10,D++);D>le?Z.c=Z.e=null:(Z.e=D,Z.c=[O]);return}q=String(O)}else{if(!r.test(q=String(O)))return C(Z,q,L);Z.s=q.charCodeAt(0)==45?(q=q.slice(1),-1):1}(D=q.indexOf("."))>-1&&(q=q.replace(".","")),(Y=q.search(/e/i))>0?(D<0&&(D=Y),D+=+q.slice(Y+1),q=q.substring(0,Y)):D<0&&(D=q.length)}else{if(k(I,2,Ae.length,"Base"),I==10&&_e)return Z=new H(O),Ke(Z,M+Z.e+1,V);if(q=String(O),L=typeof O=="number"){if(O*0!=0)return C(Z,q,L,I);if(Z.s=1/O<0?(q=q.slice(1),-1):1,H.DEBUG&&q.replace(/^0\.0*|\./,"").length>15)throw Error(a+O)}else Z.s=q.charCodeAt(0)===45?(q=q.slice(1),-1):1;for(P=Ae.slice(0,I),D=Y=0,F=q.length;Y<F;Y++)if(P.indexOf(U=q.charAt(Y))<0){if(U=="."){if(Y>D){D=F;continue}}else if(!$&&(q==q.toUpperCase()&&(q=q.toLowerCase())||q==q.toLowerCase()&&(q=q.toUpperCase()))){$=!0,Y=-1,D=0;continue}return C(Z,String(O),L,I)}L=!1,q=E(q,I,10,Z.s),(D=q.indexOf("."))>-1?q=q.replace(".",""):D=q.length}for(Y=0;q.charCodeAt(Y)===48;Y++);for(F=q.length;q.charCodeAt(--F)===48;);if(q=q.slice(Y,++F)){if(F-=Y,L&&H.DEBUG&&F>15&&(O>f||O!==i(O)))throw Error(a+Z.s*O);if((D=D-Y-1)>le)Z.c=Z.e=null;else if(D<oe)Z.c=[Z.e=0];else{if(Z.e=D,Z.c=[],Y=(D+1)%c,D<0&&(Y+=c),Y<F){for(Y&&Z.c.push(+q.slice(0,Y)),F-=c;Y<F;)Z.c.push(+q.slice(Y,Y+=c));Y=c-(q=q.slice(Y)).length}else Y-=F;for(;Y--;q+="0");Z.c.push(+q)}}else Z.c=[Z.e=0]}H.clone=b,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(O){var I,P;if(O!=null)if(typeof O=="object"){if(O.hasOwnProperty(I="DECIMAL_PLACES")&&(P=O[I],k(P,0,g,I),M=P),O.hasOwnProperty(I="ROUNDING_MODE")&&(P=O[I],k(P,0,8,I),V=P),O.hasOwnProperty(I="EXPONENTIAL_AT")&&(P=O[I],P&&P.pop?(k(P[0],-g,0,I),k(P[1],0,g,I),ie=P[0],te=P[1]):(k(P,-g,g,I),ie=-(te=P<0?-P:P))),O.hasOwnProperty(I="RANGE"))if(P=O[I],P&&P.pop)k(P[0],-g,-1,I),k(P[1],1,g,I),oe=P[0],le=P[1];else if(k(P,-g,g,I),P)oe=-(le=P<0?-P:P);else throw Error(o+I+" cannot be zero: "+P);if(O.hasOwnProperty(I="CRYPTO"))if(P=O[I],P===!!P)if(P)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))J=P;else throw J=!P,Error(o+"crypto unavailable");else J=P;else throw Error(o+I+" not true or false: "+P);if(O.hasOwnProperty(I="MODULO_MODE")&&(P=O[I],k(P,0,9,I),fe=P),O.hasOwnProperty(I="POW_PRECISION")&&(P=O[I],k(P,0,g,I),ue=P),O.hasOwnProperty(I="FORMAT"))if(P=O[I],typeof P=="object")ke=P;else throw Error(o+I+" not an object: "+P);if(O.hasOwnProperty(I="ALPHABET"))if(P=O[I],typeof P=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(P))_e=P.slice(0,10)=="0123456789",Ae=P;else throw Error(o+I+" invalid: "+P)}else throw Error(o+"Object expected: "+O);return{DECIMAL_PLACES:M,ROUNDING_MODE:V,EXPONENTIAL_AT:[ie,te],RANGE:[oe,le],CRYPTO:J,MODULO_MODE:fe,POW_PRECISION:ue,FORMAT:ke,ALPHABET:Ae}},H.isBigNumber=function(O){if(!O||O._isBigNumber!==!0)return!1;if(!H.DEBUG)return!0;var I,P,U=O.c,$=O.e,D=O.s;e:if({}.toString.call(U)=="[object Array]"){if((D===1||D===-1)&&$>=-g&&$<=g&&$===i($)){if(U[0]===0){if($===0&&U.length===1)return!0;break e}if(I=($+1)%c,I<1&&(I+=c),String(U[0]).length==I){for(I=0;I<U.length;I++)if(P=U[I],P<0||P>=l||P!==i(P))break e;if(P!==0)return!0}}}else if(U===null&&$===null&&(D===null||D===1||D===-1))return!0;throw Error(o+"Invalid BigNumber: "+O)},H.maximum=H.max=function(){return Le(arguments,-1)},H.minimum=H.min=function(){return Le(arguments,1)},H.random=(function(){var O=9007199254740992,I=Math.random()*O&2097151?function(){return i(Math.random()*O)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(P){var U,$,D,Y,L,F=0,q=[],Z=new H(B);if(P==null?P=M:k(P,0,g),Y=s(P/c),J)if(crypto.getRandomValues){for(U=crypto.getRandomValues(new Uint32Array(Y*=2));F<Y;)L=U[F]*131072+(U[F+1]>>>11),L>=9e15?($=crypto.getRandomValues(new Uint32Array(2)),U[F]=$[0],U[F+1]=$[1]):(q.push(L%1e14),F+=2);F=Y/2}else if(crypto.randomBytes){for(U=crypto.randomBytes(Y*=7);F<Y;)L=(U[F]&31)*281474976710656+U[F+1]*1099511627776+U[F+2]*4294967296+U[F+3]*16777216+(U[F+4]<<16)+(U[F+5]<<8)+U[F+6],L>=9e15?crypto.randomBytes(7).copy(U,F):(q.push(L%1e14),F+=7);F=Y/7}else throw J=!1,Error(o+"crypto unavailable");if(!J)for(;F<Y;)L=I(),L<9e15&&(q[F++]=L%1e14);for(Y=q[--F],P%=c,Y&&P&&(L=h[c-P],q[F]=i(Y/L)*L);q[F]===0;q.pop(),F--);if(F<0)q=[D=0];else{for(D=-1;q[0]===0;q.splice(0,1),D-=c);for(F=1,L=q[0];L>=10;L/=10,F++);F<c&&(D-=c-F)}return Z.e=D,Z.c=q,Z}})(),H.sum=function(){for(var O=1,I=arguments,P=new H(I[0]);O<I.length;)P=P.plus(I[O++]);return P},E=(function(){var O="0123456789";function I(P,U,$,D){for(var Y,L=[0],F,q=0,Z=P.length;q<Z;){for(F=L.length;F--;L[F]*=U);for(L[0]+=D.indexOf(P.charAt(q++)),Y=0;Y<L.length;Y++)L[Y]>$-1&&(L[Y+1]==null&&(L[Y+1]=0),L[Y+1]+=L[Y]/$|0,L[Y]%=$)}return L.reverse()}return function(P,U,$,D,Y){var L,F,q,Z,re,we,pe,Re,Te=P.indexOf("."),He=M,Me=V;for(Te>=0&&(Z=ue,ue=0,P=P.replace(".",""),Re=new H(U),we=Re.pow(P.length-Te),ue=Z,Re.c=I(A(_(we.c),we.e,"0"),10,$,O),Re.e=Re.c.length),pe=I(P,U,$,Y?(L=Ae,O):(L=O,Ae)),q=Z=pe.length;pe[--Z]==0;pe.pop());if(!pe[0])return L.charAt(0);if(Te<0?--q:(we.c=pe,we.e=q,we.s=D,we=y(we,Re,He,Me,$),pe=we.c,re=we.r,q=we.e),F=q+He+1,Te=pe[F],Z=$/2,re=re||F<0||pe[F+1]!=null,re=Me<4?(Te!=null||re)&&(Me==0||Me==(we.s<0?3:2)):Te>Z||Te==Z&&(Me==4||re||Me==6&&pe[F-1]&1||Me==(we.s<0?8:7)),F<1||!pe[0])P=re?A(L.charAt(1),-He,L.charAt(0)):L.charAt(0);else{if(pe.length=F,re)for(--$;++pe[--F]>$;)pe[F]=0,F||(++q,pe=[1].concat(pe));for(Z=pe.length;!pe[--Z];);for(Te=0,P="";Te<=Z;P+=L.charAt(pe[Te++]));P=A(P,q,L.charAt(0))}return P}})(),y=(function(){function O(U,$,D){var Y,L,F,q,Z=0,re=U.length,we=$%d,pe=$/d|0;for(U=U.slice();re--;)F=U[re]%d,q=U[re]/d|0,Y=pe*F+q*we,L=we*F+Y%d*d+Z,Z=(L/D|0)+(Y/d|0)+pe*q,U[re]=L%D;return Z&&(U=[Z].concat(U)),U}function I(U,$,D,Y){var L,F;if(D!=Y)F=D>Y?1:-1;else for(L=F=0;L<D;L++)if(U[L]!=$[L]){F=U[L]>$[L]?1:-1;break}return F}function P(U,$,D,Y){for(var L=0;D--;)U[D]-=L,L=U[D]<$[D]?1:0,U[D]=L*Y+U[D]-$[D];for(;!U[0]&&U.length>1;U.splice(0,1));}return function(U,$,D,Y,L){var F,q,Z,re,we,pe,Re,Te,He,Me,$e,T,ae,ce,me,ve,Ie,z=U.s==$.s?1:-1,Q=U.c,x=$.c;if(!Q||!Q[0]||!x||!x[0])return new H(!U.s||!$.s||(Q?x&&Q[0]==x[0]:!x)?NaN:Q&&Q[0]==0||!x?z*0:z/0);for(Te=new H(z),He=Te.c=[],q=U.e-$.e,z=D+q+1,L||(L=l,q=m(U.e/c)-m($.e/c),z=z/c|0),Z=0;x[Z]==(Q[Z]||0);Z++);if(x[Z]>(Q[Z]||0)&&q--,z<0)He.push(1),re=!0;else{for(ce=Q.length,ve=x.length,Z=0,z+=2,we=i(L/(x[0]+1)),we>1&&(x=O(x,we,L),Q=O(Q,we,L),ve=x.length,ce=Q.length),ae=ve,Me=Q.slice(0,ve),$e=Me.length;$e<ve;Me[$e++]=0);Ie=x.slice(),Ie=[0].concat(Ie),me=x[0],x[1]>=L/2&&me++;do{if(we=0,F=I(x,Me,ve,$e),F<0){if(T=Me[0],ve!=$e&&(T=T*L+(Me[1]||0)),we=i(T/me),we>1)for(we>=L&&(we=L-1),pe=O(x,we,L),Re=pe.length,$e=Me.length;I(pe,Me,Re,$e)==1;)we--,P(pe,ve<Re?Ie:x,Re,L),Re=pe.length,F=1;else we==0&&(F=we=1),pe=x.slice(),Re=pe.length;if(Re<$e&&(pe=[0].concat(pe)),P(Me,pe,$e,L),$e=Me.length,F==-1)for(;I(x,Me,ve,$e)<1;)we++,P(Me,ve<$e?Ie:x,$e,L),$e=Me.length}else F===0&&(we++,Me=[0]);He[Z++]=we,Me[0]?Me[$e++]=Q[ae]||0:(Me=[Q[ae]],$e=1)}while((ae++<ce||Me[0]!=null)&&z--);re=Me[0]!=null,He[0]||He.splice(0,1)}if(L==l){for(Z=1,z=He[0];z>=10;z/=10,Z++);Ke(Te,D+(Te.e=Z+q*c-1)+1,Y,re)}else Te.e=q,Te.r=+re;return Te}})();function Se(O,I,P,U){var $,D,Y,L,F;if(P==null?P=V:k(P,0,8),!O.c)return O.toString();if($=O.c[0],Y=O.e,I==null)F=_(O.c),F=U==1||U==2&&(Y<=ie||Y>=te)?v(F,Y):A(F,Y,"0");else if(O=Ke(new H(O),I,P),D=O.e,F=_(O.c),L=F.length,U==1||U==2&&(I<=D||D<=ie)){for(;L<I;F+="0",L++);F=v(F,D)}else if(I-=Y+(U===2&&D>Y),F=A(F,D,"0"),D+1>L){if(--I>0)for(F+=".";I--;F+="0");}else if(I+=D-L,I>0)for(D+1==L&&(F+=".");I--;F+="0");return O.s<0&&$?"-"+F:F}function Le(O,I){for(var P,U,$=1,D=new H(O[0]);$<O.length;$++)U=new H(O[$]),(!U.s||(P=p(D,U))===I||P===0&&D.s===I)&&(D=U);return D}function De(O,I,P){for(var U=1,$=I.length;!I[--$];I.pop());for($=I[0];$>=10;$/=10,U++);return(P=U+P*c-1)>le?O.c=O.e=null:P<oe?O.c=[O.e=0]:(O.e=P,O.c=I),O}C=(function(){var O=/^(-?)0([xbo])(?=\w[\w.]*$)/i,I=/^([^.]+)\.$/,P=/^\.([^.]+)$/,U=/^-?(Infinity|NaN)$/,$=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(D,Y,L,F){var q,Z=L?Y:Y.replace($,"");if(U.test(Z))D.s=isNaN(Z)?null:Z<0?-1:1;else{if(!L&&(Z=Z.replace(O,function(re,we,pe){return q=(pe=pe.toLowerCase())=="x"?16:pe=="b"?2:8,!F||F==q?we:re}),F&&(q=F,Z=Z.replace(I,"$1").replace(P,"0.$1")),Y!=Z))return new H(Z,q);if(H.DEBUG)throw Error(o+"Not a"+(F?" base "+F:"")+" number: "+Y);D.s=null}D.c=D.e=null}})();function Ke(O,I,P,U){var $,D,Y,L,F,q,Z,re=O.c,we=h;if(re){e:{for($=1,L=re[0];L>=10;L/=10,$++);if(D=I-$,D<0)D+=c,Y=I,F=re[q=0],Z=i(F/we[$-Y-1]%10);else if(q=s((D+1)/c),q>=re.length)if(U){for(;re.length<=q;re.push(0));F=Z=0,$=1,D%=c,Y=D-c+1}else break e;else{for(F=L=re[q],$=1;L>=10;L/=10,$++);D%=c,Y=D-c+$,Z=Y<0?0:i(F/we[$-Y-1]%10)}if(U=U||I<0||re[q+1]!=null||(Y<0?F:F%we[$-Y-1]),U=P<4?(Z||U)&&(P==0||P==(O.s<0?3:2)):Z>5||Z==5&&(P==4||U||P==6&&(D>0?Y>0?F/we[$-Y]:0:re[q-1])%10&1||P==(O.s<0?8:7)),I<1||!re[0])return re.length=0,U?(I-=O.e+1,re[0]=we[(c-I%c)%c],O.e=-I||0):re[0]=O.e=0,O;if(D==0?(re.length=q,L=1,q--):(re.length=q+1,L=we[c-D],re[q]=Y>0?i(F/we[$-Y]%we[Y])*L:0),U)for(;;)if(q==0){for(D=1,Y=re[0];Y>=10;Y/=10,D++);for(Y=re[0]+=L,L=1;Y>=10;Y/=10,L++);D!=L&&(O.e++,re[0]==l&&(re[0]=1));break}else{if(re[q]+=L,re[q]!=l)break;re[q--]=0,L=1}for(D=re.length;re[--D]===0;re.pop());}O.e>le?O.c=O.e=null:O.e<oe&&(O.c=[O.e=0])}return O}function We(O){var I,P=O.e;return P===null?O.toString():(I=_(O.c),I=P<=ie||P>=te?v(I,P):A(I,P,"0"),O.s<0?"-"+I:I)}return j.absoluteValue=j.abs=function(){var O=new H(this);return O.s<0&&(O.s=1),O},j.comparedTo=function(O,I){return p(this,new H(O,I))},j.decimalPlaces=j.dp=function(O,I){var P,U,$,D=this;if(O!=null)return k(O,0,g),I==null?I=V:k(I,0,8),Ke(new H(D),O+D.e+1,I);if(!(P=D.c))return null;if(U=(($=P.length-1)-m(this.e/c))*c,$=P[$])for(;$%10==0;$/=10,U--);return U<0&&(U=0),U},j.dividedBy=j.div=function(O,I){return y(this,new H(O,I),M,V)},j.dividedToIntegerBy=j.idiv=function(O,I){return y(this,new H(O,I),0,1)},j.exponentiatedBy=j.pow=function(O,I){var P,U,$,D,Y,L,F,q,Z,re=this;if(O=new H(O),O.c&&!O.isInteger())throw Error(o+"Exponent not an integer: "+We(O));if(I!=null&&(I=new H(I)),L=O.e>14,!re.c||!re.c[0]||re.c[0]==1&&!re.e&&re.c.length==1||!O.c||!O.c[0])return Z=new H(Math.pow(+We(re),L?O.s*(2-S(O)):+We(O))),I?Z.mod(I):Z;if(F=O.s<0,I){if(I.c?!I.c[0]:!I.s)return new H(NaN);U=!F&&re.isInteger()&&I.isInteger(),U&&(re=re.mod(I))}else{if(O.e>9&&(re.e>0||re.e<-1||(re.e==0?re.c[0]>1||L&&re.c[1]>=24e7:re.c[0]<8e13||L&&re.c[0]<=9999975e7)))return D=re.s<0&&S(O)?-0:0,re.e>-1&&(D=1/D),new H(F?1/D:D);ue&&(D=s(ue/c+2))}for(L?(P=new H(.5),F&&(O.s=1),q=S(O)):($=Math.abs(+We(O)),q=$%2),Z=new H(B);;){if(q){if(Z=Z.times(re),!Z.c)break;D?Z.c.length>D&&(Z.c.length=D):U&&(Z=Z.mod(I))}if($){if($=i($/2),$===0)break;q=$%2}else if(O=O.times(P),Ke(O,O.e+1,1),O.e>14)q=S(O);else{if($=+We(O),$===0)break;q=$%2}re=re.times(re),D?re.c&&re.c.length>D&&(re.c.length=D):U&&(re=re.mod(I))}return U?Z:(F&&(Z=B.div(Z)),I?Z.mod(I):D?Ke(Z,ue,V,Y):Z)},j.integerValue=function(O){var I=new H(this);return O==null?O=V:k(O,0,8),Ke(I,I.e+1,O)},j.isEqualTo=j.eq=function(O,I){return p(this,new H(O,I))===0},j.isFinite=function(){return!!this.c},j.isGreaterThan=j.gt=function(O,I){return p(this,new H(O,I))>0},j.isGreaterThanOrEqualTo=j.gte=function(O,I){return(I=p(this,new H(O,I)))===1||I===0},j.isInteger=function(){return!!this.c&&m(this.e/c)>this.c.length-2},j.isLessThan=j.lt=function(O,I){return p(this,new H(O,I))<0},j.isLessThanOrEqualTo=j.lte=function(O,I){return(I=p(this,new H(O,I)))===-1||I===0},j.isNaN=function(){return!this.s},j.isNegative=function(){return this.s<0},j.isPositive=function(){return this.s>0},j.isZero=function(){return!!this.c&&this.c[0]==0},j.minus=function(O,I){var P,U,$,D,Y=this,L=Y.s;if(O=new H(O,I),I=O.s,!L||!I)return new H(NaN);if(L!=I)return O.s=-I,Y.plus(O);var F=Y.e/c,q=O.e/c,Z=Y.c,re=O.c;if(!F||!q){if(!Z||!re)return Z?(O.s=-I,O):new H(re?Y:NaN);if(!Z[0]||!re[0])return re[0]?(O.s=-I,O):new H(Z[0]?Y:V==3?-0:0)}if(F=m(F),q=m(q),Z=Z.slice(),L=F-q){for((D=L<0)?(L=-L,$=Z):(q=F,$=re),$.reverse(),I=L;I--;$.push(0));$.reverse()}else for(U=(D=(L=Z.length)<(I=re.length))?L:I,L=I=0;I<U;I++)if(Z[I]!=re[I]){D=Z[I]<re[I];break}if(D&&($=Z,Z=re,re=$,O.s=-O.s),I=(U=re.length)-(P=Z.length),I>0)for(;I--;Z[P++]=0);for(I=l-1;U>L;){if(Z[--U]<re[U]){for(P=U;P&&!Z[--P];Z[P]=I);--Z[P],Z[U]+=l}Z[U]-=re[U]}for(;Z[0]==0;Z.splice(0,1),--q);return Z[0]?De(O,Z,q):(O.s=V==3?-1:1,O.c=[O.e=0],O)},j.modulo=j.mod=function(O,I){var P,U,$=this;return O=new H(O,I),!$.c||!O.s||O.c&&!O.c[0]?new H(NaN):!O.c||$.c&&!$.c[0]?new H($):(fe==9?(U=O.s,O.s=1,P=y($,O,0,3),O.s=U,P.s*=U):P=y($,O,0,fe),O=$.minus(P.times(O)),!O.c[0]&&fe==1&&(O.s=$.s),O)},j.multipliedBy=j.times=function(O,I){var P,U,$,D,Y,L,F,q,Z,re,we,pe,Re,Te,He,Me=this,$e=Me.c,T=(O=new H(O,I)).c;if(!$e||!T||!$e[0]||!T[0])return!Me.s||!O.s||$e&&!$e[0]&&!T||T&&!T[0]&&!$e?O.c=O.e=O.s=null:(O.s*=Me.s,!$e||!T?O.c=O.e=null:(O.c=[0],O.e=0)),O;for(U=m(Me.e/c)+m(O.e/c),O.s*=Me.s,F=$e.length,re=T.length,F<re&&(Re=$e,$e=T,T=Re,$=F,F=re,re=$),$=F+re,Re=[];$--;Re.push(0));for(Te=l,He=d,$=re;--$>=0;){for(P=0,we=T[$]%He,pe=T[$]/He|0,Y=F,D=$+Y;D>$;)q=$e[--Y]%He,Z=$e[Y]/He|0,L=pe*q+Z*we,q=we*q+L%He*He+Re[D]+P,P=(q/Te|0)+(L/He|0)+pe*Z,Re[D--]=q%Te;Re[D]=P}return P?++U:Re.splice(0,1),De(O,Re,U)},j.negated=function(){var O=new H(this);return O.s=-O.s||null,O},j.plus=function(O,I){var P,U=this,$=U.s;if(O=new H(O,I),I=O.s,!$||!I)return new H(NaN);if($!=I)return O.s=-I,U.minus(O);var D=U.e/c,Y=O.e/c,L=U.c,F=O.c;if(!D||!Y){if(!L||!F)return new H($/0);if(!L[0]||!F[0])return F[0]?O:new H(L[0]?U:$*0)}if(D=m(D),Y=m(Y),L=L.slice(),$=D-Y){for($>0?(Y=D,P=F):($=-$,P=L),P.reverse();$--;P.push(0));P.reverse()}for($=L.length,I=F.length,$-I<0&&(P=F,F=L,L=P,I=$),$=0;I;)$=(L[--I]=L[I]+F[I]+$)/l|0,L[I]=l===L[I]?0:L[I]%l;return $&&(L=[$].concat(L),++Y),De(O,L,Y)},j.precision=j.sd=function(O,I){var P,U,$,D=this;if(O!=null&&O!==!!O)return k(O,1,g),I==null?I=V:k(I,0,8),Ke(new H(D),O,I);if(!(P=D.c))return null;if($=P.length-1,U=$*c+1,$=P[$]){for(;$%10==0;$/=10,U--);for($=P[0];$>=10;$/=10,U++);}return O&&D.e+1>U&&(U=D.e+1),U},j.shiftedBy=function(O){return k(O,-f,f),this.times("1e"+O)},j.squareRoot=j.sqrt=function(){var O,I,P,U,$,D=this,Y=D.c,L=D.s,F=D.e,q=M+4,Z=new H("0.5");if(L!==1||!Y||!Y[0])return new H(!L||L<0&&(!Y||Y[0])?NaN:Y?D:1/0);if(L=Math.sqrt(+We(D)),L==0||L==1/0?(I=_(Y),(I.length+F)%2==0&&(I+="0"),L=Math.sqrt(+I),F=m((F+1)/2)-(F<0||F%2),L==1/0?I="5e"+F:(I=L.toExponential(),I=I.slice(0,I.indexOf("e")+1)+F),P=new H(I)):P=new H(L+""),P.c[0]){for(F=P.e,L=F+q,L<3&&(L=0);;)if($=P,P=Z.times($.plus(y(D,$,q,1))),_($.c).slice(0,L)===(I=_(P.c)).slice(0,L))if(P.e<F&&--L,I=I.slice(L-3,L+1),I=="9999"||!U&&I=="4999"){if(!U&&(Ke($,$.e+M+2,0),$.times($).eq(D))){P=$;break}q+=4,L+=4,U=1}else{(!+I||!+I.slice(1)&&I.charAt(0)=="5")&&(Ke(P,P.e+M+2,1),O=!P.times(P).eq(D));break}}return Ke(P,P.e+M+1,V,O)},j.toExponential=function(O,I){return O!=null&&(k(O,0,g),O++),Se(this,O,I,1)},j.toFixed=function(O,I){return O!=null&&(k(O,0,g),O=O+this.e+1),Se(this,O,I)},j.toFormat=function(O,I,P){var U,$=this;if(P==null)O!=null&&I&&typeof I=="object"?(P=I,I=null):O&&typeof O=="object"?(P=O,O=I=null):P=ke;else if(typeof P!="object")throw Error(o+"Argument not an object: "+P);if(U=$.toFixed(O,I),$.c){var D,Y=U.split("."),L=+P.groupSize,F=+P.secondaryGroupSize,q=P.groupSeparator||"",Z=Y[0],re=Y[1],we=$.s<0,pe=we?Z.slice(1):Z,Re=pe.length;if(F&&(D=L,L=F,F=D,Re-=D),L>0&&Re>0){for(D=Re%L||L,Z=pe.substr(0,D);D<Re;D+=L)Z+=q+pe.substr(D,L);F>0&&(Z+=q+pe.slice(D)),we&&(Z="-"+Z)}U=re?Z+(P.decimalSeparator||"")+((F=+P.fractionGroupSize)?re.replace(new RegExp("\\d{"+F+"}\\B","g"),"$&"+(P.fractionGroupSeparator||"")):re):Z}return(P.prefix||"")+U+(P.suffix||"")},j.toFraction=function(O){var I,P,U,$,D,Y,L,F,q,Z,re,we,pe=this,Re=pe.c;if(O!=null&&(L=new H(O),!L.isInteger()&&(L.c||L.s!==1)||L.lt(B)))throw Error(o+"Argument "+(L.isInteger()?"out of range: ":"not an integer: ")+We(L));if(!Re)return new H(pe);for(I=new H(B),q=P=new H(B),U=F=new H(B),we=_(Re),D=I.e=we.length-pe.e-1,I.c[0]=h[(Y=D%c)<0?c+Y:Y],O=!O||L.comparedTo(I)>0?D>0?I:q:L,Y=le,le=1/0,L=new H(we),F.c[0]=0;Z=y(L,I,0,1),$=P.plus(Z.times(U)),$.comparedTo(O)!=1;)P=U,U=$,q=F.plus(Z.times($=q)),F=$,I=L.minus(Z.times($=I)),L=$;return $=y(O.minus(P),U,0,1),F=F.plus($.times(q)),P=P.plus($.times(U)),F.s=q.s=pe.s,D=D*2,re=y(q,U,D,V).minus(pe).abs().comparedTo(y(F,P,D,V).minus(pe).abs())<1?[q,U]:[F,P],le=Y,re},j.toNumber=function(){return+We(this)},j.toPrecision=function(O,I){return O!=null&&k(O,1,g),Se(this,O,I,2)},j.toString=function(O){var I,P=this,U=P.s,$=P.e;return $===null?U?(I="Infinity",U<0&&(I="-"+I)):I="NaN":(O==null?I=$<=ie||$>=te?v(_(P.c),$):A(_(P.c),$,"0"):O===10&&_e?(P=Ke(new H(P),M+$+1,V),I=A(_(P.c),P.e,"0")):(k(O,2,Ae.length,"Base"),I=E(A(_(P.c),$,"0"),10,O,U,!0)),U<0&&P.c[0]&&(I="-"+I)),I},j.valueOf=j.toJSON=function(){return We(this)},j._isBigNumber=!0,N!=null&&H.set(N),H}function m(N){var y=N|0;return N>0||N===y?y:y-1}function _(N){for(var y,E,C=1,j=N.length,B=N[0]+"";C<j;){for(y=N[C++]+"",E=c-y.length;E--;y="0"+y);B+=y}for(j=B.length;B.charCodeAt(--j)===48;);return B.slice(0,j+1||1)}function p(N,y){var E,C,j=N.c,B=y.c,M=N.s,V=y.s,ie=N.e,te=y.e;if(!M||!V)return null;if(E=j&&!j[0],C=B&&!B[0],E||C)return E?C?0:-V:M;if(M!=V)return M;if(E=M<0,C=ie==te,!j||!B)return C?0:!j^E?1:-1;if(!C)return ie>te^E?1:-1;for(V=(ie=j.length)<(te=B.length)?ie:te,M=0;M<V;M++)if(j[M]!=B[M])return j[M]>B[M]^E?1:-1;return ie==te?0:ie>te^E?1:-1}function k(N,y,E,C){if(N<y||N>E||N!==i(N))throw Error(o+(C||"Argument")+(typeof N=="number"?N<y||N>E?" out of range: ":" not an integer: ":" not a primitive number: ")+String(N))}function S(N){var y=N.c.length-1;return m(N.e/c)==y&&N.c[y]%2!=0}function v(N,y){return(N.length>1?N.charAt(0)+"."+N.slice(1):N)+(y<0?"e":"e+")+y}function A(N,y,E){var C,j;if(y<0){for(j=E+".";++y;j+=E);N=j+N}else if(C=N.length,++y>C){for(j=E,y-=C;--y;j+=E);N+=j}else y<C&&(N=N.slice(0,y)+"."+N.slice(y));return N}n=b(),n.default=n.BigNumber=n,t.exports?t.exports=n:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=n)})(iw)})(wi)),wi.exports}var Ac;function ow(){return Ac||(Ac=1,(function(t){var e=Af(),n=t.exports;(function(){var r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s,i,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a;function l(f){return r.lastIndex=0,r.test(f)?'"'+f.replace(r,function(h){var d=o[h];return typeof d=="string"?d:"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function c(f,h){var d,g,b,m,_=s,p,k=h[f],S=k!=null&&(k instanceof e||e.isBigNumber(k));switch(k&&typeof k=="object"&&typeof k.toJSON=="function"&&(k=k.toJSON(f)),typeof a=="function"&&(k=a.call(h,f,k)),typeof k){case"string":return S?k:l(k);case"number":return isFinite(k)?String(k):"null";case"boolean":case"null":case"bigint":return String(k);case"object":if(!k)return"null";if(s+=i,p=[],Object.prototype.toString.apply(k)==="[object Array]"){for(m=k.length,d=0;d<m;d+=1)p[d]=c(d,k)||"null";return b=p.length===0?"[]":s?`[
`+s+p.join(`,
`+s)+`
`+_+"]":"["+p.join(",")+"]",s=_,b}if(a&&typeof a=="object")for(m=a.length,d=0;d<m;d+=1)typeof a[d]=="string"&&(g=a[d],b=c(g,k),b&&p.push(l(g)+(s?": ":":")+b));else Object.keys(k).forEach(function(v){var A=c(v,k);A&&p.push(l(v)+(s?": ":":")+A)});return b=p.length===0?"{}":s?`{
`+s+p.join(`,
`+s)+`
`+_+"}":"{"+p.join(",")+"}",s=_,b}}typeof n.stringify!="function"&&(n.stringify=function(f,h,d){var g;if(s="",i="",typeof d=="number")for(g=0;g<d;g+=1)i+=" ";else typeof d=="string"&&(i=d);if(a=h,h&&typeof h!="function"&&(typeof h!="object"||typeof h.length!="number"))throw new Error("JSON.stringify");return c("",{"":f})})})()})(vo)),vo.exports}var xo,Tc;function aw(){if(Tc)return xo;Tc=1;var t=null;const e=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,n=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var r=function(s){var i={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(s!=null){if(s.strict===!0&&(i.strict=!0),s.storeAsString===!0&&(i.storeAsString=!0),i.alwaysParseAsBig=s.alwaysParseAsBig===!0?s.alwaysParseAsBig:!1,i.useNativeBigInt=s.useNativeBigInt===!0?s.useNativeBigInt:!1,typeof s.constructorAction<"u")if(s.constructorAction==="error"||s.constructorAction==="ignore"||s.constructorAction==="preserve")i.constructorAction=s.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${s.constructorAction}`);if(typeof s.protoAction<"u")if(s.protoAction==="error"||s.protoAction==="ignore"||s.protoAction==="preserve")i.protoAction=s.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${s.protoAction}`)}var o,a,l={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},c,f=function(S){throw{name:"SyntaxError",message:S,at:o,text:c}},h=function(S){return S&&S!==a&&f("Expected '"+S+"' instead of '"+a+"'"),a=c.charAt(o),o+=1,a},d=function(){var S,v="";for(a==="-"&&(v="-",h("-"));a>="0"&&a<="9";)v+=a,h();if(a===".")for(v+=".";h()&&a>="0"&&a<="9";)v+=a;if(a==="e"||a==="E")for(v+=a,h(),(a==="-"||a==="+")&&(v+=a,h());a>="0"&&a<="9";)v+=a,h();if(S=+v,!isFinite(S))f("Bad number");else return t==null&&(t=Af()),v.length>15?i.storeAsString?v:i.useNativeBigInt?BigInt(v):new t(v):i.alwaysParseAsBig?i.useNativeBigInt?BigInt(S):new t(S):S},g=function(){var S,v,A="",N;if(a==='"')for(var y=o;h();){if(a==='"')return o-1>y&&(A+=c.substring(y,o-1)),h(),A;if(a==="\\"){if(o-1>y&&(A+=c.substring(y,o-1)),h(),a==="u"){for(N=0,v=0;v<4&&(S=parseInt(h(),16),!!isFinite(S));v+=1)N=N*16+S;A+=String.fromCharCode(N)}else if(typeof l[a]=="string")A+=l[a];else break;y=o}}f("Bad string")},b=function(){for(;a&&a<=" ";)h()},m=function(){switch(a){case"t":return h("t"),h("r"),h("u"),h("e"),!0;case"f":return h("f"),h("a"),h("l"),h("s"),h("e"),!1;case"n":return h("n"),h("u"),h("l"),h("l"),null}f("Unexpected '"+a+"'")},_,p=function(){var S=[];if(a==="["){if(h("["),b(),a==="]")return h("]"),S;for(;a;){if(S.push(_()),b(),a==="]")return h("]"),S;h(","),b()}}f("Bad array")},k=function(){var S,v=Object.create(null);if(a==="{"){if(h("{"),b(),a==="}")return h("}"),v;for(;a;){if(S=g(),b(),h(":"),i.strict===!0&&Object.hasOwnProperty.call(v,S)&&f('Duplicate key "'+S+'"'),e.test(S)===!0?i.protoAction==="error"?f("Object contains forbidden prototype property"):i.protoAction==="ignore"?_():v[S]=_():n.test(S)===!0?i.constructorAction==="error"?f("Object contains forbidden constructor property"):i.constructorAction==="ignore"?_():v[S]=_():v[S]=_(),b(),a==="}")return h("}"),v;h(","),b()}}f("Bad object")};return _=function(){switch(b(),a){case"{":return k();case"[":return p();case'"':return g();case"-":return d();default:return a>="0"&&a<="9"?d():m()}},function(S,v){var A;return c=S+"",o=0,a=" ",A=_(),b(),a&&f("Syntax error"),typeof v=="function"?(function N(y,E){var C,j=y[E];return j&&typeof j=="object"&&Object.keys(j).forEach(function(B){C=N(j,B),C!==void 0?j[B]=C:delete j[B]}),v.call(y,E,j)})({"":A},""):A}};return xo=r,xo}var Nc;function lw(){if(Nc)return ss.exports;Nc=1;var t=ow().stringify,e=aw();return ss.exports=function(n){return{parse:e(n),stringify:t}},ss.exports.parse=e(),ss.exports.stringify=t,ss.exports}var Oc;function cw(){if(Oc)return Us;Oc=1,Object.defineProperty(Us,"__esModule",{value:!0});const t=_f(),e=Pt(),n=sw(),r=za(),s=lw();class i{constructor(a){if(!a.isRoot())throw new e.default("Must be a root tag");this.rootTag=a}static parseJSON(a){return new i(t.Tag.fromJSON({"":a},!0))}static parseSNBT(a){return new i(new t.Tag("",r.default.fromSNBTValue(a),!0))}static parseNBT(a,l,c){if(!c)if(a[0]===31&&a[1]===139)c="gzip";else if(a[0]<=12)c="none";else throw new e.default("Unknown compression type");return c==="gzip"&&(a=(0,n.inflate)(a)),new i(t.Tag.fromUint8Array(a,l,!0))}toJSON(){return this.rootTag.toJSON()}toJSONString(){return s.stringify(this.toJSON())}toSNBT(a){return this.rootTag.toSNBT(a)}toNBT(a="none",l){return a==="gzip"?(0,n.gzip)(this.rootTag.toUint8Array(l)):this.rootTag.toUint8Array(l)}getRootTag(){return this.rootTag}setRootTag(a){if(!a.isRoot())throw new e.default("Must be a root tag");this.rootTag=a}}return Us.default=i,Us}var uw=cw();const fw=lu(uw),Tf=Kn({transform:Qe().optional(),posX:Ye(),posY:Ye(),posZ:Ye(),rotX:Ye(),rotY:Ye(),rotZ:Ye(),sizeX:Ye().optional(),sizeY:Ye().optional(),sizeZ:Ye().optional(),anchor:Qe().optional()}),hw=Kn({enabled:dr()}),Nf=hf([Kn({"==":Vl("org.bukkit.inventory.ItemStack"),DataVersion:Ye(),id:Qe(),count:Ye(),components:Hn(Qe(),Qe()).transform(t=>{const e={};for(const[n,r]of Object.entries(t))try{e[n]=fw.parseSNBT(r).toJSON()}catch{e[n]=r}return e}).optional(),schema_version:Ye()}),Kn({"==":Vl("org.bukkit.inventory.ItemStack"),DataVersion:Ye(),id:Qe(),count:Ye(),components:Hn(Qe(),Ci()).optional(),schema_version:Ye()})]),Of=Ub(()=>ur({type:Qe(),item:Nf.optional(),position:Tf,attachments:Hn(Qe(),Of).optional(),displayItem:hw.optional(),shulkerColor:Qe().optional(),schematic:Qe().optional(),displayMode:Qe().optional(),firstPersonViewMode:Qe().optional(),firstPersonViewLockMode:Qe().optional(),lockRotation:dr().optional(),names:Br(Qe()).optional(),text:Qe().optional(),animations:Hn(Qe(),Kn({nodes:Br(Qe()),looped:dr().optional(),speed:Ye().optional()})).optional(),brightness:ur({block:Ye(),sky:Ye()}).optional()})),dw=Kn({type:Qe(),entityType:Qe(),attachments:Hn(Qe(),Of),position:Tf.optional(),item:Nf.optional(),shulkerColor:Qe().optional(),editor:ur({selectedIndex:Ye().optional(),animNodeSelectedOption:Ye().optional(),scrollOffset:Ye().optional(),expanded:dr().optional()}).passthrough().optional(),animations:Hn(Qe(),ur({nodes:Br(Qe()),looped:dr().optional(),speed:Ye().optional()}).passthrough()).optional(),physical:ur({cartLength:Ye().optional(),wheelCenter:Ye().optional(),wheelDistance:Ye().optional(),cartCouplerLength:Ye().optional()}).passthrough().optional()}),If=Kn({model:dw.optional(),entityType:Qe(),flipped:dr().optional()}),pw=Kn({savedName:Qe(),name:Qe().optional(),carts:Hn(Qe(),If).optional(),claims:Br(Qe()).optional(),spawnPattern:Qe().optional(),flipped:dr().optional(),spawnLimit:Ye().optional(),usedModels:Br(Qe()).optional()}),Cf=Hn(Qe(),pw);function gw(t){const e=Cf.safeParse(t);return e.success?{valid:!0}:{valid:!1,errors:e.error.issues.map(n=>`${n.path.join(".")}: ${n.message}`)}}class mw{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,n){this.keyToValue.set(e,n),this.valueToKey.set(n,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class Rf{constructor(e){this.generateIdentifier=e,this.kv=new mw}register(e,n){this.kv.getByValue(e)||(n||(n=this.generateIdentifier(e)),this.kv.set(n,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}}class yw extends Rf{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,n){typeof n=="object"?(n.allowProps&&this.classToAllowedProps.set(e,n.allowProps),super.register(e,n.identifier)):super.register(e,n)}getAllowedProps(e){return this.classToAllowedProps.get(e)}}function bw(t){if("values"in Object)return Object.values(t);const e=[];for(const n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}function ww(t,e){const n=bw(t);if("find"in n)return n.find(e);const r=n;for(let s=0;s<r.length;s++){const i=r[s];if(e(i))return i}}function Dr(t,e){Object.entries(t).forEach(([n,r])=>e(r,n))}function _i(t,e){return t.indexOf(e)!==-1}function Ic(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(e(r))return r}}class _w{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return ww(this.transfomers,n=>n.isApplicable(e))}findByName(e){return this.transfomers[e]}}const vw=t=>Object.prototype.toString.call(t).slice(8,-1),jf=t=>typeof t>"u",xw=t=>t===null,ms=t=>typeof t!="object"||t===null||t===Object.prototype?!1:Object.getPrototypeOf(t)===null?!0:Object.getPrototypeOf(t)===Object.prototype,ta=t=>ms(t)&&Object.keys(t).length===0,Yn=t=>Array.isArray(t),Ew=t=>typeof t=="string",Sw=t=>typeof t=="number"&&!isNaN(t),kw=t=>typeof t=="boolean",Aw=t=>t instanceof RegExp,ys=t=>t instanceof Map,bs=t=>t instanceof Set,Pf=t=>vw(t)==="Symbol",Tw=t=>t instanceof Date&&!isNaN(t.valueOf()),Nw=t=>t instanceof Error,Cc=t=>typeof t=="number"&&isNaN(t),Ow=t=>kw(t)||xw(t)||jf(t)||Sw(t)||Ew(t)||Pf(t),Iw=t=>typeof t=="bigint",Cw=t=>t===1/0||t===-1/0,Rw=t=>ArrayBuffer.isView(t)&&!(t instanceof DataView),jw=t=>t instanceof URL,Mf=t=>t.replace(/\./g,"\\."),Eo=t=>t.map(String).map(Mf).join("."),ls=t=>{const e=[];let n="";for(let s=0;s<t.length;s++){let i=t.charAt(s);if(i==="\\"&&t.charAt(s+1)==="."){n+=".",s++;continue}if(i==="."){e.push(n),n="";continue}n+=i}const r=n;return e.push(r),e};function on(t,e,n,r){return{isApplicable:t,annotation:e,transform:n,untransform:r}}const zf=[on(jf,"undefined",()=>null,()=>{}),on(Iw,"bigint",t=>t.toString(),t=>typeof BigInt<"u"?BigInt(t):(console.error("Please add a BigInt polyfill."),t)),on(Tw,"Date",t=>t.toISOString(),t=>new Date(t)),on(Nw,"Error",(t,e)=>{const n={name:t.name,message:t.message};return e.allowedErrorProps.forEach(r=>{n[r]=t[r]}),n},(t,e)=>{const n=new Error(t.message);return n.name=t.name,n.stack=t.stack,e.allowedErrorProps.forEach(r=>{n[r]=t[r]}),n}),on(Aw,"regexp",t=>""+t,t=>{const e=t.slice(1,t.lastIndexOf("/")),n=t.slice(t.lastIndexOf("/")+1);return new RegExp(e,n)}),on(bs,"set",t=>[...t.values()],t=>new Set(t)),on(ys,"map",t=>[...t.entries()],t=>new Map(t)),on(t=>Cc(t)||Cw(t),"number",t=>Cc(t)?"NaN":t>0?"Infinity":"-Infinity",Number),on(t=>t===0&&1/t===-1/0,"number",()=>"-0",Number),on(jw,"URL",t=>t.toString(),t=>new URL(t))];function Zi(t,e,n,r){return{isApplicable:t,annotation:e,transform:n,untransform:r}}const Lf=Zi((t,e)=>Pf(t)?!!e.symbolRegistry.getIdentifier(t):!1,(t,e)=>["symbol",e.symbolRegistry.getIdentifier(t)],t=>t.description,(t,e,n)=>{const r=n.symbolRegistry.getValue(e[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r}),Pw=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((t,e)=>(t[e.name]=e,t),{}),$f=Zi(Rw,t=>["typed-array",t.constructor.name],t=>[...t],(t,e)=>{const n=Pw[e[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(t)});function Bf(t,e){return t?.constructor?!!e.classRegistry.getIdentifier(t.constructor):!1}const Df=Zi(Bf,(t,e)=>["class",e.classRegistry.getIdentifier(t.constructor)],(t,e)=>{const n=e.classRegistry.getAllowedProps(t.constructor);if(!n)return{...t};const r={};return n.forEach(s=>{r[s]=t[s]}),r},(t,e,n)=>{const r=n.classRegistry.getValue(e[1]);if(!r)throw new Error(`Trying to deserialize unknown class '${e[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(r.prototype),t)}),Ff=Zi((t,e)=>!!e.customTransformerRegistry.findApplicable(t),(t,e)=>["custom",e.customTransformerRegistry.findApplicable(t).name],(t,e)=>e.customTransformerRegistry.findApplicable(t).serialize(t),(t,e,n)=>{const r=n.customTransformerRegistry.findByName(e[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(t)}),Mw=[Df,Lf,Ff,$f],Rc=(t,e)=>{const n=Ic(Mw,s=>s.isApplicable(t,e));if(n)return{value:n.transform(t,e),type:n.annotation(t,e)};const r=Ic(zf,s=>s.isApplicable(t,e));if(r)return{value:r.transform(t,e),type:r.annotation}},Uf={};zf.forEach(t=>{Uf[t.annotation]=t});const zw=(t,e,n)=>{if(Yn(e))switch(e[0]){case"symbol":return Lf.untransform(t,e,n);case"class":return Df.untransform(t,e,n);case"custom":return Ff.untransform(t,e,n);case"typed-array":return $f.untransform(t,e,n);default:throw new Error("Unknown transformation: "+e)}else{const r=Uf[e];if(!r)throw new Error("Unknown transformation: "+e);return r.untransform(t,n)}},Ar=(t,e)=>{if(e>t.size)throw new Error("index out of bounds");const n=t.keys();for(;e>0;)n.next(),e--;return n.next().value};function Vf(t){if(_i(t,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(_i(t,"prototype"))throw new Error("prototype is not allowed as a property");if(_i(t,"constructor"))throw new Error("constructor is not allowed as a property")}const Lw=(t,e)=>{Vf(e);for(let n=0;n<e.length;n++){const r=e[n];if(bs(t))t=Ar(t,+r);else if(ys(t)){const s=+r,i=+e[++n]==0?"key":"value",o=Ar(t,s);switch(i){case"key":t=o;break;case"value":t=t.get(o);break}}else t=t[r]}return t},na=(t,e,n)=>{if(Vf(e),e.length===0)return n(t);let r=t;for(let i=0;i<e.length-1;i++){const o=e[i];if(Yn(r)){const a=+o;r=r[a]}else if(ms(r))r=r[o];else if(bs(r)){const a=+o;r=Ar(r,a)}else if(ys(r)){if(i===e.length-2)break;const l=+o,c=+e[++i]==0?"key":"value",f=Ar(r,l);switch(c){case"key":r=f;break;case"value":r=r.get(f);break}}}const s=e[e.length-1];if(Yn(r)?r[+s]=n(r[+s]):ms(r)&&(r[s]=n(r[s])),bs(r)){const i=Ar(r,+s),o=n(i);i!==o&&(r.delete(i),r.add(o))}if(ys(r)){const i=+e[e.length-2],o=Ar(r,i);switch(+s==0?"key":"value"){case"key":{const l=n(o);r.set(l,r.get(o)),l!==o&&r.delete(o);break}case"value":{r.set(o,n(r.get(o)));break}}}return t};function ra(t,e,n=[]){if(!t)return;if(!Yn(t)){Dr(t,(i,o)=>ra(i,e,[...n,...ls(o)]));return}const[r,s]=t;s&&Dr(s,(i,o)=>{ra(i,e,[...n,...ls(o)])}),e(r,n)}function $w(t,e,n){return ra(e,(r,s)=>{t=na(t,s,i=>zw(i,r,n))}),t}function Bw(t,e){function n(r,s){const i=Lw(t,ls(s));r.map(ls).forEach(o=>{t=na(t,o,()=>i)})}if(Yn(e)){const[r,s]=e;r.forEach(i=>{t=na(t,ls(i),()=>t)}),s&&Dr(s,n)}else Dr(e,n);return t}const Dw=(t,e)=>ms(t)||Yn(t)||ys(t)||bs(t)||Bf(t,e);function Fw(t,e,n){const r=n.get(t);r?r.push(e):n.set(t,[e])}function Uw(t,e){const n={};let r;return t.forEach(s=>{if(s.length<=1)return;e||(s=s.map(a=>a.map(String)).sort((a,l)=>a.length-l.length));const[i,...o]=s;i.length===0?r=o.map(Eo):n[Eo(i)]=o.map(Eo)}),r?ta(n)?[r]:[r,n]:ta(n)?void 0:n}const Zf=(t,e,n,r,s=[],i=[],o=new Map)=>{const a=Ow(t);if(!a){Fw(t,s,e);const g=o.get(t);if(g)return r?{transformedValue:null}:g}if(!Dw(t,n)){const g=Rc(t,n),b=g?{transformedValue:g.value,annotations:[g.type]}:{transformedValue:t};return a||o.set(t,b),b}if(_i(i,t))return{transformedValue:null};const l=Rc(t,n),c=l?.value??t,f=Yn(c)?[]:{},h={};Dr(c,(g,b)=>{if(b==="__proto__"||b==="constructor"||b==="prototype")throw new Error(`Detected property ${b}. This is a prototype pollution risk, please remove it from your object.`);const m=Zf(g,e,n,r,[...s,b],[...i,t],o);f[b]=m.transformedValue,Yn(m.annotations)?h[b]=m.annotations:ms(m.annotations)&&Dr(m.annotations,(_,p)=>{h[Mf(b)+"."+p]=_})});const d=ta(h)?{transformedValue:f,annotations:l?[l.type]:void 0}:{transformedValue:f,annotations:l?[l.type,h]:h};return a||o.set(t,d),d};function qf(t){return Object.prototype.toString.call(t).slice(8,-1)}function jc(t){return qf(t)==="Array"}function Vw(t){if(qf(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return!!e&&e.constructor===Object&&e===Object.prototype}function Zw(t,e,n,r,s){const i={}.propertyIsEnumerable.call(r,e)?"enumerable":"nonenumerable";i==="enumerable"&&(t[e]=n),s&&i==="nonenumerable"&&Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!0,configurable:!0})}function sa(t,e={}){if(jc(t))return t.map(s=>sa(s,e));if(!Vw(t))return t;const n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertySymbols(t);return[...n,...r].reduce((s,i)=>{if(jc(e.props)&&!e.props.includes(i))return s;const o=t[i],a=sa(o,e);return Zw(s,i,a,t,e.nonenumerable),s},{})}class Ge{constructor({dedupe:e=!1}={}){this.classRegistry=new yw,this.symbolRegistry=new Rf(n=>n.description??""),this.customTransformerRegistry=new _w,this.allowedErrorProps=[],this.dedupe=e}serialize(e){const n=new Map,r=Zf(e,n,this,this.dedupe),s={json:r.transformedValue};r.annotations&&(s.meta={...s.meta,values:r.annotations});const i=Uw(n,this.dedupe);return i&&(s.meta={...s.meta,referentialEqualities:i}),s}deserialize(e){const{json:n,meta:r}=e;let s=sa(n);return r?.values&&(s=$w(s,r.values,this)),r?.referentialEqualities&&(s=Bw(s,r.referentialEqualities)),s}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,n){this.classRegistry.register(e,n)}registerSymbol(e,n){this.symbolRegistry.register(e,n)}registerCustom(e,n){this.customTransformerRegistry.register({name:n,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}}Ge.defaultInstance=new Ge;Ge.serialize=Ge.defaultInstance.serialize.bind(Ge.defaultInstance);Ge.deserialize=Ge.defaultInstance.deserialize.bind(Ge.defaultInstance);Ge.stringify=Ge.defaultInstance.stringify.bind(Ge.defaultInstance);Ge.parse=Ge.defaultInstance.parse.bind(Ge.defaultInstance);Ge.registerClass=Ge.defaultInstance.registerClass.bind(Ge.defaultInstance);Ge.registerSymbol=Ge.defaultInstance.registerSymbol.bind(Ge.defaultInstance);Ge.registerCustom=Ge.defaultInstance.registerCustom.bind(Ge.defaultInstance);Ge.allowErrorProps=Ge.defaultInstance.allowErrorProps.bind(Ge.defaultInstance);Ge.serialize;Ge.deserialize;Ge.stringify;Ge.parse;Ge.registerClass;Ge.registerCustom;Ge.registerSymbol;Ge.allowErrorProps;class Gf{constructor(){this._listeners={}}addEventListener(e,n){const r=this._listeners;return r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n),this}removeEventListener(e,n){const s=this._listeners[e];if(s!==void 0){const i=s.indexOf(n);i!==-1&&s.splice(i,1)}return this}dispatchEvent(e){const r=this._listeners[e.type];if(r!==void 0){const s=r.slice(0);for(let i=0,o=s.length;i<o;i++)s[i].call(this,e)}return this}dispose(){for(const e in this._listeners)delete this._listeners[e]}}class Tr{constructor(e,n,r,s={}){if(this._name=void 0,this._parent=void 0,this._child=void 0,this._attributes=void 0,this._disposed=!1,this._name=e,this._parent=n,this._child=r,this._attributes=s,!n.isOnGraph(r))throw new Error("Cannot connect disconnected graphs.")}getName(){return this._name}getParent(){return this._parent}getChild(){return this._child}setChild(e){return this._child=e,this}getAttributes(){return this._attributes}dispose(){this._disposed||(this._parent._destroyRef(this),this._disposed=!0)}isDisposed(){return this._disposed}}class qw extends Gf{constructor(...e){super(...e),this._emptySet=new Set,this._edges=new Set,this._parentEdges=new Map,this._childEdges=new Map}listEdges(){return Array.from(this._edges)}listParentEdges(e){return Array.from(this._childEdges.get(e)||this._emptySet)}listParents(e){const n=new Set;for(const r of this.listParentEdges(e))n.add(r.getParent());return Array.from(n)}listChildEdges(e){return Array.from(this._parentEdges.get(e)||this._emptySet)}listChildren(e){const n=new Set;for(const r of this.listChildEdges(e))n.add(r.getChild());return Array.from(n)}disconnectParents(e,n){for(const r of this.listParentEdges(e))(!n||n(r.getParent()))&&r.dispose();return this}_createEdge(e,n,r,s){const i=new Tr(e,n,r,s);this._edges.add(i);const o=i.getParent();this._parentEdges.has(o)||this._parentEdges.set(o,new Set),this._parentEdges.get(o).add(i);const a=i.getChild();return this._childEdges.has(a)||this._childEdges.set(a,new Set),this._childEdges.get(a).add(i),i}_destroyEdge(e){return this._edges.delete(e),this._parentEdges.get(e.getParent()).delete(e),this._childEdges.get(e.getChild()).delete(e),this}}function cs(){return cs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cs.apply(this,arguments)}class Dn{constructor(e){if(this.list=[],e)for(const n of e)this.list.push(n)}add(e){this.list.push(e)}remove(e){const n=this.list.indexOf(e);n>=0&&this.list.splice(n,1)}removeChild(e){const n=[];for(const r of this.list)r.getChild()===e&&n.push(r);for(const r of n)this.remove(r);return n}listRefsByChild(e){const n=[];for(const r of this.list)r.getChild()===e&&n.push(r);return n}values(){return this.list}}class ut{constructor(e){if(this.set=new Set,this.map=new Map,e)for(const n of e)this.add(n)}add(e){const n=e.getChild();this.removeChild(n),this.set.add(e),this.map.set(n,e)}remove(e){this.set.delete(e),this.map.delete(e.getChild())}removeChild(e){const n=this.map.get(e)||null;return n&&this.remove(n),n}getRefByChild(e){return this.map.get(e)||null}values(){return Array.from(this.set)}}class un{constructor(e){this.map={},e&&Object.assign(this.map,e)}set(e,n){this.map[e]=n}delete(e){delete this.map[e]}get(e){return this.map[e]||null}keys(){return Object.keys(this.map)}values(){return Object.values(this.map)}}const tt=Symbol("attributes"),sr=Symbol("immutableKeys");class $a extends Gf{constructor(e){super(),this._disposed=!1,this.graph=void 0,this[tt]=void 0,this[sr]=void 0,this.graph=e,this[sr]=new Set,this[tt]=this._createAttributes()}getDefaults(){return{}}_createAttributes(){const e=this.getDefaults(),n={};for(const r in e){const s=e[r];if(s instanceof $a){const i=this.graph._createEdge(r,this,s);this[sr].add(r),n[r]=i}else n[r]=s}return n}isOnGraph(e){return this.graph===e.graph}isDisposed(){return this._disposed}dispose(){this._disposed||(this.graph.listChildEdges(this).forEach(e=>e.dispose()),this.graph.disconnectParents(this),this._disposed=!0,this.dispatchEvent({type:"dispose"}))}detach(){return this.graph.disconnectParents(this),this}swap(e,n){for(const r in this[tt]){const s=this[tt][r];if(s instanceof Tr){const i=s;i.getChild()===e&&this.setRef(r,n,i.getAttributes())}else if(s instanceof Dn)for(const i of s.listRefsByChild(e)){const o=i.getAttributes();this.removeRef(r,e),this.addRef(r,n,o)}else if(s instanceof ut){const i=s.getRefByChild(e);if(i){const o=i.getAttributes();this.removeRef(r,e),this.addRef(r,n,o)}}else if(s instanceof un)for(const i of s.keys()){const o=s.get(i);o.getChild()===e&&this.setRefMap(r,i,n,o.getAttributes())}}return this}get(e){return this[tt][e]}set(e,n){return this[tt][e]=n,this.dispatchEvent({type:"change",attribute:e})}getRef(e){const n=this[tt][e];return n?n.getChild():null}setRef(e,n,r){if(this[sr].has(e))throw new Error(`Cannot overwrite immutable attribute, "${e}".`);const s=this[tt][e];if(s&&s.dispose(),!n)return this;const i=this.graph._createEdge(e,this,n,r);return this[tt][e]=i,this.dispatchEvent({type:"change",attribute:e})}listRefs(e){return this.assertRefList(e).values().map(r=>r.getChild())}addRef(e,n,r){const s=this.graph._createEdge(e,this,n,r);return this.assertRefList(e).add(s),this.dispatchEvent({type:"change",attribute:e})}removeRef(e,n){const r=this.assertRefList(e);if(r instanceof Dn)for(const s of r.listRefsByChild(n))s.dispose();else{const s=r.getRefByChild(n);s&&s.dispose()}return this}assertRefList(e){const n=this[tt][e];if(n instanceof Dn||n instanceof ut)return n;throw new Error(`Expected RefList or RefSet for attribute "${e}"`)}listRefMapKeys(e){return this.assertRefMap(e).keys()}listRefMapValues(e){return this.assertRefMap(e).values().map(n=>n.getChild())}getRefMap(e,n){const s=this.assertRefMap(e).get(n);return s?s.getChild():null}setRefMap(e,n,r,s){const i=this.assertRefMap(e),o=i.get(n);if(o&&o.dispose(),!r)return this;s=Object.assign(s||{},{key:n});const a=this.graph._createEdge(e,this,r,cs({},s,{key:n}));return i.set(n,a),this.dispatchEvent({type:"change",attribute:e,key:n})}assertRefMap(e){const n=this[tt][e];if(n instanceof un)return n;throw new Error(`Expected RefMap for attribute "${e}"`)}dispatchEvent(e){return super.dispatchEvent(cs({},e,{target:this})),this.graph.dispatchEvent(cs({},e,{target:this,type:`node:${e.type}`})),this}_destroyRef(e){const n=e.getName();if(this[tt][n]===e)this[tt][n]=null,this[sr].has(n)&&e.getChild().dispose();else if(this[tt][n]instanceof Dn)this[tt][n].remove(e);else if(this[tt][n]instanceof ut)this[tt][n].remove(e);else if(this[tt][n]instanceof un){const r=this[tt][n];for(const s of r.keys())r.get(s)===e&&r.delete(s)}else return;this.graph._destroyEdge(e),this.dispatchEvent({type:"change",attribute:n})}}const Kf="v4.2.1",Ri="@glb.bin";var je;(function(t){t.ACCESSOR="Accessor",t.ANIMATION="Animation",t.ANIMATION_CHANNEL="AnimationChannel",t.ANIMATION_SAMPLER="AnimationSampler",t.BUFFER="Buffer",t.CAMERA="Camera",t.MATERIAL="Material",t.MESH="Mesh",t.PRIMITIVE="Primitive",t.PRIMITIVE_TARGET="PrimitiveTarget",t.NODE="Node",t.ROOT="Root",t.SCENE="Scene",t.SKIN="Skin",t.TEXTURE="Texture",t.TEXTURE_INFO="TextureInfo"})(je||(je={}));var ji;(function(t){t.INTERLEAVED="interleaved",t.SEPARATE="separate"})(ji||(ji={}));var Dt;(function(t){t.ARRAY_BUFFER="ARRAY_BUFFER",t.ELEMENT_ARRAY_BUFFER="ELEMENT_ARRAY_BUFFER",t.INVERSE_BIND_MATRICES="INVERSE_BIND_MATRICES",t.OTHER="OTHER",t.SPARSE="SPARSE"})(Dt||(Dt={}));var ia;(function(t){t[t.R=4096]="R",t[t.G=256]="G",t[t.B=16]="B",t[t.A=1]="A"})(ia||(ia={}));var Un;(function(t){t.GLTF="GLTF",t.GLB="GLB"})(Un||(Un={}));const qi={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};class et{static createBufferFromDataURI(e){if(typeof Buffer>"u"){const n=atob(e.split(",")[1]),r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}else{const n=e.split(",")[1],r=e.indexOf("base64")>=0;return Buffer.from(n,r?"base64":"utf8")}}static encodeText(e){return new TextEncoder().encode(e)}static decodeText(e){return new TextDecoder().decode(e)}static concat(e){let n=0;for(const i of e)n+=i.byteLength;const r=new Uint8Array(n);let s=0;for(const i of e)r.set(i,s),s+=i.byteLength;return r}static pad(e,n=0){const r=this.padNumber(e.byteLength);if(r===e.byteLength)return e;const s=new Uint8Array(r);if(s.set(e),n!==0)for(let i=e.byteLength;i<r;i++)s[i]=n;return s}static padNumber(e){return Math.ceil(e/4)*4}static equals(e,n){if(e===n)return!0;if(e.byteLength!==n.byteLength)return!1;let r=e.byteLength;for(;r--;)if(e[r]!==n[r])return!1;return!0}static toView(e,n=0,r=1/0){return new Uint8Array(e.buffer,e.byteOffset+n,Math.min(e.byteLength,r))}static assertView(e){if(e&&!ArrayBuffer.isView(e))throw new Error(`Method requires Uint8Array parameter; received "${typeof e}".`);return e}}class Gw{match(e){return e.length>=3&&e[0]===255&&e[1]===216&&e[2]===255}getSize(e){let n=new DataView(e.buffer,e.byteOffset+4),r,s;for(;n.byteLength;){if(r=n.getUint16(0,!1),Kw(n,r),s=n.getUint8(r+1),s===192||s===193||s===194)return[n.getUint16(r+7,!1),n.getUint16(r+5,!1)];n=new DataView(e.buffer,n.byteOffset+r+2)}throw new TypeError("Invalid JPG, no size found")}getChannels(e){return 3}}class Gi{match(e){return e.length>=8&&e[0]===137&&e[1]===80&&e[2]===78&&e[3]===71&&e[4]===13&&e[5]===10&&e[6]===26&&e[7]===10}getSize(e){const n=new DataView(e.buffer,e.byteOffset);return et.decodeText(e.slice(12,16))===Gi.PNG_FRIED_CHUNK_NAME?[n.getUint32(32,!1),n.getUint32(36,!1)]:[n.getUint32(16,!1),n.getUint32(20,!1)]}getChannels(e){return 4}}Gi.PNG_FRIED_CHUNK_NAME="CgBI";class fr{static registerFormat(e,n){this.impls[e]=n}static getMimeType(e){for(const n in this.impls)if(this.impls[n].match(e))return n;return null}static getSize(e,n){return this.impls[n]?this.impls[n].getSize(e):null}static getChannels(e,n){return this.impls[n]?this.impls[n].getChannels(e):null}static getVRAMByteLength(e,n){if(!this.impls[n])return null;if(this.impls[n].getVRAMByteLength)return this.impls[n].getVRAMByteLength(e);let r=0;const s=4,i=this.getSize(e,n);if(!i)return null;for(;i[0]>1||i[1]>1;)r+=i[0]*i[1]*s,i[0]=Math.max(Math.floor(i[0]/2),1),i[1]=Math.max(Math.floor(i[1]/2),1);return r+=1*s,r}static mimeTypeToExtension(e){return e==="image/jpeg"?"jpg":e.split("/").pop()}static extensionToMimeType(e){return e==="jpg"?"image/jpeg":e?`image/${e}`:""}}fr.impls={"image/jpeg":new Gw,"image/png":new Gi};function Kw(t,e){if(e>t.byteLength)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(t.getUint8(e)!==255)throw new TypeError("Invalid JPG, marker table corrupted");return t}class Fr{static basename(e){const n=e.split(/[\\/]/).pop();return n.substring(0,n.lastIndexOf("."))}static extension(e){if(e.startsWith("data:image/")){const n=e.match(/data:(image\/\w+)/)[1];return fr.mimeTypeToExtension(n)}else{if(e.startsWith("data:model/gltf+json"))return"gltf";if(e.startsWith("data:model/gltf-binary"))return"glb";if(e.startsWith("data:application/"))return"bin"}return e.split(/[\\/]/).pop().split(/[.]/).pop()}}var oa=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Hw(){var t=new oa(3);return oa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function So(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}(function(){var t=Hw();return function(e,n,r,s,i,o){var a,l;for(n||(n=3),r||(r=0),s?l=Math.min(s*n+r,e.length):l=e.length,a=r;a<l;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],i(t,t,o),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}})();const Pc="https://null.example";class us{static dirname(e){const n=e.lastIndexOf("/");return n===-1?"./":e.substring(0,n+1)}static basename(e){return Fr.basename(new URL(e,Pc).pathname)}static extension(e){return Fr.extension(new URL(e,Pc).pathname)}static resolve(e,n){if(!this.isRelativePath(n))return n;const r=e.split("/"),s=n.split("/");r.pop();for(let i=0;i<s.length;i++)s[i]!=="."&&(s[i]===".."?r.pop():r.push(s[i]));return r.join("/")}static isAbsoluteURL(e){return this.PROTOCOL_REGEXP.test(e)}static isRelativePath(e){return!/^(?:[a-zA-Z]+:)?\//.test(e)}}us.DEFAULT_INIT={};us.PROTOCOL_REGEXP=/^[a-zA-Z]+:\/\//;function Mc(t){return Object.prototype.toString.call(t)==="[object Object]"}function ar(t){if(Mc(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(Mc(n)===!1||Object.hasOwn(n,"isPrototypeOf")===!1)}var aa,la;(function(t){t[t.SILENT=4]="SILENT",t[t.ERROR=3]="ERROR",t[t.WARN=2]="WARN",t[t.INFO=1]="INFO",t[t.DEBUG=0]="DEBUG"})(la||(la={}));class qt{constructor(e){this.verbosity=void 0,this.verbosity=e}debug(e){this.verbosity<=qt.Verbosity.DEBUG&&console.debug(e)}info(e){this.verbosity<=qt.Verbosity.INFO&&console.info(e)}warn(e){this.verbosity<=qt.Verbosity.WARN&&console.warn(e)}error(e){this.verbosity<=qt.Verbosity.ERROR&&console.error(e)}}aa=qt;qt.Verbosity=la;qt.DEFAULT_INSTANCE=new aa(aa.Verbosity.INFO);function Yw(t){var e=t[0],n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6],l=t[7],c=t[8],f=t[9],h=t[10],d=t[11],g=t[12],b=t[13],m=t[14],_=t[15],p=e*o-n*i,k=e*a-r*i,S=e*l-s*i,v=n*a-r*o,A=n*l-s*o,N=r*l-s*a,y=c*b-f*g,E=c*m-h*g,C=c*_-d*g,j=f*m-h*b,B=f*_-d*b,M=h*_-d*m;return p*M-k*B+S*j+v*C-A*E+N*y}function Ww(t,e,n){var r=e[0],s=e[1],i=e[2],o=e[3],a=e[4],l=e[5],c=e[6],f=e[7],h=e[8],d=e[9],g=e[10],b=e[11],m=e[12],_=e[13],p=e[14],k=e[15],S=n[0],v=n[1],A=n[2],N=n[3];return t[0]=S*r+v*a+A*h+N*m,t[1]=S*s+v*l+A*d+N*_,t[2]=S*i+v*c+A*g+N*p,t[3]=S*o+v*f+A*b+N*k,S=n[4],v=n[5],A=n[6],N=n[7],t[4]=S*r+v*a+A*h+N*m,t[5]=S*s+v*l+A*d+N*_,t[6]=S*i+v*c+A*g+N*p,t[7]=S*o+v*f+A*b+N*k,S=n[8],v=n[9],A=n[10],N=n[11],t[8]=S*r+v*a+A*h+N*m,t[9]=S*s+v*l+A*d+N*_,t[10]=S*i+v*c+A*g+N*p,t[11]=S*o+v*f+A*b+N*k,S=n[12],v=n[13],A=n[14],N=n[15],t[12]=S*r+v*a+A*h+N*m,t[13]=S*s+v*l+A*d+N*_,t[14]=S*i+v*c+A*g+N*p,t[15]=S*o+v*f+A*b+N*k,t}function Xw(t,e){var n=e[0],r=e[1],s=e[2],i=e[4],o=e[5],a=e[6],l=e[8],c=e[9],f=e[10];return t[0]=Math.hypot(n,r,s),t[1]=Math.hypot(i,o,a),t[2]=Math.hypot(l,c,f),t}function Qw(t,e){var n=new oa(3);Xw(n,e);var r=1/n[0],s=1/n[1],i=1/n[2],o=e[0]*r,a=e[1]*s,l=e[2]*i,c=e[4]*r,f=e[5]*s,h=e[6]*i,d=e[8]*r,g=e[9]*s,b=e[10]*i,m=o+f+b,_=0;return m>0?(_=Math.sqrt(m+1)*2,t[3]=.25*_,t[0]=(h-g)/_,t[1]=(d-l)/_,t[2]=(a-c)/_):o>f&&o>b?(_=Math.sqrt(1+o-f-b)*2,t[3]=(h-g)/_,t[0]=.25*_,t[1]=(a+c)/_,t[2]=(d+l)/_):f>b?(_=Math.sqrt(1+f-o-b)*2,t[3]=(d-l)/_,t[0]=(a+c)/_,t[1]=.25*_,t[2]=(h+g)/_):(_=Math.sqrt(1+b-o-f)*2,t[3]=(a-c)/_,t[0]=(d+l)/_,t[1]=(h+g)/_,t[2]=.25*_),t}class ht{static identity(e){return e}static eq(e,n,r=1e-5){if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(Math.abs(e[s]-n[s])>r)return!1;return!0}static clamp(e,n,r){return e<n?n:e>r?r:e}static decodeNormalizedInt(e,n){switch(n){case 5126:return e;case 5123:return e/65535;case 5121:return e/255;case 5122:return Math.max(e/32767,-1);case 5120:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}static encodeNormalizedInt(e,n){switch(n){case 5126:return e;case 5123:return Math.round(ht.clamp(e,0,1)*65535);case 5121:return Math.round(ht.clamp(e,0,1)*255);case 5122:return Math.round(ht.clamp(e,-1,1)*32767);case 5120:return Math.round(ht.clamp(e,-1,1)*127);default:throw new Error("Invalid component type.")}}static decompose(e,n,r,s){let i=So([e[0],e[1],e[2]]);const o=So([e[4],e[5],e[6]]),a=So([e[8],e[9],e[10]]);Yw(e)<0&&(i=-i),n[0]=e[12],n[1]=e[13],n[2]=e[14];const c=e.slice(),f=1/i,h=1/o,d=1/a;c[0]*=f,c[1]*=f,c[2]*=f,c[4]*=h,c[5]*=h,c[6]*=h,c[8]*=d,c[9]*=d,c[10]*=d,Qw(r,c),s[0]=i,s[1]=o,s[2]=a}static compose(e,n,r,s){const i=s,o=n[0],a=n[1],l=n[2],c=n[3],f=o+o,h=a+a,d=l+l,g=o*f,b=o*h,m=o*d,_=a*h,p=a*d,k=l*d,S=c*f,v=c*h,A=c*d,N=r[0],y=r[1],E=r[2];return i[0]=(1-(_+k))*N,i[1]=(b+A)*N,i[2]=(m-v)*N,i[3]=0,i[4]=(b-A)*y,i[5]=(1-(g+k))*y,i[6]=(p+S)*y,i[7]=0,i[8]=(m+v)*E,i[9]=(p-S)*E,i[10]=(1-(g+_))*E,i[11]=0,i[12]=e[0],i[13]=e[1],i[14]=e[2],i[15]=1,i}}function Jw(t,e){if(!!t!=!!e)return!1;const n=t.getChild(),r=e.getChild();return n===r||n.equals(r)}function e_(t,e){if(!!t!=!!e)return!1;const n=t.values(),r=e.values();if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++){const i=n[s],o=r[s];if(i.getChild()!==o.getChild()&&!i.getChild().equals(o.getChild()))return!1}return!0}function t_(t,e){if(!!t!=!!e)return!1;const n=t.keys(),r=e.keys();if(n.length!==r.length)return!1;for(const s of n){const i=t.get(s),o=e.get(s);if(!!i!=!!o)return!1;const a=i.getChild(),l=o.getChild();if(a!==l&&!a.equals(l))return!1}return!0}function Hf(t,e){if(t===e)return!0;if(!!t!=!!e||!t||!e||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Yf(t,e){if(t===e)return!0;if(!!t!=!!e)return!1;if(!ar(t)||!ar(e))return t===e;const n=t,r=e;let s=0,i=0,o;for(o in n)s++;for(o in r)i++;if(s!==i)return!1;for(o in n){const a=n[o],l=r[o];if(Pi(a)&&Pi(l)){if(!Hf(a,l))return!1}else if(ar(a)&&ar(l)){if(!Yf(a,l))return!1}else if(a!==l)return!1}return!0}function Pi(t){return Array.isArray(t)||ArrayBuffer.isView(t)}const zc="23456789abdegjkmnpqrvwxyzABDEGJKMNPQRVWXYZ",n_=999,r_=6,Lc=new Set,s_=function(){let e="";for(let n=0;n<r_;n++)e+=zc.charAt(Math.floor(Math.random()*zc.length));return e},i_=function(){for(let e=0;e<n_;e++){const n=s_();if(!Lc.has(n))return Lc.add(n),n}return""},Wn=t=>t,o_=new Set;class Ba extends $a{constructor(e,n=""){super(e),this[tt].name=n,this.init(),this.dispatchEvent({type:"create"})}getGraph(){return this.graph}getDefaults(){return Object.assign(super.getDefaults(),{name:"",extras:{}})}set(e,n){return Array.isArray(n)&&(n=n.slice()),super.set(e,n)}getName(){return this.get("name")}setName(e){return this.set("name",e)}getExtras(){return this.get("extras")}setExtras(e){return this.set("extras",e)}clone(){const e=this.constructor;return new e(this.graph).copy(this,Wn)}copy(e,n=Wn){for(const r in this[tt]){const s=this[tt][r];if(s instanceof Tr)this[sr].has(r)||s.dispose();else if(s instanceof Dn||s instanceof ut)for(const i of s.values())i.dispose();else if(s instanceof un)for(const i of s.values())i.dispose()}for(const r in e[tt]){const s=this[tt][r],i=e[tt][r];if(i instanceof Tr)this[sr].has(r)?s.getChild().copy(n(i.getChild()),n):this.setRef(r,n(i.getChild()),i.getAttributes());else if(i instanceof ut||i instanceof Dn)for(const o of i.values())this.addRef(r,n(o.getChild()),o.getAttributes());else if(i instanceof un)for(const o of i.keys()){const a=i.get(o);this.setRefMap(r,o,n(a.getChild()),a.getAttributes())}else ar(i)?this[tt][r]=JSON.parse(JSON.stringify(i)):Array.isArray(i)||i instanceof ArrayBuffer||ArrayBuffer.isView(i)?this[tt][r]=i.slice():this[tt][r]=i}return this}equals(e,n=o_){if(this===e)return!0;if(this.propertyType!==e.propertyType)return!1;for(const r in this[tt]){if(n.has(r))continue;const s=this[tt][r],i=e[tt][r];if(s instanceof Tr||i instanceof Tr){if(!Jw(s,i))return!1}else if(s instanceof ut||i instanceof ut||s instanceof Dn||i instanceof Dn){if(!e_(s,i))return!1}else if(s instanceof un||i instanceof un){if(!t_(s,i))return!1}else if(ar(s)||ar(i)){if(!Yf(s,i))return!1}else if(Pi(s)||Pi(i)){if(!Hf(s,i))return!1}else if(s!==i)return!1}return!0}detach(){return this.graph.disconnectParents(this,e=>e.propertyType!=="Root"),this}listParents(){return this.graph.listParents(this)}}class Mt extends Ba{getDefaults(){return Object.assign(super.getDefaults(),{extensions:new un})}getExtension(e){return this.getRefMap("extensions",e)}setExtension(e,n){return n&&n._validateParent(this),this.setRefMap("extensions",e,n)}listExtensions(){return this.listRefMapValues("extensions")}}class Fe extends Mt{init(){this.propertyType=je.ACCESSOR}getDefaults(){return Object.assign(super.getDefaults(),{array:null,type:Fe.Type.SCALAR,componentType:Fe.ComponentType.FLOAT,normalized:!1,sparse:!1,buffer:null})}static getElementSize(e){switch(e){case Fe.Type.SCALAR:return 1;case Fe.Type.VEC2:return 2;case Fe.Type.VEC3:return 3;case Fe.Type.VEC4:return 4;case Fe.Type.MAT2:return 4;case Fe.Type.MAT3:return 9;case Fe.Type.MAT4:return 16;default:throw new Error("Unexpected type: "+e)}}static getComponentSize(e){switch(e){case Fe.ComponentType.BYTE:return 1;case Fe.ComponentType.UNSIGNED_BYTE:return 1;case Fe.ComponentType.SHORT:return 2;case Fe.ComponentType.UNSIGNED_SHORT:return 2;case Fe.ComponentType.UNSIGNED_INT:return 4;case Fe.ComponentType.FLOAT:return 4;default:throw new Error("Unexpected component type: "+e)}}getMinNormalized(e){const n=this.getNormalized(),r=this.getElementSize(),s=this.getComponentType();if(this.getMin(e),n)for(let i=0;i<r;i++)e[i]=ht.decodeNormalizedInt(e[i],s);return e}getMin(e){const n=this.getArray(),r=this.getCount(),s=this.getElementSize();for(let i=0;i<s;i++)e[i]=1/0;for(let i=0;i<r*s;i+=s)for(let o=0;o<s;o++){const a=n[i+o];Number.isFinite(a)&&(e[o]=Math.min(e[o],a))}return e}getMaxNormalized(e){const n=this.getNormalized(),r=this.getElementSize(),s=this.getComponentType();if(this.getMax(e),n)for(let i=0;i<r;i++)e[i]=ht.decodeNormalizedInt(e[i],s);return e}getMax(e){const n=this.get("array"),r=this.getCount(),s=this.getElementSize();for(let i=0;i<s;i++)e[i]=-1/0;for(let i=0;i<r*s;i+=s)for(let o=0;o<s;o++){const a=n[i+o];Number.isFinite(a)&&(e[o]=Math.max(e[o],a))}return e}getCount(){const e=this.get("array");return e?e.length/this.getElementSize():0}getType(){return this.get("type")}setType(e){return this.set("type",e)}getElementSize(){return Fe.getElementSize(this.get("type"))}getComponentSize(){return this.get("array").BYTES_PER_ELEMENT}getComponentType(){return this.get("componentType")}getNormalized(){return this.get("normalized")}setNormalized(e){return this.set("normalized",e)}getScalar(e){const n=this.getElementSize(),r=this.getComponentType(),s=this.getArray();return this.getNormalized()?ht.decodeNormalizedInt(s[e*n],r):s[e*n]}setScalar(e,n){const r=this.getElementSize(),s=this.getComponentType(),i=this.getArray();return this.getNormalized()?i[e*r]=ht.encodeNormalizedInt(n,s):i[e*r]=n,this}getElement(e,n){const r=this.getNormalized(),s=this.getElementSize(),i=this.getComponentType(),o=this.getArray();for(let a=0;a<s;a++)r?n[a]=ht.decodeNormalizedInt(o[e*s+a],i):n[a]=o[e*s+a];return n}setElement(e,n){const r=this.getNormalized(),s=this.getElementSize(),i=this.getComponentType(),o=this.getArray();for(let a=0;a<s;a++)r?o[e*s+a]=ht.encodeNormalizedInt(n[a],i):o[e*s+a]=n[a];return this}getSparse(){return this.get("sparse")}setSparse(e){return this.set("sparse",e)}getBuffer(){return this.getRef("buffer")}setBuffer(e){return this.setRef("buffer",e)}getArray(){return this.get("array")}setArray(e){return this.set("componentType",e?a_(e):Fe.ComponentType.FLOAT),this.set("array",e),this}getByteLength(){const e=this.get("array");return e?e.byteLength:0}}Fe.Type={SCALAR:"SCALAR",VEC2:"VEC2",VEC3:"VEC3",VEC4:"VEC4",MAT2:"MAT2",MAT3:"MAT3",MAT4:"MAT4"};Fe.ComponentType={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126};function a_(t){switch(t.constructor){case Float32Array:return Fe.ComponentType.FLOAT;case Uint32Array:return Fe.ComponentType.UNSIGNED_INT;case Uint16Array:return Fe.ComponentType.UNSIGNED_SHORT;case Uint8Array:return Fe.ComponentType.UNSIGNED_BYTE;case Int16Array:return Fe.ComponentType.SHORT;case Int8Array:return Fe.ComponentType.BYTE;default:throw new Error("Unknown accessor componentType.")}}class Wf extends Mt{init(){this.propertyType=je.ANIMATION}getDefaults(){return Object.assign(super.getDefaults(),{channels:new ut,samplers:new ut})}addChannel(e){return this.addRef("channels",e)}removeChannel(e){return this.removeRef("channels",e)}listChannels(){return this.listRefs("channels")}addSampler(e){return this.addRef("samplers",e)}removeSampler(e){return this.removeRef("samplers",e)}listSamplers(){return this.listRefs("samplers")}}class Xf extends Mt{init(){this.propertyType=je.ANIMATION_CHANNEL}getDefaults(){return Object.assign(super.getDefaults(),{targetPath:null,targetNode:null,sampler:null})}getTargetPath(){return this.get("targetPath")}setTargetPath(e){return this.set("targetPath",e)}getTargetNode(){return this.getRef("targetNode")}setTargetNode(e){return this.setRef("targetNode",e)}getSampler(){return this.getRef("sampler")}setSampler(e){return this.setRef("sampler",e)}}Xf.TargetPath={TRANSLATION:"translation",ROTATION:"rotation",SCALE:"scale",WEIGHTS:"weights"};class As extends Mt{init(){this.propertyType=je.ANIMATION_SAMPLER}getDefaultAttributes(){return Object.assign(super.getDefaults(),{interpolation:As.Interpolation.LINEAR,input:null,output:null})}getInterpolation(){return this.get("interpolation")}setInterpolation(e){return this.set("interpolation",e)}getInput(){return this.getRef("input")}setInput(e){return this.setRef("input",e,{usage:Dt.OTHER})}getOutput(){return this.getRef("output")}setOutput(e){return this.setRef("output",e,{usage:Dt.OTHER})}}As.Interpolation={LINEAR:"LINEAR",STEP:"STEP",CUBICSPLINE:"CUBICSPLINE"};class Qf extends Mt{init(){this.propertyType=je.BUFFER}getDefaults(){return Object.assign(super.getDefaults(),{uri:""})}getURI(){return this.get("uri")}setURI(e){return this.set("uri",e)}}class yr extends Mt{init(){this.propertyType=je.CAMERA}getDefaults(){return Object.assign(super.getDefaults(),{type:yr.Type.PERSPECTIVE,znear:.1,zfar:100,aspectRatio:null,yfov:Math.PI*2*50/360,xmag:1,ymag:1})}getType(){return this.get("type")}setType(e){return this.set("type",e)}getZNear(){return this.get("znear")}setZNear(e){return this.set("znear",e)}getZFar(){return this.get("zfar")}setZFar(e){return this.set("zfar",e)}getAspectRatio(){return this.get("aspectRatio")}setAspectRatio(e){return this.set("aspectRatio",e)}getYFov(){return this.get("yfov")}setYFov(e){return this.set("yfov",e)}getXMag(){return this.get("xmag")}setXMag(e){return this.set("xmag",e)}getYMag(){return this.get("ymag")}setYMag(e){return this.set("ymag",e)}}yr.Type={PERSPECTIVE:"perspective",ORTHOGRAPHIC:"orthographic"};class l_ extends Ba{_validateParent(e){if(!this.parentTypes.includes(e.propertyType))throw new Error(`Parent "${e.propertyType}" invalid for child "${this.propertyType}".`)}}l_.EXTENSION_NAME=void 0;class rn extends Mt{init(){this.propertyType=je.TEXTURE_INFO}getDefaults(){return Object.assign(super.getDefaults(),{texCoord:0,magFilter:null,minFilter:null,wrapS:rn.WrapMode.REPEAT,wrapT:rn.WrapMode.REPEAT})}getTexCoord(){return this.get("texCoord")}setTexCoord(e){return this.set("texCoord",e)}getMagFilter(){return this.get("magFilter")}setMagFilter(e){return this.set("magFilter",e)}getMinFilter(){return this.get("minFilter")}setMinFilter(e){return this.set("minFilter",e)}getWrapS(){return this.get("wrapS")}setWrapS(e){return this.set("wrapS",e)}getWrapT(){return this.get("wrapT")}setWrapT(e){return this.set("wrapT",e)}}rn.WrapMode={CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497};rn.MagFilter={NEAREST:9728,LINEAR:9729};rn.MinFilter={NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987};const{R:ri,G:si,B:ii,A:c_}=ia;class gr extends Mt{init(){this.propertyType=je.MATERIAL}getDefaults(){return Object.assign(super.getDefaults(),{alphaMode:gr.AlphaMode.OPAQUE,alphaCutoff:.5,doubleSided:!1,baseColorFactor:[1,1,1,1],baseColorTexture:null,baseColorTextureInfo:new rn(this.graph,"baseColorTextureInfo"),emissiveFactor:[0,0,0],emissiveTexture:null,emissiveTextureInfo:new rn(this.graph,"emissiveTextureInfo"),normalScale:1,normalTexture:null,normalTextureInfo:new rn(this.graph,"normalTextureInfo"),occlusionStrength:1,occlusionTexture:null,occlusionTextureInfo:new rn(this.graph,"occlusionTextureInfo"),roughnessFactor:1,metallicFactor:1,metallicRoughnessTexture:null,metallicRoughnessTextureInfo:new rn(this.graph,"metallicRoughnessTextureInfo")})}getDoubleSided(){return this.get("doubleSided")}setDoubleSided(e){return this.set("doubleSided",e)}getAlpha(){return this.get("baseColorFactor")[3]}setAlpha(e){const n=this.get("baseColorFactor").slice();return n[3]=e,this.set("baseColorFactor",n)}getAlphaMode(){return this.get("alphaMode")}setAlphaMode(e){return this.set("alphaMode",e)}getAlphaCutoff(){return this.get("alphaCutoff")}setAlphaCutoff(e){return this.set("alphaCutoff",e)}getBaseColorFactor(){return this.get("baseColorFactor")}setBaseColorFactor(e){return this.set("baseColorFactor",e)}getBaseColorTexture(){return this.getRef("baseColorTexture")}getBaseColorTextureInfo(){return this.getRef("baseColorTexture")?this.getRef("baseColorTextureInfo"):null}setBaseColorTexture(e){return this.setRef("baseColorTexture",e,{channels:ri|si|ii|c_,isColor:!0})}getEmissiveFactor(){return this.get("emissiveFactor")}setEmissiveFactor(e){return this.set("emissiveFactor",e)}getEmissiveTexture(){return this.getRef("emissiveTexture")}getEmissiveTextureInfo(){return this.getRef("emissiveTexture")?this.getRef("emissiveTextureInfo"):null}setEmissiveTexture(e){return this.setRef("emissiveTexture",e,{channels:ri|si|ii,isColor:!0})}getNormalScale(){return this.get("normalScale")}setNormalScale(e){return this.set("normalScale",e)}getNormalTexture(){return this.getRef("normalTexture")}getNormalTextureInfo(){return this.getRef("normalTexture")?this.getRef("normalTextureInfo"):null}setNormalTexture(e){return this.setRef("normalTexture",e,{channels:ri|si|ii})}getOcclusionStrength(){return this.get("occlusionStrength")}setOcclusionStrength(e){return this.set("occlusionStrength",e)}getOcclusionTexture(){return this.getRef("occlusionTexture")}getOcclusionTextureInfo(){return this.getRef("occlusionTexture")?this.getRef("occlusionTextureInfo"):null}setOcclusionTexture(e){return this.setRef("occlusionTexture",e,{channels:ri})}getRoughnessFactor(){return this.get("roughnessFactor")}setRoughnessFactor(e){return this.set("roughnessFactor",e)}getMetallicFactor(){return this.get("metallicFactor")}setMetallicFactor(e){return this.set("metallicFactor",e)}getMetallicRoughnessTexture(){return this.getRef("metallicRoughnessTexture")}getMetallicRoughnessTextureInfo(){return this.getRef("metallicRoughnessTexture")?this.getRef("metallicRoughnessTextureInfo"):null}setMetallicRoughnessTexture(e){return this.setRef("metallicRoughnessTexture",e,{channels:si|ii})}}gr.AlphaMode={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};class Jf extends Mt{init(){this.propertyType=je.MESH}getDefaults(){return Object.assign(super.getDefaults(),{weights:[],primitives:new ut})}addPrimitive(e){return this.addRef("primitives",e)}removePrimitive(e){return this.removeRef("primitives",e)}listPrimitives(){return this.listRefs("primitives")}getWeights(){return this.get("weights")}setWeights(e){return this.set("weights",e)}}class eh extends Mt{init(){this.propertyType=je.NODE}getDefaults(){return Object.assign(super.getDefaults(),{translation:[0,0,0],rotation:[0,0,0,1],scale:[1,1,1],weights:[],camera:null,mesh:null,skin:null,children:new ut})}copy(e,n=Wn){if(n===Wn)throw new Error("Node cannot be copied.");return super.copy(e,n)}getTranslation(){return this.get("translation")}getRotation(){return this.get("rotation")}getScale(){return this.get("scale")}setTranslation(e){return this.set("translation",e)}setRotation(e){return this.set("rotation",e)}setScale(e){return this.set("scale",e)}getMatrix(){return ht.compose(this.get("translation"),this.get("rotation"),this.get("scale"),[])}setMatrix(e){const n=this.get("translation").slice(),r=this.get("rotation").slice(),s=this.get("scale").slice();return ht.decompose(e,n,r,s),this.set("translation",n).set("rotation",r).set("scale",s)}getWorldTranslation(){const e=[0,0,0];return ht.decompose(this.getWorldMatrix(),e,[0,0,0,1],[1,1,1]),e}getWorldRotation(){const e=[0,0,0,1];return ht.decompose(this.getWorldMatrix(),[0,0,0],e,[1,1,1]),e}getWorldScale(){const e=[1,1,1];return ht.decompose(this.getWorldMatrix(),[0,0,0],[0,0,0,1],e),e}getWorldMatrix(){const e=[];for(let s=this;s!=null;s=s.getParentNode())e.push(s);let n;const r=e.pop().getMatrix();for(;n=e.pop();)Ww(r,r,n.getMatrix());return r}addChild(e){const n=e.getParentNode();n&&n.removeChild(e);for(const r of e.listParents())r.propertyType===je.SCENE&&r.removeChild(e);return this.addRef("children",e)}removeChild(e){return this.removeRef("children",e)}listChildren(){return this.listRefs("children")}getParentNode(){for(const e of this.listParents())if(e.propertyType===je.NODE)return e;return null}getMesh(){return this.getRef("mesh")}setMesh(e){return this.setRef("mesh",e)}getCamera(){return this.getRef("camera")}setCamera(e){return this.setRef("camera",e)}getSkin(){return this.getRef("skin")}setSkin(e){return this.setRef("skin",e)}getWeights(){return this.get("weights")}setWeights(e){return this.set("weights",e)}traverse(e){e(this);for(const n of this.listChildren())n.traverse(e);return this}}class Ki extends Mt{init(){this.propertyType=je.PRIMITIVE}getDefaults(){return Object.assign(super.getDefaults(),{mode:Ki.Mode.TRIANGLES,material:null,indices:null,attributes:new un,targets:new ut})}getIndices(){return this.getRef("indices")}setIndices(e){return this.setRef("indices",e,{usage:Dt.ELEMENT_ARRAY_BUFFER})}getAttribute(e){return this.getRefMap("attributes",e)}setAttribute(e,n){return this.setRefMap("attributes",e,n,{usage:Dt.ARRAY_BUFFER})}listAttributes(){return this.listRefMapValues("attributes")}listSemantics(){return this.listRefMapKeys("attributes")}getMaterial(){return this.getRef("material")}setMaterial(e){return this.setRef("material",e)}getMode(){return this.get("mode")}setMode(e){return this.set("mode",e)}listTargets(){return this.listRefs("targets")}addTarget(e){return this.addRef("targets",e)}removeTarget(e){return this.removeRef("targets",e)}}Ki.Mode={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class u_ extends Ba{init(){this.propertyType=je.PRIMITIVE_TARGET}getDefaults(){return Object.assign(super.getDefaults(),{attributes:new un})}getAttribute(e){return this.getRefMap("attributes",e)}setAttribute(e,n){return this.setRefMap("attributes",e,n,{usage:Dt.ARRAY_BUFFER})}listAttributes(){return this.listRefMapValues("attributes")}listSemantics(){return this.listRefMapKeys("attributes")}}function Rt(){return Rt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rt.apply(null,arguments)}class th extends Mt{init(){this.propertyType=je.SCENE}getDefaults(){return Object.assign(super.getDefaults(),{children:new ut})}copy(e,n=Wn){if(n===Wn)throw new Error("Scene cannot be copied.");return super.copy(e,n)}addChild(e){const n=e.getParentNode();return n&&n.removeChild(e),this.addRef("children",e)}removeChild(e){return this.removeRef("children",e)}listChildren(){return this.listRefs("children")}traverse(e){for(const n of this.listChildren())n.traverse(e);return this}}class nh extends Mt{init(){this.propertyType=je.SKIN}getDefaults(){return Object.assign(super.getDefaults(),{skeleton:null,inverseBindMatrices:null,joints:new ut})}getSkeleton(){return this.getRef("skeleton")}setSkeleton(e){return this.setRef("skeleton",e)}getInverseBindMatrices(){return this.getRef("inverseBindMatrices")}setInverseBindMatrices(e){return this.setRef("inverseBindMatrices",e,{usage:Dt.INVERSE_BIND_MATRICES})}addJoint(e){return this.addRef("joints",e)}removeJoint(e){return this.removeRef("joints",e)}listJoints(){return this.listRefs("joints")}}class rh extends Mt{init(){this.propertyType=je.TEXTURE}getDefaults(){return Object.assign(super.getDefaults(),{image:null,mimeType:"",uri:""})}getMimeType(){return this.get("mimeType")||fr.extensionToMimeType(Fr.extension(this.get("uri")))}setMimeType(e){return this.set("mimeType",e)}getURI(){return this.get("uri")}setURI(e){this.set("uri",e);const n=fr.extensionToMimeType(Fr.extension(e));return n&&this.set("mimeType",n),this}getImage(){return this.get("image")}setImage(e){return this.set("image",et.assertView(e))}getSize(){const e=this.get("image");return e?fr.getSize(e,this.getMimeType()):null}}class f_ extends Mt{init(){this.propertyType=je.ROOT}getDefaults(){return Object.assign(super.getDefaults(),{asset:{generator:`glTF-Transform ${Kf}`,version:"2.0"},defaultScene:null,accessors:new ut,animations:new ut,buffers:new ut,cameras:new ut,materials:new ut,meshes:new ut,nodes:new ut,scenes:new ut,skins:new ut,textures:new ut})}constructor(e){super(e),this._extensions=new Set,e.addEventListener("node:create",n=>{this._addChildOfRoot(n.target)})}clone(){throw new Error("Root cannot be cloned.")}copy(e,n=Wn){if(n===Wn)throw new Error("Root cannot be copied.");this.set("asset",Rt({},e.get("asset"))),this.setName(e.getName()),this.setExtras(Rt({},e.getExtras())),this.setDefaultScene(e.getDefaultScene()?n(e.getDefaultScene()):null);for(const r of e.listRefMapKeys("extensions")){const s=e.getExtension(r);this.setExtension(r,n(s))}return this}_addChildOfRoot(e){return e instanceof th?this.addRef("scenes",e):e instanceof eh?this.addRef("nodes",e):e instanceof yr?this.addRef("cameras",e):e instanceof nh?this.addRef("skins",e):e instanceof Jf?this.addRef("meshes",e):e instanceof gr?this.addRef("materials",e):e instanceof rh?this.addRef("textures",e):e instanceof Wf?this.addRef("animations",e):e instanceof Fe?this.addRef("accessors",e):e instanceof Qf&&this.addRef("buffers",e),this}getAsset(){return this.get("asset")}listExtensionsUsed(){return Array.from(this._extensions)}listExtensionsRequired(){return this.listExtensionsUsed().filter(e=>e.isRequired())}_enableExtension(e){return this._extensions.add(e),this}_disableExtension(e){return this._extensions.delete(e),this}listScenes(){return this.listRefs("scenes")}setDefaultScene(e){return this.setRef("defaultScene",e)}getDefaultScene(){return this.getRef("defaultScene")}listNodes(){return this.listRefs("nodes")}listCameras(){return this.listRefs("cameras")}listSkins(){return this.listRefs("skins")}listMeshes(){return this.listRefs("meshes")}listMaterials(){return this.listRefs("materials")}listTextures(){return this.listRefs("textures")}listAnimations(){return this.listRefs("animations")}listAccessors(){return this.listRefs("accessors")}listBuffers(){return this.listRefs("buffers")}}let sh=class ca{static fromGraph(e){return ca._GRAPH_DOCUMENTS.get(e)||null}constructor(){this._graph=new qw,this._root=new f_(this._graph),this._logger=qt.DEFAULT_INSTANCE,ca._GRAPH_DOCUMENTS.set(this._graph,this)}getRoot(){return this._root}getGraph(){return this._graph}getLogger(){return this._logger}setLogger(e){return this._logger=e,this}clone(){throw new Error("Use 'cloneDocument(source)' from '@gltf-transform/functions'.")}merge(e){throw new Error("Use 'mergeDocuments(target, source)' from '@gltf-transform/functions'.")}async transform(...e){const n=e.map(r=>r.name);for(const r of e)await r(this,{stack:n});return this}createExtension(e){const n=e.EXTENSION_NAME;return this.getRoot().listExtensionsUsed().find(s=>s.extensionName===n)||new e(this)}createScene(e=""){return new th(this._graph,e)}createNode(e=""){return new eh(this._graph,e)}createCamera(e=""){return new yr(this._graph,e)}createSkin(e=""){return new nh(this._graph,e)}createMesh(e=""){return new Jf(this._graph,e)}createPrimitive(){return new Ki(this._graph)}createPrimitiveTarget(e=""){return new u_(this._graph,e)}createMaterial(e=""){return new gr(this._graph,e)}createTexture(e=""){return new rh(this._graph,e)}createAnimation(e=""){return new Wf(this._graph,e)}createAnimationChannel(e=""){return new Xf(this._graph,e)}createAnimationSampler(e=""){return new As(this._graph,e)}createAccessor(e="",n=null){return n||(n=this.getRoot().listBuffers()[0]),new Fe(this._graph,e).setBuffer(n)}createBuffer(e=""){return new Qf(this._graph,e)}};sh._GRAPH_DOCUMENTS=new WeakMap;class h_{constructor(e){this.jsonDoc=void 0,this.buffers=[],this.bufferViews=[],this.bufferViewBuffers=[],this.accessors=[],this.textures=[],this.textureInfos=new Map,this.materials=[],this.meshes=[],this.cameras=[],this.nodes=[],this.skins=[],this.animations=[],this.scenes=[],this.jsonDoc=e}setTextureInfo(e,n){this.textureInfos.set(e,n),n.texCoord!==void 0&&e.setTexCoord(n.texCoord),n.extras!==void 0&&e.setExtras(n.extras);const r=this.jsonDoc.json.textures[n.index];if(r.sampler===void 0)return;const s=this.jsonDoc.json.samplers[r.sampler];s.magFilter!==void 0&&e.setMagFilter(s.magFilter),s.minFilter!==void 0&&e.setMinFilter(s.minFilter),s.wrapS!==void 0&&e.setWrapS(s.wrapS),s.wrapT!==void 0&&e.setWrapT(s.wrapT)}}const $c={logger:qt.DEFAULT_INSTANCE,extensions:[],dependencies:{}},d_=new Set([je.BUFFER,je.TEXTURE,je.MATERIAL,je.MESH,je.PRIMITIVE,je.NODE,je.SCENE]);class p_{static read(e,n=$c){const r=Rt({},$c,n),{json:s}=e,i=new sh().setLogger(r.logger);this.validate(e,r);const o=new h_(e),a=s.asset,l=i.getRoot().getAsset();a.copyright&&(l.copyright=a.copyright),a.extras&&(l.extras=a.extras),s.extras!==void 0&&i.getRoot().setExtras(Rt({},s.extras));const c=s.extensionsUsed||[],f=s.extensionsRequired||[];r.extensions.sort((y,E)=>y.EXTENSION_NAME>E.EXTENSION_NAME?1:-1);for(const y of r.extensions)if(c.includes(y.EXTENSION_NAME)){const E=i.createExtension(y).setRequired(f.includes(y.EXTENSION_NAME)),C=E.prereadTypes.filter(j=>!d_.has(j));C.length&&r.logger.warn(`Preread hooks for some types (${C.join()}), requested by extension ${E.extensionName}, are unsupported. Please file an issue or a PR.`);for(const j of E.readDependencies)E.install(j,r.dependencies[j])}const h=s.buffers||[];i.getRoot().listExtensionsUsed().filter(y=>y.prereadTypes.includes(je.BUFFER)).forEach(y=>y.preread(o,je.BUFFER)),o.buffers=h.map(y=>{const E=i.createBuffer(y.name);return y.extras&&E.setExtras(y.extras),y.uri&&y.uri.indexOf("__")!==0&&E.setURI(y.uri),E});const d=s.bufferViews||[];o.bufferViewBuffers=d.map((y,E)=>{if(!o.bufferViews[E]){const C=e.json.buffers[y.buffer],j=C.uri?e.resources[C.uri]:e.resources[Ri],B=y.byteOffset||0;o.bufferViews[E]=et.toView(j,B,y.byteLength)}return o.buffers[y.buffer]});const g=s.accessors||[];o.accessors=g.map(y=>{const E=o.bufferViewBuffers[y.bufferView],C=i.createAccessor(y.name,E).setType(y.type);return y.extras&&C.setExtras(y.extras),y.normalized!==void 0&&C.setNormalized(y.normalized),y.bufferView===void 0||C.setArray(vi(y,o)),C});const b=s.images||[],m=s.textures||[];i.getRoot().listExtensionsUsed().filter(y=>y.prereadTypes.includes(je.TEXTURE)).forEach(y=>y.preread(o,je.TEXTURE)),o.textures=b.map(y=>{const E=i.createTexture(y.name);if(y.extras&&E.setExtras(y.extras),y.bufferView!==void 0){const C=s.bufferViews[y.bufferView],j=e.json.buffers[C.buffer],B=j.uri?e.resources[j.uri]:e.resources[Ri],M=C.byteOffset||0,V=C.byteLength,ie=B.slice(M,M+V);E.setImage(ie)}else y.uri!==void 0&&(E.setImage(e.resources[y.uri]),y.uri.indexOf("__")!==0&&E.setURI(y.uri));if(y.mimeType!==void 0)E.setMimeType(y.mimeType);else if(y.uri){const C=Fr.extension(y.uri);E.setMimeType(fr.extensionToMimeType(C))}return E}),i.getRoot().listExtensionsUsed().filter(y=>y.prereadTypes.includes(je.MATERIAL)).forEach(y=>y.preread(o,je.MATERIAL));const _=s.materials||[];o.materials=_.map(y=>{const E=i.createMaterial(y.name);y.extras&&E.setExtras(y.extras),y.alphaMode!==void 0&&E.setAlphaMode(y.alphaMode),y.alphaCutoff!==void 0&&E.setAlphaCutoff(y.alphaCutoff),y.doubleSided!==void 0&&E.setDoubleSided(y.doubleSided);const C=y.pbrMetallicRoughness||{};if(C.baseColorFactor!==void 0&&E.setBaseColorFactor(C.baseColorFactor),y.emissiveFactor!==void 0&&E.setEmissiveFactor(y.emissiveFactor),C.metallicFactor!==void 0&&E.setMetallicFactor(C.metallicFactor),C.roughnessFactor!==void 0&&E.setRoughnessFactor(C.roughnessFactor),C.baseColorTexture!==void 0){const j=C.baseColorTexture,B=o.textures[m[j.index].source];E.setBaseColorTexture(B),o.setTextureInfo(E.getBaseColorTextureInfo(),j)}if(y.emissiveTexture!==void 0){const j=y.emissiveTexture,B=o.textures[m[j.index].source];E.setEmissiveTexture(B),o.setTextureInfo(E.getEmissiveTextureInfo(),j)}if(y.normalTexture!==void 0){const j=y.normalTexture,B=o.textures[m[j.index].source];E.setNormalTexture(B),o.setTextureInfo(E.getNormalTextureInfo(),j),y.normalTexture.scale!==void 0&&E.setNormalScale(y.normalTexture.scale)}if(y.occlusionTexture!==void 0){const j=y.occlusionTexture,B=o.textures[m[j.index].source];E.setOcclusionTexture(B),o.setTextureInfo(E.getOcclusionTextureInfo(),j),y.occlusionTexture.strength!==void 0&&E.setOcclusionStrength(y.occlusionTexture.strength)}if(C.metallicRoughnessTexture!==void 0){const j=C.metallicRoughnessTexture,B=o.textures[m[j.index].source];E.setMetallicRoughnessTexture(B),o.setTextureInfo(E.getMetallicRoughnessTextureInfo(),j)}return E}),i.getRoot().listExtensionsUsed().filter(y=>y.prereadTypes.includes(je.MESH)).forEach(y=>y.preread(o,je.MESH));const p=s.meshes||[];i.getRoot().listExtensionsUsed().filter(y=>y.prereadTypes.includes(je.PRIMITIVE)).forEach(y=>y.preread(o,je.PRIMITIVE)),o.meshes=p.map(y=>{const E=i.createMesh(y.name);return y.extras&&E.setExtras(y.extras),y.weights!==void 0&&E.setWeights(y.weights),(y.primitives||[]).forEach(j=>{const B=i.createPrimitive();j.extras&&B.setExtras(j.extras),j.material!==void 0&&B.setMaterial(o.materials[j.material]),j.mode!==void 0&&B.setMode(j.mode);for(const[ie,te]of Object.entries(j.attributes||{}))B.setAttribute(ie,o.accessors[te]);j.indices!==void 0&&B.setIndices(o.accessors[j.indices]);const M=y.extras&&y.extras.targetNames||[];(j.targets||[]).forEach((ie,te)=>{const oe=M[te]||te.toString(),le=i.createPrimitiveTarget(oe);for(const[J,fe]of Object.entries(ie))le.setAttribute(J,o.accessors[fe]);B.addTarget(le)}),E.addPrimitive(B)}),E});const k=s.cameras||[];o.cameras=k.map(y=>{const E=i.createCamera(y.name).setType(y.type);if(y.extras&&E.setExtras(y.extras),y.type===yr.Type.PERSPECTIVE){const C=y.perspective;E.setYFov(C.yfov),E.setZNear(C.znear),C.zfar!==void 0&&E.setZFar(C.zfar),C.aspectRatio!==void 0&&E.setAspectRatio(C.aspectRatio)}else{const C=y.orthographic;E.setZNear(C.znear).setZFar(C.zfar).setXMag(C.xmag).setYMag(C.ymag)}return E});const S=s.nodes||[];i.getRoot().listExtensionsUsed().filter(y=>y.prereadTypes.includes(je.NODE)).forEach(y=>y.preread(o,je.NODE)),o.nodes=S.map(y=>{const E=i.createNode(y.name);if(y.extras&&E.setExtras(y.extras),y.translation!==void 0&&E.setTranslation(y.translation),y.rotation!==void 0&&E.setRotation(y.rotation),y.scale!==void 0&&E.setScale(y.scale),y.matrix!==void 0){const C=[0,0,0],j=[0,0,0,1],B=[1,1,1];ht.decompose(y.matrix,C,j,B),E.setTranslation(C),E.setRotation(j),E.setScale(B)}return y.weights!==void 0&&E.setWeights(y.weights),E});const v=s.skins||[];o.skins=v.map(y=>{const E=i.createSkin(y.name);y.extras&&E.setExtras(y.extras),y.inverseBindMatrices!==void 0&&E.setInverseBindMatrices(o.accessors[y.inverseBindMatrices]),y.skeleton!==void 0&&E.setSkeleton(o.nodes[y.skeleton]);for(const C of y.joints)E.addJoint(o.nodes[C]);return E}),S.map((y,E)=>{const C=o.nodes[E];(y.children||[]).forEach(B=>C.addChild(o.nodes[B])),y.mesh!==void 0&&C.setMesh(o.meshes[y.mesh]),y.camera!==void 0&&C.setCamera(o.cameras[y.camera]),y.skin!==void 0&&C.setSkin(o.skins[y.skin])});const A=s.animations||[];o.animations=A.map(y=>{const E=i.createAnimation(y.name);y.extras&&E.setExtras(y.extras);const j=(y.samplers||[]).map(M=>{const V=i.createAnimationSampler().setInput(o.accessors[M.input]).setOutput(o.accessors[M.output]).setInterpolation(M.interpolation||As.Interpolation.LINEAR);return M.extras&&V.setExtras(M.extras),E.addSampler(V),V});return(y.channels||[]).forEach(M=>{const V=i.createAnimationChannel().setSampler(j[M.sampler]).setTargetPath(M.target.path);M.target.node!==void 0&&V.setTargetNode(o.nodes[M.target.node]),M.extras&&V.setExtras(M.extras),E.addChannel(V)}),E});const N=s.scenes||[];return i.getRoot().listExtensionsUsed().filter(y=>y.prereadTypes.includes(je.SCENE)).forEach(y=>y.preread(o,je.SCENE)),o.scenes=N.map(y=>{const E=i.createScene(y.name);return y.extras&&E.setExtras(y.extras),(y.nodes||[]).map(j=>o.nodes[j]).forEach(j=>E.addChild(j)),E}),s.scene!==void 0&&i.getRoot().setDefaultScene(o.scenes[s.scene]),i.getRoot().listExtensionsUsed().forEach(y=>y.read(o)),g.forEach((y,E)=>{const C=o.accessors[E],j=!!y.sparse,B=!y.bufferView&&!C.getArray();(j||B)&&C.setSparse(!0).setArray(m_(y,o))}),i}static validate(e,n){const r=e.json;if(r.asset.version!=="2.0")throw new Error(`Unsupported glTF version, "${r.asset.version}".`);if(r.extensionsRequired){for(const s of r.extensionsRequired)if(!n.extensions.find(i=>i.EXTENSION_NAME===s))throw new Error(`Missing required extension, "${s}".`)}if(r.extensionsUsed)for(const s of r.extensionsUsed)n.extensions.find(i=>i.EXTENSION_NAME===s)||n.logger.warn(`Missing optional extension, "${s}".`)}}function g_(t,e){const n=e.jsonDoc,r=e.bufferViews[t.bufferView],s=n.json.bufferViews[t.bufferView],i=qi[t.componentType],o=Fe.getElementSize(t.type),a=i.BYTES_PER_ELEMENT,l=t.byteOffset||0,c=new i(t.count*o),f=new DataView(r.buffer,r.byteOffset,r.byteLength),h=s.byteStride;for(let d=0;d<t.count;d++)for(let g=0;g<o;g++){const b=l+d*h+g*a;let m;switch(t.componentType){case Fe.ComponentType.FLOAT:m=f.getFloat32(b,!0);break;case Fe.ComponentType.UNSIGNED_INT:m=f.getUint32(b,!0);break;case Fe.ComponentType.UNSIGNED_SHORT:m=f.getUint16(b,!0);break;case Fe.ComponentType.UNSIGNED_BYTE:m=f.getUint8(b);break;case Fe.ComponentType.SHORT:m=f.getInt16(b,!0);break;case Fe.ComponentType.BYTE:m=f.getInt8(b);break;default:throw new Error(`Unexpected componentType "${t.componentType}".`)}c[d*o+g]=m}return c}function vi(t,e){const n=e.jsonDoc,r=e.bufferViews[t.bufferView],s=n.json.bufferViews[t.bufferView],i=qi[t.componentType],o=Fe.getElementSize(t.type),a=i.BYTES_PER_ELEMENT,l=o*a;if(s.byteStride!==void 0&&s.byteStride!==l)return g_(t,e);const c=r.byteOffset+(t.byteOffset||0),f=t.count*o*a;return new i(r.buffer.slice(c,c+f))}function m_(t,e){const n=qi[t.componentType],r=Fe.getElementSize(t.type);let s;t.bufferView!==void 0?s=vi(t,e):s=new n(t.count*r);const i=t.sparse;if(!i)return s;const o=i.count,a=Rt({},t,i.indices,{count:o,type:"SCALAR"}),l=Rt({},t,i.values,{count:o}),c=vi(a,e),f=vi(l,e);for(let h=0;h<a.count;h++)for(let d=0;d<r;d++)s[c[h]*r+d]=f[h*r+d];return s}var ws;(function(t){t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER"})(ws||(ws={}));class hr{constructor(e,n,r){this._doc=void 0,this.jsonDoc=void 0,this.options=void 0,this.accessorIndexMap=new Map,this.animationIndexMap=new Map,this.bufferIndexMap=new Map,this.cameraIndexMap=new Map,this.skinIndexMap=new Map,this.materialIndexMap=new Map,this.meshIndexMap=new Map,this.nodeIndexMap=new Map,this.imageIndexMap=new Map,this.textureDefIndexMap=new Map,this.textureInfoDefMap=new Map,this.samplerDefIndexMap=new Map,this.sceneIndexMap=new Map,this.imageBufferViews=[],this.otherBufferViews=new Map,this.otherBufferViewsIndexMap=new Map,this.extensionData={},this.bufferURIGenerator=void 0,this.imageURIGenerator=void 0,this.logger=void 0,this._accessorUsageMap=new Map,this.accessorUsageGroupedByParent=new Set(["ARRAY_BUFFER"]),this.accessorParents=new Map,this._doc=e,this.jsonDoc=n,this.options=r;const s=e.getRoot(),i=s.listBuffers().length,o=s.listTextures().length;this.bufferURIGenerator=new Bc(i>1,()=>r.basename||"buffer"),this.imageURIGenerator=new Bc(o>1,a=>y_(e,a)||r.basename||"texture"),this.logger=e.getLogger()}createTextureInfoDef(e,n){const r={magFilter:n.getMagFilter()||void 0,minFilter:n.getMinFilter()||void 0,wrapS:n.getWrapS(),wrapT:n.getWrapT()},s=JSON.stringify(r);this.samplerDefIndexMap.has(s)||(this.samplerDefIndexMap.set(s,this.jsonDoc.json.samplers.length),this.jsonDoc.json.samplers.push(r));const i={source:this.imageIndexMap.get(e),sampler:this.samplerDefIndexMap.get(s)},o=JSON.stringify(i);this.textureDefIndexMap.has(o)||(this.textureDefIndexMap.set(o,this.jsonDoc.json.textures.length),this.jsonDoc.json.textures.push(i));const a={index:this.textureDefIndexMap.get(o)};return n.getTexCoord()!==0&&(a.texCoord=n.getTexCoord()),Object.keys(n.getExtras()).length>0&&(a.extras=n.getExtras()),this.textureInfoDefMap.set(n,a),a}createPropertyDef(e){const n={};return e.getName()&&(n.name=e.getName()),Object.keys(e.getExtras()).length>0&&(n.extras=e.getExtras()),n}createAccessorDef(e){const n=this.createPropertyDef(e);return n.type=e.getType(),n.componentType=e.getComponentType(),n.count=e.getCount(),this._doc.getGraph().listParentEdges(e).some(s=>s.getName()==="attributes"&&s.getAttributes().key==="POSITION"||s.getName()==="input")&&(n.max=e.getMax([]).map(Math.fround),n.min=e.getMin([]).map(Math.fround)),e.getNormalized()&&(n.normalized=e.getNormalized()),n}createImageData(e,n,r){if(this.options.format===Un.GLB)this.imageBufferViews.push(n),e.bufferView=this.jsonDoc.json.bufferViews.length,this.jsonDoc.json.bufferViews.push({buffer:0,byteOffset:-1,byteLength:n.byteLength});else{const s=fr.mimeTypeToExtension(r.getMimeType());e.uri=this.imageURIGenerator.createURI(r,s),this.assignResourceURI(e.uri,n,!1)}}assignResourceURI(e,n,r){const s=this.jsonDoc.resources;if(!(e in s)){s[e]=n;return}if(n===s[e]){this.logger.warn(`Duplicate resource URI, "${e}".`);return}const i=`Resource URI "${e}" already assigned to different data.`;if(!r){this.logger.warn(i);return}throw new Error(i)}getAccessorUsage(e){const n=this._accessorUsageMap.get(e);if(n)return n;if(e.getSparse())return Dt.SPARSE;for(const r of this._doc.getGraph().listParentEdges(e)){const{usage:s}=r.getAttributes();if(s)return s;r.getParent().propertyType!==je.ROOT&&this.logger.warn(`Missing attribute ".usage" on edge, "${r.getName()}".`)}return Dt.OTHER}addAccessorToUsageGroup(e,n){const r=this._accessorUsageMap.get(e);if(r&&r!==n)throw new Error(`Accessor with usage "${r}" cannot be reused as "${n}".`);return this._accessorUsageMap.set(e,n),this}}hr.BufferViewTarget=ws;hr.BufferViewUsage=Dt;hr.USAGE_TO_TARGET={[Dt.ARRAY_BUFFER]:ws.ARRAY_BUFFER,[Dt.ELEMENT_ARRAY_BUFFER]:ws.ELEMENT_ARRAY_BUFFER};class Bc{constructor(e,n){this.multiple=void 0,this.basename=void 0,this.counter={},this.multiple=e,this.basename=n}createURI(e,n){if(e.getURI())return e.getURI();if(this.multiple){const r=this.basename(e);return this.counter[r]=this.counter[r]||1,`${r}_${this.counter[r]++}.${n}`}else return`${this.basename(e)}.${n}`}}function y_(t,e){const n=t.getGraph().listParentEdges(e).find(r=>r.getParent()!==t.getRoot());return n?n.getName().replace(/texture$/i,""):""}const{BufferViewUsage:oi}=hr,{UNSIGNED_INT:b_,UNSIGNED_SHORT:w_,UNSIGNED_BYTE:__}=Fe.ComponentType,v_=new Set([je.ACCESSOR,je.BUFFER,je.MATERIAL,je.MESH]);class x_{static write(e,n){const r=e.getGraph(),s=e.getRoot(),i={asset:Rt({generator:`glTF-Transform ${Kf}`},s.getAsset()),extras:Rt({},s.getExtras())},o={json:i,resources:{}},a=new hr(e,o,n),l=n.logger||qt.DEFAULT_INSTANCE,c=new Set(n.extensions.map(p=>p.EXTENSION_NAME)),f=e.getRoot().listExtensionsUsed().filter(p=>c.has(p.extensionName)).sort((p,k)=>p.extensionName>k.extensionName?1:-1),h=e.getRoot().listExtensionsRequired().filter(p=>c.has(p.extensionName)).sort((p,k)=>p.extensionName>k.extensionName?1:-1);f.length<e.getRoot().listExtensionsUsed().length&&l.warn("Some extensions were not registered for I/O, and will not be written.");for(const p of f){const k=p.prewriteTypes.filter(S=>!v_.has(S));k.length&&l.warn(`Prewrite hooks for some types (${k.join()}), requested by extension ${p.extensionName}, are unsupported. Please file an issue or a PR.`);for(const S of p.writeDependencies)p.install(S,n.dependencies[S])}function d(p,k,S,v){const A=[];let N=0;for(const C of p){const j=a.createAccessorDef(C);j.bufferView=i.bufferViews.length;const B=C.getArray(),M=et.pad(et.toView(B));j.byteOffset=N,N+=M.byteLength,A.push(M),a.accessorIndexMap.set(C,i.accessors.length),i.accessors.push(j)}const y=et.concat(A),E={buffer:k,byteOffset:S,byteLength:y.byteLength};return v&&(E.target=v),i.bufferViews.push(E),{buffers:A,byteLength:N}}function g(p,k,S){const v=p[0].getCount();let A=0;for(const j of p){const B=a.createAccessorDef(j);B.bufferView=i.bufferViews.length,B.byteOffset=A;const M=j.getElementSize(),V=j.getComponentSize();A+=et.padNumber(M*V),a.accessorIndexMap.set(j,i.accessors.length),i.accessors.push(B)}const N=v*A,y=new ArrayBuffer(N),E=new DataView(y);for(let j=0;j<v;j++){let B=0;for(const M of p){const V=M.getElementSize(),ie=M.getComponentSize(),te=M.getComponentType(),oe=M.getArray();for(let le=0;le<V;le++){const J=j*A+B+le*ie,fe=oe[j*V+le];switch(te){case Fe.ComponentType.FLOAT:E.setFloat32(J,fe,!0);break;case Fe.ComponentType.BYTE:E.setInt8(J,fe);break;case Fe.ComponentType.SHORT:E.setInt16(J,fe,!0);break;case Fe.ComponentType.UNSIGNED_BYTE:E.setUint8(J,fe);break;case Fe.ComponentType.UNSIGNED_SHORT:E.setUint16(J,fe,!0);break;case Fe.ComponentType.UNSIGNED_INT:E.setUint32(J,fe,!0);break;default:throw new Error("Unexpected component type: "+te)}}B+=et.padNumber(V*ie)}}const C={buffer:k,byteOffset:S,byteLength:N,byteStride:A,target:hr.BufferViewTarget.ARRAY_BUFFER};return i.bufferViews.push(C),{byteLength:N,buffers:[new Uint8Array(y)]}}function b(p,k,S){const v=[];let A=0;const N=new Map;let y=-1/0,E=!1;for(const te of p){const oe=a.createAccessorDef(te);i.accessors.push(oe),a.accessorIndexMap.set(te,i.accessors.length-1);const le=[],J=[],fe=[],ue=new Array(te.getElementSize()).fill(0);for(let H=0,Se=te.getCount();H<Se;H++)if(te.getElement(H,fe),!ht.eq(fe,ue,0)){y=Math.max(H,y),le.push(H);for(let Le=0;Le<fe.length;Le++)J.push(fe[Le])}const ke=le.length,Ae={accessorDef:oe,count:ke};if(N.set(te,Ae),ke===0)continue;ke>te.getCount()/2&&(E=!0);const _e=qi[te.getComponentType()];Ae.indices=le,Ae.values=new _e(J)}if(!Number.isFinite(y))return{buffers:v,byteLength:A};E&&l.warn("Some sparse accessors have >50% non-zero elements, which may increase file size.");const C=y<255?Uint8Array:y<65535?Uint16Array:Uint32Array,j=y<255?__:y<65535?w_:b_,B={buffer:k,byteOffset:S+A,byteLength:0};for(const te of p){const oe=N.get(te);if(oe.count===0)continue;oe.indicesByteOffset=B.byteLength;const le=et.pad(et.toView(new C(oe.indices)));v.push(le),A+=le.byteLength,B.byteLength+=le.byteLength}i.bufferViews.push(B);const M=i.bufferViews.length-1,V={buffer:k,byteOffset:S+A,byteLength:0};for(const te of p){const oe=N.get(te);if(oe.count===0)continue;oe.valuesByteOffset=V.byteLength;const le=et.pad(et.toView(oe.values));v.push(le),A+=le.byteLength,V.byteLength+=le.byteLength}i.bufferViews.push(V);const ie=i.bufferViews.length-1;for(const te of p){const oe=N.get(te);oe.count!==0&&(oe.accessorDef.sparse={count:oe.count,indices:{bufferView:M,byteOffset:oe.indicesByteOffset,componentType:j},values:{bufferView:ie,byteOffset:oe.valuesByteOffset}})}return{buffers:v,byteLength:A}}if(i.accessors=[],i.bufferViews=[],i.samplers=[],i.textures=[],i.images=s.listTextures().map((p,k)=>{const S=a.createPropertyDef(p);p.getMimeType()&&(S.mimeType=p.getMimeType());const v=p.getImage();return v&&a.createImageData(S,v,p),a.imageIndexMap.set(p,k),S}),f.filter(p=>p.prewriteTypes.includes(je.ACCESSOR)).forEach(p=>p.prewrite(a,je.ACCESSOR)),s.listAccessors().forEach(p=>{const k=a.accessorUsageGroupedByParent,S=a.accessorParents;if(a.accessorIndexMap.has(p))return;const v=a.getAccessorUsage(p);if(a.addAccessorToUsageGroup(p,v),k.has(v)){const A=r.listParents(p).find(N=>N.propertyType!==je.ROOT);S.set(p,A)}}),f.filter(p=>p.prewriteTypes.includes(je.BUFFER)).forEach(p=>p.prewrite(a,je.BUFFER)),(s.listAccessors().length>0||a.otherBufferViews.size>0||s.listTextures().length>0&&n.format===Un.GLB)&&s.listBuffers().length===0)throw new Error("Buffer required for Document resources, but none was found.");i.buffers=[],s.listBuffers().forEach((p,k)=>{const S=a.createPropertyDef(p),v=a.accessorUsageGroupedByParent,A=p.listParents().filter(V=>V instanceof Fe),N=new Set(A.map(V=>a.accessorParents.get(V))),y=new Map(Array.from(N).map((V,ie)=>[V,ie])),E={};for(const V of A){var C;if(a.accessorIndexMap.has(V))continue;const ie=a.getAccessorUsage(V);let te=ie;if(v.has(ie)){const oe=a.accessorParents.get(V);te+=`:${y.get(oe)}`}E[C=te]||(E[C]={usage:ie,accessors:[]}),E[te].accessors.push(V)}const j=[],B=i.buffers.length;let M=0;for(const{usage:V,accessors:ie}of Object.values(E))if(V===oi.ARRAY_BUFFER&&n.vertexLayout===ji.INTERLEAVED){const te=g(ie,B,M);M+=te.byteLength;for(const oe of te.buffers)j.push(oe)}else if(V===oi.ARRAY_BUFFER)for(const te of ie){const oe=g([te],B,M);M+=oe.byteLength;for(const le of oe.buffers)j.push(le)}else if(V===oi.SPARSE){const te=b(ie,B,M);M+=te.byteLength;for(const oe of te.buffers)j.push(oe)}else if(V===oi.ELEMENT_ARRAY_BUFFER){const te=hr.BufferViewTarget.ELEMENT_ARRAY_BUFFER,oe=d(ie,B,M,te);M+=oe.byteLength;for(const le of oe.buffers)j.push(le)}else{const te=d(ie,B,M);M+=te.byteLength;for(const oe of te.buffers)j.push(oe)}if(a.imageBufferViews.length&&k===0){for(let V=0;V<a.imageBufferViews.length;V++)if(i.bufferViews[i.images[V].bufferView].byteOffset=M,M+=a.imageBufferViews[V].byteLength,j.push(a.imageBufferViews[V]),M%8){const ie=8-M%8;M+=ie,j.push(new Uint8Array(ie))}}if(a.otherBufferViews.has(p))for(const V of a.otherBufferViews.get(p))i.bufferViews.push({buffer:B,byteOffset:M,byteLength:V.byteLength}),a.otherBufferViewsIndexMap.set(V,i.bufferViews.length-1),M+=V.byteLength,j.push(V);if(M){let V;n.format===Un.GLB?V=Ri:(V=a.bufferURIGenerator.createURI(p,"bin"),S.uri=V),S.byteLength=M,a.assignResourceURI(V,et.concat(j),!0)}i.buffers.push(S),a.bufferIndexMap.set(p,k)}),s.listAccessors().find(p=>!p.getBuffer())&&l.warn("Skipped writing one or more Accessors: no Buffer assigned."),f.filter(p=>p.prewriteTypes.includes(je.MATERIAL)).forEach(p=>p.prewrite(a,je.MATERIAL)),i.materials=s.listMaterials().map((p,k)=>{const S=a.createPropertyDef(p);if(p.getAlphaMode()!==gr.AlphaMode.OPAQUE&&(S.alphaMode=p.getAlphaMode()),p.getAlphaMode()===gr.AlphaMode.MASK&&(S.alphaCutoff=p.getAlphaCutoff()),p.getDoubleSided()&&(S.doubleSided=!0),S.pbrMetallicRoughness={},ht.eq(p.getBaseColorFactor(),[1,1,1,1])||(S.pbrMetallicRoughness.baseColorFactor=p.getBaseColorFactor()),ht.eq(p.getEmissiveFactor(),[0,0,0])||(S.emissiveFactor=p.getEmissiveFactor()),p.getRoughnessFactor()!==1&&(S.pbrMetallicRoughness.roughnessFactor=p.getRoughnessFactor()),p.getMetallicFactor()!==1&&(S.pbrMetallicRoughness.metallicFactor=p.getMetallicFactor()),p.getBaseColorTexture()){const v=p.getBaseColorTexture(),A=p.getBaseColorTextureInfo();S.pbrMetallicRoughness.baseColorTexture=a.createTextureInfoDef(v,A)}if(p.getEmissiveTexture()){const v=p.getEmissiveTexture(),A=p.getEmissiveTextureInfo();S.emissiveTexture=a.createTextureInfoDef(v,A)}if(p.getNormalTexture()){const v=p.getNormalTexture(),A=p.getNormalTextureInfo(),N=a.createTextureInfoDef(v,A);p.getNormalScale()!==1&&(N.scale=p.getNormalScale()),S.normalTexture=N}if(p.getOcclusionTexture()){const v=p.getOcclusionTexture(),A=p.getOcclusionTextureInfo(),N=a.createTextureInfoDef(v,A);p.getOcclusionStrength()!==1&&(N.strength=p.getOcclusionStrength()),S.occlusionTexture=N}if(p.getMetallicRoughnessTexture()){const v=p.getMetallicRoughnessTexture(),A=p.getMetallicRoughnessTextureInfo();S.pbrMetallicRoughness.metallicRoughnessTexture=a.createTextureInfoDef(v,A)}return a.materialIndexMap.set(p,k),S}),f.filter(p=>p.prewriteTypes.includes(je.MESH)).forEach(p=>p.prewrite(a,je.MESH)),i.meshes=s.listMeshes().map((p,k)=>{const S=a.createPropertyDef(p);let v=null;return S.primitives=p.listPrimitives().map(A=>{const N={attributes:{}};N.mode=A.getMode();const y=A.getMaterial();y&&(N.material=a.materialIndexMap.get(y)),Object.keys(A.getExtras()).length&&(N.extras=A.getExtras());const E=A.getIndices();E&&(N.indices=a.accessorIndexMap.get(E));for(const C of A.listSemantics())N.attributes[C]=a.accessorIndexMap.get(A.getAttribute(C));for(const C of A.listTargets()){const j={};for(const B of C.listSemantics())j[B]=a.accessorIndexMap.get(C.getAttribute(B));N.targets=N.targets||[],N.targets.push(j)}return A.listTargets().length&&!v&&(v=A.listTargets().map(C=>C.getName())),N}),p.getWeights().length&&(S.weights=p.getWeights()),v&&(S.extras=S.extras||{},S.extras.targetNames=v),a.meshIndexMap.set(p,k),S}),i.cameras=s.listCameras().map((p,k)=>{const S=a.createPropertyDef(p);if(S.type=p.getType(),S.type===yr.Type.PERSPECTIVE){S.perspective={znear:p.getZNear(),zfar:p.getZFar(),yfov:p.getYFov()};const v=p.getAspectRatio();v!==null&&(S.perspective.aspectRatio=v)}else S.orthographic={znear:p.getZNear(),zfar:p.getZFar(),xmag:p.getXMag(),ymag:p.getYMag()};return a.cameraIndexMap.set(p,k),S}),i.nodes=s.listNodes().map((p,k)=>{const S=a.createPropertyDef(p);return ht.eq(p.getTranslation(),[0,0,0])||(S.translation=p.getTranslation()),ht.eq(p.getRotation(),[0,0,0,1])||(S.rotation=p.getRotation()),ht.eq(p.getScale(),[1,1,1])||(S.scale=p.getScale()),p.getWeights().length&&(S.weights=p.getWeights()),a.nodeIndexMap.set(p,k),S}),i.skins=s.listSkins().map((p,k)=>{const S=a.createPropertyDef(p),v=p.getInverseBindMatrices();v&&(S.inverseBindMatrices=a.accessorIndexMap.get(v));const A=p.getSkeleton();return A&&(S.skeleton=a.nodeIndexMap.get(A)),S.joints=p.listJoints().map(N=>a.nodeIndexMap.get(N)),a.skinIndexMap.set(p,k),S}),s.listNodes().forEach((p,k)=>{const S=i.nodes[k],v=p.getMesh();v&&(S.mesh=a.meshIndexMap.get(v));const A=p.getCamera();A&&(S.camera=a.cameraIndexMap.get(A));const N=p.getSkin();N&&(S.skin=a.skinIndexMap.get(N)),p.listChildren().length>0&&(S.children=p.listChildren().map(y=>a.nodeIndexMap.get(y)))}),i.animations=s.listAnimations().map((p,k)=>{const S=a.createPropertyDef(p),v=new Map;return S.samplers=p.listSamplers().map((A,N)=>{const y=a.createPropertyDef(A);return y.input=a.accessorIndexMap.get(A.getInput()),y.output=a.accessorIndexMap.get(A.getOutput()),y.interpolation=A.getInterpolation(),v.set(A,N),y}),S.channels=p.listChannels().map(A=>{const N=a.createPropertyDef(A);return N.sampler=v.get(A.getSampler()),N.target={node:a.nodeIndexMap.get(A.getTargetNode()),path:A.getTargetPath()},N}),a.animationIndexMap.set(p,k),S}),i.scenes=s.listScenes().map((p,k)=>{const S=a.createPropertyDef(p);return S.nodes=p.listChildren().map(v=>a.nodeIndexMap.get(v)),a.sceneIndexMap.set(p,k),S});const _=s.getDefaultScene();return _&&(i.scene=s.listScenes().indexOf(_)),i.extensionsUsed=f.map(p=>p.extensionName),i.extensionsRequired=h.map(p=>p.extensionName),f.forEach(p=>p.write(a)),E_(i),o}}function E_(t){const e=[];for(const n in t){const r=t[n];(Array.isArray(r)&&r.length===0||r===null||r===""||r&&typeof r=="object"&&Object.keys(r).length===0)&&e.push(n)}for(const n of e)delete t[n]}var Mi;(function(t){t[t.JSON=1313821514]="JSON",t[t.BIN=5130562]="BIN"})(Mi||(Mi={}));class S_{constructor(){this._logger=qt.DEFAULT_INSTANCE,this._extensions=new Set,this._dependencies={},this._vertexLayout=ji.INTERLEAVED,this.lastReadBytes=0,this.lastWriteBytes=0}setLogger(e){return this._logger=e,this}registerExtensions(e){for(const n of e)this._extensions.add(n),n.register();return this}registerDependencies(e){return Object.assign(this._dependencies,e),this}setVertexLayout(e){return this._vertexLayout=e,this}async read(e){return await this.readJSON(await this.readAsJSON(e))}async readAsJSON(e){const n=await this.readURI(e,"view");this.lastReadBytes=n.byteLength;const r=Dc(n)?this._binaryToJSON(n):{json:JSON.parse(et.decodeText(n)),resources:{}};return await this._readResourcesExternal(r,this.dirname(e)),this._readResourcesInternal(r),r}async readJSON(e){return e=this._copyJSON(e),this._readResourcesInternal(e),p_.read(e,{extensions:Array.from(this._extensions),dependencies:this._dependencies,logger:this._logger})}async binaryToJSON(e){const n=this._binaryToJSON(et.assertView(e));this._readResourcesInternal(n);const r=n.json;if(r.buffers&&r.buffers.some(s=>k_(n,s)))throw new Error("Cannot resolve external buffers with binaryToJSON().");if(r.images&&r.images.some(s=>A_(n,s)))throw new Error("Cannot resolve external images with binaryToJSON().");return n}async readBinary(e){return this.readJSON(await this.binaryToJSON(et.assertView(e)))}async writeJSON(e,n={}){if(n.format===Un.GLB&&e.getRoot().listBuffers().length>1)throw new Error("GLB must have 01 buffers.");return x_.write(e,{format:n.format||Un.GLTF,basename:n.basename||"",logger:this._logger,vertexLayout:this._vertexLayout,dependencies:Rt({},this._dependencies),extensions:Array.from(this._extensions)})}async writeBinary(e){const{json:n,resources:r}=await this.writeJSON(e,{format:Un.GLB}),s=new Uint32Array([1179937895,2,12]),i=JSON.stringify(n),o=et.pad(et.encodeText(i),32),a=et.toView(new Uint32Array([o.byteLength,1313821514])),l=et.concat([a,o]);s[s.length-1]+=l.byteLength;const c=Object.values(r)[0];if(!c||!c.byteLength)return et.concat([et.toView(s),l]);const f=et.pad(c,0),h=et.toView(new Uint32Array([f.byteLength,5130562])),d=et.concat([h,f]);return s[s.length-1]+=d.byteLength,et.concat([et.toView(s),l,d])}async _readResourcesExternal(e,n){var r=this;const s=e.json.images||[],i=e.json.buffers||[],o=[...s,...i].map(async function(a){const l=a.uri;if(!l||l.match(/data:/))return Promise.resolve();e.resources[l]=await r.readURI(r.resolve(n,l),"view"),r.lastReadBytes+=e.resources[l].byteLength});await Promise.all(o)}_readResourcesInternal(e){function n(i){if(i.uri){if(i.uri in e.resources){et.assertView(e.resources[i.uri]);return}if(i.uri.match(/data:/)){const o=`__${i_()}.${Fr.extension(i.uri)}`;e.resources[o]=et.createBufferFromDataURI(i.uri),i.uri=o}}}(e.json.images||[]).forEach(i=>{if(i.bufferView===void 0&&i.uri===void 0)throw new Error("Missing resource URI or buffer view.");n(i)}),(e.json.buffers||[]).forEach(n)}_copyJSON(e){const{images:n,buffers:r}=e.json;return e={json:Rt({},e.json),resources:Rt({},e.resources)},n&&(e.json.images=n.map(s=>Rt({},s))),r&&(e.json.buffers=r.map(s=>Rt({},s))),e}_binaryToJSON(e){if(!Dc(e))throw new Error("Invalid glTF 2.0 binary.");const n=new Uint32Array(e.buffer,e.byteOffset+12,2);if(n[1]!==Mi.JSON)throw new Error("Missing required GLB JSON chunk.");const r=20,s=n[0],i=et.decodeText(et.toView(e,r,s)),o=JSON.parse(i),a=r+s;if(e.byteLength<=a)return{json:o,resources:{}};const l=new Uint32Array(e.buffer,e.byteOffset+a,2);if(l[1]!==Mi.BIN)return{json:o,resources:{}};const c=l[0],f=et.toView(e,a+8,c);return{json:o,resources:{[Ri]:f}}}}function k_(t,e){return e.uri!==void 0&&!(e.uri in t.resources)}function A_(t,e){return e.uri!==void 0&&!(e.uri in t.resources)&&e.bufferView===void 0}function Dc(t){if(t.byteLength<3*Uint32Array.BYTES_PER_ELEMENT)return!1;const e=new Uint32Array(t.buffer,t.byteOffset,3);return e[0]===1179937895&&e[1]===2}class T_ extends S_{constructor(e=us.DEFAULT_INIT){super(),this._fetchConfig=void 0,this._fetchConfig=e}async readURI(e,n){const r=await fetch(e,this._fetchConfig);switch(n){case"view":return new Uint8Array(await r.arrayBuffer());case"text":return r.text()}}resolve(e,n){return us.resolve(e,n)}dirname(e){return us.dirname(e)}}async function ih(t){const e=URL.createObjectURL(new Blob([t])),n=new T_,r=await n.read(e);return await n.writeBinary(r)}var ko,Fc;function N_(){return Fc||(Fc=1,ko=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),ko}var O_=N_();const I_=lu(O_),nr=ps(""),ai=0;function Uc(t){if(!t)return[];const e=new Set;function n(s){if(s&&typeof s=="object"&&"minecraft:custom_model_data"in s){const i=s["minecraft:custom_model_data"];if(i?.floats)for(const o of i.floats)e.add(o)}}function r(s){for(const i of Object.keys(s)){const o=s[i];n(o.item?.components),o.attachments&&r(o.attachments)}}return t.model&&(n(t.model.item?.components),t.model.attachments&&r(t.model.attachments)),Array.from(e).sort((s,i)=>s-i)}const Wt=ba((t,e)=>{const n=r=>{const s=typeof r=="function"?r(e()):r,i=e(),o={...s};let a=!1;if("metadata"in o&&o.metadata){const l={...i.metadata},c={...o.metadata};delete l.orbitControls,delete c.orbitControls,I_(l,c)||(a=!0)}return"saved"in o&&o.saved===!0?o.saved=!0:a&&(o.saved=!1),t(o)};return{saved:!1,metadata:{schemaVersion:ai,projectName:"",createdAt:null,lastModifiedAt:null,orbitControls:void 0},cart:null,modelIds:[],modelFiles:new Map,selectedObjectPath:void 0,setSelectedObjectPath:r=>n({selectedObjectPath:r}),setMetadata:r=>n({metadata:r}),setProjectName:r=>n(s=>({metadata:{...s.metadata,projectName:r}})),setCart:r=>n({cart:r,modelIds:Uc(r)}),clearCart:()=>n({cart:null}),saveProject:async r=>{const s=Wt.getState();if(!s.cart)throw new Error("No cart data to save.");const i=`${s.metadata.projectName||"TCA-Project"}.tcaproj`,o={...s.metadata,createdAt:s.metadata.createdAt||new Date},a={"metadata.json":ps(Ge.stringify(o)),"cart.json":ps(Ge.stringify(s.cart))};for(const g of s.modelIds){const b=s.modelFiles.get(g);if(!b)continue;const m=new Uint8Array(b.slice(0,4));let _=".gltf";if(m[0]===103&&m[1]===108&&m[2]===84&&m[3]===70&&(_=".glb"),_===".gltf"){const p=await ih(b);a[`models/${g}.glb`]=p}else a[`models/${g}.glb`]=new Uint8Array(b)}const l=km(a,{level:9,mem:8}),c=new Uint8Array(nr.length+l.length);c.set(nr),c.set(l,nr.length);const f=new Uint8Array(c.length);f.set(c);const h=new Blob([f],{type:"application/binary"}),d=s.fileHandle;if(!d||r){const g=await ir.promise(Promise.race([qg(h,{fileName:i,extensions:[".tcaproj"],mimeTypes:["application/binary"],id:"tca-project"}),new Promise((b,m)=>setTimeout(()=>m(new Error("Save timed out.")),15e3))]),{loading:"Saving project...",success:"Project saved successfully!",error:"Failed to save the project."}).unwrap();g&&(n({saved:!0,fileHandle:g,metadata:{...o}}),g.name!==i&&n({metadata:{...o,lastModifiedAt:new Date,projectName:g.name.replace(/\.tcaproj$/,"")}}))}else await ir.promise(Promise.race([d.createWritable().then(async b=>(await b.write(f),await b.close(),!0)).catch(()=>!1),new Promise((b,m)=>setTimeout(()=>m(new Error("Save timed out.")),15e3))]),{loading:"Saving project...",success:"Project saved successfully!",error:"Failed to save the project."}).unwrap()&&n({saved:!0,fileHandle:d,metadata:{...o,lastModifiedAt:new Date}})},loadProjectFromFile:async()=>{const r=await Sa({description:"Select a TCA-Project file",extensions:[".tcaproj"],mimeTypes:["application/binary"],id:"tca-project",startIn:"documents"}).catch(()=>null);if(!r)throw new Error("No file selected.");const s=await r.arrayBuffer(),i=new Uint8Array(nr.length);if(i.set(nr),!new Uint8Array(s.slice(0,nr.length)).every((c,f)=>c===i[f]))throw new Error("Invalid TCA-Project file format.");const a=new Uint8Array(s.slice(nr.length)),l=await Am(a);for(const[c,f]of Object.entries(l))if(c==="metadata.json"){const h=Ge.parse(Wo(f)),d=Gb.safeParse(h);if(!d.success){console.error("Invalid metadata in project:",d.error),ir.error("We couldn't load your project. The metadata is invalid. See the browser console for more details.",{duration:1e4}),n({metadata:{schemaVersion:ai,projectName:"",createdAt:null,lastModifiedAt:null},cart:null,fileHandle:void 0});continue}n({metadata:d.data})}else if(c==="cart.json"){const h=Ge.parse(Wo(f)),d=If.safeParse(h);if(!d.success){console.error("Invalid cart data in project:",d.error),ir.error("We couldn't load your project. The cart data is invalid. See the browser console for more details.",{duration:1e4}),n({metadata:{schemaVersion:ai,projectName:"",createdAt:null,lastModifiedAt:null},cart:null,fileHandle:void 0});continue}n({cart:d.data,modelIds:Uc(d.data)})}else if(c.startsWith("models/")&&c.endsWith(".glb")){const h=parseInt(c.replace("models/","").replace(".glb",""));isNaN(h)||n(d=>{const g=new Map(d.modelFiles);return g.set(h,Au(f.buffer)),{modelFiles:g}})}else console.warn(`Unknown file in TCA-Project: ${c}`);n({saved:!0,fileHandle:r.handle})},reset:()=>n({metadata:{schemaVersion:ai,projectName:"",createdAt:null,lastModifiedAt:null},cart:null,fileHandle:void 0}),setModelFile:(r,s)=>{n(i=>{const o=new Map(i.modelFiles);return s?o.set(r,s):o.delete(r),{modelFiles:o,saved:!1}})},removeModelFile:r=>{n(s=>{const i=new Map(s.modelFiles);return i.delete(r),{modelFiles:i,saved:!1}})},logState:()=>{const r=e();console.log("ProjectStore state:",r)}}});function C_(){const t=be.c(56),e=Wt(),[n,r]=ze.useState(document.fullscreenElement),[s,i]=ze.useState(!1),[o,a]=ze.useState(!1),l=j_;let c,f;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{const Ae=()=>{r(document.fullscreenElement)};return document.addEventListener("fullscreenchange",Ae),()=>{document.removeEventListener("fullscreenchange",Ae)}},f=[],t[0]=c,t[1]=f):(c=t[0],f=t[1]),ze.useEffect(c,f);let h;t[2]!==e?(h=async()=>{i(!0),await e.saveProject(),e.reset(),i(!1)},t[2]=e,t[3]=h):h=t[3];const d=h;let g,b;t[4]!==e?(g=()=>{const Ae=_e=>{_e.key==="s"&&(_e.ctrlKey||_e.metaKey)&&e.cart?(_e.preventDefault(),e.saveProject().catch(R_)):_e.key===","&&(_e.ctrlKey||_e.metaKey)&&(_e.preventDefault(),a(!0))};return window.addEventListener("keydown",Ae),()=>{window.removeEventListener("keydown",Ae)}},b=[e],t[4]=e,t[5]=g,t[6]=b):(g=t[5],b=t[6]),ze.useEffect(g,b);const m=e.metadata.projectName||"Untitled Project";let _;t[7]!==e.saved?(_=e.saved?w.jsx(cu,{}):w.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:"currentColor",marginRight:4,aspectRatio:"1 / 1"}}),t[7]=e.saved,t[8]=_):_=t[8];let p;t[9]!==d||t[10]!==s||t[11]!==_?(p=w.jsx(pn,{className:"h-4 w-4",variant:"ghost",size:"icon",disabled:s,onClick:d,children:_}),t[9]=d,t[10]=s,t[11]=_,t[12]=p):p=t[12];let k;t[13]!==m||t[14]!==p?(k=w.jsxs("div",{className:"bg-card flex items-center gap-2 px-2",children:[m,p]}),t[13]=m,t[14]=p,t[15]=k):k=t[15];let S;t[16]===Symbol.for("react.memo_cache_sentinel")?(S=w.jsx(Eg,{children:"File"}),t[16]=S):S=t[16];let v;t[17]!==e?(v=async()=>e.saveProject(),t[17]=e,t[18]=v):v=t[18];let A;t[19]===Symbol.for("react.memo_cache_sentinel")?(A=w.jsx(ml,{children:"CTRL + S"}),t[19]=A):A=t[19];let N;t[20]!==s||t[21]!==v?(N=w.jsxs(vr,{disabled:s,onClick:v,children:["Save Project ",A]}),t[20]=s,t[21]=v,t[22]=N):N=t[22];let y;t[23]!==e?(y=async()=>e.saveProject(!0),t[23]=e,t[24]=y):y=t[24];let E;t[25]!==s||t[26]!==y?(E=w.jsx(vr,{disabled:s,onClick:y,children:"Save Project As"}),t[25]=s,t[26]=y,t[27]=E):E=t[27];let C;t[28]===Symbol.for("react.memo_cache_sentinel")?(C=w.jsx(oo,{}),t[28]=C):C=t[28];let j;t[29]!==e?(j=async()=>e.loadProjectFromFile(),t[29]=e,t[30]=j):j=t[30];let B;t[31]!==s||t[32]!==j?(B=w.jsx(vr,{disabled:s,onClick:j,children:"Load Project"}),t[31]=s,t[32]=j,t[33]=B):B=t[33];let M;t[34]!==d||t[35]!==s?(M=w.jsx(vr,{disabled:s,onClick:d,children:"New Project"}),t[34]=d,t[35]=s,t[36]=M):M=t[36];let V;t[37]===Symbol.for("react.memo_cache_sentinel")?(V=w.jsx(oo,{}),t[37]=V):V=t[37];let ie;t[38]===Symbol.for("react.memo_cache_sentinel")?(ie=()=>a(!0),t[38]=ie):ie=t[38];let te,oe,le;t[39]===Symbol.for("react.memo_cache_sentinel")?(te=w.jsxs(vr,{onClick:ie,children:["Preferences",w.jsx(ml,{children:"CTRL + ,"})]}),oe=w.jsx(oo,{}),le=w.jsx(vr,{children:"Print"}),t[39]=te,t[40]=oe,t[41]=le):(te=t[39],oe=t[40],le=t[41]);let J;t[42]!==N||t[43]!==E||t[44]!==B||t[45]!==M?(J=w.jsxs(gl,{children:[S,w.jsxs(Sg,{children:[N,E,C,B,M,V,te,oe,le]})]}),t[42]=N,t[43]=E,t[44]=B,t[45]=M,t[46]=J):J=t[46];let fe;t[47]!==n?(fe=w.jsx(gl,{children:w.jsx(pn,{className:"ml-auto",variant:"ghost",size:"icon",onClick:l,children:n?w.jsx(op,{}):w.jsx(ip,{})})}),t[47]=n,t[48]=fe):fe=t[48];let ue;t[49]!==o?(ue=w.jsx(z_,{open:o,setOpen:a}),t[49]=o,t[50]=ue):ue=t[50];let ke;return t[51]!==J||t[52]!==fe||t[53]!==ue||t[54]!==k?(ke=w.jsxs(vg,{className:"rounded-none",children:[k,J,fe,ue]}),t[51]=J,t[52]=fe,t[53]=ue,t[54]=k,t[55]=ke):ke=t[55],ke}function R_(t){console.error("Save failed:",t)}function j_(){document.fullscreenElement?document.exitFullscreen().catch(P_):document.documentElement.requestFullscreen().catch(M_)}function P_(t){console.error("Error exiting fullscreen mode:",t)}function M_(t){console.error("Error entering fullscreen mode:",t)}function z_(t){const e=be.c(61),{open:n,setOpen:r}=t,s=Es();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=w.jsx(wg,{children:"Preferences"}),e[0]=i):i=e[0];let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=w.jsx(tn,{htmlFor:"theme-select",children:"Theme:"}),e[1]=o):o=e[1];let a;e[2]!==s?(a=fe=>{if(fe!=="light"&&fe!=="dark"){console.warn("Invalid theme selected:",fe);return}s.setTheme(fe)},e[2]=s,e[3]=a):a=e[3];let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=w.jsx(Bo,{className:"h-10 w-full",id:"theme-select",children:w.jsx($o,{placeholder:"Select theme"})}),e[4]=l):l=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=w.jsx(Do,{children:w.jsxs(Lo,{children:[w.jsx(Fo,{children:"Available Themes"}),w.jsx(Ti,{value:"light",children:"Light"}),w.jsx(Ti,{value:"dark",children:"Dark"})]})}),e[5]=c):c=e[5];let f;e[6]!==s.theme||e[7]!==a?(f=w.jsxs("div",{className:"flex flex-col",children:[o,w.jsxs(zo,{value:s.theme,onValueChange:a,children:[l,c]})]}),e[6]=s.theme,e[7]=a,e[8]=f):f=e[8];let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=w.jsx(tn,{htmlFor:"save-interval",children:"Auto-save Interval (seconds):"}),e[9]=h):h=e[9];let d;e[10]!==s?(d=fe=>{const ue=parseInt(fe.target.value,10);if(isNaN(ue)||ue<1){console.warn("Invalid save interval:",fe.target.value);return}s.setSaveInterval(ue)},e[10]=s,e[11]=d):d=e[11];let g;e[12]!==s.saveInterval||e[13]!==d?(g=w.jsxs("div",{className:"flex flex-col",children:[h,w.jsx(Ea,{id:"save-interval",type:"number",min:1,value:s.saveInterval,onChange:d,className:"h-10 w-full"})]}),e[12]=s.saveInterval,e[13]=d,e[14]=g):g=e[14];let b;e[15]===Symbol.for("react.memo_cache_sentinel")?(b=w.jsx(tn,{htmlFor:"grid-color",className:"mb-2 block",children:"Grid Color:"}),e[15]=b):b=e[15];let m;e[16]!==s?(m=fe=>{s.setGridColor(fe.hex)},e[16]=s,e[17]=m):m=e[17];let _;e[18]!==s.gridColor||e[19]!==m?(_=w.jsxs("div",{className:"flex flex-col",children:[b,w.jsx(Og,{defaultColor:s.gridColor,onChangeComplete:m})]}),e[18]=s.gridColor,e[19]=m,e[20]=_):_=e[20];let p;e[21]===Symbol.for("react.memo_cache_sentinel")?(p=w.jsx($n,{asChild:!0,children:w.jsx(Cs,{className:"mr-[0.5] inline h-3"})}),e[21]=p):p=e[21];let k;e[22]===Symbol.for("react.memo_cache_sentinel")?(k=w.jsxs(tn,{htmlFor:"debug-text",className:"mb-2 block",children:[w.jsxs(Ln,{children:[p,w.jsx(Bn,{children:w.jsx("p",{children:"Debug text displays additional information about the 3D scene, such as object coordinates and rendering details. It can be useful for troubleshooting but may clutter the view."})})]}),"Debug Text:"]}),e[22]=k):k=e[22];let S;e[23]!==s?(S=fe=>s.setDebugText(fe),e[23]=s,e[24]=S):S=e[24];let v;e[25]!==s.debugText||e[26]!==S?(v=w.jsxs("div",{className:"flex flex-row gap-2",children:[k,w.jsx(Ms,{id:"debug-text",checked:s.debugText,onCheckedChange:S})]}),e[25]=s.debugText,e[26]=S,e[27]=v):v=e[27];let A;e[28]===Symbol.for("react.memo_cache_sentinel")?(A=w.jsx($n,{asChild:!0,children:w.jsx(Cs,{className:"mr-[0.5] inline h-3"})}),e[28]=A):A=e[28];let N;e[29]===Symbol.for("react.memo_cache_sentinel")?(N=w.jsxs(tn,{htmlFor:"ssao-enabled",className:"mb-2 block",children:[w.jsxs(Ln,{children:[A,w.jsx(Bn,{children:w.jsx("p",{children:"Screen Space Ambient Occlusion (SSAO) is a shading method that adds soft shadows to enhance depth perception in 3D scenes. It can improve visual realism but may impact performance."})})]}),"SSAO Enabled:"]}),e[29]=N):N=e[29];let y;e[30]!==s?(y=fe=>s.setSSAOEnabled(fe),e[30]=s,e[31]=y):y=e[31];let E;e[32]!==s.SSAOEnabled||e[33]!==y?(E=w.jsxs("div",{className:"flex flex-row gap-2",children:[N,w.jsx(Ms,{id:"ssao-enabled",checked:s.SSAOEnabled,onCheckedChange:y})]}),e[32]=s.SSAOEnabled,e[33]=y,e[34]=E):E=e[34];let C;e[35]===Symbol.for("react.memo_cache_sentinel")?(C=w.jsx($n,{asChild:!0,children:w.jsx(Cs,{className:"mr-[0.5] inline h-3"})}),e[35]=C):C=e[35];let j;e[36]===Symbol.for("react.memo_cache_sentinel")?(j=w.jsxs(tn,{htmlFor:"dof-enabled",className:"mb-2 block",children:[w.jsxs(Ln,{children:[C,w.jsx(Bn,{children:w.jsx("p",{children:"Depth of Field (DOF) creates a blurred effect on objects outside the focus area, simulating camera lens behavior. It enhances realism but can be resource-intensive and may affect performance."})})]}),"Depth of Field Enabled:"]}),e[36]=j):j=e[36];let B;e[37]!==s?(B=fe=>s.setDOFEnabled(fe),e[37]=s,e[38]=B):B=e[38];let M;e[39]!==s.DOFEnabled||e[40]!==B?(M=w.jsxs("div",{className:"flex flex-row gap-2",children:[j,w.jsx(Ms,{id:"dof-enabled",checked:s.DOFEnabled,onCheckedChange:B})]}),e[39]=s.DOFEnabled,e[40]=B,e[41]=M):M=e[41];let V;e[42]===Symbol.for("react.memo_cache_sentinel")?(V=w.jsx($n,{asChild:!0,children:w.jsx(Cs,{className:"mr-[0.5] inline h-3"})}),e[42]=V):V=e[42];let ie;e[43]===Symbol.for("react.memo_cache_sentinel")?(ie=w.jsxs(tn,{htmlFor:"control-damping-enabled",className:"mb-2 block",children:[w.jsxs(Ln,{children:[V,w.jsx(Bn,{children:w.jsx("p",{children:"Enabling control damping makes camera movements smoother by adding inertia. This results in a more natural feel when orbiting or panning the view, but may introduce a slight delay in responsiveness."})})]}),"Orbit Controls Damping:"]}),e[43]=ie):ie=e[43];let te;e[44]!==s?(te=fe=>s.setControlDamping(fe),e[44]=s,e[45]=te):te=e[45];let oe;e[46]!==s.controlDamping||e[47]!==te?(oe=w.jsxs("div",{className:"flex flex-row gap-2",children:[ie,w.jsx(Ms,{id:"control-damping",checked:s.controlDamping,onCheckedChange:te})]}),e[46]=s.controlDamping,e[47]=te,e[48]=oe):oe=e[48];let le;e[49]!==_||e[50]!==v||e[51]!==E||e[52]!==M||e[53]!==oe||e[54]!==f||e[55]!==g?(le=w.jsx(yg,{children:w.jsxs(bg,{children:[i,w.jsx(_g,{asChild:!0,children:w.jsxs("div",{children:["Here you can adjust your preferences for the application.",w.jsxs("div",{className:"mt-4 flex flex-col gap-4",children:[f,g,_,v,E,M,oe]})]})})]})}),e[49]=_,e[50]=v,e[51]=E,e[52]=M,e[53]=oe,e[54]=f,e[55]=g,e[56]=le):le=e[56];let J;return e[57]!==n||e[58]!==r||e[59]!==le?(J=w.jsx(pg,{open:n,onOpenChange:r,children:le}),e[57]=n,e[58]=r,e[59]=le,e[60]=J):J=e[60],J}let xi=[],Ei=[];function L_(t){return xi.push(t),()=>{xi=xi.filter(e=>e!==t)}}function $_(t){return Ei.push(t),()=>{Ei=Ei.filter(e=>e!==t)}}function B_(){const t=be.c(3),e=ze.useRef(0);let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=performance.now(),t[0]=n):n=t[0];const r=ze.useRef(n),{gl:s}=wa();let i;return t[1]!==s?(i=()=>{e.current=e.current+1;const o=performance.now(),a=o-r.current;if(a>500){const l=Math.round(e.current*1e3/a);e.current=0,r.current=o,xi.forEach(f=>f(l));const c=s.info;Ei.forEach(f=>f(c.render))}},t[1]=s,t[2]=i):i=t[2],fu(i),null}function D_(t){const e=be.c(24),{position:n}=t,r=n===void 0?"top-right":n,s=Es(),[i,o]=ze.useState(0);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={calls:0,frame:0,lines:0,points:0,triangles:0},e[0]=a):a=e[0];const[l,c]=ze.useState(a);let f,h;e[1]===Symbol.for("react.memo_cache_sentinel")?(f=()=>L_(o),h=[],e[1]=f,e[2]=h):(f=e[1],h=e[2]),ze.useEffect(f,h);let d,g;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=()=>$_(c),g=[],e[3]=d,e[4]=g):(d=e[3],g=e[4]),ze.useEffect(d,g);const b=r.includes("top")?8:void 0,m=r.includes("bottom")?8:void 0,_=r.includes("left")?8:void 0,p=r.includes("right")?8:void 0;let k;e[5]!==p||e[6]!==b||e[7]!==m||e[8]!==_?(k={top:b,bottom:m,left:_,right:p},e[5]=p,e[6]=b,e[7]=m,e[8]=_,e[9]=k):k=e[9];const S=k;let v;e[10]!==S?(v={...S},e[10]=S,e[11]=v):v=e[11];let A;e[12]!==i?(A=w.jsxs("p",{children:[i," FPS"]}),e[12]=i,e[13]=A):A=e[13];let N;e[14]!==s.DOFEnabled||e[15]!==s.SSAOEnabled||e[16]!==s.controlDamping||e[17]!==s.debugText||e[18]!==l?(N=s.debugText&&w.jsxs(w.Fragment,{children:[w.jsx("hr",{className:"border-border my-1 border-t"}),w.jsxs("p",{children:["Draw Calls: ",l.calls]}),w.jsxs("p",{children:["Frame: ",l.frame]}),w.jsxs("p",{children:["Triangles: ",l.triangles]}),w.jsxs("p",{children:["Lines: ",l.lines]}),w.jsxs("p",{children:["Points: ",l.points]}),w.jsx("hr",{className:"border-border my-1 border-t"}),w.jsxs("p",{children:["Debug Text: ",s.debugText?"On":"Off"]}),w.jsxs("p",{children:["SSAO: ",s.SSAOEnabled?"On":"Off"]}),w.jsxs("p",{children:["Depth of Field: ",s.DOFEnabled?"On":"Off"]}),w.jsxs("p",{children:["Control Damping:"," ",s.controlDamping?"On":"Off"]})]}),e[14]=s.DOFEnabled,e[15]=s.SSAOEnabled,e[16]=s.controlDamping,e[17]=s.debugText,e[18]=l,e[19]=N):N=e[19];let y;return e[20]!==v||e[21]!==A||e[22]!==N?(y=w.jsxs("div",{className:"text-muted-foreground pointer-events-none absolute z-10 text-right font-mono text-sm",style:v,children:[A,N]}),e[20]=v,e[21]=A,e[22]=N,e[23]=y):y=e[23],y}function ua(t){const e=be.c(14),n=ze.useRef(null),{camera:r}=wa();let s;e[0]!==r?(s=()=>{if(!n.current)return;const m=n.current.getWorldPosition(new Nt),_=r.position.clone();_.y=m.y;const p=_.sub(m).normalize();let k=Math.atan2(p.x,p.z);if(n.current.parent){const S=new Cp;n.current.parent.getWorldQuaternion(S);const A=new va().setFromQuaternion(S,"YXZ").y;k=k-A+Math.PI}else k=k+Math.PI;n.current.rotation.set(0,k+fn(180),0)},e[0]=r,e[1]=s):s=e[1],fu(s);let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=[.3,.3,.3],e[2]=i):i=e[2];let o,a=0,l=0,c=-.1;const f=t.position;Array.isArray(f)&&f.length===3?(a=f[0]??0,l=f[1]??0,c=(f[2]??0)-.1):f&&typeof f=="object"&&"x"in f&&"y"in f&&"z"in f?(a=f.x??0,l=f.y??0,c=(f.z??0)-.1):typeof f=="number"&&(a=f);let h;e[3]!==a||e[4]!==l||e[5]!==c?(h=new Nt(a,l,c),e[3]=a,e[4]=l,e[5]=c,e[6]=h):h=e[6],o=h;let d;e[7]!==o?(d=w.jsx(mp,{args:i,position:o}),e[7]=o,e[8]=d):d=e[8];let g;e[9]!==t?(g=w.jsx(gp,{ref:n,...t,renderOrder:9999,children:t.children}),e[9]=t,e[10]=g):g=e[10];let b;return e[11]!==d||e[12]!==g?(b=w.jsxs(w.Fragment,{children:[d,g]}),e[11]=d,e[12]=g,e[13]=b):b=e[13],b}const li=[],F_=5;function U_(){const t=Math.floor(Math.random()*360),e=70+Math.random()*10,n=80+Math.random()*10;return`hsl(${t}, ${e}%, ${n}%)`}function V_(){let t="",e=0;do t=U_(),e++;while(li.includes(t)&&e<10);return li.push(t),li.length>F_&&li.shift(),t}const _s=ze.forwardRef((t,e)=>{const n=be.c(14),r=yp("/tc-animator/textures/missing.png");let s,i;n[0]!==r?(i=r.clone(),i.magFilter=ll,i.minFilter=ll,n[0]=r,n[1]=i):i=n[1],s=i;const o=s;let a,l;n[2]===Symbol.for("react.memo_cache_sentinel")?(l=V_(),n[2]=l):l=n[2],a=l;const c=a,[f,h]=ze.useState(!1);let d,g,b;n[3]===Symbol.for("react.memo_cache_sentinel")?(d=S=>{S.stopPropagation(),h(!0)},g=()=>h(!1),b=w.jsx("boxGeometry",{args:[1,1,1]}),n[3]=d,n[4]=g,n[5]=b):(d=n[3],g=n[4],b=n[5]);const m=f?c:"#000",_=f?.5:0;let p;n[6]!==m||n[7]!==_||n[8]!==o?(p=w.jsx("meshStandardMaterial",{map:o,color:c,emissive:m,emissiveIntensity:_}),n[6]=m,n[7]=_,n[8]=o,n[9]=p):p=n[9];let k;return n[10]!==t||n[11]!==e||n[12]!==p?(k=w.jsxs("mesh",{ref:e,...t,castShadow:!0,receiveShadow:!0,onPointerOver:d,onPointerOut:g,children:[b,p]}),n[10]=t,n[11]=e,n[12]=p,n[13]=k):k=n[13],k});class Z_{add(e,n,r){if(typeof arguments[0]!="string")for(let s in arguments[0])this.add(s,arguments[0][s],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(s){this[s]=this[s]||[],n&&this[s][r?"unshift":"push"](n)},this)}run(e,n){this[e]=this[e]||[],this[e].forEach(function(r){r.call(n&&n.context?n.context:n,n)})}}class q_{constructor(e){this.jsep=e,this.registered={}}register(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(s=>{if(typeof s!="object"||!s.name||!s.init)throw new Error("Invalid JSEP plugin format");this.registered[s.name]||(s.init(this.jsep),this.registered[s.name]=s)})}}class X{static get version(){return"1.4.0"}static toString(){return"JavaScript Expression Parser (JSEP) v"+X.version}static addUnaryOp(e){return X.max_unop_len=Math.max(e.length,X.max_unop_len),X.unary_ops[e]=1,X}static addBinaryOp(e,n,r){return X.max_binop_len=Math.max(e.length,X.max_binop_len),X.binary_ops[e]=n,r?X.right_associative.add(e):X.right_associative.delete(e),X}static addIdentifierChar(e){return X.additional_identifier_chars.add(e),X}static addLiteral(e,n){return X.literals[e]=n,X}static removeUnaryOp(e){return delete X.unary_ops[e],e.length===X.max_unop_len&&(X.max_unop_len=X.getMaxKeyLen(X.unary_ops)),X}static removeAllUnaryOps(){return X.unary_ops={},X.max_unop_len=0,X}static removeIdentifierChar(e){return X.additional_identifier_chars.delete(e),X}static removeBinaryOp(e){return delete X.binary_ops[e],e.length===X.max_binop_len&&(X.max_binop_len=X.getMaxKeyLen(X.binary_ops)),X.right_associative.delete(e),X}static removeAllBinaryOps(){return X.binary_ops={},X.max_binop_len=0,X}static removeLiteral(e){return delete X.literals[e],X}static removeAllLiterals(){return X.literals={},X}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(e){this.expr=e,this.index=0}static parse(e){return new X(e).parse()}static getMaxKeyLen(e){return Math.max(0,...Object.keys(e).map(n=>n.length))}static isDecimalDigit(e){return e>=48&&e<=57}static binaryPrecedence(e){return X.binary_ops[e]||0}static isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||e>=128&&!X.binary_ops[String.fromCharCode(e)]||X.additional_identifier_chars.has(String.fromCharCode(e))}static isIdentifierPart(e){return X.isIdentifierStart(e)||X.isDecimalDigit(e)}throwError(e){const n=new Error(e+" at character "+this.index);throw n.index=this.index,n.description=e,n}runHook(e,n){if(X.hooks[e]){const r={context:this,node:n};return X.hooks.run(e,r),r.node}return n}searchHook(e){if(X.hooks[e]){const n={context:this};return X.hooks[e].find(function(r){return r.call(n.context,n),n.node}),n.node}}gobbleSpaces(){let e=this.code;for(;e===X.SPACE_CODE||e===X.TAB_CODE||e===X.LF_CODE||e===X.CR_CODE;)e=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");const e=this.gobbleExpressions(),n=e.length===1?e[0]:{type:X.COMPOUND,body:e};return this.runHook("after-all",n)}gobbleExpressions(e){let n=[],r,s;for(;this.index<this.expr.length;)if(r=this.code,r===X.SEMCOL_CODE||r===X.COMMA_CODE)this.index++;else if(s=this.gobbleExpression())n.push(s);else if(this.index<this.expr.length){if(r===e)break;this.throwError('Unexpected "'+this.char+'"')}return n}gobbleExpression(){const e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}gobbleBinaryOp(){this.gobbleSpaces();let e=this.expr.substr(this.index,X.max_binop_len),n=e.length;for(;n>0;){if(X.binary_ops.hasOwnProperty(e)&&(!X.isIdentifierStart(this.code)||this.index+e.length<this.expr.length&&!X.isIdentifierPart(this.expr.charCodeAt(this.index+e.length))))return this.index+=n,e;e=e.substr(0,--n)}return!1}gobbleBinaryExpression(){let e,n,r,s,i,o,a,l,c;if(o=this.gobbleToken(),!o||(n=this.gobbleBinaryOp(),!n))return o;for(i={value:n,prec:X.binaryPrecedence(n),right_a:X.right_associative.has(n)},a=this.gobbleToken(),a||this.throwError("Expected expression after "+n),s=[o,i,a];n=this.gobbleBinaryOp();){if(r=X.binaryPrecedence(n),r===0){this.index-=n.length;break}i={value:n,prec:r,right_a:X.right_associative.has(n)},c=n;const f=h=>i.right_a&&h.right_a?r>h.prec:r<=h.prec;for(;s.length>2&&f(s[s.length-2]);)a=s.pop(),n=s.pop().value,o=s.pop(),e={type:X.BINARY_EXP,operator:n,left:o,right:a},s.push(e);e=this.gobbleToken(),e||this.throwError("Expected expression after "+c),s.push(i,e)}for(l=s.length-1,e=s[l];l>1;)e={type:X.BINARY_EXP,operator:s[l-1].value,left:s[l-2],right:e},l-=2;return e}gobbleToken(){let e,n,r,s;if(this.gobbleSpaces(),s=this.searchHook("gobble-token"),s)return this.runHook("after-token",s);if(e=this.code,X.isDecimalDigit(e)||e===X.PERIOD_CODE)return this.gobbleNumericLiteral();if(e===X.SQUOTE_CODE||e===X.DQUOTE_CODE)s=this.gobbleStringLiteral();else if(e===X.OBRACK_CODE)s=this.gobbleArray();else{for(n=this.expr.substr(this.index,X.max_unop_len),r=n.length;r>0;){if(X.unary_ops.hasOwnProperty(n)&&(!X.isIdentifierStart(this.code)||this.index+n.length<this.expr.length&&!X.isIdentifierPart(this.expr.charCodeAt(this.index+n.length)))){this.index+=r;const i=this.gobbleToken();return i||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:X.UNARY_EXP,operator:n,argument:i,prefix:!0})}n=n.substr(0,--r)}X.isIdentifierStart(e)?(s=this.gobbleIdentifier(),X.literals.hasOwnProperty(s.name)?s={type:X.LITERAL,value:X.literals[s.name],raw:s.name}:s.name===X.this_str&&(s={type:X.THIS_EXP})):e===X.OPAREN_CODE&&(s=this.gobbleGroup())}return s?(s=this.gobbleTokenProperty(s),this.runHook("after-token",s)):this.runHook("after-token",!1)}gobbleTokenProperty(e){this.gobbleSpaces();let n=this.code;for(;n===X.PERIOD_CODE||n===X.OBRACK_CODE||n===X.OPAREN_CODE||n===X.QUMARK_CODE;){let r;if(n===X.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==X.PERIOD_CODE)break;r=!0,this.index+=2,this.gobbleSpaces(),n=this.code}this.index++,n===X.OBRACK_CODE?(e={type:X.MEMBER_EXP,computed:!0,object:e,property:this.gobbleExpression()},e.property||this.throwError('Unexpected "'+this.char+'"'),this.gobbleSpaces(),n=this.code,n!==X.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):n===X.OPAREN_CODE?e={type:X.CALL_EXP,arguments:this.gobbleArguments(X.CPAREN_CODE),callee:e}:(n===X.PERIOD_CODE||r)&&(r&&this.index--,this.gobbleSpaces(),e={type:X.MEMBER_EXP,computed:!1,object:e,property:this.gobbleIdentifier()}),r&&(e.optional=!0),this.gobbleSpaces(),n=this.code}return e}gobbleNumericLiteral(){let e="",n,r;for(;X.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(this.code===X.PERIOD_CODE)for(e+=this.expr.charAt(this.index++);X.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(n=this.char,n==="e"||n==="E"){for(e+=this.expr.charAt(this.index++),n=this.char,(n==="+"||n==="-")&&(e+=this.expr.charAt(this.index++));X.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);X.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+e+this.char+")")}return r=this.code,X.isIdentifierStart(r)?this.throwError("Variable names cannot start with a number ("+e+this.char+")"):(r===X.PERIOD_CODE||e.length===1&&e.charCodeAt(0)===X.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:X.LITERAL,value:parseFloat(e),raw:e}}gobbleStringLiteral(){let e="";const n=this.index,r=this.expr.charAt(this.index++);let s=!1;for(;this.index<this.expr.length;){let i=this.expr.charAt(this.index++);if(i===r){s=!0;break}else if(i==="\\")switch(i=this.expr.charAt(this.index++),i){case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=i}else e+=i}return s||this.throwError('Unclosed quote after "'+e+'"'),{type:X.LITERAL,value:e,raw:this.expr.substring(n,this.index)}}gobbleIdentifier(){let e=this.code,n=this.index;for(X.isIdentifierStart(e)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(e=this.code,X.isIdentifierPart(e));)this.index++;return{type:X.IDENTIFIER,name:this.expr.slice(n,this.index)}}gobbleArguments(e){const n=[];let r=!1,s=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let i=this.code;if(i===e){r=!0,this.index++,e===X.CPAREN_CODE&&s&&s>=n.length&&this.throwError("Unexpected token "+String.fromCharCode(e));break}else if(i===X.COMMA_CODE){if(this.index++,s++,s!==n.length){if(e===X.CPAREN_CODE)this.throwError("Unexpected token ,");else if(e===X.CBRACK_CODE)for(let o=n.length;o<s;o++)n.push(null)}}else if(n.length!==s&&s!==0)this.throwError("Expected comma");else{const o=this.gobbleExpression();(!o||o.type===X.COMPOUND)&&this.throwError("Expected comma"),n.push(o)}}return r||this.throwError("Expected "+String.fromCharCode(e)),n}gobbleGroup(){this.index++;let e=this.gobbleExpressions(X.CPAREN_CODE);if(this.code===X.CPAREN_CODE)return this.index++,e.length===1?e[0]:e.length?{type:X.SEQUENCE_EXP,expressions:e}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:X.ARRAY_EXP,elements:this.gobbleArguments(X.CBRACK_CODE)}}}const G_=new Z_;Object.assign(X,{hooks:G_,plugins:new q_(X),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"??":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10,"**":11},right_associative:new Set(["**"]),additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});X.max_unop_len=X.getMaxKeyLen(X.unary_ops);X.max_binop_len=X.getMaxKeyLen(X.binary_ops);const vn=t=>new X(t).parse(),K_=Object.getOwnPropertyNames(class{});Object.getOwnPropertyNames(X).filter(t=>!K_.includes(t)&&vn[t]===void 0).forEach(t=>{vn[t]=X[t]});vn.Jsep=X;const H_="ConditionalExpression";var Y_={name:"ternary",init(t){t.hooks.add("after-expression",function(n){if(n.node&&this.code===t.QUMARK_CODE){this.index++;const r=n.node,s=this.gobbleExpression();if(s||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===t.COLON_CODE){this.index++;const i=this.gobbleExpression();if(i||this.throwError("Expected expression"),n.node={type:H_,test:r,consequent:s,alternate:i},r.operator&&t.binary_ops[r.operator]<=.9){let o=r;for(;o.right.operator&&t.binary_ops[o.right.operator]<=.9;)o=o.right;n.node.test=o.right,o.right=n.node,n.node=r}}else this.throwError("Expected :")}})}};vn.plugins.register(Y_);const Vc=47,W_=92;var X_={name:"regex",init(t){t.hooks.add("gobble-token",function(n){if(this.code===Vc){const r=++this.index;let s=!1;for(;this.index<this.expr.length;){if(this.code===Vc&&!s){const i=this.expr.slice(r,this.index);let o="";for(;++this.index<this.expr.length;){const l=this.code;if(l>=97&&l<=122||l>=65&&l<=90||l>=48&&l<=57)o+=this.char;else break}let a;try{a=new RegExp(i,o)}catch(l){this.throwError(l.message)}return n.node={type:t.LITERAL,value:a,raw:this.expr.slice(r-1,this.index)},n.node=this.gobbleTokenProperty(n.node),n.node}this.code===t.OBRACK_CODE?s=!0:s&&this.code===t.CBRACK_CODE&&(s=!1),this.index+=this.code===W_?2:1}this.throwError("Unclosed Regex")}})}};const Ao=43,Q_=45,Sr={name:"assignment",assignmentOperators:new Set(["=","*=","**=","/=","%=","+=","-=","<<=",">>=",">>>=","&=","^=","|=","||=","&&=","??="]),updateOperators:[Ao,Q_],assignmentPrecedence:.9,init(t){const e=[t.IDENTIFIER,t.MEMBER_EXP];Sr.assignmentOperators.forEach(r=>t.addBinaryOp(r,Sr.assignmentPrecedence,!0)),t.hooks.add("gobble-token",function(s){const i=this.code;Sr.updateOperators.some(o=>o===i&&o===this.expr.charCodeAt(this.index+1))&&(this.index+=2,s.node={type:"UpdateExpression",operator:i===Ao?"++":"--",argument:this.gobbleTokenProperty(this.gobbleIdentifier()),prefix:!0},(!s.node.argument||!e.includes(s.node.argument.type))&&this.throwError(`Unexpected ${s.node.operator}`))}),t.hooks.add("after-token",function(s){if(s.node){const i=this.code;Sr.updateOperators.some(o=>o===i&&o===this.expr.charCodeAt(this.index+1))&&(e.includes(s.node.type)||this.throwError(`Unexpected ${s.node.operator}`),this.index+=2,s.node={type:"UpdateExpression",operator:i===Ao?"++":"--",argument:s.node,prefix:!1})}}),t.hooks.add("after-expression",function(s){s.node&&n(s.node)});function n(r){Sr.assignmentOperators.has(r.operator)?(r.type="AssignmentExpression",n(r.left),n(r.right)):r.operator||Object.values(r).forEach(s=>{s&&typeof s=="object"&&n(s)})}}};vn.plugins.register(X_,Sr);vn.addUnaryOp("typeof");vn.addLiteral("null",null);vn.addLiteral("undefined",void 0);const J_=new Set(["constructor","__proto__","__defineGetter__","__defineSetter__"]),rt={evalAst(t,e){switch(t.type){case"BinaryExpression":case"LogicalExpression":return rt.evalBinaryExpression(t,e);case"Compound":return rt.evalCompound(t,e);case"ConditionalExpression":return rt.evalConditionalExpression(t,e);case"Identifier":return rt.evalIdentifier(t,e);case"Literal":return rt.evalLiteral(t,e);case"MemberExpression":return rt.evalMemberExpression(t,e);case"UnaryExpression":return rt.evalUnaryExpression(t,e);case"ArrayExpression":return rt.evalArrayExpression(t,e);case"CallExpression":return rt.evalCallExpression(t,e);case"AssignmentExpression":return rt.evalAssignmentExpression(t,e);default:throw SyntaxError("Unexpected expression",t)}},evalBinaryExpression(t,e){return{"||":(r,s)=>r||s(),"&&":(r,s)=>r&&s(),"|":(r,s)=>r|s(),"^":(r,s)=>r^s(),"&":(r,s)=>r&s(),"==":(r,s)=>r==s(),"!=":(r,s)=>r!=s(),"===":(r,s)=>r===s(),"!==":(r,s)=>r!==s(),"<":(r,s)=>r<s(),">":(r,s)=>r>s(),"<=":(r,s)=>r<=s(),">=":(r,s)=>r>=s(),"<<":(r,s)=>r<<s(),">>":(r,s)=>r>>s(),">>>":(r,s)=>r>>>s(),"+":(r,s)=>r+s(),"-":(r,s)=>r-s(),"*":(r,s)=>r*s(),"/":(r,s)=>r/s(),"%":(r,s)=>r%s()}[t.operator](rt.evalAst(t.left,e),()=>rt.evalAst(t.right,e))},evalCompound(t,e){let n;for(let r=0;r<t.body.length;r++){t.body[r].type==="Identifier"&&["var","let","const"].includes(t.body[r].name)&&t.body[r+1]&&t.body[r+1].type==="AssignmentExpression"&&(r+=1);const s=t.body[r];n=rt.evalAst(s,e)}return n},evalConditionalExpression(t,e){return rt.evalAst(t.test,e)?rt.evalAst(t.consequent,e):rt.evalAst(t.alternate,e)},evalIdentifier(t,e){if(Object.hasOwn(e,t.name))return e[t.name];throw ReferenceError(`${t.name} is not defined`)},evalLiteral(t){return t.value},evalMemberExpression(t,e){const n=String(t.computed?rt.evalAst(t.property):t.property.name),r=rt.evalAst(t.object,e);if(r==null)throw TypeError(`Cannot read properties of ${r} (reading '${n}')`);if(!Object.hasOwn(r,n)&&J_.has(n))throw TypeError(`Cannot read properties of ${r} (reading '${n}')`);const s=r[n];return typeof s=="function"?s.bind(r):s},evalUnaryExpression(t,e){return{"-":r=>-rt.evalAst(r,e),"!":r=>!rt.evalAst(r,e),"~":r=>~rt.evalAst(r,e),"+":r=>+rt.evalAst(r,e),typeof:r=>typeof rt.evalAst(r,e)}[t.operator](t.argument)},evalArrayExpression(t,e){return t.elements.map(n=>rt.evalAst(n,e))},evalCallExpression(t,e){const n=t.arguments.map(s=>rt.evalAst(s,e));return rt.evalAst(t.callee,e)(...n)},evalAssignmentExpression(t,e){if(t.left.type!=="Identifier")throw SyntaxError("Invalid left-hand side in assignment");const n=t.left.name,r=rt.evalAst(t.right,e);return e[n]=r,e[n]}};class ev{constructor(e){this.code=e,this.ast=vn(this.code)}runInNewContext(e){const n=Object.assign(Object.create(null),e);return rt.evalAst(this.ast,n)}}function kn(t,e){return t=t.slice(),t.push(e),t}function fa(t,e){return e=e.slice(),e.unshift(t),e}class tv extends Error{constructor(e){super('JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),this.avoidNew=!0,this.value=e,this.name="NewError"}}function Je(t,e,n,r,s){if(!(this instanceof Je))try{return new Je(t,e,n,r,s)}catch(o){if(!o.avoidNew)throw o;return o.value}typeof t=="string"&&(s=r,r=n,n=e,e=t,t=null);const i=t&&typeof t=="object";if(t=t||{},this.json=t.json||n,this.path=t.path||e,this.resultType=t.resultType||"value",this.flatten=t.flatten||!1,this.wrap=Object.hasOwn(t,"wrap")?t.wrap:!0,this.sandbox=t.sandbox||{},this.eval=t.eval===void 0?"safe":t.eval,this.ignoreEvalErrors=typeof t.ignoreEvalErrors>"u"?!1:t.ignoreEvalErrors,this.parent=t.parent||null,this.parentProperty=t.parentProperty||null,this.callback=t.callback||r||null,this.otherTypeCallback=t.otherTypeCallback||s||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},t.autostart!==!1){const o={path:i?t.path:e};i?"json"in t&&(o.json=t.json):o.json=n;const a=this.evaluate(o);if(!a||typeof a!="object")throw new tv(a);return a}}Je.prototype.evaluate=function(t,e,n,r){let s=this.parent,i=this.parentProperty,{flatten:o,wrap:a}=this;if(this.currResultType=this.resultType,this.currEval=this.eval,this.currSandbox=this.sandbox,n=n||this.callback,this.currOtherTypeCallback=r||this.otherTypeCallback,e=e||this.json,t=t||this.path,t&&typeof t=="object"&&!Array.isArray(t)){if(!t.path&&t.path!=="")throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Object.hasOwn(t,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');({json:e}=t),o=Object.hasOwn(t,"flatten")?t.flatten:o,this.currResultType=Object.hasOwn(t,"resultType")?t.resultType:this.currResultType,this.currSandbox=Object.hasOwn(t,"sandbox")?t.sandbox:this.currSandbox,a=Object.hasOwn(t,"wrap")?t.wrap:a,this.currEval=Object.hasOwn(t,"eval")?t.eval:this.currEval,n=Object.hasOwn(t,"callback")?t.callback:n,this.currOtherTypeCallback=Object.hasOwn(t,"otherTypeCallback")?t.otherTypeCallback:this.currOtherTypeCallback,s=Object.hasOwn(t,"parent")?t.parent:s,i=Object.hasOwn(t,"parentProperty")?t.parentProperty:i,t=t.path}if(s=s||null,i=i||null,Array.isArray(t)&&(t=Je.toPathString(t)),!t&&t!==""||!e)return;const l=Je.toPathArray(t);l[0]==="$"&&l.length>1&&l.shift(),this._hasParentSelector=null;const c=this._trace(l,e,["$"],s,i,n).filter(function(f){return f&&!f.isParentSelector});return c.length?!a&&c.length===1&&!c[0].hasArrExpr?this._getPreferredOutput(c[0]):c.reduce((f,h)=>{const d=this._getPreferredOutput(h);return o&&Array.isArray(d)?f=f.concat(d):f.push(d),f},[]):a?[]:void 0};Je.prototype._getPreferredOutput=function(t){const e=this.currResultType;switch(e){case"all":{const n=Array.isArray(t.path)?t.path:Je.toPathArray(t.path);return t.pointer=Je.toPointer(n),t.path=typeof t.path=="string"?t.path:Je.toPathString(t.path),t}case"value":case"parent":case"parentProperty":return t[e];case"path":return Je.toPathString(t[e]);case"pointer":return Je.toPointer(t.path);default:throw new TypeError("Unknown result type")}};Je.prototype._handleCallback=function(t,e,n){if(e){const r=this._getPreferredOutput(t);t.path=typeof t.path=="string"?t.path:Je.toPathString(t.path),e(r,n,t)}};Je.prototype._trace=function(t,e,n,r,s,i,o,a){let l;if(!t.length)return l={path:n,value:e,parent:r,parentProperty:s,hasArrExpr:o},this._handleCallback(l,i,"value"),l;const c=t[0],f=t.slice(1),h=[];function d(g){Array.isArray(g)?g.forEach(b=>{h.push(b)}):h.push(g)}if((typeof c!="string"||a)&&e&&Object.hasOwn(e,c))d(this._trace(f,e[c],kn(n,c),e,c,i,o));else if(c==="*")this._walk(e,g=>{d(this._trace(f,e[g],kn(n,g),e,g,i,!0,!0))});else if(c==="..")d(this._trace(f,e,n,r,s,i,o)),this._walk(e,g=>{typeof e[g]=="object"&&d(this._trace(t.slice(),e[g],kn(n,g),e,g,i,!0))});else{if(c==="^")return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:f,isParentSelector:!0};if(c==="~")return l={path:kn(n,c),value:s,parent:r,parentProperty:null},this._handleCallback(l,i,"property"),l;if(c==="$")d(this._trace(f,e,n,null,null,i,o));else if(/^(-?\d*):(-?\d*):?(\d*)$/u.test(c))d(this._slice(c,f,e,n,r,s,i));else if(c.indexOf("?(")===0){if(this.currEval===!1)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");const g=c.replace(/^\?\((.*?)\)$/u,"$1"),b=/@.?([^?]*)[['](\??\(.*?\))(?!.\)\])[\]']/gu.exec(g);b?this._walk(e,m=>{const _=[b[2]],p=b[1]?e[m][b[1]]:e[m];this._trace(_,p,n,r,s,i,!0).length>0&&d(this._trace(f,e[m],kn(n,m),e,m,i,!0))}):this._walk(e,m=>{this._eval(g,e[m],m,n,r,s)&&d(this._trace(f,e[m],kn(n,m),e,m,i,!0))})}else if(c[0]==="("){if(this.currEval===!1)throw new Error("Eval [(expr)] prevented in JSONPath expression.");d(this._trace(fa(this._eval(c,e,n.at(-1),n.slice(0,-1),r,s),f),e,n,r,s,i,o))}else if(c[0]==="@"){let g=!1;const b=c.slice(1,-2);switch(b){case"scalar":(!e||!["object","function"].includes(typeof e))&&(g=!0);break;case"boolean":case"string":case"undefined":case"function":typeof e===b&&(g=!0);break;case"integer":Number.isFinite(e)&&!(e%1)&&(g=!0);break;case"number":Number.isFinite(e)&&(g=!0);break;case"nonFinite":typeof e=="number"&&!Number.isFinite(e)&&(g=!0);break;case"object":e&&typeof e===b&&(g=!0);break;case"array":Array.isArray(e)&&(g=!0);break;case"other":g=this.currOtherTypeCallback(e,n,r,s);break;case"null":e===null&&(g=!0);break;default:throw new TypeError("Unknown value type "+b)}if(g)return l={path:n,value:e,parent:r,parentProperty:s},this._handleCallback(l,i,"value"),l}else if(c[0]==="`"&&e&&Object.hasOwn(e,c.slice(1))){const g=c.slice(1);d(this._trace(f,e[g],kn(n,g),e,g,i,o,!0))}else if(c.includes(",")){const g=c.split(",");for(const b of g)d(this._trace(fa(b,f),e,n,r,s,i,!0))}else!a&&e&&Object.hasOwn(e,c)&&d(this._trace(f,e[c],kn(n,c),e,c,i,o,!0))}if(this._hasParentSelector)for(let g=0;g<h.length;g++){const b=h[g];if(b&&b.isParentSelector){const m=this._trace(b.expr,e,b.path,r,s,i,o);if(Array.isArray(m)){h[g]=m[0];const _=m.length;for(let p=1;p<_;p++)g++,h.splice(g,0,m[p])}else h[g]=m}}return h};Je.prototype._walk=function(t,e){if(Array.isArray(t)){const n=t.length;for(let r=0;r<n;r++)e(r)}else t&&typeof t=="object"&&Object.keys(t).forEach(n=>{e(n)})};Je.prototype._slice=function(t,e,n,r,s,i,o){if(!Array.isArray(n))return;const a=n.length,l=t.split(":"),c=l[2]&&Number.parseInt(l[2])||1;let f=l[0]&&Number.parseInt(l[0])||0,h=l[1]&&Number.parseInt(l[1])||a;f=f<0?Math.max(0,f+a):Math.min(a,f),h=h<0?Math.max(0,h+a):Math.min(a,h);const d=[];for(let g=f;g<h;g+=c)this._trace(fa(g,e),n,r,s,i,o,!0).forEach(m=>{d.push(m)});return d};Je.prototype._eval=function(t,e,n,r,s,i){this.currSandbox._$_parentProperty=i,this.currSandbox._$_parent=s,this.currSandbox._$_property=n,this.currSandbox._$_root=this.json,this.currSandbox._$_v=e;const o=t.includes("@path");o&&(this.currSandbox._$_path=Je.toPathString(r.concat([n])));const a=this.currEval+"Script:"+t;if(!Je.cache[a]){let l=t.replaceAll("@parentProperty","_$_parentProperty").replaceAll("@parent","_$_parent").replaceAll("@property","_$_property").replaceAll("@root","_$_root").replaceAll(/@([.\s)[])/gu,"_$_v$1");if(o&&(l=l.replaceAll("@path","_$_path")),this.currEval==="safe"||this.currEval===!0||this.currEval===void 0)Je.cache[a]=new this.safeVm.Script(l);else if(this.currEval==="native")Je.cache[a]=new this.vm.Script(l);else if(typeof this.currEval=="function"&&this.currEval.prototype&&Object.hasOwn(this.currEval.prototype,"runInNewContext")){const c=this.currEval;Je.cache[a]=new c(l)}else if(typeof this.currEval=="function")Je.cache[a]={runInNewContext:c=>this.currEval(l,c)};else throw new TypeError(`Unknown "eval" property "${this.currEval}"`)}try{return Je.cache[a].runInNewContext(this.currSandbox)}catch(l){if(this.ignoreEvalErrors)return!1;throw new Error("jsonPath: "+l.message+": "+t)}};Je.cache={};Je.toPathString=function(t){const e=t,n=e.length;let r="$";for(let s=1;s<n;s++)/^(~|\^|@.*?\(\))$/u.test(e[s])||(r+=/^[0-9*]+$/u.test(e[s])?"["+e[s]+"]":"['"+e[s]+"']");return r};Je.toPointer=function(t){const e=t,n=e.length;let r="";for(let s=1;s<n;s++)/^(~|\^|@.*?\(\))$/u.test(e[s])||(r+="/"+e[s].toString().replaceAll("~","~0").replaceAll("/","~1"));return r};Je.toPathArray=function(t){const{cache:e}=Je;if(e[t])return e[t].concat();const n=[],s=t.replaceAll(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/gu,";$&;").replaceAll(/[['](\??\(.*?\))[\]'](?!.\])/gu,function(i,o){return"[#"+(n.push(o)-1)+"]"}).replaceAll(/\[['"]([^'\]]*)['"]\]/gu,function(i,o){return"['"+o.replaceAll(".","%@%").replaceAll("~","%%@@%%")+"']"}).replaceAll("~",";~;").replaceAll(/['"]?\.['"]?(?![^[]*\])|\[['"]?/gu,";").replaceAll("%@%",".").replaceAll("%%@@%%","~").replaceAll(/(?:;)?(\^+)(?:;)?/gu,function(i,o){return";"+o.split("").join(";")+";"}).replaceAll(/;;;|;;/gu,";..;").replaceAll(/;$|'?\]|'$/gu,"").split(";").map(function(i){const o=i.match(/#(\d+)/u);return!o||!o[1]?i:n[o[1]]});return e[t]=s,e[t].concat()};Je.prototype.safeVm={Script:ev};const nv=function(t,e,n){const r=t.length;for(let s=0;s<r;s++){const i=t[s];n(i)&&e.push(t.splice(s--,1)[0])}};class rv{constructor(e){this.code=e}runInNewContext(e){let n=this.code;const r=Object.keys(e),s=[];nv(r,s,c=>typeof e[c]=="function");const i=r.map(c=>e[c]);n=s.reduce((c,f)=>{let h=e[f].toString();return/function/u.test(h)||(h="function "+h),"var "+f+"="+h+";"+c},"")+n,!/(['"])use strict\1/u.test(n)&&!r.includes("arguments")&&(n="var arguments = undefined;"+n),n=n.replace(/;\s*$/u,"");const a=n.lastIndexOf(";"),l=a!==-1?n.slice(0,a+1)+" return "+n.slice(a+1):" return "+n;return new Function(...r,l)(...i)}}Je.prototype.vm={Script:rv};const zi=new Map;function sv(t,e){const n=zi.get(t);if(n&&n.buffer===e)return n.url;n&&URL.revokeObjectURL(n.url);const r=new Blob([e]),s=URL.createObjectURL(r);return zi.set(t,{buffer:e,url:s}),s}function Zc(t){const e=zi.get(t);e&&(URL.revokeObjectURL(e.url),zi.delete(t))}function oh({jsonPath:t}){const{cart:e,modelFiles:n}=Wt(),r=ze.useMemo(()=>{if(!t||!e)return[];const s=Je({path:t,json:e,resultType:"value"});if(s.length===0)return[];const i=s[0];if(!i||typeof i!="object")return[];const o=new Set;function a(l){if(!l)return;const c=l["minecraft:custom_model_data"];if(c&&typeof c=="object"&&"floats"in c){const f=c.floats;Array.isArray(f)&&f.forEach(h=>o.add(h))}}if("item"in i){const l=i.item;a(l?.components)}return Array.from(o)},[t,e]);return w.jsx(w.Fragment,{children:r.map(s=>{if(!n)return w.jsx(_s,{},s);const i=n.get(s);return i?w.jsx(iv,{modelId:s,arrayBuffer:i},s):w.jsx(_s,{},s)})})}function iv(t){const e=be.c(9),{modelId:n,arrayBuffer:r}=t,[s,i]=ze.useState(void 0);let o,a;if(e[0]!==r||e[1]!==n?(o=()=>{if(!r){i(void 0),Zc(n);return}const c=sv(n,r);return i(c),()=>{Zc(n)}},a=[n,r],e[0]=r,e[1]=n,e[2]=o,e[3]=a):(o=e[2],a=e[3]),ze.useEffect(o,a),!s){let c;return e[4]!==n?(c=w.jsx(_s,{},n),e[4]=n,e[5]=c):c=e[5],c}let l;return e[6]!==s||e[7]!==n?(l=w.jsx(ov,{modelId:n,blobUrl:s}),e[6]=s,e[7]=n,e[8]=l):l=e[8],l}function ov({modelId:t,blobUrl:e,scale:n=1,position:r=new Nt(0,0,0)}){const{scene:s}=_a(e),i=ze.useMemo(()=>{if(!s)return null;const o=hu(s);o.updateWorldMatrix(!0,!0);const a=new du().setFromObject(o),l=new Nt;a.getCenter(l);const c=new Nt;a.getSize(c);const f=new Nt(l.x,a.min.y,l.z),h=new Rp;return o.traverse(d=>{d.isMesh&&d.position.sub(f)}),h.add(o),h},[s]);return i?w.jsx(w.Fragment,{children:w.jsx("primitive",{object:i,scale:n,position:r,rotation:[0,fn(180),0],castShadow:!0,receiveShadow:!0})}):w.jsx(_s,{},t)}const av="/tc-animator/models/dummy.glb";_a.preload(av);function lv({scale:t=1,position:e=new Nt(0,0,0)}){const{scene:n}=_a("/tc-animator/models/dummy.glb"),r=ze.useMemo(()=>n?hu(n):null,[n]);return r?w.jsx("primitive",{object:r,scale:t,position:e,castShadow:!0,receiveShadow:!0,rotation:[0,fn(180),0]}):w.jsx(_s,{})}function cv(t){const e=be.c(27),{onSelect:n}=t,{cart:r,setSelectedObjectPath:s}=Wt(),i=ze.useRef(null);if(!r?.model)return null;const{position:o}=r.model,a=o?.posX||0,l=o?.posY||0,c=o?.posZ||0;let f;e[0]!==a||e[1]!==l||e[2]!==c?(f=new Nt(a,l,c),e[0]=a,e[1]=l,e[2]=c,e[3]=f):f=e[3];const h=f,d=o?.rotX||0;let g;e[4]!==o?.rotY||e[5]!==o?.rotZ||e[6]!==d?(g=new va(fn(d),fn(o?.rotY||0),fn(o?.rotZ||0)),e[4]=o?.rotY,e[5]=o?.rotZ,e[6]=d,e[7]=g):g=e[7];const b=g,m=o?.sizeX||1,_=o?.sizeY||1,p=o?.sizeZ||1;let k;e[8]!==m||e[9]!==_||e[10]!==p?(k=new Nt(m,_,p),e[8]=m,e[9]=_,e[10]=p,e[11]=k):k=e[11];const S=k;let v;e[12]!==n||e[13]!==s?(v=C=>{C.stopPropagation(),i.current&&(n(i.current),s("$.model"))},e[12]=n,e[13]=s,e[14]=v):v=e[14];let A;e[15]===Symbol.for("react.memo_cache_sentinel")?(A=w.jsx(oh,{jsonPath:"$.model"}),e[15]=A):A=e[15];let N;e[16]!==S?(N=w.jsx("group",{scale:S,children:A}),e[16]=S,e[17]=N):N=e[17];let y;e[18]!==r.model||e[19]!==n?(y=w.jsx(ah,{attachments:r.model,onSelect:n,jsonPath:"$.model"}),e[18]=r.model,e[19]=n,e[20]=y):y=e[20];let E;return e[21]!==h||e[22]!==b||e[23]!==v||e[24]!==N||e[25]!==y?(E=w.jsxs("group",{ref:i,position:h,rotation:b,onClick:v,children:[N,y]}),e[21]=h,e[22]=b,e[23]=v,e[24]=N,e[25]=y,e[26]=E):E=e[26],E}function uv(t){const e=be.c(50),{attachment:n,onSelect:r,jsonPath:s}=t,i=Es(),{setSelectedObjectPath:o}=Wt(),a=ze.useRef(null),l=n.position?.posX||0,c=n.position?.posY||0,f=n.position?.posZ||0;let h,d,g,b,m,_;if(e[0]!==n.names||e[1]!==n.position?.rotX||e[2]!==n.position?.rotY||e[3]!==n.position?.rotZ||e[4]!==n.position?.sizeX||e[5]!==n.position?.sizeY||e[6]!==n.position?.sizeZ||e[7]!==n.type||e[8]!==s||e[9]!==r||e[10]!==i.debugText||e[11]!==o||e[12]!==l||e[13]!==c||e[14]!==f){const S=new Nt(l,c,f),v=new va(fn(n.position?.rotX||0),fn(n.position?.rotY||0),fn(n.position?.rotZ||0)),A=n.position?.sizeX||1,N=n.position?.sizeY||1,y=n.position?.sizeZ||1;let E;e[21]!==A||e[22]!==N||e[23]!==y?(E=new Nt(A,N,y),e[21]=A,e[22]=N,e[23]=y,e[24]=E):E=e[24];const C=E;h=a,d=S,g=v,e[25]!==n.type||e[26]!==s||e[27]!==r||e[28]!==o?(b=B=>{a.current&&!["SEAT","HITBOX"].includes(n.type)&&(B.stopPropagation(),r(a.current),o(s))},e[25]=n.type,e[26]=s,e[27]=r,e[28]=o,e[29]=b):b=e[29];let j;e:switch(n.type){case"SEAT":{const B=i.debugText&&w.jsx(ua,{fontSize:.3,color:"white",anchorX:"center",anchorY:"middle",outlineWidth:.05,outlineColor:"black",position:[0,3.5,0],children:`${n.names&&Array.isArray(n.names)&&n.names.length>0?n.names[0]:"Seat"}
Pos:${S.toArray().map(gv)}`});let M;e[30]===Symbol.for("react.memo_cache_sentinel")?(M=w.jsx(lv,{}),e[30]=M):M=e[30];let V;e[31]!==B?(V=w.jsxs(w.Fragment,{children:[B,M]}),e[31]=B,e[32]=V):V=e[32],j=V;break e}case"HITBOX":{j=null;break e}default:{let B;e[33]!==s?(B=w.jsx(oh,{jsonPath:s}),e[33]=s,e[34]=B):B=e[34],j=B}}e[35]!==C||e[36]!==j?(m=w.jsx("group",{scale:C,children:j}),e[35]=C,e[36]=j,e[37]=m):m=e[37],_=i.debugText&&!["SEAT","HITBOX"].includes(n.type)&&w.jsx(ua,{position:[0,1.5,0],fontSize:.3,color:"yellow",anchorX:"center",anchorY:"middle",scale:[1,1,1],outlineWidth:.05,outlineColor:"black",children:`${n.names&&Array.isArray(n.names)&&n.names.length>0?n.names[0]:""}
Pos:${S.toArray().map(pv)}
rot:${v.toArray().filter(dv).map(hv)}
scale:${C.toArray().map(fv)}`}),e[0]=n.names,e[1]=n.position?.rotX,e[2]=n.position?.rotY,e[3]=n.position?.rotZ,e[4]=n.position?.sizeX,e[5]=n.position?.sizeY,e[6]=n.position?.sizeZ,e[7]=n.type,e[8]=s,e[9]=r,e[10]=i.debugText,e[11]=o,e[12]=l,e[13]=c,e[14]=f,e[15]=h,e[16]=d,e[17]=g,e[18]=b,e[19]=m,e[20]=_}else h=e[15],d=e[16],g=e[17],b=e[18],m=e[19],_=e[20];let p;e[38]!==n||e[39]!==s||e[40]!==r?(p=n.attachments&&w.jsx(ah,{attachments:n,onSelect:r,jsonPath:`${s}`}),e[38]=n,e[39]=s,e[40]=r,e[41]=p):p=e[41];let k;return e[42]!==p||e[43]!==h||e[44]!==d||e[45]!==g||e[46]!==b||e[47]!==m||e[48]!==_?(k=w.jsxs("group",{ref:h,position:d,rotation:g,onClick:b,children:[m,_,p]}),e[42]=p,e[43]=h,e[44]=d,e[45]=g,e[46]=b,e[47]=m,e[48]=_,e[49]=k):k=e[49],k}function fv(t){return t.toFixed(2)}function hv(t){return t.toFixed(2)}function dv(t){return typeof t=="number"}function pv(t){return t.toFixed(2)}function gv(t){return`
${t.toFixed(2)}`}function ah({attachments:t,onSelect:e,jsonPath:n}){return Object.entries(t.attachments||{}).map(([r,s])=>w.jsx(uv,{attachment:s,onSelect:e,jsonPath:`${n}.attachments.${r}`},r))}function mv(t){const e=be.c(26);let n,r,s,i,o,a;e[0]!==t?({className:n,defaultValue:r,value:a,min:i,max:o,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=o,e[6]=a):(n=e[1],r=e[2],s=e[3],i=e[4],o=e[5],a=e[6]);const l=i===void 0?0:i,c=o===void 0?100:o;let f,h;e[7]!==r||e[8]!==c||e[9]!==l||e[10]!==a?(h=Array.isArray(a)?a:Array.isArray(r)?r:[l,c],e[7]=r,e[8]=c,e[9]=l,e[10]=a,e[11]=h):h=e[11],f=h;const d=f;let g;e[12]!==n?(g=Be("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",n),e[12]=n,e[13]=g):g=e[13];let b;e[14]===Symbol.for("react.memo_cache_sentinel")?(b=Be("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),e[14]=b):b=e[14];let m;e[15]===Symbol.for("react.memo_cache_sentinel")?(m=w.jsx(Ld,{"data-slot":"slider-track",className:b,children:w.jsx($d,{"data-slot":"slider-range",className:Be("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),e[15]=m):m=e[15];let _;e[16]!==d.length?(_=Array.from({length:d.length},yv),e[16]=d.length,e[17]=_):_=e[17];let p;return e[18]!==r||e[19]!==c||e[20]!==l||e[21]!==s||e[22]!==g||e[23]!==_||e[24]!==a?(p=w.jsxs(Bd,{"data-slot":"slider",defaultValue:r,value:a,min:l,max:c,className:g,...s,children:[m,_]}),e[18]=r,e[19]=c,e[20]=l,e[21]=s,e[22]=g,e[23]=_,e[24]=a,e[25]=p):p=e[25],p}function yv(t,e){return w.jsx(Dd,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},e)}function bv(t){const e=be.c(17),{value:n,onChange:r}=t,s=n===void 0?0:n;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=[0,1,5,11.25,15,22.5,30,45],e[0]=i):i=e[0];const o=i,[a,l]=ze.useState(s||0);let c;e[1]!==r?(c=v=>{l(v),r(v)},e[1]=r,e[2]=c):c=e[2];const f=c;let h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h=v=>o.reduce((A,N)=>Math.abs(N-v)<Math.abs(A-v)?N:A),e[3]=h):h=e[3];const d=h;let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g={minWidth:"5ch"},e[4]=g):g=e[4];const b=a>0?`${a}`:"Off";let m;e[5]!==b?(m=w.jsxs(tn,{className:"flex items-center gap-1 font-semibold whitespace-nowrap",children:["Angle Snap:",w.jsx("span",{className:"inline-block",style:g,children:b})]}),e[5]=b,e[6]=m):m=e[6];let _;e[7]!==a?(_=[a],e[7]=a,e[8]=_):_=e[8];let p;e[9]!==f?(p=v=>{const A=d(v[0]);f(A)},e[9]=f,e[10]=p):p=e[10];let k;e[11]!==_||e[12]!==p?(k=w.jsx(mv,{min:0,max:45,step:.1,value:_,onValueChange:p,className:"w-full"}),e[11]=_,e[12]=p,e[13]=k):k=e[13];let S;return e[14]!==k||e[15]!==m?(S=w.jsxs("div",{className:"flex w-sm flex-row items-center gap-2",children:[m,k]}),e[14]=k,e[15]=m,e[16]=S):S=e[16],S}const wv=Tu("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-card",outline:"border border-input bg-card shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function qc(t){const e=be.c(12);let n,r,s,i;e[0]!==t?({className:n,variant:i,size:s,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);let o;e[5]!==n||e[6]!==s||e[7]!==i?(o=Be(wv({variant:i,size:s,className:n})),e[5]=n,e[6]=s,e[7]=i,e[8]=o):o=e[8];let a;return e[9]!==r||e[10]!==o?(a=w.jsx(Fd,{"data-slot":"toggle",className:o,...r}),e[9]=r,e[10]=o,e[11]=a):a=e[11],a}function _v({controlsRef:t}){const e=Wt(),{camera:n}=wa();return ze.useEffect(()=>{const r=t.current,s=e.metadata.orbitControls;!r||!s||(n.position.copy(new Nt(...s.position)),r.target.copy(new Nt(...s.target)),s.zoom&&"zoom"in n&&(n.zoom=s.zoom,n.updateProjectionMatrix()),r.update())},[e.metadata.orbitControls,n,t]),ze.useEffect(()=>{const r=t.current;if(!r)return;const s=()=>{e.setMetadata({...e.metadata,orbitControls:{position:n.position.toArray(),target:r.target.toArray(),zoom:n.zoom}})};return r.addEventListener("change",s),()=>r.removeEventListener("change",s)},[n,e,t]),null}function vv(){const t=be.c(96),e=Es(),n=Wt(),r=ze.useRef(null),[s,i]=ze.useState(null),[o,a]=ze.useState("translate"),[l,c]=ze.useState("world");let f,h;t[0]!==n||t[1]!==s||t[2]!==l?(f=()=>{const Me=$e=>{if(!($e.target&&$e.target.isContentEditable))if($e.key==="v"||$e.key==="V")a("translate");else if($e.key==="r"||$e.key==="R")a("rotate");else if($e.key==="x"||$e.key==="X")c(l==="world"?"local":"world");else if($e.key==="f"||$e.key==="F"){if(s){const T=new du().setFromObject(s),ae=T.getSize(new Nt).length(),ce=T.getCenter(new Nt),me=ae*1.5,ve=r.current?.object;if(ve){const Ie=new Nt().subVectors(ve.position,ce).normalize().multiplyScalar(me);ve.position.copy(Ie.add(ce)),r.current?.target.copy(ce),r.current?.update()}}}else $e.key==="Escape"&&(n.setSelectedObjectPath(void 0),i(null))};return window.addEventListener("keydown",Me),()=>{window.removeEventListener("keydown",Me)}},h=[l,n,s],t[0]=n,t[1]=s,t[2]=l,t[3]=f,t[4]=h):(f=t[3],h=t[4]),ze.useEffect(f,h);let d,g;if(t[5]!==n.cart||t[6]!==s?(d=()=>{s&&(n.cart||i(null))},g=[n.cart,s],t[5]=n.cart,t[6]=s,t[7]=d,t[8]=g):(d=t[7],g=t[8]),ze.useEffect(d,g),!n.cart){let Me;return t[9]===Symbol.for("react.memo_cache_sentinel")?(Me=w.jsx("div",{className:"flex h-full w-full items-center justify-center bg-black",children:w.jsx("p",{className:"text-muted-foreground",children:"No cart selected. Please create or open a project."})}),t[9]=Me):Me=t[9],Me}let b;t[10]!==e.SSAOEnabled?(b=e.SSAOEnabled&&w.jsx(bp,{},"ssao"),t[10]=e.SSAOEnabled,t[11]=b):b=t[11];let m;t[12]!==e.DOFEnabled?(m=e.DOFEnabled&&w.jsx(wp,{focusDistance:2,focalLength:5,bokehScale:2},"dof"),t[12]=e.DOFEnabled,t[13]=m):m=t[13];let _;t[14]===Symbol.for("react.memo_cache_sentinel")?(_=w.jsx(xp,{},"smaa"),t[14]=_):_=t[14];let p;t[15]!==s?(p=s&&w.jsx(Ep,{selection:[s],edgeStrength:4,blur:!0},"outline"),t[15]=s,t[16]=p):p=t[16];let k;t[17]!==b||t[18]!==m||t[19]!==p?(k=[b,m,_,p].filter(Boolean),t[17]=b,t[18]=m,t[19]=p,t[20]=k):k=t[20];const S=k;let v;t[21]===Symbol.for("react.memo_cache_sentinel")?(v={position:[3,3,3],fov:45},t[21]=v):v=t[21];let A,N;t[22]===Symbol.for("react.memo_cache_sentinel")?(A=[1,2],N={powerPreference:"high-performance",antialias:!1},t[22]=A,t[23]=N):(A=t[22],N=t[23]);let y;t[24]!==n?(y=Me=>{Me.type==="click"&&(n.setSelectedObjectPath(void 0),i(null))},t[24]=n,t[25]=y):y=t[25];let E;t[26]!==S?(E=w.jsx(Sp,{enableNormalPass:!0,depthBuffer:!0,stencilBuffer:!0,children:S}),t[26]=S,t[27]=E):E=t[27];let C,j,B,M;t[28]===Symbol.for("react.memo_cache_sentinel")?(C=w.jsx(B_,{}),j=w.jsx(kp,{all:!0}),B=w.jsx("ambientLight",{intensity:2}),M=w.jsx("directionalLight",{position:[5,5,5],intensity:3,castShadow:!0}),t[28]=C,t[29]=j,t[30]=B,t[31]=M):(C=t[28],j=t[29],B=t[30],M=t[31]);let V;t[32]===Symbol.for("react.memo_cache_sentinel")?(V=w.jsx(ze.Suspense,{fallback:w.jsx(ua,{fontSize:5,color:"white",anchorX:"center",anchorY:"middle",outlineWidth:.2,outlineColor:"black",children:"Loading..."}),children:w.jsx(cv,{onSelect:i})}),t[32]=V):V=t[32];let ie;t[33]===Symbol.for("react.memo_cache_sentinel")?(ie=[.5,-.501,.5],t[33]=ie):ie=t[33];const te=e.gridColor;let oe;t[34]!==e?(oe=e.getComplementaryGridColor(),t[34]=e,t[35]=oe):oe=t[35];let le;t[36]!==e.gridColor||t[37]!==oe?(le=w.jsx(Ap,{position:ie,cellSize:.0625,sectionSize:1,cellThickness:.5,sectionThickness:1.5,cellColor:te,sectionColor:oe,infiniteGrid:!0,side:jp}),t[36]=e.gridColor,t[37]=oe,t[38]=le):le=t[38];let J;t[39]!==e.angleSnap||t[40]!==e.distanceSnap||t[41]!==s||t[42]!==o||t[43]!==l?(J=s&&w.jsx(_p,{object:s,mode:o,rotationSnap:fn(e.angleSnap),translationSnap:e.distanceSnap,onMouseDown:()=>r.current.enabled=!1,onMouseUp:()=>r.current.enabled=!0,space:l}),t[39]=e.angleSnap,t[40]=e.distanceSnap,t[41]=s,t[42]=o,t[43]=l,t[44]=J):J=t[44];let fe;t[45]!==e.controlDamping?(fe=w.jsx(vp,{ref:r,makeDefault:!0,enableDamping:e.controlDamping}),t[45]=e.controlDamping,t[46]=fe):fe=t[46];let ue;t[47]===Symbol.for("react.memo_cache_sentinel")?(ue=[80,80],t[47]=ue):ue=t[47];let ke,Ae;t[48]===Symbol.for("react.memo_cache_sentinel")?(ke=w.jsx(Tp,{alignment:"bottom-right",margin:ue,children:w.jsx(Np,{axisColors:["#9d4b4b","#2f7f4f","#3b5b9d"],labelColor:"white"})}),Ae=w.jsx(_v,{controlsRef:r}),t[48]=ke,t[49]=Ae):(ke=t[48],Ae=t[49]);let _e;t[50]!==y||t[51]!==E||t[52]!==le||t[53]!==J||t[54]!==fe?(_e=w.jsxs(Op,{className:"three-bg",camera:v,shadows:!0,dpr:A,gl:N,onPointerMissed:y,children:[E,C,j,B,M,V,le,J,fe,ke,Ae]}),t[50]=y,t[51]=E,t[52]=le,t[53]=J,t[54]=fe,t[55]=_e):_e=t[55];let H;t[56]===Symbol.for("react.memo_cache_sentinel")?(H=w.jsx(D_,{}),t[56]=H):H=t[56];let Se;t[57]!==l?(Se=()=>{c(l==="world"?"local":"world")},t[57]=l,t[58]=Se):Se=t[58];let Le;t[59]!==l?(Le=w.jsx($n,{children:l==="world"?w.jsx(ap,{}):w.jsx(lp,{})}),t[59]=l,t[60]=Le):Le=t[60];let De;t[61]!==Se||t[62]!==Le?(De=w.jsx(pn,{variant:"secondary",size:"icon",asChild:!0,onClick:Se,children:Le}),t[61]=Se,t[62]=Le,t[63]=De):De=t[63];const Ke=l==="world"?"World Space":"Local Space";let We;t[64]===Symbol.for("react.memo_cache_sentinel")?(We=w.jsx("kbd",{className:"text-muted-foreground ml-1",children:"X"}),t[64]=We):We=t[64];let O;t[65]!==Ke?(O=w.jsxs(Bn,{children:[Ke,We]}),t[65]=Ke,t[66]=O):O=t[66];let I;t[67]!==De||t[68]!==O?(I=w.jsxs(Ln,{children:[De,O]}),t[67]=De,t[68]=O,t[69]=I):I=t[69];const P=o==="translate";let U;t[70]===Symbol.for("react.memo_cache_sentinel")?(U=()=>a("translate"),t[70]=U):U=t[70];let $;t[71]===Symbol.for("react.memo_cache_sentinel")?($=w.jsx($n,{children:w.jsx(cp,{})}),t[71]=$):$=t[71];let D;t[72]!==P?(D=w.jsx(qc,{pressed:P,onClick:U,asChild:!0,children:$}),t[72]=P,t[73]=D):D=t[73];let Y;t[74]===Symbol.for("react.memo_cache_sentinel")?(Y=w.jsxs(Bn,{children:["Translate Mode",w.jsx("kbd",{className:"text-muted-foreground ml-1",children:"V"})]}),t[74]=Y):Y=t[74];let L;t[75]!==D?(L=w.jsxs(Ln,{children:[D,Y]}),t[75]=D,t[76]=L):L=t[76];const F=o==="rotate";let q;t[77]===Symbol.for("react.memo_cache_sentinel")?(q=()=>a("rotate"),t[77]=q):q=t[77];let Z;t[78]===Symbol.for("react.memo_cache_sentinel")?(Z=w.jsx($n,{children:w.jsx(up,{})}),t[78]=Z):Z=t[78];let re;t[79]!==F?(re=w.jsx(qc,{pressed:F,onClick:q,asChild:!0,children:Z}),t[79]=F,t[80]=re):re=t[80];let we;t[81]===Symbol.for("react.memo_cache_sentinel")?(we=w.jsxs(Bn,{children:["Rotate Mode",w.jsx("kbd",{className:"text-muted-foreground ml-1",children:"R"})]}),t[81]=we):we=t[81];let pe;t[82]!==re?(pe=w.jsxs(Ln,{children:[re,we]}),t[82]=re,t[83]=pe):pe=t[83];let Re;t[84]!==e.angleSnap||t[85]!==e.setAngleSnap||t[86]!==o?(Re=o==="rotate"&&w.jsx(bv,{value:e.angleSnap,onChange:e.setAngleSnap}),t[84]=e.angleSnap,t[85]=e.setAngleSnap,t[86]=o,t[87]=Re):Re=t[87];let Te;t[88]!==I||t[89]!==L||t[90]!==pe||t[91]!==Re?(Te=w.jsxs("div",{className:"absolute top-[8px] left-[8px] flex flex-row gap-[8px]",children:[I,L,pe,Re]}),t[88]=I,t[89]=L,t[90]=pe,t[91]=Re,t[92]=Te):Te=t[92];let He;return t[93]!==_e||t[94]!==Te?(He=w.jsxs("div",{className:"relative h-full w-full",children:[_e,H,Te]}),t[93]=_e,t[94]=Te,t[95]=He):He=t[95],He}function xv(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("flex flex-col gap-2",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(Ud,{"data-slot":"tabs",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Ev(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("bg-muted text-muted-foreground inline-flex flex-wrap w-fit items-center justify-center rounded-lg p-[3px]",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(Vd,{"data-slot":"tabs-list",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function ci(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-9  items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 flex-1",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(Zd,{"data-slot":"tabs-trigger",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function ui(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("flex-1 outline-none",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(qd,{"data-slot":"tabs-content",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Sv(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("w-full caption-bottom text-sm",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:w.jsx("table",{"data-slot":"table",className:s,...r})}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function kv(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("[&_tr]:border-b",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx("thead",{"data-slot":"table-header",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Av(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("[&_tr:last-child]:border-0",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx("tbody",{"data-slot":"table-body",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Gc(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx("tr",{"data-slot":"table-row",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Kc(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx("th",{"data-slot":"table-head",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Hc(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx("td",{"data-slot":"table-cell",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}const Tv="/tc-animator/assets/blockbench-settings-G7FDEJl4.png";function Nv(){const t=be.c(31),{modelIds:e,selectedObjectPath:n,cart:r,modelFiles:s,setModelFile:i}=Wt();let o;e:{if(!n||!r){let C;t[0]===Symbol.for("react.memo_cache_sentinel")?(C=[],t[0]=C):C=t[0],o=C;break e}let y;if(t[1]!==r||t[2]!==n){const C=Je({path:n,json:r,resultType:"value"});if(C.length===0){let M;t[5]===Symbol.for("react.memo_cache_sentinel")?(M=[],t[5]=M):M=t[5],o=M;break e}const j=C[0];if(!j||typeof j!="object"){let M;t[6]===Symbol.for("react.memo_cache_sentinel")?(M=[],t[6]=M):M=t[6],o=M;break e}y=new Set;const B=function(V){if(!V)return;const ie=V["minecraft:custom_model_data"];if(ie&&typeof ie=="object"&&"floats"in ie){const te=ie.floats;Array.isArray(te)&&te.forEach(oe=>y.add(oe))}};if("item"in j){const M=j.item;B(M?.components)}t[1]=r,t[2]=n,t[3]=y,t[4]=o}else y=t[3],o=t[4];let E;t[7]!==y?(E=Array.from(y),t[7]=y,t[8]=E):E=t[8],o=E}const a=o;let l;t[9]!==i?(l=async y=>{try{const E=await Sa({mimeTypes:["model/gltf+json","model/gltf-binary"],extensions:[".gltf",".glb"],multiple:!1,description:"3D Model (GLTF/GLB)",id:"tca-models"}),C=await E.arrayBuffer();let j=C;if(E.name.toLowerCase().endsWith(".gltf"))try{const B=await ih(C);j=Au(B.buffer)}catch(B){console.error("Failed to convert GLTF to GLB:",B),alert("Failed to convert GLTF to GLB. See console for details."),i(y,j)}i(y,j)}catch(E){const C=E;C.name!=="AbortError"&&(console.error("Error loading model file:",C),alert("Error loading model file. See console for details."))}},t[9]=i,t[10]=l):l=t[10];const c=l;let f,h;t[11]===Symbol.for("react.memo_cache_sentinel")?(f=w.jsx("br",{}),h=w.jsx("br",{}),t[11]=f,t[12]=h):(f=t[11],h=t[12]);let d;t[13]===Symbol.for("react.memo_cache_sentinel")?(d=w.jsx("b",{children:"GLTF"}),t[13]=d):d=t[13];let g;t[14]===Symbol.for("react.memo_cache_sentinel")?(g=w.jsx("b",{children:"GLB"}),t[14]=g):g=t[14];let b;t[15]===Symbol.for("react.memo_cache_sentinel")?(b=w.jsx($n,{className:"mx-1 cursor-help font-bold underline underline-offset-2",children:"Blockbench"}),t[15]=b):b=t[15];let m;t[16]===Symbol.for("react.memo_cache_sentinel")?(m=w.jsxs(Ln,{children:[b,w.jsxs(Bn,{children:[w.jsx("p",{className:"mb-2",children:"Use these settings when exporting from Blockbench:"}),w.jsx("img",{src:Tv,alt:"Blockbench export settings"})]})]}),t[16]=m):m=t[16];let _,p;t[17]===Symbol.for("react.memo_cache_sentinel")?(_=w.jsx("br",{}),p=w.jsx("br",{}),t[17]=_,t[18]=p):(_=t[17],p=t[18]);let k,S;t[19]===Symbol.for("react.memo_cache_sentinel")?(k=w.jsxs("p",{className:"text-muted-foreground mb-4",children:["You can replace the default cubes with your own 3D models to make the cart look like it would in-game with a resourcepack.",f,h,"Models must be in ",d," or ",g," format. These can be exported from",m,"or most 3D software.",_,p,"Below, you'll see each ",w.jsx("b",{children:"Custom Model ID"})," for your attachments. Select an attachment in the 3D view to highlight the corresponding ID if it has one. Upload your model next to the matching ID to apply it in TC Animator."]}),S=w.jsx("hr",{className:"my-4"}),t[19]=k,t[20]=S):(k=t[19],S=t[20]);let v;t[21]!==e.length?(v=e.length===0&&w.jsx("p",{className:"text-muted-foreground text-sm",children:"No custom models required for this cart."}),t[21]=e.length,t[22]=v):v=t[22];let A;t[23]!==c||t[24]!==s||t[25]!==e||t[26]!==a?(A=e.length>0&&w.jsxs(Sv,{children:[w.jsx(kv,{children:w.jsxs(Gc,{children:[w.jsx(Kc,{children:"Custom Model ID"}),w.jsx(Kc,{children:"Upload Model"})]})}),w.jsx(Av,{children:e.map(y=>w.jsxs(Gc,{children:[w.jsx(Hc,{className:a.includes(y)?"font-bold text-yellow-500":"",children:y}),w.jsx(Hc,{children:w.jsx(pn,{variant:"secondary",size:"sm",onClick:()=>c(y),children:s.get(y)?"Change Model":"Upload Model"})})]},y))})]}),t[23]=c,t[24]=s,t[25]=e,t[26]=a,t[27]=A):A=t[27];let N;return t[28]!==v||t[29]!==A?(N=w.jsxs(w.Fragment,{children:[k,S,v,A]}),t[28]=v,t[29]=A,t[30]=N):N=t[30],N}function Yc(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("bg-accent animate-pulse rounded-md",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx("div",{"data-slot":"skeleton",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}const Wc=ze.lazy(()=>Ip(()=>import("./monaco-BiVoQtDK.js"),__vite__mapDeps([0,1])));function Ov(){const t=Wt(),e=ze.useMemo(()=>({...t,cart:void 0,modelFiles:void 0,fileHandle:void 0}),[t]);return w.jsxs(xv,{defaultValue:"object-controls",className:"-mt-4 h-full w-full",children:[w.jsxs(Ev,{className:"w-full rounded-none",children:[w.jsx(ci,{value:"object-controls",children:"Object Controls"}),w.jsx(ci,{value:"custom-models",children:"Custom Models"}),w.jsx(ci,{value:"cart-debug",children:"Cart Debug"}),w.jsx(ci,{value:"project-debug",children:"Project Debug"})]}),w.jsx(ui,{value:"object-controls",className:"px-4",children:"W.I.P."}),w.jsx(ui,{value:"custom-models",className:"px-4",children:w.jsx(Nv,{})}),w.jsx(ui,{value:"cart-debug",children:w.jsx(ze.Suspense,{fallback:w.jsx(Yc,{className:"h-full w-full"}),children:w.jsx(Wc,{language:"json",theme:"vs-dark",value:JSON.stringify(t.cart,null,2),options:{minimap:{enabled:!0},scrollbar:{alwaysConsumeMouseWheel:!1},wordWrap:"on",automaticLayout:!0},onChange:n=>{if(n)try{const r=JSON.parse(n);t.setCart(r)}catch(r){console.error("Failed to parse JSON:",r)}}})})}),w.jsx(ui,{value:"project-debug",children:w.jsxs(ze.Suspense,{fallback:w.jsx(Yc,{className:"h-full w-full"}),children:[w.jsx(pn,{className:"mb-2 block w-full",onClick:()=>t.logState(),children:"Log State to Console"}),w.jsx(Wc,{language:"json",theme:"vs-dark",value:JSON.stringify(e,null,2),options:{minimap:{enabled:!1},scrollbar:{alwaysConsumeMouseWheel:!1},wordWrap:"off",automaticLayout:!0,readOnly:!0}})]})})]})}function Iv(){const t=be.c(16),[e,n]=ze.useState(null),[r,s]=ze.useState(null),[i,o]=ze.useState(!1);let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=S=>{s(S),o(!1)},t[0]=a):a=t[0];const l=a;let c;t[1]!==r?(c=()=>{r&&r.playPause()},t[1]=r,t[2]=c):c=t[2];const f=c;let h;t[3]===Symbol.for("react.memo_cache_sentinel")?(h=w.jsx(Ea,{type:"file",accept:"audio/*",onChange:S=>{if(S.target.files&&S.target.files.length>0){const v=S.target.files[0];n(v)}}}),t[3]=h):h=t[3];let d;t[4]!==e?(d=e?URL.createObjectURL(e):"",t[4]=e,t[5]=d):d=t[5];let g,b;t[6]===Symbol.for("react.memo_cache_sentinel")?(g=()=>o(!0),b=()=>o(!1),t[6]=g,t[7]=b):(g=t[6],b=t[7]);let m;t[8]!==d?(m=w.jsx(Gd,{url:d,waveColor:"#3a81f6",onReady:l,onPlay:g,onPause:b}),t[8]=d,t[9]=m):m=t[9];const _=i?"Pause":"Play";let p;t[10]!==f||t[11]!==_?(p=w.jsx("button",{onClick:f,children:_}),t[10]=f,t[11]=_,t[12]=p):p=t[12];let k;return t[13]!==m||t[14]!==p?(k=w.jsxs("div",{children:[h,m,p]}),t[13]=m,t[14]=p,t[15]=k):k=t[15],k}function Cv(){const t=be.c(15),e=Es(),n=Wt();let r,s;t[0]!==e.theme?(r=()=>{const b=window.document.documentElement;b.classList.remove("light","dark"),b.classList.add(e.theme)},s=[e.theme],t[0]=e.theme,t[1]=r,t[2]=s):(r=t[1],s=t[2]),ze.useEffect(r,s);let i,o;t[3]!==n?(i=()=>{const b=m=>{n.saved||!n.cart||(m.preventDefault(),m.returnValue="")};return window.addEventListener("beforeunload",b),()=>{window.removeEventListener("beforeunload",b)}},o=[n],t[3]=n,t[4]=i,t[5]=o):(i=t[4],o=t[5]),ze.useEffect(i,o);let a,l;t[6]!==e.saveInterval||t[7]!==n?(a=()=>{const b=setInterval(()=>{!n.saved&&n.cart&&n.saveProject().catch(Rv)},e.saveInterval*1e3);return()=>{clearInterval(b)}},l=[n,e.saveInterval],t[6]=e.saveInterval,t[7]=n,t[8]=a,t[9]=l):(a=t[8],l=t[9]),ze.useEffect(a,l);let c,f;t[10]===Symbol.for("react.memo_cache_sentinel")?(c=w.jsxs(Ps,{minSize:5,defaultSize:25,className:"bg-card flex flex-col gap-4",children:[w.jsx(C_,{}),w.jsx(Ov,{})]}),f=w.jsx(pl,{}),t[10]=c,t[11]=f):(c=t[10],f=t[11]);let h,d;t[12]===Symbol.for("react.memo_cache_sentinel")?(h=w.jsx(Ps,{minSize:5,defaultSize:80,children:w.jsxs(dl,{direction:"horizontal",autoSaveId:"tca-preview",autoSave:"true",children:[c,f,w.jsx(Ps,{minSize:5,defaultSize:75,children:w.jsx(vv,{})})]})}),d=w.jsx(pl,{}),t[12]=h,t[13]=d):(h=t[12],d=t[13]);let g;return t[14]===Symbol.for("react.memo_cache_sentinel")?(g=w.jsx("div",{className:"h-screen w-screen",children:w.jsxs(dl,{direction:"vertical",autoSaveId:"tca-project",autoSave:"true",children:[h,d,w.jsxs(Ps,{minSize:5,defaultSize:20,className:"bg-card p-4",children:["Timeline",w.jsx(Iv,{})]})]})}),t[14]=g):g=t[14],g}function Rv(t){console.error("Auto-save failed:",t)}function Da(t){const e=be.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=w.jsx(Xd,{"data-slot":"alert-dialog",...n}),e[2]=n,e[3]=r):r=e[3],r}function jv(t){const e=be.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=w.jsx(Qd,{"data-slot":"alert-dialog-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function Pv(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(Jd,{"data-slot":"alert-dialog-overlay",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Fa(t){const e=be.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]===Symbol.for("react.memo_cache_sentinel")?(s=w.jsx(Pv,{}),e[3]=s):s=e[3];let i;e[4]!==n?(i=Be("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),e[4]=n,e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==i?(o=w.jsxs(jv,{children:[s,w.jsx(Wd,{"data-slot":"alert-dialog-content",className:i,...r})]}),e[6]=r,e[7]=i,e[8]=o):o=e[8],o}function Ua(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx("div",{"data-slot":"alert-dialog-header",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Va(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx("div",{"data-slot":"alert-dialog-footer",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Za(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("text-lg font-semibold",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(Hd,{"data-slot":"alert-dialog-title",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function qa(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be("text-muted-foreground text-sm",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(Yd,{"data-slot":"alert-dialog-description",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Mv(t){const e=be.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Be(Nu({variant:"outline"}),n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=w.jsx(Kd,{className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function zv(){const t=[],e=document.createElement("canvas");return!!(e.getContext("webgl")||e.getContext("experimental-webgl"))||t.push("WebGL / 3D Graphics"),"AudioContext"in window||"webkitAudioContext"in window||t.push("Web Audio API (AudioContext)"),"requestAnimationFrame"in window||t.push("Animation Frame API (requestAnimationFrame)"),t}const Lv=()=>{const t=be.c(22);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0];const[n,r]=ze.useState(e),[s,i]=ze.useState(!1);let o,a;if(t[1]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{const S=zv();(S.length>0||!jr)&&(r(S),setTimeout(()=>{i(!0)},10))},a=[],t[1]=o,t[2]=a):(o=t[1],a=t[2]),ze.useEffect(o,a),!s)return null;let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=w.jsx(Za,{children:"Missing Browser Capabilities"}),t[3]=l):l=t[3];let c;t[4]!==n?(c=n.map($v),t[4]=n,t[5]=c):c=t[5];let f;t[6]===Symbol.for("react.memo_cache_sentinel")?(f=!jr&&w.jsxs("li",{children:["File System Access API",w.jsx("br",{}),w.jsx("span",{className:"text-xs text-muted-foreground",children:"Used for autosave and loading files directly. Without it, you'll need to manually download and upload your files each time."})]}),t[6]=f):f=t[6];let h;t[7]!==c?(h=w.jsxs("ul",{className:"my-2 list-disc list-inside",children:[c,f]}),t[7]=c,t[8]=h):h=t[8];let d;t[9]===Symbol.for("react.memo_cache_sentinel")?(d=w.jsx("strong",{children:"Chrome"}),t[9]=d):d=t[9];let g;t[10]===Symbol.for("react.memo_cache_sentinel")?(g=w.jsx("strong",{children:"Edge"}),t[10]=g):g=t[10];let b;t[11]===Symbol.for("react.memo_cache_sentinel")?(b=w.jsx("strong",{children:"Brave"}),t[11]=b):b=t[11];let m;t[12]!==h?(m=w.jsxs(Ua,{children:[l,w.jsxs(qa,{children:["This app requires certain browser features to work correctly. Your current browser is missing the following capabilities:",h,"To use all features, switch to a modern Chromium-based browser like ",d,","," ",g,", or ",b,"."]})]}),t[12]=h,t[13]=m):m=t[13];let _;t[14]!==n.length?(_=!jr&&n.length===0&&w.jsx(Va,{children:w.jsx(Mv,{children:"Acknowledge"})}),t[14]=n.length,t[15]=_):_=t[15];let p;t[16]!==m||t[17]!==_?(p=w.jsxs(Fa,{children:[m,_]}),t[16]=m,t[17]=_,t[18]=p):p=t[18];let k;return t[19]!==s||t[20]!==p?(k=w.jsx(Da,{open:s,onOpenChange:i,children:p}),t[19]=s,t[20]=p,t[21]=k):k=t[21],k};function $v(t){return w.jsx("li",{children:t},t)}const Ga=Symbol.for("yaml.alias"),ha=Symbol.for("yaml.document"),Vn=Symbol.for("yaml.map"),lh=Symbol.for("yaml.pair"),gn=Symbol.for("yaml.scalar"),Hr=Symbol.for("yaml.seq"),Kt=Symbol.for("yaml.node.type"),br=t=>!!t&&typeof t=="object"&&t[Kt]===Ga,Hi=t=>!!t&&typeof t=="object"&&t[Kt]===ha,Ts=t=>!!t&&typeof t=="object"&&t[Kt]===Vn,_t=t=>!!t&&typeof t=="object"&&t[Kt]===lh,ot=t=>!!t&&typeof t=="object"&&t[Kt]===gn,Ns=t=>!!t&&typeof t=="object"&&t[Kt]===Hr;function bt(t){if(t&&typeof t=="object")switch(t[Kt]){case Vn:case Hr:return!0}return!1}function wt(t){if(t&&typeof t=="object")switch(t[Kt]){case Ga:case Vn:case gn:case Hr:return!0}return!1}const ch=t=>(ot(t)||bt(t))&&!!t.anchor,rr=Symbol("break visit"),Bv=Symbol("skip children"),fs=Symbol("remove node");function Yr(t,e){const n=Dv(e);Hi(t)?Nr(null,t.contents,n,Object.freeze([t]))===fs&&(t.contents=null):Nr(null,t,n,Object.freeze([]))}Yr.BREAK=rr;Yr.SKIP=Bv;Yr.REMOVE=fs;function Nr(t,e,n,r){const s=Fv(t,e,n,r);if(wt(s)||_t(s))return Uv(t,r,s),Nr(t,s,n,r);if(typeof s!="symbol"){if(bt(e)){r=Object.freeze(r.concat(e));for(let i=0;i<e.items.length;++i){const o=Nr(i,e.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===rr)return rr;o===fs&&(e.items.splice(i,1),i-=1)}}}else if(_t(e)){r=Object.freeze(r.concat(e));const i=Nr("key",e.key,n,r);if(i===rr)return rr;i===fs&&(e.key=null);const o=Nr("value",e.value,n,r);if(o===rr)return rr;o===fs&&(e.value=null)}}return s}function Dv(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function Fv(t,e,n,r){if(typeof n=="function")return n(t,e,r);if(Ts(e))return n.Map?.(t,e,r);if(Ns(e))return n.Seq?.(t,e,r);if(_t(e))return n.Pair?.(t,e,r);if(ot(e))return n.Scalar?.(t,e,r);if(br(e))return n.Alias?.(t,e,r)}function Uv(t,e,n){const r=e[e.length-1];if(bt(r))r.items[t]=n;else if(_t(r))t==="key"?r.key=n:r.value=n;else if(Hi(r))r.contents=n;else{const s=br(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const Vv={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Zv=t=>t.replace(/[!,[\]{}]/g,e=>Vv[e]);class Ct{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Ct.defaultYaml,e),this.tags=Object.assign({},Ct.defaultTags,n)}clone(){const e=new Ct(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Ct(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Ct.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Ct.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:Ct.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Ct.defaultTags),this.atNextDocument=!1);const r=e.trim().split(/[ \t]+/),s=r.shift();switch(s){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[i,o]=r;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=r;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,o),!1}}default:return n(0,`Unknown directive ${s}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,s]=e.match(/^(.*!)([^!]*)$/s);s||n(`The ${e} tag has no suffix`);const i=this.tags[r];if(i)try{return i+decodeURIComponent(s)}catch(o){return n(String(o)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+Zv(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let s;if(e&&r.length>0&&wt(e.contents)){const i={};Yr(e.contents,(o,a)=>{wt(a)&&a.tag&&(i[a.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,o]of r)i==="!!"&&o==="tag:yaml.org,2002:"||(!e||s.some(a=>a.startsWith(o)))&&n.push(`%TAG ${i} ${o}`);return n.join(`
`)}}Ct.defaultYaml={explicit:!1,version:"1.2"};Ct.defaultTags={"!!":"tag:yaml.org,2002:"};function uh(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function fh(t){const e=new Set;return Yr(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function hh(t,e){for(let n=1;;++n){const r=`${t}${n}`;if(!e.has(r))return r}}function qv(t,e){const n=[],r=new Map;let s=null;return{onAnchor:i=>{n.push(i),s??(s=fh(t));const o=hh(e,s);return s.add(o),o},setAnchors:()=>{for(const i of n){const o=r.get(i);if(typeof o=="object"&&o.anchor&&(ot(o.node)||bt(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=i,a}}},sourceObjects:r}}function Or(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,i=r.length;s<i;++s){const o=r[s],a=Or(t,r,String(s),o);a===void 0?delete r[s]:a!==o&&(r[s]=a)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const i=r.get(s),o=Or(t,r,s,i);o===void 0?r.delete(s):o!==i&&r.set(s,o)}else if(r instanceof Set)for(const s of Array.from(r)){const i=Or(t,r,s,s);i===void 0?r.delete(s):i!==s&&(r.delete(s),r.add(i))}else for(const[s,i]of Object.entries(r)){const o=Or(t,r,s,i);o===void 0?delete r[s]:o!==i&&(r[s]=o)}return t.call(e,n,r)}function Gt(t,e,n){if(Array.isArray(t))return t.map((r,s)=>Gt(r,String(s),n));if(t&&typeof t.toJSON=="function"){if(!n||!ch(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=i=>{r.res=i,delete n.onCreate};const s=t.toJSON(e,n);return n.onCreate&&n.onCreate(s),s}return typeof t=="bigint"&&!n?.keep?Number(t):t}class Ka{constructor(e){Object.defineProperty(this,Kt,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){if(!Hi(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=Gt(this,"",o);if(typeof s=="function")for(const{count:l,res:c}of o.anchors.values())s(c,l);return typeof i=="function"?Or(i,{"":a},"",a):a}}class Ha extends Ka{constructor(e){super(Ga),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let r;n?.aliasResolveCache?r=n.aliasResolveCache:(r=[],Yr(e,{Node:(i,o)=>{(br(o)||ch(o))&&r.push(o)}}),n&&(n.aliasResolveCache=r));let s;for(const i of r){if(i===this)break;i.anchor===this.source&&(s=i)}return s}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:s,maxAliasCount:i}=n,o=this.resolve(s,n);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=r.get(o);if(a||(Gt(o,null,n),a=r.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Si(s,o,r)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,r){const s=`*${this.source}`;if(e){if(uh(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${s} `}return s}}function Si(t,e,n){if(br(e)){const r=e.resolve(t),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(bt(e)){let r=0;for(const s of e.items){const i=Si(t,s,n);i>r&&(r=i)}return r}else if(_t(e)){const r=Si(t,e.key,n),s=Si(t,e.value,n);return Math.max(r,s)}return 1}const dh=t=>!t||typeof t!="function"&&typeof t!="object";class Ue extends Ka{constructor(e){super(gn),this.value=e}toJSON(e,n){return n?.keep?this.value:Gt(this.value,e,n)}toString(){return String(this.value)}}Ue.BLOCK_FOLDED="BLOCK_FOLDED";Ue.BLOCK_LITERAL="BLOCK_LITERAL";Ue.PLAIN="PLAIN";Ue.QUOTE_DOUBLE="QUOTE_DOUBLE";Ue.QUOTE_SINGLE="QUOTE_SINGLE";const Gv="tag:yaml.org,2002:";function Kv(t,e,n){if(e){const r=n.filter(i=>i.tag===e),s=r.find(i=>!i.format)??r[0];if(!s)throw new Error(`Tag ${e} not found`);return s}return n.find(r=>r.identify?.(t)&&!r.format)}function vs(t,e,n){if(Hi(t)&&(t=t.contents),wt(t))return t;if(_t(t)){const h=n.schema[Vn].createNode?.(n.schema,null,n);return h.items.push(t),h}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:i,schema:o,sourceObjects:a}=n;let l;if(r&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor??(l.anchor=s(t)),new Ha(l.anchor);l={anchor:null,node:null},a.set(t,l)}e?.startsWith("!!")&&(e=Gv+e.slice(2));let c=Kv(t,e,o.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const h=new Ue(t);return l&&(l.node=h),h}c=t instanceof Map?o[Vn]:Symbol.iterator in Object(t)?o[Hr]:o[Vn]}i&&(i(c),delete n.onTagObj);const f=c?.createNode?c.createNode(n.schema,t,n):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(n.schema,t,n):new Ue(t);return e?f.tag=e:c.default||(f.tag=c.tag),l&&(l.node=f),f}function Li(t,e,n){let r=n;for(let s=e.length-1;s>=0;--s){const i=e[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=r,r=o}else r=new Map([[i,r]])}return vs(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const os=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class ph extends Ka{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>wt(r)||_t(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(os(e))this.add(n);else{const[r,...s]=e,i=this.get(r,!0);if(bt(i))i.addIn(s,n);else if(i===void 0&&this.schema)this.set(r,Li(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const s=this.get(n,!0);if(bt(s))return s.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...s]=e,i=this.get(r,!0);return s.length===0?!n&&ot(i)?i.value:i:bt(i)?i.getIn(s,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!_t(n))return!1;const r=n.value;return r==null||e&&ot(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const s=this.get(n,!0);return bt(s)?s.hasIn(r):!1}setIn(e,n){const[r,...s]=e;if(s.length===0)this.set(r,n);else{const i=this.get(r,!0);if(bt(i))i.setIn(s,n);else if(i===void 0&&this.schema)this.set(r,Li(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}}const Hv=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function bn(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const lr=(t,e,n)=>t.endsWith(`
`)?bn(n,e):n.includes(`
`)?`
`+bn(n,e):(t.endsWith(" ")?"":" ")+n,gh="flow",da="block",ki="quoted";function Yi(t,e,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!s||s<0)return t;s<i&&(i=0);const l=Math.max(1+i,1+s-e.length);if(t.length<=l)return t;const c=[],f={};let h=s-e.length;typeof r=="number"&&(r>s-Math.max(2,i)?c.push(0):h=s-r);let d,g,b=!1,m=-1,_=-1,p=-1;n===da&&(m=Xc(t,m,e.length),m!==-1&&(h=m+l));for(let S;S=t[m+=1];){if(n===ki&&S==="\\"){switch(_=m,t[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}p=m}if(S===`
`)n===da&&(m=Xc(t,m,e.length)),h=m+e.length+l,d=void 0;else{if(S===" "&&g&&g!==" "&&g!==`
`&&g!=="	"){const v=t[m+1];v&&v!==" "&&v!==`
`&&v!=="	"&&(d=m)}if(m>=h)if(d)c.push(d),h=d+l,d=void 0;else if(n===ki){for(;g===" "||g==="	";)g=S,S=t[m+=1],b=!0;const v=m>p+1?m-2:_-1;if(f[v])return t;c.push(v),f[v]=!0,h=v+l,d=void 0}else b=!0}g=S}if(b&&a&&a(),c.length===0)return t;o&&o();let k=t.slice(0,c[0]);for(let S=0;S<c.length;++S){const v=c[S],A=c[S+1]||t.length;v===0?k=`
${e}${t.slice(0,A)}`:(n===ki&&f[v]&&(k+=`${t[v]}\\`),k+=`
${e}${t.slice(v+1,A)}`)}return k}function Xc(t,e,n){let r=e,s=e+1,i=t[s];for(;i===" "||i==="	";)if(e<s+n)i=t[++e];else{do i=t[++e];while(i&&i!==`
`);r=e,s=e+1,i=t[s]}return r}const Wi=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Xi=t=>/^(%|---|\.\.\.)/m.test(t);function Yv(t,e,n){if(!e||e<0)return!1;const r=e-n,s=t.length;if(s<=r)return!1;for(let i=0,o=0;i<s;++i)if(t[i]===`
`){if(i-o>r)return!0;if(o=i+1,s-o<=r)return!1}return!0}function hs(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,s=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(Xi(t)?"  ":"");let o="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const f=n.substr(l+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<s)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=i,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,r?o:Yi(o,i,ki,Wi(e,!1))}function pa(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return hs(t,e);const n=e.indent||(Xi(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:Yi(r,n,gh,Wi(e,!1))}function Ir(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=hs;else{const s=t.includes('"'),i=t.includes("'");s&&!i?r=pa:i&&!s?r=hs:r=n?pa:hs}return r(t,e)}let ga;try{ga=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{ga=/\n+(?!\n|$)/g}function Ai({comment:t,type:e,value:n},r,s,i){const{blockQuote:o,commentString:a,lineWidth:l}=r.options;if(!o||/\n[\t ]+$/.test(n))return Ir(n,r);const c=r.indent||(r.forceBlockIndent||Xi(n)?"  ":""),f=o==="literal"?!0:o==="folded"||e===Ue.BLOCK_FOLDED?!1:e===Ue.BLOCK_LITERAL?!0:!Yv(n,l,c.length);if(!n)return f?`|
`:`>
`;let h,d;for(d=n.length;d>0;--d){const A=n[d-1];if(A!==`
`&&A!=="	"&&A!==" ")break}let g=n.substring(d);const b=g.indexOf(`
`);b===-1?h="-":n===g||b!==g.length-1?(h="+",i&&i()):h="",g&&(n=n.slice(0,-g.length),g[g.length-1]===`
`&&(g=g.slice(0,-1)),g=g.replace(ga,`$&${c}`));let m=!1,_,p=-1;for(_=0;_<n.length;++_){const A=n[_];if(A===" ")m=!0;else if(A===`
`)p=_;else break}let k=n.substring(0,p<_?p+1:_);k&&(n=n.substring(k.length),k=k.replace(/\n+/g,`$&${c}`));let v=(m?c?"2":"1":"")+h;if(t&&(v+=" "+a(t.replace(/ ?[\r\n]+/g," ")),s&&s()),!f){const A=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let N=!1;const y=Wi(r,!0);o!=="folded"&&e!==Ue.BLOCK_FOLDED&&(y.onOverflow=()=>{N=!0});const E=Yi(`${k}${A}${g}`,c,da,y);if(!N)return`>${v}
${c}${E}`}return n=n.replace(/\n+/g,`$&${c}`),`|${v}
${c}${k}${n}${g}`}function Wv(t,e,n,r){const{type:s,value:i}=t,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:f}=e;if(a&&i.includes(`
`)||f&&/[[\]{},]/.test(i))return Ir(i,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||f||!i.includes(`
`)?Ir(i,e):Ai(t,e,n,r);if(!a&&!f&&s!==Ue.PLAIN&&i.includes(`
`))return Ai(t,e,n,r);if(Xi(i)){if(l==="")return e.forceBlockIndent=!0,Ai(t,e,n,r);if(a&&l===c)return Ir(i,e)}const h=i.replace(/\n+/g,`$&
${l}`);if(o){const d=m=>m.default&&m.tag!=="tag:yaml.org,2002:str"&&m.test?.test(h),{compat:g,tags:b}=e.doc.schema;if(b.some(d)||g?.some(d))return Ir(i,e)}return a?h:Yi(h,l,gh,Wi(e,!1))}function Ya(t,e,n,r){const{implicitKey:s,inFlow:i}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==Ue.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=Ue.QUOTE_DOUBLE);const l=f=>{switch(f){case Ue.BLOCK_FOLDED:case Ue.BLOCK_LITERAL:return s||i?Ir(o.value,e):Ai(o,e,n,r);case Ue.QUOTE_DOUBLE:return hs(o.value,e);case Ue.QUOTE_SINGLE:return pa(o.value,e);case Ue.PLAIN:return Wv(o,e,n,r);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:f,defaultStringType:h}=e.options,d=s&&f||h;if(c=l(d),c===null)throw new Error(`Unsupported default string type ${d}`)}return c}function mh(t,e){const n=Object.assign({blockQuote:!0,commentString:Hv,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function Xv(t,e){if(e.tag){const s=t.filter(i=>i.tag===e.tag);if(s.length>0)return s.find(i=>i.format===e.format)??s[0]}let n,r;if(ot(e)){r=e.value;let s=t.filter(i=>i.identify?.(r));if(s.length>1){const i=s.filter(o=>o.test);i.length>0&&(s=i)}n=s.find(i=>i.format===e.format)??s.find(i=>!i.format)}else r=e,n=t.find(s=>s.nodeClass&&r instanceof s.nodeClass);if(!n){const s=r?.constructor?.name??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${s} value`)}return n}function Qv(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(ot(t)||bt(t))&&t.anchor;i&&uh(i)&&(n.add(i),s.push(`&${i}`));const o=t.tag??(e.default?null:e.tag);return o&&s.push(r.directives.tagString(o)),s.join(" ")}function Ur(t,e,n,r){if(_t(t))return t.toString(e,n,r);if(br(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let s;const i=wt(t)?t:e.doc.createNode(t,{onTagObj:l=>s=l});s??(s=Xv(e.doc.schema.tags,i));const o=Qv(i,s,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof s.stringify=="function"?s.stringify(i,e,n,r):ot(i)?Ya(i,e,n,r):i.toString(e,n,r);return o?ot(i)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}function Jv({key:t,value:e},n,r,s){const{allNullValues:i,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:f,simpleKeys:h}}=n;let d=wt(t)&&t.comment||null;if(h){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(bt(t)||!wt(t)&&typeof t=="object"){const y="With simple keys, collection cannot be used as a key value";throw new Error(y)}}let g=!h&&(!t||d&&e==null&&!n.inFlow||bt(t)||(ot(t)?t.type===Ue.BLOCK_FOLDED||t.type===Ue.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!g&&(h||!i),indent:a+l});let b=!1,m=!1,_=Ur(t,n,()=>b=!0,()=>m=!0);if(!g&&!n.inFlow&&_.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");g=!0}if(n.inFlow){if(i||e==null)return b&&r&&r(),_===""?"?":g?`? ${_}`:_}else if(i&&!h||e==null&&g)return _=`? ${_}`,d&&!b?_+=lr(_,n.indent,c(d)):m&&s&&s(),_;b&&(d=null),g?(d&&(_+=lr(_,n.indent,c(d))),_=`? ${_}
${a}:`):(_=`${_}:`,d&&(_+=lr(_,n.indent,c(d))));let p,k,S;wt(e)?(p=!!e.spaceBefore,k=e.commentBefore,S=e.comment):(p=!1,k=null,S=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!g&&!d&&ot(e)&&(n.indentAtStart=_.length+1),m=!1,!f&&l.length>=2&&!n.inFlow&&!g&&Ns(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let v=!1;const A=Ur(e,n,()=>v=!0,()=>m=!0);let N=" ";if(d||p||k){if(N=p?`
`:"",k){const y=c(k);N+=`
${bn(y,n.indent)}`}A===""&&!n.inFlow?N===`
`&&(N=`

`):N+=`
${n.indent}`}else if(!g&&bt(e)){const y=A[0],E=A.indexOf(`
`),C=E!==-1,j=n.inFlow??e.flow??e.items.length===0;if(C||!j){let B=!1;if(C&&(y==="&"||y==="!")){let M=A.indexOf(" ");y==="&"&&M!==-1&&M<E&&A[M+1]==="!"&&(M=A.indexOf(" ",M+1)),(M===-1||E<M)&&(B=!0)}B||(N=`
${n.indent}`)}}else(A===""||A[0]===`
`)&&(N="");return _+=N+A,n.inFlow?v&&r&&r():S&&!v?_+=lr(_,n.indent,c(S)):m&&s&&s(),_}function yh(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const fi="<<",_n={identify:t=>t===fi||typeof t=="symbol"&&t.description===fi,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Ue(Symbol(fi)),{addToJSMap:bh}),stringify:()=>fi},e2=(t,e)=>(_n.identify(e)||ot(e)&&(!e.type||e.type===Ue.PLAIN)&&_n.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===_n.tag&&n.default);function bh(t,e,n){if(n=t&&br(n)?n.resolve(t.doc):n,Ns(n))for(const r of n.items)To(t,e,r);else if(Array.isArray(n))for(const r of n)To(t,e,r);else To(t,e,n)}function To(t,e,n){const r=t&&br(n)?n.resolve(t.doc):n;if(!Ts(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,t,Map);for(const[i,o]of s)e instanceof Map?e.has(i)||e.set(i,o):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function wh(t,e,{key:n,value:r}){if(wt(n)&&n.addToJSMap)n.addToJSMap(t,e,r);else if(e2(t,n))bh(t,e,r);else{const s=Gt(n,"",t);if(e instanceof Map)e.set(s,Gt(r,s,t));else if(e instanceof Set)e.add(s);else{const i=t2(n,s,t),o=Gt(r,i,t);i in e?Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[i]=o}}return e}function t2(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(wt(t)&&n?.doc){const r=mh(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;const s=t.toString(r);if(!n.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),yh(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(e)}function Wa(t,e,n){const r=vs(t,void 0,n),s=vs(e,void 0,n);return new jt(r,s)}class jt{constructor(e,n=null){Object.defineProperty(this,Kt,{value:lh}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return wt(n)&&(n=n.clone(e)),wt(r)&&(r=r.clone(e)),new jt(n,r)}toJSON(e,n){const r=n?.mapAsMap?new Map:{};return wh(n,r,this)}toString(e,n,r){return e?.doc?Jv(this,e,n,r):JSON.stringify(this)}}function _h(t,e,n){return(e.inFlow??t.flow?r2:n2)(t,e,n)}function n2({comment:t,items:e},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=n,f=Object.assign({},n,{indent:i,type:null});let h=!1;const d=[];for(let b=0;b<e.length;++b){const m=e[b];let _=null;if(wt(m))!h&&m.spaceBefore&&d.push(""),$i(n,d,m.commentBefore,h),m.comment&&(_=m.comment);else if(_t(m)){const k=wt(m.key)?m.key:null;k&&(!h&&k.spaceBefore&&d.push(""),$i(n,d,k.commentBefore,h))}h=!1;let p=Ur(m,f,()=>_=null,()=>h=!0);_&&(p+=lr(p,i,c(_))),h&&_&&(h=!1),d.push(r+p)}let g;if(d.length===0)g=s.start+s.end;else{g=d[0];for(let b=1;b<d.length;++b){const m=d[b];g+=m?`
${l}${m}`:`
`}}return t?(g+=`
`+bn(c(t),l),a&&a()):h&&o&&o(),g}function r2({items:t},e,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:i,flowCollectionPadding:o,options:{commentString:a}}=e;r+=i;const l=Object.assign({},e,{indent:r,inFlow:!0,type:null});let c=!1,f=0;const h=[];for(let b=0;b<t.length;++b){const m=t[b];let _=null;if(wt(m))m.spaceBefore&&h.push(""),$i(e,h,m.commentBefore,!1),m.comment&&(_=m.comment);else if(_t(m)){const k=wt(m.key)?m.key:null;k&&(k.spaceBefore&&h.push(""),$i(e,h,k.commentBefore,!1),k.comment&&(c=!0));const S=wt(m.value)?m.value:null;S?(S.comment&&(_=S.comment),S.commentBefore&&(c=!0)):m.value==null&&k?.comment&&(_=k.comment)}_&&(c=!0);let p=Ur(m,l,()=>_=null);b<t.length-1&&(p+=","),_&&(p+=lr(p,r,a(_))),!c&&(h.length>f||p.includes(`
`))&&(c=!0),h.push(p),f=h.length}const{start:d,end:g}=n;if(h.length===0)return d+g;if(!c){const b=h.reduce((m,_)=>m+_.length+2,2);c=e.options.lineWidth>0&&b>e.options.lineWidth}if(c){let b=d;for(const m of h)b+=m?`
${i}${s}${m}`:`
`;return`${b}
${s}${g}`}else return`${d}${o}${h.join(" ")}${o}${g}`}function $i({indent:t,options:{commentString:e}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const i=bn(e(r),t);n.push(i.trimStart())}}function cr(t,e){const n=ot(e)?e.value:e;for(const r of t)if(_t(r)&&(r.key===e||r.key===n||ot(r.key)&&r.key.value===n))return r}class Zt extends ph{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Vn,e),this.items=[]}static from(e,n,r){const{keepUndefined:s,replacer:i}=r,o=new this(e),a=(l,c)=>{if(typeof i=="function")c=i.call(n,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||s)&&o.items.push(Wa(l,c,r))};if(n instanceof Map)for(const[l,c]of n)a(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){let r;_t(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new jt(e,e?.value):r=new jt(e.key,e.value);const s=cr(this.items,r.key),i=this.schema?.sortMapEntries;if(s){if(!n)throw new Error(`Key ${r.key} already set`);ot(s.value)&&dh(r.value)?s.value.value=r.value:s.value=r.value}else if(i){const o=this.items.findIndex(a=>i(r,a)<0);o===-1?this.items.push(r):this.items.splice(o,0,r)}else this.items.push(r)}delete(e){const n=cr(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const s=cr(this.items,e)?.value;return(!n&&ot(s)?s.value:s)??void 0}has(e){return!!cr(this.items,e)}set(e,n){this.add(new jt(e,n),!0)}toJSON(e,n,r){const s=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(s);for(const i of this.items)wh(n,s,i);return s}toString(e,n,r){if(!e)return JSON.stringify(this);for(const s of this.items)if(!_t(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),_h(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}const Wr={collection:"map",default:!0,nodeClass:Zt,tag:"tag:yaml.org,2002:map",resolve(t,e){return Ts(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>Zt.from(t,e,n)};class mr extends ph{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Hr,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=hi(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=hi(e);if(typeof r!="number")return;const s=this.items[r];return!n&&ot(s)?s.value:s}has(e){const n=hi(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=hi(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[r];ot(s)&&dh(n)?s.value=n:this.items[r]=n}toJSON(e,n){const r=[];n?.onCreate&&n.onCreate(r);let s=0;for(const i of this.items)r.push(Gt(i,String(s++),n));return r}toString(e,n,r){return e?_h(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof s=="function"){const l=n instanceof Set?a:String(o++);a=s.call(n,l,a)}i.items.push(vs(a,void 0,r))}}return i}}function hi(t){let e=ot(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const Xr={collection:"seq",default:!0,nodeClass:mr,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Ns(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>mr.from(t,e,n)},Qi={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),Ya(t,e,n,r)}},Ji={identify:t=>t==null,createNode:()=>new Ue(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Ue(null),stringify:({source:t},e)=>typeof t=="string"&&Ji.test.test(t)?t:e.options.nullStr},Xa={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new Ue(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&Xa.test.test(t)){const r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};function sn({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);const s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let a=e-(i.length-o-1);for(;a-- >0;)i+="0"}return i}const vh={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:sn},xh={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():sn(t)}},Eh={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new Ue(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:sn},eo=t=>typeof t=="bigint"||Number.isInteger(t),Qa=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function Sh(t,e,n){const{value:r}=t;return eo(r)&&r>=0?n+r.toString(e):sn(t)}const kh={identify:t=>eo(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>Qa(t,2,8,n),stringify:t=>Sh(t,8,"0o")},Ah={identify:eo,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>Qa(t,0,10,n),stringify:sn},Th={identify:t=>eo(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>Qa(t,2,16,n),stringify:t=>Sh(t,16,"0x")},s2=[Wr,Xr,Qi,Ji,Xa,kh,Ah,Th,vh,xh,Eh];function Qc(t){return typeof t=="bigint"||Number.isInteger(t)}const di=({value:t})=>JSON.stringify(t),i2=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:di},{identify:t=>t==null,createNode:()=>new Ue(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:di},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:di},{identify:Qc,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>Qc(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:di}],o2={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},a2=[Wr,Xr].concat(i2,o2),Ja={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,s,i){if(!n)return"";const o=n;let a;if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=Ue.BLOCK_LITERAL),e!==Ue.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),c=Math.ceil(a.length/l),f=new Array(c);for(let h=0,d=0;h<c;++h,d+=l)f[h]=a.substr(d,l);a=f.join(e===Ue.BLOCK_LITERAL?`
`:" ")}return Ya({comment:t,type:e,value:a},r,s,i)}};function Nh(t,e){if(Ns(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!_t(r)){if(Ts(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");const s=r.items[0]||new jt(new Ue(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){const i=s.value??s.key;i.comment=i.comment?`${r.comment}
${i.comment}`:r.comment}r=s}t.items[n]=_t(r)?r:new jt(r)}}else e("Expected a sequence for this tag");return t}function Oh(t,e,n){const{replacer:r}=n,s=new mr(t);s.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof r=="function"&&(o=r.call(e,String(i++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;s.items.push(Wa(a,l,n))}return s}const el={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Nh,createNode:Oh};class Mr extends mr{constructor(){super(),this.add=Zt.prototype.add.bind(this),this.delete=Zt.prototype.delete.bind(this),this.get=Zt.prototype.get.bind(this),this.has=Zt.prototype.has.bind(this),this.set=Zt.prototype.set.bind(this),this.tag=Mr.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n?.onCreate&&n.onCreate(r);for(const s of this.items){let i,o;if(_t(s)?(i=Gt(s.key,"",n),o=Gt(s.value,i,n)):i=Gt(s,"",n),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,o)}return r}static from(e,n,r){const s=Oh(e,n,r),i=new this;return i.items=s.items,i}}Mr.tag="tag:yaml.org,2002:omap";const tl={collection:"seq",identify:t=>t instanceof Map,nodeClass:Mr,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=Nh(t,e),r=[];for(const{key:s}of n.items)ot(s)&&(r.includes(s.value)?e(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new Mr,n)},createNode:(t,e,n)=>Mr.from(t,e,n)};function Ih({value:t,source:e},n){return e&&(t?Ch:Rh).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const Ch={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Ue(!0),stringify:Ih},Rh={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Ue(!1),stringify:Ih},l2={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:sn},c2={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():sn(t)}},u2={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new Ue(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:sn},Os=t=>typeof t=="bigint"||Number.isInteger(t);function to(t,e,n,{intAsBigInt:r}){const s=t[0];if((s==="-"||s==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return s==="-"?BigInt(-1)*o:o}const i=parseInt(t,n);return s==="-"?-1*i:i}function nl(t,e,n){const{value:r}=t;if(Os(r)){const s=r.toString(e);return r<0?"-"+n+s.substr(1):n+s}return sn(t)}const f2={identify:Os,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>to(t,2,2,n),stringify:t=>nl(t,2,"0b")},h2={identify:Os,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>to(t,1,8,n),stringify:t=>nl(t,8,"0")},d2={identify:Os,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>to(t,0,10,n),stringify:sn},p2={identify:Os,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>to(t,2,16,n),stringify:t=>nl(t,16,"0x")};class zr extends Zt{constructor(e){super(e),this.tag=zr.tag}add(e){let n;_t(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new jt(e.key,null):n=new jt(e,null),cr(this.items,n.key)||this.items.push(n)}get(e,n){const r=cr(this.items,e);return!n&&_t(r)?ot(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=cr(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new jt(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof s=="function"&&(o=s.call(n,o,o)),i.items.push(Wa(o,null,r));return i}}zr.tag="tag:yaml.org,2002:set";const rl={collection:"map",identify:t=>t instanceof Set,nodeClass:zr,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>zr.from(t,e,n),resolve(t,e){if(Ts(t)){if(t.hasAllNullValues(!0))return Object.assign(new zr,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function sl(t,e){const n=t[0],r=n==="-"||n==="+"?t.substring(1):t,s=o=>e?BigInt(o):Number(o),i=r.replace(/_/g,"").split(":").reduce((o,a)=>o*s(60)+s(a),s(0));return n==="-"?s(-1)*i:i}function jh(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return sn(t);let r="";e<0&&(r="-",e*=n(-1));const s=n(60),i=[e%s];return e<60?i.unshift(0):(e=(e-i[0])/s,i.unshift(e%s),e>=60&&(e=(e-i[0])/s,i.unshift(e))),r+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Ph={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>sl(t,n),stringify:jh},Mh={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>sl(t,!1),stringify:jh},no={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(no.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(n,r-1,s,i||0,o||0,a||0,l);const f=e[8];if(f&&f!=="Z"){let h=sl(f,!1);Math.abs(h)<30&&(h*=60),c-=6e4*h}return new Date(c)},stringify:({value:t})=>t?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},Jc=[Wr,Xr,Qi,Ji,Ch,Rh,f2,h2,d2,p2,l2,c2,u2,Ja,_n,tl,el,rl,Ph,Mh,no],eu=new Map([["core",s2],["failsafe",[Wr,Xr,Qi]],["json",a2],["yaml11",Jc],["yaml-1.1",Jc]]),tu={binary:Ja,bool:Xa,float:Eh,floatExp:xh,floatNaN:vh,floatTime:Mh,int:Ah,intHex:Th,intOct:kh,intTime:Ph,map:Wr,merge:_n,null:Ji,omap:tl,pairs:el,seq:Xr,set:rl,timestamp:no},g2={"tag:yaml.org,2002:binary":Ja,"tag:yaml.org,2002:merge":_n,"tag:yaml.org,2002:omap":tl,"tag:yaml.org,2002:pairs":el,"tag:yaml.org,2002:set":rl,"tag:yaml.org,2002:timestamp":no};function No(t,e,n){const r=eu.get(e);if(r&&!t)return n&&!r.includes(_n)?r.concat(_n):r.slice();let s=r;if(!s)if(Array.isArray(t))s=[];else{const i=Array.from(eu.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${i} or define customTags array`)}if(Array.isArray(t))for(const i of t)s=s.concat(i);else typeof t=="function"&&(s=t(s.slice()));return n&&(s=s.concat(_n)),s.reduce((i,o)=>{const a=typeof o=="string"?tu[o]:o;if(!a){const l=JSON.stringify(o),c=Object.keys(tu).map(f=>JSON.stringify(f)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${c}`)}return i.includes(a)||i.push(a),i},[])}const m2=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class il{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:s,schema:i,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?No(e,"compat"):e?No(null,e):null,this.name=typeof i=="string"&&i||"core",this.knownTags=s?g2:{},this.tags=No(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,Vn,{value:Wr}),Object.defineProperty(this,gn,{value:Qi}),Object.defineProperty(this,Hr,{value:Xr}),this.sortMapEntries=typeof o=="function"?o:o===!0?m2:null}clone(){const e=Object.create(il.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function y2(t,e){const n=[];let r=e.directives===!0;if(e.directives!==!1&&t.directives){const l=t.directives.toString(t);l?(n.push(l),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");const s=mh(t,e),{commentString:i}=s.options;if(t.commentBefore){n.length!==1&&n.unshift("");const l=i(t.commentBefore);n.unshift(bn(l,""))}let o=!1,a=null;if(t.contents){if(wt(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){const f=i(t.contents.commentBefore);n.push(bn(f,""))}s.forceBlockIndent=!!t.comment,a=t.contents.comment}const l=a?void 0:()=>o=!0;let c=Ur(t.contents,s,()=>a=null,l);a&&(c+=lr(c,"",i(a))),(c[0]==="|"||c[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${c}`:n.push(c)}else n.push(Ur(t.contents,s));if(t.directives?.docEnd)if(t.comment){const l=i(t.comment);l.includes(`
`)?(n.push("..."),n.push(bn(l,""))):n.push(`... ${l}`)}else n.push("...");else{let l=t.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(bn(i(l),"")))}return n.join(`
`)+`
`}class ro{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Kt,{value:ha});let s=null;typeof n=="function"||Array.isArray(n)?s=n:r===void 0&&n&&(r=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:o}=i;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Ct({version:o}),this.setSchema(o,r),this.contents=e===void 0?null:this.createNode(e,s,r)}clone(){const e=Object.create(ro.prototype,{[Kt]:{value:ha}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=wt(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){xr(this.contents)&&this.contents.add(e)}addIn(e,n){xr(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const r=fh(this);e.anchor=!n||r.has(n)?hh(n||"a",r):n}return new Ha(e.anchor)}createNode(e,n,r){let s;if(typeof n=="function")e=n.call({"":e},"",e),s=n;else if(Array.isArray(n)){const _=k=>typeof k=="number"||k instanceof String||k instanceof Number,p=n.filter(_).map(String);p.length>0&&(n=n.concat(p)),s=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:f}=r??{},{onAnchor:h,setAnchors:d,sourceObjects:g}=qv(this,o||"a"),b={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:h,onTagObj:c,replacer:s,schema:this.schema,sourceObjects:g},m=vs(e,f,b);return a&&bt(m)&&(m.flow=!0),d(),m}createPair(e,n,r={}){const s=this.createNode(e,null,r),i=this.createNode(n,null,r);return new jt(s,i)}delete(e){return xr(this.contents)?this.contents.delete(e):!1}deleteIn(e){return os(e)?this.contents==null?!1:(this.contents=null,!0):xr(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return bt(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return os(e)?!n&&ot(this.contents)?this.contents.value:this.contents:bt(this.contents)?this.contents.getIn(e,n):void 0}has(e){return bt(this.contents)?this.contents.has(e):!1}hasIn(e){return os(e)?this.contents!==void 0:bt(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Li(this.schema,[e],n):xr(this.contents)&&this.contents.set(e,n)}setIn(e,n){os(e)?this.contents=n:this.contents==null?this.contents=Li(this.schema,Array.from(e),n):xr(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Ct({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Ct({version:e}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const s=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new il(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:s,onAnchor:i,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},l=Gt(this.contents,n??"",a);if(typeof i=="function")for(const{count:c,res:f}of a.anchors.values())i(f,c);return typeof o=="function"?Or(o,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return y2(this,e)}}function xr(t){if(bt(t))return!0;throw new Error("Expected a YAML collection as document contents")}class zh extends Error{constructor(e,n,r,s){super(),this.name=e,this.code=r,this.message=s,this.pos=n}}class as extends zh{constructor(e,n,r){super("YAMLParseError",e,n,r)}}class b2 extends zh{constructor(e,n,r){super("YAMLWarning",e,n,r)}}const nu=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,o=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const a=Math.min(i-39,o.length-79);o=""+o.substring(a),i-=a-1}if(o.length>80&&(o=o.substring(0,79)+""),r>1&&/^ *$/.test(o.substring(0,i))){let a=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===r&&l.col>s&&(a=Math.max(1,Math.min(l.col-s,80-i)));const c=" ".repeat(i)+"^".repeat(a);n.message+=`:

${o}
${c}
`}};function Vr(t,{flow:e,indicator:n,next:r,offset:s,onError:i,parentIndent:o,startOnNewline:a}){let l=!1,c=a,f=a,h="",d="",g=!1,b=!1,m=null,_=null,p=null,k=null,S=null,v=null,A=null;for(const E of t)switch(b&&(E.type!=="space"&&E.type!=="newline"&&E.type!=="comma"&&i(E.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),b=!1),m&&(c&&E.type!=="comment"&&E.type!=="newline"&&i(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),E.type){case"space":!e&&(n!=="doc-start"||r?.type!=="flow-collection")&&E.source.includes("	")&&(m=E),f=!0;break;case"comment":{f||i(E,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const C=E.source.substring(1)||" ";h?h+=d+C:h=C,d="",c=!1;break}case"newline":c?h?h+=E.source:(!v||n!=="seq-item-ind")&&(l=!0):d+=E.source,c=!0,g=!0,(_||p)&&(k=E),f=!0;break;case"anchor":_&&i(E,"MULTIPLE_ANCHORS","A node can have at most one anchor"),E.source.endsWith(":")&&i(E.offset+E.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),_=E,A??(A=E.offset),c=!1,f=!1,b=!0;break;case"tag":{p&&i(E,"MULTIPLE_TAGS","A node can have at most one tag"),p=E,A??(A=E.offset),c=!1,f=!1,b=!0;break}case n:(_||p)&&i(E,"BAD_PROP_ORDER",`Anchors and tags must be after the ${E.source} indicator`),v&&i(E,"UNEXPECTED_TOKEN",`Unexpected ${E.source} in ${e??"collection"}`),v=E,c=n==="seq-item-ind"||n==="explicit-key-ind",f=!1;break;case"comma":if(e){S&&i(E,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),S=E,c=!1,f=!1;break}default:i(E,"UNEXPECTED_TOKEN",`Unexpected ${E.type} token`),c=!1,f=!1}const N=t[t.length-1],y=N?N.offset+N.source.length:s;return b&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(c&&m.indent<=o||r?.type==="block-map"||r?.type==="block-seq")&&i(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:S,found:v,spaceBefore:l,comment:h,hasNewline:g,anchor:_,tag:p,newlineAfterProp:k,end:y,start:A??y}}function xs(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(xs(e.key)||xs(e.value))return!0}return!1;default:return!0}}function ma(t,e,n){if(e?.type==="flow-collection"){const r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&xs(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Lh(t,e,n){const{uniqueKeys:r}=t.options;if(r===!1)return!1;const s=typeof r=="function"?r:(i,o)=>i===o||ot(i)&&ot(o)&&i.value===o.value;return e.some(i=>s(i.key,n))}const ru="All mapping items must start at the same column";function w2({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=i?.nodeClass??Zt,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,c=null;for(const f of r.items){const{start:h,key:d,sep:g,value:b}=f,m=Vr(h,{indicator:"explicit-key-ind",next:d??g?.[0],offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0}),_=!m.found;if(_){if(d&&(d.type==="block-seq"?s(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in d&&d.indent!==r.indent&&s(l,"BAD_INDENT",ru)),!m.anchor&&!m.tag&&!g){c=m.end,m.comment&&(a.comment?a.comment+=`
`+m.comment:a.comment=m.comment);continue}(m.newlineAfterProp||xs(d))&&s(d??h[h.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else m.found?.indent!==r.indent&&s(l,"BAD_INDENT",ru);n.atKey=!0;const p=m.end,k=d?t(n,d,m,s):e(n,p,h,null,m,s);n.schema.compat&&ma(r.indent,d,s),n.atKey=!1,Lh(n,a.items,k)&&s(p,"DUPLICATE_KEY","Map keys must be unique");const S=Vr(g??[],{indicator:"map-value-ind",next:b,offset:k.range[2],onError:s,parentIndent:r.indent,startOnNewline:!d||d.type==="block-scalar"});if(l=S.end,S.found){_&&(b?.type==="block-map"&&!S.hasNewline&&s(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&m.start<S.found.offset-1024&&s(k.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const v=b?t(n,b,S,s):e(n,l,g,null,S,s);n.schema.compat&&ma(r.indent,b,s),l=v.range[2];const A=new jt(k,v);n.options.keepSourceTokens&&(A.srcToken=f),a.items.push(A)}else{_&&s(k.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),S.comment&&(k.comment?k.comment+=`
`+S.comment:k.comment=S.comment);const v=new jt(k);n.options.keepSourceTokens&&(v.srcToken=f),a.items.push(v)}}return c&&c<l&&s(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,c??l],a}function _2({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=i?.nodeClass??mr,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,c=null;for(const{start:f,value:h}of r.items){const d=Vr(f,{indicator:"seq-item-ind",next:h,offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!d.found)if(d.anchor||d.tag||h)h&&h.type==="block-seq"?s(d.end,"BAD_INDENT","All sequence items must start at the same column"):s(l,"MISSING_CHAR","Sequence item without - indicator");else{c=d.end,d.comment&&(a.comment=d.comment);continue}const g=h?t(n,h,d,s):e(n,d.end,f,null,d,s);n.schema.compat&&ma(r.indent,h,s),l=g.range[2],a.items.push(g)}return a.range=[r.offset,l,c??l],a}function Is(t,e,n,r){let s="";if(t){let i=!1,o="";for(const a of t){const{source:l,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{n&&!i&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const f=l.substring(1)||" ";s?s+=o+f:s=f,o="";break}case"newline":s&&(o+=l),i=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:s,offset:e}}const Oo="Block collections are not allowed within flow collections",Io=t=>t&&(t.type==="block-map"||t.type==="block-seq");function v2({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=r.start.source==="{",a=o?"flow map":"flow sequence",l=i?.nodeClass??(o?Zt:mr),c=new l(n.schema);c.flow=!0;const f=n.atRoot;f&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let h=r.offset+r.start.source.length;for(let _=0;_<r.items.length;++_){const p=r.items[_],{start:k,key:S,sep:v,value:A}=p,N=Vr(k,{flow:a,indicator:"explicit-key-ind",next:S??v?.[0],offset:h,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!N.found){if(!N.anchor&&!N.tag&&!v&&!A){_===0&&N.comma?s(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):_<r.items.length-1&&s(N.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),N.comment&&(c.comment?c.comment+=`
`+N.comment:c.comment=N.comment),h=N.end;continue}!o&&n.options.strict&&xs(S)&&s(S,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(_===0)N.comma&&s(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(N.comma||s(N.start,"MISSING_CHAR",`Missing , between ${a} items`),N.comment){let y="";e:for(const E of k)switch(E.type){case"comma":case"space":break;case"comment":y=E.source.substring(1);break e;default:break e}if(y){let E=c.items[c.items.length-1];_t(E)&&(E=E.value??E.key),E.comment?E.comment+=`
`+y:E.comment=y,N.comment=N.comment.substring(y.length+1)}}if(!o&&!v&&!N.found){const y=A?t(n,A,N,s):e(n,N.end,v,null,N,s);c.items.push(y),h=y.range[2],Io(A)&&s(y.range,"BLOCK_IN_FLOW",Oo)}else{n.atKey=!0;const y=N.end,E=S?t(n,S,N,s):e(n,y,k,null,N,s);Io(S)&&s(E.range,"BLOCK_IN_FLOW",Oo),n.atKey=!1;const C=Vr(v??[],{flow:a,indicator:"map-value-ind",next:A,offset:E.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(C.found){if(!o&&!N.found&&n.options.strict){if(v)for(const M of v){if(M===C.found)break;if(M.type==="newline"){s(M,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}N.start<C.found.offset-1024&&s(C.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else A&&("source"in A&&A.source&&A.source[0]===":"?s(A,"MISSING_CHAR",`Missing space after : in ${a}`):s(C.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const j=A?t(n,A,C,s):C.found?e(n,C.end,v,null,C,s):null;j?Io(A)&&s(j.range,"BLOCK_IN_FLOW",Oo):C.comment&&(E.comment?E.comment+=`
`+C.comment:E.comment=C.comment);const B=new jt(E,j);if(n.options.keepSourceTokens&&(B.srcToken=p),o){const M=c;Lh(n,M.items,E)&&s(y,"DUPLICATE_KEY","Map keys must be unique"),M.items.push(B)}else{const M=new Zt(n.schema);M.flow=!0,M.items.push(B);const V=(j??E).range;M.range=[E.range[0],V[1],V[2]],c.items.push(M)}h=j?j.range[2]:C.end}}const d=o?"}":"]",[g,...b]=r.end;let m=h;if(g&&g.source===d)m=g.offset+g.source.length;else{const _=a[0].toUpperCase()+a.substring(1),p=f?`${_} must end with a ${d}`:`${_} in block collection must be sufficiently indented and end with a ${d}`;s(h,f?"MISSING_CHAR":"BAD_INDENT",p),g&&g.source.length!==1&&b.unshift(g)}if(b.length>0){const _=Is(b,m,n.options.strict,s);_.comment&&(c.comment?c.comment+=`
`+_.comment:c.comment=_.comment),c.range=[r.offset,m,_.offset]}else c.range=[r.offset,m,m];return c}function Co(t,e,n,r,s,i){const o=n.type==="block-map"?w2(t,e,n,r,i):n.type==="block-seq"?_2(t,e,n,r,i):v2(t,e,n,r,i),a=o.constructor;return s==="!"||s===a.tagName?(o.tag=a.tagName,o):(s&&(o.tag=s),o)}function x2(t,e,n,r,s){const i=r.tag,o=i?e.directives.tagName(i.source,d=>s(i,"TAG_RESOLVE_FAILED",d)):null;if(n.type==="block-seq"){const{anchor:d,newlineAfterProp:g}=r,b=d&&i?d.offset>i.offset?d:i:d??i;b&&(!g||g.offset<b.offset)&&s(b,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!o||o==="!"||o===Zt.tagName&&a==="map"||o===mr.tagName&&a==="seq")return Co(t,e,n,s,o);let l=e.schema.tags.find(d=>d.tag===o&&d.collection===a);if(!l){const d=e.schema.knownTags[o];if(d&&d.collection===a)e.schema.tags.push(Object.assign({},d,{default:!1})),l=d;else return d?s(i,"BAD_COLLECTION_TYPE",`${d.tag} used for ${a} collection, but expects ${d.collection??"scalar"}`,!0):s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),Co(t,e,n,s,o)}const c=Co(t,e,n,s,o,l),f=l.resolve?.(c,d=>s(i,"TAG_RESOLVE_FAILED",d),e.options)??c,h=wt(f)?f:new Ue(f);return h.range=c.range,h.tag=o,l?.format&&(h.format=l.format),h}function E2(t,e,n){const r=e.offset,s=S2(e,t.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=s.mode===">"?Ue.BLOCK_FOLDED:Ue.BLOCK_LITERAL,o=e.source?k2(e.source):[];let a=o.length;for(let m=o.length-1;m>=0;--m){const _=o[m][1];if(_===""||_==="\r")a=m;else break}if(a===0){const m=s.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let _=r+s.length;return e.source&&(_+=e.source.length),{value:m,type:i,comment:s.comment,range:[r,_,_]}}let l=e.indent+s.indent,c=e.offset+s.length,f=0;for(let m=0;m<a;++m){const[_,p]=o[m];if(p===""||p==="\r")s.indent===0&&_.length>l&&(l=_.length);else{_.length<l&&n(c+_.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(l=_.length),f=m,l===0&&!t.atRoot&&n(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=_.length+p.length+1}for(let m=o.length-1;m>=a;--m)o[m][0].length>l&&(a=m+1);let h="",d="",g=!1;for(let m=0;m<f;++m)h+=o[m][0].slice(l)+`
`;for(let m=f;m<a;++m){let[_,p]=o[m];c+=_.length+p.length+1;const k=p[p.length-1]==="\r";if(k&&(p=p.slice(0,-1)),p&&_.length<l){const v=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(c-p.length-(k?2:1),"BAD_INDENT",v),_=""}i===Ue.BLOCK_LITERAL?(h+=d+_.slice(l)+p,d=`
`):_.length>l||p[0]==="	"?(d===" "?d=`
`:!g&&d===`
`&&(d=`

`),h+=d+_.slice(l)+p,d=`
`,g=!0):p===""?d===`
`?h+=`
`:d=`
`:(h+=d+p,d=" ",g=!1)}switch(s.chomp){case"-":break;case"+":for(let m=a;m<o.length;++m)h+=`
`+o[m][0].slice(l);h[h.length-1]!==`
`&&(h+=`
`);break;default:h+=`
`}const b=r+s.length+e.source.length;return{value:h,type:i,comment:s.comment,range:[r,b,b]}}function S2({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=e[0],i=s[0];let o=0,a="",l=-1;for(let d=1;d<s.length;++d){const g=s[d];if(!a&&(g==="-"||g==="+"))a=g;else{const b=Number(g);!o&&b?o=b:l===-1&&(l=t+d)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let c=!1,f="",h=s.length;for(let d=1;d<e.length;++d){const g=e[d];switch(g.type){case"space":c=!0;case"newline":h+=g.source.length;break;case"comment":n&&!c&&r(g,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),h+=g.source.length,f=g.source.substring(1);break;case"error":r(g,"UNEXPECTED_TOKEN",g.message),h+=g.source.length;break;default:{const b=`Unexpected token in block scalar header: ${g.type}`;r(g,"UNEXPECTED_TOKEN",b);const m=g.source;m&&typeof m=="string"&&(h+=m.length)}}}return{mode:i,indent:o,chomp:a,comment:f,length:h}}function k2(t){const e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),i=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)i.push([e[o],e[o+1]]);return i}function A2(t,e,n){const{offset:r,type:s,source:i,end:o}=t;let a,l;const c=(d,g,b)=>n(r+d,g,b);switch(s){case"scalar":a=Ue.PLAIN,l=T2(i,c);break;case"single-quoted-scalar":a=Ue.QUOTE_SINGLE,l=N2(i,c);break;case"double-quoted-scalar":a=Ue.QUOTE_DOUBLE,l=O2(i,c);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const f=r+i.length,h=Is(o,f,e,n);return{value:l,type:a,comment:h.comment,range:[r,f,h.offset]}}function T2(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),$h(t)}function N2(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),$h(t.slice(1,-1)).replace(/''/g,"'")}function $h(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let s=r[1],i=" ",o=e.lastIndex;for(n.lastIndex=o;r=n.exec(t);)r[1]===""?i===`
`?s+=i:i=`
`:(s+=i+r[1],i=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(t),s+i+(r?.[1]??"")}function O2(t,e){let n="";for(let r=1;r<t.length-1;++r){const s=t[r];if(!(s==="\r"&&t[r+1]===`
`))if(s===`
`){const{fold:i,offset:o}=I2(t,r);n+=i,r=o}else if(s==="\\"){let i=t[++r];const o=C2[i];if(o)n+=o;else if(i===`
`)for(i=t[r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="\r"&&t[r+1]===`
`)for(i=t[++r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="x"||i==="u"||i==="U"){const a={x:2,u:4,U:8}[i];n+=R2(t,r+1,a,e),r+=a}else{const a=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(s===" "||s==="	"){const i=r;let o=t[r+1];for(;o===" "||o==="	";)o=t[++r+1];o!==`
`&&!(o==="\r"&&t[r+2]===`
`)&&(n+=r>i?t.slice(i,r+1):s)}else n+=s}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function I2(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}const C2={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function R2(t,e,n,r){const s=t.substr(e,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(o)){const a=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function Bh(t,e,n,r){const{value:s,type:i,comment:o,range:a}=e.type==="block-scalar"?E2(t,e,r):A2(e,t.options.strict,r),l=n?t.directives.tagName(n.source,h=>r(n,"TAG_RESOLVE_FAILED",h)):null;let c;t.options.stringKeys&&t.atKey?c=t.schema[gn]:l?c=j2(t.schema,s,l,n,r):e.type==="scalar"?c=P2(t,s,e,r):c=t.schema[gn];let f;try{const h=c.resolve(s,d=>r(n??e,"TAG_RESOLVE_FAILED",d),t.options);f=ot(h)?h:new Ue(h)}catch(h){const d=h instanceof Error?h.message:String(h);r(n??e,"TAG_RESOLVE_FAILED",d),f=new Ue(s)}return f.range=a,f.source=s,i&&(f.type=i),l&&(f.tag=l),c.format&&(f.format=c.format),o&&(f.comment=o),f}function j2(t,e,n,r,s){if(n==="!")return t[gn];const i=[];for(const a of t.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)i.push(a);else return a;for(const a of i)if(a.test?.test(e))return a;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[gn])}function P2({atKey:t,directives:e,schema:n},r,s,i){const o=n.tags.find(a=>(a.default===!0||t&&a.default==="key")&&a.test?.test(r))||n[gn];if(n.compat){const a=n.compat.find(l=>l.default&&l.test?.test(r))??n[gn];if(o.tag!==a.tag){const l=e.tagString(o.tag),c=e.tagString(a.tag),f=`Value may be parsed as either ${l} or ${c}`;i(s,"TAG_RESOLVE_FAILED",f,!0)}}return o}function M2(t,e,n){if(e){n??(n=e.length);for(let r=n-1;r>=0;--r){let s=e[r];switch(s.type){case"space":case"comment":case"newline":t-=s.source.length;continue}for(s=e[++r];s?.type==="space";)t+=s.source.length,s=e[++r];break}}return t}const z2={composeNode:Dh,composeEmptyNode:ol};function Dh(t,e,n,r){const s=t.atKey,{spaceBefore:i,comment:o,anchor:a,tag:l}=n;let c,f=!0;switch(e.type){case"alias":c=L2(t,e,r),(a||l)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=Bh(t,e,l,r),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=x2(z2,t,e,n,r),a&&(c.anchor=a.source.substring(1));break;default:{const h=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",h),c=ol(t,e.offset,void 0,null,n,r),f=!1}}return a&&c.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),s&&t.options.stringKeys&&(!ot(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&r(l??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(c.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?c.comment=o:c.commentBefore=o),t.options.keepSourceTokens&&f&&(c.srcToken=e),c}function ol(t,e,n,r,{spaceBefore:s,comment:i,anchor:o,tag:a,end:l},c){const f={type:"scalar",offset:M2(e,n,r),indent:-1,source:""},h=Bh(t,f,a,c);return o&&(h.anchor=o.source.substring(1),h.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(h.spaceBefore=!0),i&&(h.comment=i,h.range[2]=l),h}function L2({options:t},{offset:e,source:n,end:r},s){const i=new Ha(n.substring(1));i.source===""&&s(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,a=Is(r,o,t.strict,s);return i.range=[e,o,a.offset],a.comment&&(i.comment=a.comment),i}function $2(t,e,{offset:n,start:r,value:s,end:i},o){const a=Object.assign({_directives:e},t),l=new ro(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},f=Vr(r,{indicator:"doc-start",next:s??i?.[0],offset:n,onError:o,parentIndent:0,startOnNewline:!0});f.found&&(l.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!f.hasNewline&&o(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=s?Dh(c,s,f,o):ol(c,f.end,r,null,f,o);const h=l.contents.range[2],d=Is(i,h,!1,o);return d.comment&&(l.comment=d.comment),l.range=[n,h,d.offset],l}function is(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function su(t){let e="",n=!1,r=!1;for(let s=0;s<t.length;++s){const i=t[s];switch(i[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(i.substring(1)||" "),n=!0,r=!1;break;case"%":t[s+1]?.[0]!=="#"&&(s+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}class B2{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,s,i)=>{const o=is(n);i?this.warnings.push(new b2(o,r,s)):this.errors.push(new as(o,r,s))},this.directives=new Ct({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:r,afterEmptyLine:s}=su(this.prelude);if(r){const i=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(s||e.directives.docStart||!i)e.commentBefore=r;else if(bt(i)&&!i.flow&&i.items.length>0){let o=i.items[0];_t(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}else{const o=i.commentBefore;i.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:su(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(const s of e)yield*this.next(s);yield*this.end(n,r)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,r,s)=>{const i=is(e);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",r,s)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=$2(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new as(is(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new as(is(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=Is(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new as(is(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const r=Object.assign({_directives:this.directives},this.options),s=new ro(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}}const Fh="\uFEFF",Uh="",Vh="",ya="";function D2(t){switch(t){case Fh:return"byte-order-mark";case Uh:return"doc-mode";case Vh:return"flow-error-end";case ya:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function en(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const iu=new Set("0123456789ABCDEFabcdef"),F2=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),pi=new Set(",[]{}"),U2=new Set(` ,[]{}
\r	`),Ro=t=>!t||U2.has(t);class V2{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){const s=this.buffer[r+e+1];if(s===`
`||!s&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&en(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Fh&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,r=e.indexOf("#");for(;r!==-1;){const i=e[r-1];if(i===" "||i==="	"){n=r-1;break}else r=e.indexOf("#",r+1)}for(;;){const i=e[n-1];if(i===" "||i==="	")n-=1;else break}const s=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield Uh,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&en(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!en(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&en(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Ro),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&s[0]!=="#"||r===0&&(s.startsWith("---")||s.startsWith("..."))&&en(s[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield Vh,yield*this.parseLineStart();let i=0;for(;s[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),s[i]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Ro),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||en(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let s=r.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const i=this.continueScalar(s+1);if(i===-1)break;s=r.indexOf(`
`,i)}s!==-1&&(n=s-(r[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>en(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:e=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let s=e+1;for(r=this.buffer[s];r===" ";)r=this.buffer[++s];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++s];e=s-1}else if(!this.blockScalarKeep)do{let i=e-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const a=i;for(;o===" ";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>a)e=i;else break}while(!0);return yield ya,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,s;for(;s=this.buffer[++r];)if(s===":"){const i=this.buffer[r+1];if(en(i)||e&&pi.has(i))break;n=r}else if(en(s)){let i=this.buffer[r+1];if(s==="\r"&&(i===`
`?(r+=1,s=`
`,i=this.buffer[r+1]):n=r),i==="#"||e&&pi.has(i))break;if(s===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(e&&pi.has(s))break;n=r}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield ya,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Ro))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(en(n)||e&&pi.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!en(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(F2.has(n))n=this.buffer[++e];else if(n==="%"&&iu.has(this.buffer[e+1])&&iu.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Z2{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){const i=n+r>>1;this.lineStarts[i]<e?n=i+1:r=i}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const s=this.lineStarts[n-1];return{line:n,col:e-s+1}}}}function zn(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function ou(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Zh(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function gi(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function Er(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function au(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!zn(e.start,"explicit-key-ind")&&!zn(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Zh(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class q2{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new V2,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=D2(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&au(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const s=r.items[r.items.length-1];if(s.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=r.items[r.items.length-1];s.value?r.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{const s=r.items[r.items.length-1];!s||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&ou(s.start)===-1&&(n.indent===0||s.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(r.type==="document"?r.end=s.start:r.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{ou(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=gi(this.peek(2)),r=Er(n);let s;e.end?(s=e.end,s.push(this.sourceToken),delete e.end):s=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const r=!this.onKeyLine&&this.indent===e.indent,s=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let i=[];if(s&&n.sep&&!n.value){const o=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(i=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":s||n.value?(i.push(this.sourceToken),e.items.push({start:i}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):s||n.value?(i.push(this.sourceToken),e.items.push({start:i,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(zn(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if(Zh(n.key)&&!zn(n.sep,"newline")){const o=Er(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else i.length>0?n.sep=n.sep.concat(i,this.sourceToken):n.sep.push(this.sourceToken);else if(zn(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=Er(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||s?e.items.push({start:i,key:null,sep:[this.sourceToken]}):zn(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);s||n.value?(e.items.push({start:i,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(e);if(o){if(o.type==="block-seq"){if(!n.explicitKey&&n.sep&&!zn(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&e.items.push({start:i});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||zn(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const r=this.startBlockValue(e);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const s=gi(r),i=Er(s);au(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=gi(e),r=Er(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=gi(e),r=Er(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function G2(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new Z2||null,prettyErrors:e}}function K2(t,e={}){const{lineCounter:n,prettyErrors:r}=G2(e),s=new q2(n?.addNewLine),i=new B2(e);let o=null;for(const a of i.compose(s.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new as(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(nu(t,n)),o.warnings.forEach(nu(t,n))),o}function H2(t,e,n){let r;const s=K2(t,n);if(!s)return null;if(s.warnings.forEach(i=>yh(s.options.logLevel,i)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}const qh=ba(t=>({trains:{},currentTrain:void 0,setTrainsFromYml:e=>{try{const n=H2(e),r=gw(n);r.valid?t({trains:Cf.parse(n),parseErrors:void 0}):(console.error("Invalid YAML data:",r.errors),ir.error("We couldn't load your trains. Please check that you uploaded the SavedTrainProperties YAML file from TrainCarts. See the browser console for more details.",{duration:1e4}),t({trains:{},parseErrors:r.errors}))}catch(n){console.error("Error parsing YAML:",n),ir.error("We couldn't read your file. Please make sure it's a valid YAML and try again. See the browser console for more details.",{duration:1e4}),t({trains:{},parseErrors:["Failed to parse YAML.",String(n)]});return}},setTrains:e=>t({trains:e}),setCurrentTrain:e=>t({currentTrain:e}),clearCurrentTrain:()=>t({currentTrain:void 0}),reset:()=>t({trains:{},currentTrain:void 0,parseErrors:void 0})}));function Y2(){const t=be.c(58),e=Wt(),n=qh(),[r,s]=ze.useState(n.currentTrain),[i,o]=ze.useState(e.cart),[a,l]=ze.useState(e.metadata.projectName);let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=w.jsx(Za,{children:"New TCA-Project"}),t[0]=c):c=t[0];let f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f=w.jsx(tn,{htmlFor:"projectName",children:"Project name"}),t[1]=f):f=t[1];let h,d,g,b;t[2]===Symbol.for("react.memo_cache_sentinel")?(h=w.jsx(Ea,{id:"projectName",placeholder:"My TCA Project",className:"mt-2",onChange:_e=>l(_e.target.value)}),d=w.jsx("hr",{className:"my-4"}),g=w.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"TC Animator lets you animate one cart from a single train per project. To work on a different train or cart, create a new project for each one."}),b=w.jsx(tn,{htmlFor:"train",children:"Train"}),t[2]=h,t[3]=d,t[4]=g,t[5]=b):(h=t[2],d=t[3],g=t[4],b=t[5]);let m;t[6]!==n.trains?(m=_e=>{const H=n.trains[_e];H&&(s(H),o(null))},t[6]=n.trains,t[7]=m):m=t[7];let _;t[8]===Symbol.for("react.memo_cache_sentinel")?(_=w.jsx(Bo,{className:"w-full",id:"train",children:w.jsx($o,{placeholder:"Select a train"})}),t[8]=_):_=t[8];let p;t[9]===Symbol.for("react.memo_cache_sentinel")?(p=w.jsx(Fo,{children:"Trains"}),t[9]=p):p=t[9];let k;t[10]!==n.trains?(k=Object.values(n.trains).filter(Q2).map(X2),t[10]=n.trains,t[11]=k):k=t[11];let S;t[12]!==k?(S=w.jsx(Do,{children:w.jsxs(Lo,{children:[p,k]})}),t[12]=k,t[13]=S):S=t[13];let v;t[14]!==S||t[15]!==m?(v=w.jsxs(zo,{onValueChange:m,children:[_,S]}),t[14]=S,t[15]=m,t[16]=v):v=t[16];let A;t[17]===Symbol.for("react.memo_cache_sentinel")?(A=w.jsx(tn,{htmlFor:"cart",className:"mt-4",children:"Cart"}),t[17]=A):A=t[17];let N;t[18]!==i||t[19]!==r?(N=r?.carts?Object.entries(r.carts).find(_e=>{const[,H]=_e;return H===i})?.[0]??"":"",t[18]=i,t[19]=r,t[20]=N):N=t[20];const y=!r?.carts;let E;t[21]!==r?.carts?(E=_e=>{const H=r?.carts?.[_e];H&&o(H)},t[21]=r?.carts,t[22]=E):E=t[22];let C;t[23]===Symbol.for("react.memo_cache_sentinel")?(C=w.jsx(Bo,{className:"w-full",id:"cart",children:w.jsx($o,{placeholder:"Select a cart"})}),t[23]=C):C=t[23];let j;t[24]===Symbol.for("react.memo_cache_sentinel")?(j=w.jsx(Fo,{children:"Carts"}),t[24]=j):j=t[24];let B;t[25]!==r?.carts?(B=Object.entries(r?.carts||{}).map(W2),t[25]=r?.carts,t[26]=B):B=t[26];let M;t[27]!==B?(M=w.jsx(Do,{children:w.jsxs(Lo,{children:[j,B]})}),t[27]=B,t[28]=M):M=t[28];let V;t[29]!==N||t[30]!==y||t[31]!==E||t[32]!==M?(V=w.jsxs(zo,{value:N,disabled:y,onValueChange:E,children:[C,M]}),t[29]=N,t[30]=y,t[31]=E,t[32]=M,t[33]=V):V=t[33];let ie;t[34]!==v||t[35]!==V?(ie=w.jsxs(Ua,{children:[c,w.jsx(qa,{asChild:!0,children:w.jsxs("div",{children:[f,h,d,g,b,v,A,V]})})]}),t[34]=v,t[35]=V,t[36]=ie):ie=t[36];let te;t[37]!==e||t[38]!==n?(te=()=>{e.reset(),n.reset()},t[37]=e,t[38]=n,t[39]=te):te=t[39];let oe;t[40]===Symbol.for("react.memo_cache_sentinel")?(oe=w.jsx(pp,{}),t[40]=oe):oe=t[40];let le;t[41]!==te?(le=w.jsxs(pn,{variant:"secondary",onClick:te,children:[oe,"Back"]}),t[41]=te,t[42]=le):le=t[42];let J;t[43]!==i||t[44]!==r||t[45]!==a||t[46]!==e||t[47]!==n?(J=async()=>{a&&r&&i&&(e.setProjectName(a),n.setCurrentTrain(r),e.setCart(i),await e.saveProject())},t[43]=i,t[44]=r,t[45]=a,t[46]=e,t[47]=n,t[48]=J):J=t[48];const fe=!(a&&r&&i);let ue;t[49]!==J||t[50]!==fe?(ue=w.jsx(pn,{onClick:J,disabled:fe,children:"Create Project"}),t[49]=J,t[50]=fe,t[51]=ue):ue=t[51];let ke;t[52]!==le||t[53]!==ue?(ke=w.jsxs(Va,{className:"flex justify-between",children:[le,ue]}),t[52]=le,t[53]=ue,t[54]=ke):ke=t[54];let Ae;return t[55]!==ie||t[56]!==ke?(Ae=w.jsx(Da,{open:!0,children:w.jsxs(Fa,{children:[ie,ke]})}),t[55]=ie,t[56]=ke,t[57]=Ae):Ae=t[57],Ae}function W2(t){const[e]=t;return w.jsx(Ti,{value:e,children:e},e)}function X2(t){return w.jsx(Ti,{value:t.savedName,children:t.savedName},t.savedName)}function Q2(t){return t.carts}function J2(){const t=be.c(22),e=Wt(),n=qh();let r;t[0]!==n?(r=async()=>{const k=await Sa({description:"Select a YAML file",mimeTypes:["application/x-yaml","text/yaml"],extensions:[".yaml",".yml"],id:"load-saved-train-properties",startIn:"documents"}).catch(ex);if(k){const S=await k.text();n.setTrainsFromYml(S),n.setCurrentTrain(Object.values(n.trains)[0])}},t[0]=n,t[1]=r):r=t[1];const s=r;let i;t[2]!==e?(i=async()=>{ir.promise(e.loadProjectFromFile(),{loading:"Loading project...",success:"Project loaded successfully!",error:"Failed to load project."})},t[2]=e,t[3]=i):i=t[3];const o=i;if(Object.entries(n.trains).length>0&&!e.metadata.createdAt){let k;return t[4]===Symbol.for("react.memo_cache_sentinel")?(k=w.jsx(Y2,{}),t[4]=k):k=t[4],k}const a=!e.metadata.createdAt;let l;t[5]===Symbol.for("react.memo_cache_sentinel")?(l=w.jsx(Za,{children:"Welcome to TC Animator!"}),t[5]=l):l=t[5];let c;t[6]===Symbol.for("react.memo_cache_sentinel")?(c=w.jsx("h3",{className:"text-lg",children:"Please import a SavedTrainProperties YAML file or open an existing project to get started."}),t[6]=c):c=t[6];let f;t[7]===Symbol.for("react.memo_cache_sentinel")?(f=w.jsx(fp,{className:"block size-24 mx-auto"}),t[7]=f):f=t[7];let h;t[8]!==s?(h=w.jsxs(pn,{variant:"secondary",className:"aspect-square w-full h-auto flex flex-col",onClick:s,children:[f,"Import SavedTrainProperties"]}),t[8]=s,t[9]=h):h=t[9];let d;t[10]===Symbol.for("react.memo_cache_sentinel")?(d=w.jsx(hp,{className:"block size-24 mx-auto"}),t[10]=d):d=t[10];let g;t[11]!==o?(g=w.jsxs(pn,{variant:"secondary",className:"aspect-square w-full h-auto flex flex-col",onClick:o,children:[d,"Open TCA-Project"]}),t[11]=o,t[12]=g):g=t[12];let b;t[13]!==h||t[14]!==g?(b=w.jsxs(Ua,{children:[l,w.jsx(qa,{asChild:!0,children:w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c,w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h,g]})]})})]}),t[13]=h,t[14]=g,t[15]=b):b=t[15];let m;t[16]===Symbol.for("react.memo_cache_sentinel")?(m=w.jsx(Va,{className:"text-sm text-muted-foreground",children:w.jsxs("a",{href:"https://foxxite.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:["Made with  by Foxxite | Articca",w.jsx(dp,{className:"inline-block size-4"})]})}),t[16]=m):m=t[16];let _;t[17]!==b?(_=w.jsxs(Fa,{children:[b,m]}),t[17]=b,t[18]=_):_=t[18];let p;return t[19]!==_||t[20]!==a?(p=w.jsx(Da,{open:a,children:_}),t[19]=_,t[20]=a,t[21]=p):p=t[21],p}function ex(){return null}ep.createRoot(document.getElementById("root")).render(w.jsxs(ze.StrictMode,{children:[w.jsx(Lv,{}),w.jsx(J2,{}),w.jsx(Cv,{}),w.jsx(tp,{position:"top-center"})]}));
