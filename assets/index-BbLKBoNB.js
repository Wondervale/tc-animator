const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/monaco-CDJ1Rlok.js","assets/react-CTgpKPlz.js"])))=>i.map(i=>d[i]);
import{g as ye,j as y,P as kf,h as Sf,k as Af,T as Ef,C as Nf,D as Tf,l as Of,n as If,o as Cf,O as jf,q as Pf,I as zf,S as $f,M as Df,t as Rf,u as Lf,v as Mf,w as Bf,y as Ff,z as Uf,A as Zf,B as Vf,V as qf,E as Kf,F as Gf,G as Hf,L as Yf,H as Wf,J as Xf,K as Qf,N as Jf,Q as ed,U as td,X as nd,Y as rd,Z as sd,_ as id,$ as od,r as Me,a0 as ad,a1 as ld,a2 as cd,a3 as ud,a4 as fd,a5 as So,a6 as dd,a7 as hd,a8 as pd,a9 as Zn,aa as md,ab as gd,ac as bd,ad as yd,ae as wd,af as _d,ag as vd,ah as xd,ai as kd,aj as Sd,ak as Ad,al as Ed,am as Nd,an as Td,ao as Od,ap as Id,aq as Cd,ar as jd,as as Pd}from"./react-CTgpKPlz.js";import{G as zd,X as tc,C as $d,a as nc,b as Dd,M as Rd,c as Ld,I as rs,d as Md,B as Bd,e as Fd,R as Ud,f as Zd,F as Vd,E as qd,g as Kd}from"./lucide-Ce33x0Vh.js";import{u as Ao,a as rc,b as Gd,c as sc,T as Hd,I as Yd,d as Wd,e as Xd,O as Qd,L as Jd,B as eh,f as th,P as nh,G as rh,g as sh,h as ih,C as oh,_ as ah}from"./react-three-CEf5-KOJ.js";import{a7 as ca,a8 as lh,e as Tn,a9 as Eo,a0 as ch,aa as uh}from"./three-COLDv6GA.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ic(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=ic(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function oc(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=ic(t))&&(r&&(r+=" "),r+=e);return r}const No="-",fh=t=>{const e=hh(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(No);return a[0]===""&&a.length!==1&&a.shift(),ac(a,e)||dh(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},ac=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?ac(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(No);return e.validators.find(({validator:o})=>o(i))?.classGroupId},ua=/^\[(.+)\]$/,dh=t=>{if(ua.test(t)){const e=ua.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},hh=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Vi(n[s],r,s,e);return r},Vi=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:fa(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(ph(s)){Vi(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Vi(o,fa(e,i),n,r)})})},fa=(t,e)=>{let n=t;return e.split(No).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ph=t=>t.isThemeGetter,mh=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},qi="!",Ki=":",gh=Ki.length,bh=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,a=0,l=0,c;for(let g=0;g<s.length;g++){let m=s[g];if(o===0&&a===0){if(m===Ki){i.push(s.slice(l,g)),l=g+gh;continue}if(m==="/"){c=g;continue}}m==="["?o++:m==="]"?o--:m==="("?a++:m===")"&&a--}const d=i.length===0?s:s.substring(l),f=yh(d),h=f!==d,p=c&&c>l?c-l:void 0;return{modifiers:i,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}};if(e){const s=e+Ki,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},yh=t=>t.endsWith(qi)?t.substring(0,t.length-1):t.startsWith(qi)?t.substring(1):t,wh=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||e[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},_h=t=>({cache:mh(t.cacheSize),parseClassName:bh(t),sortModifiers:wh(t),...fh(t)}),vh=/\s+/,xh=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(vh);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}=n(d);if(f){l=d+(l.length>0?" "+l:l);continue}let w=!!m,S=r(w?g.substring(0,m):g);if(!S){if(!w){l=d+(l.length>0?" "+l:l);continue}if(S=r(g),!S){l=d+(l.length>0?" "+l:l);continue}w=!1}const A=i(h).join(":"),E=p?A+qi:A,x=E+S;if(o.includes(x))continue;o.push(x);const C=s(S,w);for(let I=0;I<C.length;++I){const j=C[I];o.push(E+j)}l=d+(l.length>0?" "+l:l)}return l};function kh(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=lc(e))&&(r&&(r+=" "),r+=n);return r}const lc=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=lc(t[r]))&&(n&&(n+=" "),n+=e);return n};function Sh(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=_h(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=xh(l,n);return s(l,d),d}return function(){return i(kh.apply(null,arguments))}}const mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},cc=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,uc=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ah=/^\d+\/\d+$/,Eh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Nh=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Th=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Oh=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ih=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jn=t=>Ah.test(t),Ze=t=>!!t&&!Number.isNaN(Number(t)),cn=t=>!!t&&Number.isInteger(Number(t)),yi=t=>t.endsWith("%")&&Ze(t.slice(0,-1)),en=t=>Eh.test(t),Ch=()=>!0,jh=t=>Nh.test(t)&&!Th.test(t),fc=()=>!1,Ph=t=>Oh.test(t),zh=t=>Ih.test(t),$h=t=>!Ae(t)&&!Ee(t),Dh=t=>vr(t,pc,fc),Ae=t=>cc.test(t),Rn=t=>vr(t,mc,jh),wi=t=>vr(t,Fh,Ze),da=t=>vr(t,dc,fc),Rh=t=>vr(t,hc,zh),ss=t=>vr(t,gc,Ph),Ee=t=>uc.test(t),Or=t=>xr(t,mc),Lh=t=>xr(t,Uh),ha=t=>xr(t,dc),Mh=t=>xr(t,pc),Bh=t=>xr(t,hc),is=t=>xr(t,gc,!0),vr=(t,e,n)=>{const r=cc.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},xr=(t,e,n=!1)=>{const r=uc.exec(t);return r?r[1]?e(r[1]):n:!1},dc=t=>t==="position"||t==="percentage",hc=t=>t==="image"||t==="url",pc=t=>t==="length"||t==="size"||t==="bg-size",mc=t=>t==="length",Fh=t=>t==="number",Uh=t=>t==="family-name",gc=t=>t==="shadow",Zh=()=>{const t=mt("color"),e=mt("font"),n=mt("text"),r=mt("font-weight"),s=mt("tracking"),i=mt("leading"),o=mt("breakpoint"),a=mt("container"),l=mt("spacing"),c=mt("radius"),d=mt("shadow"),f=mt("inset-shadow"),h=mt("text-shadow"),p=mt("drop-shadow"),g=mt("blur"),m=mt("perspective"),w=mt("aspect"),S=mt("ease"),A=mt("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...x(),Ee,Ae],I=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],T=()=>[Ee,Ae,l],L=()=>[Jn,"full","auto",...T()],D=()=>[cn,"none","subgrid",Ee,Ae],X=()=>["auto",{span:["full",cn,Ee,Ae]},cn,Ee,Ae],q=()=>[cn,"auto",Ee,Ae],ee=()=>["auto","min","max","fr",Ee,Ae],ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],we=()=>["auto",...T()],ue=()=>[Jn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],re=()=>[t,Ee,Ae],me=()=>[...x(),ha,da,{position:[Ee,Ae]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Te=()=>["auto","cover","contain",Mh,Dh,{size:[Ee,Ae]}],Oe=()=>[yi,Or,Rn],ve=()=>["","none","full",c,Ee,Ae],G=()=>["",Ze,Or,Rn],Ne=()=>["solid","dashed","dotted","double"],Re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Le=()=>[Ze,yi,ha,da],Ue=()=>["","none",g,Ee,Ae],We=()=>["none",Ze,Ee,Ae],v=()=>["none",Ze,Ee,Ae],k=()=>[Ze,Ee,Ae],O=()=>[Jn,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[en],breakpoint:[en],color:[Ch],container:[en],"drop-shadow":[en],ease:["in","out","in-out"],font:[$h],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[en],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[en],shadow:[en],spacing:["px",Ze],text:[en],"text-shadow":[en],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jn,Ae,Ee,w]}],container:["container"],columns:[{columns:[Ze,Ae,Ee,a]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[cn,"auto",Ee,Ae]}],basis:[{basis:[Jn,"full","auto",a,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ze,Jn,"auto","initial","none",Ae]}],grow:[{grow:["",Ze,Ee,Ae]}],shrink:[{shrink:["",Ze,Ee,Ae]}],order:[{order:[cn,"first","last","none",Ee,Ae]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:X()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:X()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ee()}],"auto-rows":[{"auto-rows":ee()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...ce(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...ce()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":ce()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:we()}],mx:[{mx:we()}],my:[{my:we()}],ms:[{ms:we()}],me:[{me:we()}],mt:[{mt:we()}],mr:[{mr:we()}],mb:[{mb:we()}],ml:[{ml:we()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:ue()}],w:[{w:[a,"screen",...ue()]}],"min-w":[{"min-w":[a,"screen","none",...ue()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...ue()]}],h:[{h:["screen","lh",...ue()]}],"min-h":[{"min-h":["screen","lh","none",...ue()]}],"max-h":[{"max-h":["screen","lh",...ue()]}],"font-size":[{text:["base",n,Or,Rn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ee,wi]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",yi,Ae]}],"font-family":[{font:[Lh,Ae,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ee,Ae]}],"line-clamp":[{"line-clamp":[Ze,"none",Ee,wi]}],leading:[{leading:[i,...T()]}],"list-image":[{"list-image":["none",Ee,Ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,Ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ze,"from-font","auto",Ee,Rn]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[Ze,"auto",Ee,Ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:me()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:Te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},cn,Ee,Ae],radial:["",Ee,Ae],conic:[cn,Ee,Ae]},Bh,Rh]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:Oe()}],"gradient-via-pos":[{via:Oe()}],"gradient-to-pos":[{to:Oe()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:ve()}],"rounded-s":[{"rounded-s":ve()}],"rounded-e":[{"rounded-e":ve()}],"rounded-t":[{"rounded-t":ve()}],"rounded-r":[{"rounded-r":ve()}],"rounded-b":[{"rounded-b":ve()}],"rounded-l":[{"rounded-l":ve()}],"rounded-ss":[{"rounded-ss":ve()}],"rounded-se":[{"rounded-se":ve()}],"rounded-ee":[{"rounded-ee":ve()}],"rounded-es":[{"rounded-es":ve()}],"rounded-tl":[{"rounded-tl":ve()}],"rounded-tr":[{"rounded-tr":ve()}],"rounded-br":[{"rounded-br":ve()}],"rounded-bl":[{"rounded-bl":ve()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ze,Ee,Ae]}],"outline-w":[{outline:["",Ze,Or,Rn]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",d,is,ss]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",f,is,ss]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[Ze,Rn]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",h,is,ss]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[Ze,Ee,Ae]}],"mix-blend":[{"mix-blend":[...Re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":Le()}],"mask-image-linear-to-pos":[{"mask-linear-to":Le()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":Le()}],"mask-image-t-to-pos":[{"mask-t-to":Le()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":Le()}],"mask-image-r-to-pos":[{"mask-r-to":Le()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":Le()}],"mask-image-b-to-pos":[{"mask-b-to":Le()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":Le()}],"mask-image-l-to-pos":[{"mask-l-to":Le()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":Le()}],"mask-image-x-to-pos":[{"mask-x-to":Le()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":Le()}],"mask-image-y-to-pos":[{"mask-y-to":Le()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[Ee,Ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":Le()}],"mask-image-radial-to-pos":[{"mask-radial-to":Le()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[Ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":Le()}],"mask-image-conic-to-pos":[{"mask-conic-to":Le()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:me()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:Te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,Ae]}],filter:[{filter:["","none",Ee,Ae]}],blur:[{blur:Ue()}],brightness:[{brightness:[Ze,Ee,Ae]}],contrast:[{contrast:[Ze,Ee,Ae]}],"drop-shadow":[{"drop-shadow":["","none",p,is,ss]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",Ze,Ee,Ae]}],"hue-rotate":[{"hue-rotate":[Ze,Ee,Ae]}],invert:[{invert:["",Ze,Ee,Ae]}],saturate:[{saturate:[Ze,Ee,Ae]}],sepia:[{sepia:["",Ze,Ee,Ae]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,Ae]}],"backdrop-blur":[{"backdrop-blur":Ue()}],"backdrop-brightness":[{"backdrop-brightness":[Ze,Ee,Ae]}],"backdrop-contrast":[{"backdrop-contrast":[Ze,Ee,Ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ze,Ee,Ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ze,Ee,Ae]}],"backdrop-invert":[{"backdrop-invert":["",Ze,Ee,Ae]}],"backdrop-opacity":[{"backdrop-opacity":[Ze,Ee,Ae]}],"backdrop-saturate":[{"backdrop-saturate":[Ze,Ee,Ae]}],"backdrop-sepia":[{"backdrop-sepia":["",Ze,Ee,Ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,Ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ze,"initial",Ee,Ae]}],ease:[{ease:["linear","initial",S,Ee,Ae]}],delay:[{delay:[Ze,Ee,Ae]}],animate:[{animate:["none",A,Ee,Ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Ee,Ae]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:We()}],"rotate-x":[{"rotate-x":We()}],"rotate-y":[{"rotate-y":We()}],"rotate-z":[{"rotate-z":We()}],scale:[{scale:v()}],"scale-x":[{"scale-x":v()}],"scale-y":[{"scale-y":v()}],"scale-z":[{"scale-z":v()}],"scale-3d":["scale-3d"],skew:[{skew:k()}],"skew-x":[{"skew-x":k()}],"skew-y":[{"skew-y":k()}],transform:[{transform:[Ee,Ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:O()}],"translate-x":[{"translate-x":O()}],"translate-y":[{"translate-y":O()}],"translate-z":[{"translate-z":O()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,Ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,Ae]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[Ze,Or,Rn,wi]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Vh=Sh(Zh);function $e(...t){return Vh(oc(t))}function rn(t){return-t*(Math.PI/180)}function pa(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(Af,{"data-slot":"resizable-panel-group",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function os(t){const e=ye.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(kf,{"data-slot":"resizable-panel",...n}),e[2]=n,e[3]=r):r=e[3],r}function ma(t){const e=ye.c(12);let n,r,s;e[0]!==t?({withHandle:s,className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s):(n=e[1],r=e[2],s=e[3]);let i;e[4]!==n?(i=$e("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90 hover:bg-primary",n),e[4]=n,e[5]=i):i=e[5];let o;e[6]!==s?(o=s&&y.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:y.jsx(zd,{className:"size-2.5"})}),e[6]=s,e[7]=o):o=e[7];let a;return e[8]!==r||e[9]!==i||e[10]!==o?(a=y.jsx(Sf,{"data-slot":"resizable-handle",className:i,...r,children:o}),e[8]=r,e[9]=i,e[10]=o,e[11]=a):a=e[11],a}function qh(t){const e=ye.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(Of,{"data-slot":"dialog",...n}),e[2]=n,e[3]=r):r=e[3],r}function Kh(t){const e=ye.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(If,{"data-slot":"dialog-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function Gh(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(jf,{"data-slot":"dialog-overlay",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Hh(t){const e=ye.c(15);let n,r,s,i;e[0]!==t?({className:r,children:n,showCloseButton:i,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?!0:i;let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=y.jsx(Gh,{}),e[5]=a):a=e[5];let l;e[6]!==r?(l=$e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),e[6]=r,e[7]=l):l=e[7];let c;e[8]!==o?(c=o&&y.jsxs(Cf,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[y.jsx(tc,{}),y.jsx("span",{className:"sr-only",children:"Close"})]}),e[8]=o,e[9]=c):c=e[9];let d;return e[10]!==n||e[11]!==s||e[12]!==l||e[13]!==c?(d=y.jsxs(Kh,{"data-slot":"dialog-portal",children:[a,y.jsxs(Nf,{"data-slot":"dialog-content",className:l,...s,children:[n,c]})]}),e[10]=n,e[11]=s,e[12]=l,e[13]=c,e[14]=d):d=e[14],d}function Yh(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("div",{"data-slot":"dialog-header",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Wh(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("text-lg leading-none font-semibold",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(Ef,{"data-slot":"dialog-title",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Xh(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("text-muted-foreground text-sm",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(Tf,{"data-slot":"dialog-description",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Qh(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(Lf,{"data-slot":"menubar",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function ga(t){const e=ye.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(Df,{"data-slot":"menubar-menu",...n}),e[2]=n,e[3]=r):r=e[3],r}function Jh(t){const e=ye.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(Mf,{"data-slot":"menubar-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function ep(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(Pf,{"data-slot":"menubar-trigger",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function tp(t){const e=ye.c(14);let n,r,s,i,o;e[0]!==t?({className:n,align:s,alignOffset:i,sideOffset:o,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=o):(n=e[1],r=e[2],s=e[3],i=e[4],o=e[5]);const a=s===void 0?"start":s,l=i===void 0?-4:i,c=o===void 0?8:o;let d;e[6]!==n?(d=$e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-md",n),e[6]=n,e[7]=d):d=e[7];let f;return e[8]!==a||e[9]!==l||e[10]!==r||e[11]!==c||e[12]!==d?(f=y.jsx(Jh,{children:y.jsx(Rf,{"data-slot":"menubar-content",align:a,alignOffset:l,sideOffset:c,className:d,...r})}),e[8]=a,e[9]=l,e[10]=r,e[11]=c,e[12]=d,e[13]=f):f=e[13],f}function er(t){const e=ye.c(12);let n,r,s,i;e[0]!==t?({className:n,inset:r,variant:i,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?"default":i;let a;e[5]!==n?(a=$e("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[5]=n,e[6]=a):a=e[6];let l;return e[7]!==r||e[8]!==s||e[9]!==a||e[10]!==o?(l=y.jsx(zf,{"data-slot":"menubar-item","data-inset":r,"data-variant":o,className:a,...s}),e[7]=r,e[8]=s,e[9]=a,e[10]=o,e[11]=l):l=e[11],l}function _i(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("bg-border -mx-1 my-1 h-px",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx($f,{"data-slot":"menubar-separator",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function ba(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("text-muted-foreground ml-auto text-xs tracking-widest",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("span",{"data-slot":"menubar-shortcut",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Gi(t){const e=ye.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(Zf,{"data-slot":"select",...n}),e[2]=n,e[3]=r):r=e[3],r}function Hi(t){const e=ye.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(Hf,{"data-slot":"select-group",...n}),e[2]=n,e[3]=r):r=e[3],r}function Yi(t){const e=ye.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(qf,{"data-slot":"select-value",...n}),e[2]=n,e[3]=r):r=e[3],r}function Wi(t){const e=ye.c(13);let n,r,s,i;e[0]!==t?({className:r,size:i,children:n,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?"default":i;let a;e[5]!==r?(a=$e("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 mt-2",r),e[5]=r,e[6]=a):a=e[6];let l;e[7]===Symbol.for("react.memo_cache_sentinel")?(l=y.jsx(Wf,{asChild:!0,children:y.jsx(nc,{className:"size-4 opacity-50"})}),e[7]=l):l=e[7];let c;return e[8]!==n||e[9]!==s||e[10]!==o||e[11]!==a?(c=y.jsxs(Vf,{"data-slot":"select-trigger","data-size":o,className:a,...s,children:[n,l]}),e[8]=n,e[9]=s,e[10]=o,e[11]=a,e[12]=c):c=e[12],c}function Xi(t){const e=ye.c(20);let n,r,s,i;e[0]!==t?({className:r,children:n,position:i,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?"popper":i,a=o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let l;e[5]!==r||e[6]!==a?(l=$e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",a,r),e[5]=r,e[6]=a,e[7]=l):l=e[7];let c;e[8]===Symbol.for("react.memo_cache_sentinel")?(c=y.jsx(np,{}),e[8]=c):c=e[8];const d=o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1";let f;e[9]!==d?(f=$e("p-1",d),e[9]=d,e[10]=f):f=e[10];let h;e[11]!==n||e[12]!==f?(h=y.jsx(Xf,{className:f,children:n}),e[11]=n,e[12]=f,e[13]=h):h=e[13];let p;e[14]===Symbol.for("react.memo_cache_sentinel")?(p=y.jsx(rp,{}),e[14]=p):p=e[14];let g;return e[15]!==o||e[16]!==s||e[17]!==l||e[18]!==h?(g=y.jsx(Kf,{children:y.jsxs(Gf,{"data-slot":"select-content",className:l,position:o,...s,children:[c,h,p]})}),e[15]=o,e[16]=s,e[17]=l,e[18]=h,e[19]=g):g=e[19],g}function Qi(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("text-muted-foreground px-2 py-1.5 text-xs",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(Yf,{"data-slot":"select-label",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Hs(t){const e=ye.c(13);let n,r,s;e[0]!==t?({className:r,children:n,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s):(n=e[1],r=e[2],s=e[3]);let i;e[4]!==r?(i=$e("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),e[4]=r,e[5]=i):i=e[5];let o;e[6]===Symbol.for("react.memo_cache_sentinel")?(o=y.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:y.jsx(Ff,{children:y.jsx($d,{className:"size-4"})})}),e[6]=o):o=e[6];let a;e[7]!==n?(a=y.jsx(Uf,{children:n}),e[7]=n,e[8]=a):a=e[8];let l;return e[9]!==s||e[10]!==i||e[11]!==a?(l=y.jsxs(Bf,{"data-slot":"select-item",className:i,...s,children:[o,a]}),e[9]=s,e[10]=i,e[11]=a,e[12]=l):l=e[12],l}function np(t){const e=ye.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("flex cursor-default items-center justify-center py-1",n),e[3]=n,e[4]=s):s=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=y.jsx(Dd,{className:"size-4"}),e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==s?(o=y.jsx(Qf,{"data-slot":"select-scroll-up-button",className:s,...r,children:i}),e[6]=r,e[7]=s,e[8]=o):o=e[8],o}function rp(t){const e=ye.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("flex cursor-default items-center justify-center py-1",n),e[3]=n,e[4]=s):s=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=y.jsx(nc,{className:"size-4"}),e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==s?(o=y.jsx(Jf,{"data-slot":"select-scroll-down-button",className:s,...r,children:i}),e[6]=r,e[7]=s,e[8]=o):o=e[8],o}function sp(t){const e=ye.c(6);let n,r;e[0]!==t?({delayDuration:r,...n}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);const s=r===void 0?0:r;let i;return e[3]!==s||e[4]!==n?(i=y.jsx(sd,{"data-slot":"tooltip-provider",delayDuration:s,...n}),e[3]=s,e[4]=n,e[5]=i):i=e[5],i}function kn(t){const e=ye.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(sp,{children:y.jsx(td,{"data-slot":"tooltip",...n})}),e[2]=n,e[3]=r):r=e[3],r}function Sn(t){const e=ye.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(ed,{"data-slot":"tooltip-trigger",...n}),e[2]=n,e[3]=r):r=e[3],r}function An(t){const e=ye.c(13);let n,r,s,i;e[0]!==t?({className:r,sideOffset:i,children:n,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?0:i;let a;e[5]!==r?(a=$e("bg-secondary text-secondary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",r),e[5]=r,e[6]=a):a=e[6];let l;e[7]===Symbol.for("react.memo_cache_sentinel")?(l=y.jsx(id,{className:"bg-secondary fill-secondary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"}),e[7]=l):l=e[7];let c;return e[8]!==n||e[9]!==s||e[10]!==o||e[11]!==a?(c=y.jsx(nd,{children:y.jsxs(rd,{"data-slot":"tooltip-content",sideOffset:o,className:a,...s,children:[n,l]})}),e[8]=n,e[9]=s,e[10]=o,e[11]=a,e[12]=c):c=e[12],c}const ya=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,wa=oc,bc=(t,e)=>n=>{var r;if(e?.variants==null)return wa(t,n?.class,n?.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n?.[c],f=i?.[c];if(d===null)return null;const h=ya(d)||ya(f);return s[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,w]=g;return Array.isArray(w)?w.includes({...i,...a}[m]):{...i,...a}[m]===w})?[...c,f,h]:c},[]);return wa(t,o,l,n?.class,n?.className)},yc=bc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function On(t){const e=ye.c(14);let n,r,s,i,o;e[0]!==t?({className:n,variant:o,size:s,asChild:i,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=o):(n=e[1],r=e[2],s=e[3],i=e[4],o=e[5]);const l=(i===void 0?!1:i)?od:"button";let c;e[6]!==n||e[7]!==s||e[8]!==o?(c=$e(yc({variant:o,size:s,className:n})),e[6]=n,e[7]=s,e[8]=o,e[9]=c):c=e[9];let d;return e[10]!==l||e[11]!==r||e[12]!==c?(d=y.jsx(l,{"data-slot":"button",className:c,...r}),e[10]=l,e[11]=r,e[12]=c,e[13]=d):d=e[13],d}const wc={r:146,g:163,b:187,a:1},ip=t=>{if(typeof t=="string"){const e=t.match(/^#([0-9a-f]{3,8})$/i);if(e){const n=e[1],r=parseInt(n.slice(0,2),16),s=parseInt(n.slice(2,4),16),i=parseInt(n.slice(4,6),16),o=n.length>6?parseInt(n.slice(6,8),16)/255:1;return{r,g:s,b:i,a:o}}}return wc},op=t=>{const e=ye.c(24),{defaultColor:n,onChangeComplete:r}=t,s=n===void 0?wc:n,[i,o]=Me.useState(!1);let a;e[0]!==s?(a=typeof s=="string"?ip(s):s,e[0]=s,e[1]=a):a=e[1];const[l,c]=Me.useState(a);let d;e[2]!==r?(d=ad(ce=>r(ce),{wait:500}),e[2]=r,e[3]=d):d=e[3];const f=d;let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=()=>o(ap),e[4]=h):h=e[4];const p=h;let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=()=>o(!1),e[5]=g):g=e[5];const m=g;let w;e[6]!==f?(w=ce=>{c(ce.rgb),f(ce)},e[6]=f,e[7]=w):w=e[7];const S=w,A=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`;let E;e[8]!==A?(E={width:"100%",height:"100%",background:A,borderRadius:"1px",border:"1px solid #ccc"},e[8]=A,e[9]=E):E=e[9];const x=E;let C;e[10]===Symbol.for("react.memo_cache_sentinel")?(C={position:"absolute",zIndex:2,left:"50%",transform:"translateX(-50%)"},e[10]=C):C=e[10];const I=C;let j;e[11]===Symbol.for("react.memo_cache_sentinel")?(j={position:"fixed",top:0,right:0,bottom:0,left:0},e[11]=j):j=e[11];const T=j;let L,D;e[12]!==i?(L=()=>{const ce=he=>{i&&!he.target.closest(".color-picker")&&m()};return document.addEventListener("mousedown",ce),()=>{document.removeEventListener("mousedown",ce)}},D=[i],e[12]=i,e[13]=L,e[14]=D):(L=e[13],D=e[14]),Me.useEffect(L,D);let X;e[15]!==x?(X=y.jsx(On,{onClick:p,variant:"secondary",className:"w-full",children:y.jsx("div",{style:x})}),e[15]=x,e[16]=X):X=e[16];let q;e[17]!==l||e[18]!==i||e[19]!==S?(q=i&&y.jsxs("div",{style:I,className:"color-picker",children:[y.jsx("div",{style:T,onClick:m}),y.jsx(ld,{color:l,onChange:S,presetColors:["#92A3BB","#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],disableAlpha:!0})]}),e[17]=l,e[18]=i,e[19]=S,e[20]=q):q=e[20];let ee;return e[21]!==X||e[22]!==q?(ee=y.jsxs("div",{children:[X,q]}),e[21]=X,e[22]=q,e[23]=ee):ee=e[23],ee};function ap(t){return!t}function ti(t){const e=ye.c(10);let n,r,s;e[0]!==t?({className:n,type:s,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s):(n=e[1],r=e[2],s=e[3]);let i;e[4]!==n?(i=$e("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm mt-2","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),e[4]=n,e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==i||e[8]!==s?(o=y.jsx("input",{type:s,"data-slot":"input",className:i,...r}),e[6]=r,e[7]=i,e[8]=s,e[9]=o):o=e[9],o}function Zt(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(cd,{"data-slot":"label",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function as(t){const e=ye.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),e[3]=n,e[4]=s):s=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=y.jsx(ud,{"data-slot":"switch-thumb",className:$e("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==s?(o=y.jsx(fd,{"data-slot":"switch",className:s,...r,children:i}),e[6]=r,e[7]=s,e[8]=o):o=e[8],o}const Xt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},_c=Object.create(null);for(const t in Xt)Object.hasOwn(Xt,t)&&(_c[Xt[t]]=t);const bt={to:{},get:{}};bt.get=function(t){const e=t.slice(0,3).toLowerCase();let n,r;switch(e){case"hsl":{n=bt.get.hsl(t),r="hsl";break}case"hwb":{n=bt.get.hwb(t),r="hwb";break}default:{n=bt.get.rgb(t),r="rgb";break}}return n?{model:r,value:n}:null};bt.get.rgb=function(t){if(!t)return null;const e=/^#([a-f\d]{3,4})$/i,n=/^#([a-f\d]{6})([a-f\d]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,s=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,i=/^(\w+)$/;let o=[0,0,0,1],a,l,c;if(a=t.match(n)){for(c=a[2],a=a[1],l=0;l<3;l++){const d=l*2;o[l]=Number.parseInt(a.slice(d,d+2),16)}c&&(o[3]=Number.parseInt(c,16)/255)}else if(a=t.match(e)){for(a=a[1],c=a[3],l=0;l<3;l++)o[l]=Number.parseInt(a[l]+a[l],16);c&&(o[3]=Number.parseInt(c+c,16)/255)}else if(a=t.match(r)){for(l=0;l<3;l++)o[l]=Number.parseInt(a[l+1],10);a[4]&&(o[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else if(a=t.match(s)){for(l=0;l<3;l++)o[l]=Math.round(Number.parseFloat(a[l+1])*2.55);a[4]&&(o[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else return(a=t.match(i))?a[1]==="transparent"?[0,0,0,0]:Object.hasOwn(Xt,a[1])?(o=Xt[a[1]],o[3]=1,o):null:null;for(l=0;l<3;l++)o[l]=En(o[l],0,255);return o[3]=En(o[3],0,1),o};bt.get.hsl=function(t){if(!t)return null;const e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){const r=Number.parseFloat(n[4]),s=(Number.parseFloat(n[1])%360+360)%360,i=En(Number.parseFloat(n[2]),0,100),o=En(Number.parseFloat(n[3]),0,100),a=En(Number.isNaN(r)?1:r,0,1);return[s,i,o,a]}return null};bt.get.hwb=function(t){if(!t)return null;const e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*[\s,]\s*([+-]?[\d.]+)%\s*[\s,]\s*([+-]?[\d.]+)%\s*(?:[\s,]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){const r=Number.parseFloat(n[4]),s=(Number.parseFloat(n[1])%360+360)%360,i=En(Number.parseFloat(n[2]),0,100),o=En(Number.parseFloat(n[3]),0,100),a=En(Number.isNaN(r)?1:r,0,1);return[s,i,o,a]}return null};bt.to.hex=function(...t){return"#"+ls(t[0])+ls(t[1])+ls(t[2])+(t[3]<1?ls(Math.round(t[3]*255)):"")};bt.to.rgb=function(...t){return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};bt.to.rgb.percent=function(...t){const e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"};bt.to.hsl=function(...t){return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};bt.to.hwb=function(...t){let e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};bt.to.keyword=function(...t){return _c[t.slice(0,3)]};function En(t,e,n){return Math.min(Math.max(e,t),n)}function ls(t){const e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}const vc={};for(const t of Object.keys(Xt))vc[Xt[t]]=t;const be={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},sn=(6/29)**3;function cr(t){const e=t>.0031308?1.055*t**.4166666666666667-.055:t*12.92;return Math.min(Math.max(0,e),1)}function ur(t){return t>.04045?((t+.055)/1.055)**2.4:t/12.92}for(const t of Object.keys(be)){if(!("channels"in be[t]))throw new Error("missing channels property: "+t);if(!("labels"in be[t]))throw new Error("missing channel labels property: "+t);if(be[t].labels.length!==be[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=be[t];delete be[t].channels,delete be[t].labels,Object.defineProperty(be[t],"channels",{value:e}),Object.defineProperty(be[t],"labels",{value:n})}be.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.min(e,n,r),i=Math.max(e,n,r),o=i-s;let a,l;switch(i){case s:{a=0;break}case e:{a=(n-r)/o;break}case n:{a=2+(r-e)/o;break}case r:{a=4+(e-n)/o;break}}a=Math.min(a*60,360),a<0&&(a+=360);const c=(s+i)/2;return i===s?l=0:c<=.5?l=o/(i+s):l=o/(2-i-s),[a,l*100,c*100]};be.rgb.hsv=function(t){let e,n,r,s,i;const o=t[0]/255,a=t[1]/255,l=t[2]/255,c=Math.max(o,a,l),d=c-Math.min(o,a,l),f=function(h){return(c-h)/6/d+1/2};if(d===0)s=0,i=0;else{switch(i=d/c,e=f(o),n=f(a),r=f(l),c){case o:{s=r-n;break}case a:{s=1/3+e-r;break}case l:{s=2/3+n-e;break}}s<0?s+=1:s>1&&(s-=1)}return[s*360,i*100,c*100]};be.rgb.hwb=function(t){const e=t[0],n=t[1];let r=t[2];const s=be.rgb.hsl(t)[0],i=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[s,i*100,r*100]};be.rgb.oklab=function(t){const e=ur(t[0]/255),n=ur(t[1]/255),r=ur(t[2]/255),s=Math.cbrt(.4122214708*e+.5363325363*n+.0514459929*r),i=Math.cbrt(.2119034982*e+.6806995451*n+.1073969566*r),o=Math.cbrt(.0883024619*e+.2817188376*n+.6299787005*r),a=.2104542553*s+.793617785*i-.0040720468*o,l=1.9779984951*s-2.428592205*i+.4505937099*o,c=.0259040371*s+.7827717662*i-.808675766*o;return[a*100,l*100,c*100]};be.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.min(1-e,1-n,1-r),i=(1-e-s)/(1-s)||0,o=(1-n-s)/(1-s)||0,a=(1-r-s)/(1-s)||0;return[i*100,o*100,a*100,s*100]};function lp(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}be.rgb.keyword=function(t){const e=vc[t];if(e)return e;let n=Number.POSITIVE_INFINITY,r;for(const s of Object.keys(Xt)){const i=Xt[s],o=lp(t,i);o<n&&(n=o,r=s)}return r};be.keyword.rgb=function(t){return Xt[t]};be.rgb.xyz=function(t){const e=ur(t[0]/255),n=ur(t[1]/255),r=ur(t[2]/255),s=e*.4124564+n*.3575761+r*.1804375,i=e*.2126729+n*.7151522+r*.072175,o=e*.0193339+n*.119192+r*.9503041;return[s*100,i*100,o*100]};be.rgb.lab=function(t){const e=be.rgb.xyz(t);let n=e[0],r=e[1],s=e[2];n/=95.047,r/=100,s/=108.883,n=n>sn?n**(1/3):7.787*n+16/116,r=r>sn?r**(1/3):7.787*r+16/116,s=s>sn?s**(1/3):7.787*s+16/116;const i=116*r-16,o=500*(n-r),a=200*(r-s);return[i,o,a]};be.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;let s,i;if(n===0)return i=r*255,[i,i,i];const o=r<.5?r*(1+n):r+n-r*n,a=2*r-o,l=[0,0,0];for(let c=0;c<3;c++)s=e+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?i=a+(o-a)*6*s:2*s<1?i=o:3*s<2?i=a+(o-a)*(2/3-s)*6:i=a,l[c]=i*255;return l};be.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,r=t[2]/100,s=n;const i=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,s*=i<=1?i:2-i;const o=(r+n)/2,a=r===0?2*s/(i+s):2*n/(r+n);return[e,a*100,o*100]};be.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let r=t[2]/100;const s=Math.floor(e)%6,i=e-Math.floor(e),o=255*r*(1-n),a=255*r*(1-n*i),l=255*r*(1-n*(1-i));switch(r*=255,s){case 0:return[r,l,o];case 1:return[a,r,o];case 2:return[o,r,l];case 3:return[o,a,r];case 4:return[l,o,r];case 5:return[r,o,a]}};be.hsv.hsl=function(t){const e=t[0],n=t[1]/100,r=t[2]/100,s=Math.max(r,.01);let i,o;o=(2-n)*r;const a=(2-n)*s;return i=n*s,i/=a<=1?a:2-a,i=i||0,o/=2,[e,i*100,o*100]};be.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,r=t[2]/100;const s=n+r;let i;s>1&&(n/=s,r/=s);const o=Math.floor(6*e),a=1-r;i=6*e-o,(o&1)!==0&&(i=1-i);const l=n+i*(a-n);let c,d,f;switch(o){default:case 6:case 0:{c=a,d=l,f=n;break}case 1:{c=l,d=a,f=n;break}case 2:{c=n,d=a,f=l;break}case 3:{c=n,d=l,f=a;break}case 4:{c=l,d=n,f=a;break}case 5:{c=a,d=n,f=l;break}}return[c*255,d*255,f*255]};be.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=t[3]/100,i=1-Math.min(1,e*(1-s)+s),o=1-Math.min(1,n*(1-s)+s),a=1-Math.min(1,r*(1-s)+s);return[i*255,o*255,a*255]};be.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100;let s,i,o;return s=e*3.2404542+n*-1.5371385+r*-.4985314,i=e*-.969266+n*1.8760108+r*.041556,o=e*.0556434+n*-.2040259+r*1.0572252,s=cr(s),i=cr(i),o=cr(o),[s*255,i*255,o*255]};be.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>sn?e**(1/3):7.787*e+16/116,n=n>sn?n**(1/3):7.787*n+16/116,r=r>sn?r**(1/3):7.787*r+16/116;const s=116*n-16,i=500*(e-n),o=200*(n-r);return[s,i,o]};be.xyz.oklab=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=Math.cbrt(.8189330101*e+.3618667424*n-.1288597137*r),i=Math.cbrt(.0329845436*e+.9293118715*n+.0361456387*r),o=Math.cbrt(.0482003018*e+.2643662691*n+.633851707*r),a=.2104542553*s+.793617785*i-.0040720468*o,l=1.9779984951*s-2.428592205*i+.4505937099*o,c=.0259040371*s+.7827717662*i-.808675766*o;return[a*100,l*100,c*100]};be.oklab.oklch=function(t){return be.lab.lch(t)};be.oklab.xyz=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=(.999999998*e+.396337792*n+.215803758*r)**3,i=(1.000000008*e-.105561342*n-.063854175*r)**3,o=(1.000000055*e-.089484182*n-1.291485538*r)**3,a=1.227013851*s-.55779998*i+.281256149*o,l=-.040580178*s+1.11225687*i-.071676679*o,c=-.076381285*s-.421481978*i+1.58616322*o;return[a*100,l*100,c*100]};be.oklab.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=(e+.3963377774*n+.2158037573*r)**3,i=(e-.1055613458*n-.0638541728*r)**3,o=(e-.0894841775*n-1.291485548*r)**3,a=cr(4.0767416621*s-3.3077115913*i+.2309699292*o),l=cr(-1.2684380046*s+2.6097574011*i-.3413193965*o),c=cr(-.0041960863*s-.7034186147*i+1.707614701*o);return[a*255,l*255,c*255]};be.oklch.oklab=function(t){return be.lch.lab(t)};be.lab.xyz=function(t){const e=t[0],n=t[1],r=t[2];let s,i,o;i=(e+16)/116,s=n/500+i,o=i-r/200;const a=i**3,l=s**3,c=o**3;return i=a>sn?a:(i-16/116)/7.787,s=l>sn?l:(s-16/116)/7.787,o=c>sn?c:(o-16/116)/7.787,s*=95.047,i*=100,o*=108.883,[s,i,o]};be.lab.lch=function(t){const e=t[0],n=t[1],r=t[2];let s;s=Math.atan2(r,n)*360/2/Math.PI,s<0&&(s+=360);const o=Math.sqrt(n*n+r*r);return[e,o,s]};be.lch.lab=function(t){const e=t[0],n=t[1],s=t[2]/360*2*Math.PI,i=n*Math.cos(s),o=n*Math.sin(s);return[e,i,o]};be.rgb.ansi16=function(t,e=null){const[n,r,s]=t;let i=e===null?be.rgb.hsv(t)[2]:e;if(i=Math.round(i/50),i===0)return 30;let o=30+(Math.round(s/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return i===2&&(o+=60),o};be.hsv.ansi16=function(t){return be.rgb.ansi16(be.hsv.rgb(t),t[2])};be.rgb.ansi256=function(t){const e=t[0],n=t[1],r=t[2];return e>>4===n>>4&&n>>4===r>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};be.ansi16.rgb=function(t){t=t[0];let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=(Math.trunc(t>50)+1)*.5,r=(e&1)*n*255,s=(e>>1&1)*n*255,i=(e>>2&1)*n*255;return[r,s,i]};be.ansi256.rgb=function(t){if(t=t[0],t>=232){const i=(t-232)*10+8;return[i,i,i]}t-=16;let e;const n=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,s=e%6/5*255;return[n,r,s]};be.rgb.hex=function(t){const n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".slice(n.length)+n};be.hex.rgb=function(t){const e=t.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=[...n].map(a=>a+a).join(""));const r=Number.parseInt(n,16),s=r>>16&255,i=r>>8&255,o=r&255;return[s,i,o]};be.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.max(Math.max(e,n),r),i=Math.min(Math.min(e,n),r),o=s-i;let a;const l=o<1?i/(1-o):0;return o<=0?a=0:s===e?a=(n-r)/o%6:s===n?a=2+(r-e)/o:a=4+(e-n)/o,a/=6,a%=1,[a*360,o*100,l*100]};be.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n);let s=0;return r<1&&(s=(n-.5*r)/(1-r)),[t[0],r*100,s*100]};be.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=e*n;let s=0;return r<1&&(s=(n-r)/(1-r)),[t[0],r*100,s*100]};be.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];const s=[0,0,0],i=e%1*6,o=i%1,a=1-o;let l=0;switch(Math.floor(i)){case 0:{s[0]=1,s[1]=o,s[2]=0;break}case 1:{s[0]=a,s[1]=1,s[2]=0;break}case 2:{s[0]=0,s[1]=1,s[2]=o;break}case 3:{s[0]=0,s[1]=a,s[2]=1;break}case 4:{s[0]=o,s[1]=0,s[2]=1;break}default:s[0]=1,s[1]=0,s[2]=a}return l=(1-n)*r,[(n*s[0]+l)*255,(n*s[1]+l)*255,(n*s[2]+l)*255]};be.hcg.hsv=function(t){const e=t[1]/100,n=t[2]/100,r=e+n*(1-e);let s=0;return r>0&&(s=e/r),[t[0],s*100,r*100]};be.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let s=0;return r>0&&r<.5?s=e/(2*r):r>=.5&&r<1&&(s=e/(2*(1-r))),[t[0],s*100,r*100]};be.hcg.hwb=function(t){const e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};be.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,s=r-e;let i=0;return s<1&&(i=(r-s)/(1-s)),[t[0],s*100,i*100]};be.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};be.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};be.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};be.gray.hsl=function(t){return[0,0,t[0]]};be.gray.hsv=be.gray.hsl;be.gray.hwb=function(t){return[0,100,t[0]]};be.gray.cmyk=function(t){return[0,0,0,t[0]]};be.gray.lab=function(t){return[t[0],0,0]};be.gray.hex=function(t){const e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(r.length)+r};be.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};function cp(){const t={},e=Object.keys(be);for(let{length:n}=e,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function up(t){const e=cp(),n=[t];for(e[t].distance=0;n.length>0;){const r=n.pop(),s=Object.keys(be[r]);for(let{length:i}=s,o=0;o<i;o++){const a=s[o],l=e[a];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,n.unshift(a))}}return e}function fp(t,e){return function(n){return e(t(n))}}function dp(t,e){const n=[e[t].parent,t];let r=be[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)n.unshift(e[s].parent),r=fp(be[e[s].parent][s],r),s=e[s].parent;return r.conversion=n,r}function hp(t){const e=up(t),n={},r=Object.keys(e);for(let{length:s}=r,i=0;i<s;i++){const o=r[i];e[o].parent!==null&&(n[o]=dp(o,e))}return n}const wt={},pp=Object.keys(be);function mp(t){const e=function(...n){const r=n[0];return r==null?r:(r.length>1&&(n=r),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function gp(t){const e=function(...n){const r=n[0];if(r==null)return r;r.length>1&&(n=r);const s=t(n);if(typeof s=="object")for(let{length:i}=s,o=0;o<i;o++)s[o]=Math.round(s[o]);return s};return"conversion"in t&&(e.conversion=t.conversion),e}for(const t of pp){wt[t]={},Object.defineProperty(wt[t],"channels",{value:be[t].channels}),Object.defineProperty(wt[t],"labels",{value:be[t].labels});const e=hp(t),n=Object.keys(e);for(const r of n){const s=e[r];wt[t][r]=gp(s),wt[t][r].raw=mp(s)}}const xc=["keyword","gray","hex"],Ji={};for(const t of Object.keys(wt))Ji[[...wt[t].labels].sort().join("")]=t;const eo={};function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(e&&e in xc&&(e=null),e&&!(e in wt))throw new Error("Unknown model: "+e);let n,r;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof yt)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){const s=bt.get(t);if(s===null)throw new Error("Unable to parse color from string: "+t);this.model=s.model,r=wt[this.model].channels,this.color=s.value.slice(0,r),this.valpha=typeof s.value[r]=="number"?s.value[r]:1}else if(t.length>0){this.model=e||"rgb",r=wt[this.model].channels;const s=Array.prototype.slice.call(t,0,r);this.color=to(s,r),this.valpha=typeof t[r]=="number"?t[r]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;const s=Object.keys(t);"alpha"in t&&(s.splice(s.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);const i=s.sort().join("");if(!(i in Ji))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=Ji[i];const{labels:o}=wt[this.model],a=[];for(n=0;n<o.length;n++)a.push(t[o[n]]);this.color=to(a)}if(eo[this.model])for(r=wt[this.model].channels,n=0;n<r;n++){const s=eo[this.model][n];s&&(this.color[n]=s(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}yt.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in bt.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);const n=e.valpha===1?e.color:[...e.color,this.valpha];return bt.to[e.model](...n)},percentString(t){const e=this.rgb().round(typeof t=="number"?t:1),n=e.valpha===1?e.color:[...e.color,this.valpha];return bt.to.rgb.percent(...n)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=wt[this.model],{labels:n}=wt[this.model];for(let r=0;r<e;r++)t[n[r]]=this.color[r];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new yt([...this.color.map(yp(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new yt([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:ct("rgb",0,gt(255)),green:ct("rgb",1,gt(255)),blue:ct("rgb",2,gt(255)),hue:ct(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:ct("hsl",1,gt(100)),lightness:ct("hsl",2,gt(100)),saturationv:ct("hsv",1,gt(100)),value:ct("hsv",2,gt(100)),chroma:ct("hcg",1,gt(100)),gray:ct("hcg",2,gt(100)),white:ct("hwb",1,gt(100)),wblack:ct("hwb",2,gt(100)),cyan:ct("cmyk",0,gt(100)),magenta:ct("cmyk",1,gt(100)),yellow:ct("cmyk",2,gt(100)),black:ct("cmyk",3,gt(100)),x:ct("xyz",0,gt(95.047)),y:ct("xyz",1,gt(100)),z:ct("xyz",2,gt(108.833)),l:ct("lab",0,gt(100)),a:ct("lab",1),b:ct("lab",2),keyword(t){return t!==void 0?new yt(t):wt[this.model].keyword(this.color)},hex(t){return t!==void 0?new yt(t):bt.to.hex(...this.rgb().round().color)},hexa(t){if(t!==void 0)return new yt(t);const e=this.rgb().round().color;let n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),bt.to.hex(...e)+n},rgbNumber(){const t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){const t=this.rgb().color,e=[];for(const[n,r]of t.entries()){const s=r/255;e[n]=s<=.04045?s/12.92:((s+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return yt.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const n=t.rgb(),r=this.rgb(),s=e===void 0?.5:e,i=2*s-1,o=n.alpha()-r.alpha(),a=((i*o===-1?i:(i+o)/(1+i*o))+1)/2,l=1-a;return yt.rgb(a*n.red()+l*r.red(),a*n.green()+l*r.green(),a*n.blue()+l*r.blue(),n.alpha()*s+r.alpha()*(1-s))}};for(const t of Object.keys(wt)){if(xc.includes(t))continue;const{channels:e}=wt[t];yt.prototype[t]=function(...n){return this.model===t?new yt(this):n.length>0?new yt(n,t):new yt([...wp(wt[this.model][t].raw(this.color)),this.valpha],t)},yt[t]=function(...n){let r=n[0];return typeof r=="number"&&(r=to(n,e)),new yt(r,t)}}function bp(t,e){return Number(t.toFixed(e))}function yp(t){return function(e){return bp(e,t)}}function ct(t,e,n){t=Array.isArray(t)?t:[t];for(const r of t)(eo[r]||=[])[e]=n;return t=t[0],function(r){let s;return r!==void 0?(n&&(r=n(r)),s=this[t](),s.color[e]=r,s):(s=this[t]().color[e],n&&(s=n(s)),s)}}function gt(t){return function(e){return Math.max(0,Math.min(t,e))}}function wp(t){return Array.isArray(t)?t:[t]}function to(t,e){for(let n=0;n<e;n++)typeof t[n]!="number"&&(t[n]=0);return t}const Wr=So()(dd((t,e)=>({theme:"dark",saveInterval:300,debugText:!1,gridColor:"#92a3bb",SSAOEnabled:!0,DOFEnabled:!0,controlDamping:!1,angleSnap:11.25,distanceSnap:.25,setTheme:n=>t({theme:n}),setSaveInterval:n=>t({saveInterval:n}),setDebugText:n=>t({debugText:n}),setGridColor:n=>t({gridColor:n}),setSSAOEnabled:n=>t({SSAOEnabled:n}),setDOFEnabled:n=>t({DOFEnabled:n}),setControlDamping:n=>t({controlDamping:n}),setAngleSnap:n=>t({angleSnap:n}),setDistanceSnap:n=>t({distanceSnap:n}),getComplementaryGridColor:()=>yt(e().gridColor).darken(.5).hex()}),{version:0,name:"preferences",storage:hd(()=>localStorage)})),fr=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),_p=fr?Promise.resolve().then(function(){return Ap}):Promise.resolve().then(function(){return Cp});async function kc(...t){return(await _p).default(...t)}fr?Promise.resolve().then(function(){return Np}):Promise.resolve().then(function(){return Pp});const vp=fr?Promise.resolve().then(function(){return Op}):Promise.resolve().then(function(){return $p});async function xp(...t){return(await vp).default(...t)}const kp=async t=>{const e=await t.getFile();return e.handle=t,e};var Sp=async(t=[{}])=>{Array.isArray(t)||(t=[t]);const e=[];t.forEach((s,i)=>{e[i]={description:s.description||"Files",accept:{}},s.mimeTypes?s.mimeTypes.map(o=>{e[i].accept[o]=s.extensions||[]}):e[i].accept["*/*"]=s.extensions||[]});const n=await window.showOpenFilePicker({id:t[0].id,startIn:t[0].startIn,types:e,multiple:t[0].multiple||!1,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(kp));return t[0].multiple?r:r[0]},Ap={__proto__:null,default:Sp};function Ls(t){function e(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var r=n.done;return Promise.resolve(n.value).then(function(s){return{value:s,done:r}})}return Ls=function(n){this.s=n,this.n=n.next},Ls.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(n){var r=this.s.return;return r===void 0?Promise.resolve({value:n,done:!0}):e(r.apply(this.s,arguments))},throw:function(n){var r=this.s.return;return r===void 0?Promise.reject(n):e(r.apply(this.s,arguments))}},new Ls(t)}const Sc=async(t,e,n=t.name,r)=>{const s=[],i=[];var o,a=!1,l=!1;try{for(var c,d=(function(f){var h,p,g,m=2;for(typeof Symbol<"u"&&(p=Symbol.asyncIterator,g=Symbol.iterator);m--;){if(p&&(h=f[p])!=null)return h.call(f);if(g&&(h=f[g])!=null)return new Ls(h.call(f));p="@@asyncIterator",g="@@iterator"}throw new TypeError("Object is not async iterable")})(t.values());a=!(c=await d.next()).done;a=!1){const f=c.value,h=`${n}/${f.name}`;f.kind==="file"?i.push(f.getFile().then(p=>(p.directoryHandle=t,p.handle=f,Object.defineProperty(p,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>h})))):f.kind!=="directory"||!e||r&&r(f)||s.push(Sc(f,e,h,r))}}catch(f){l=!0,o=f}finally{try{a&&d.return!=null&&await d.return()}finally{if(l)throw o}}return[...(await Promise.all(s)).flat(),...await Promise.all(i)]};var Ep=async(t={})=>{t.recursive=t.recursive||!1,t.mode=t.mode||"read";const e=await window.showDirectoryPicker({id:t.id,startIn:t.startIn,mode:t.mode});return(await(await e.values()).next()).done?[e]:Sc(e,t.recursive,void 0,t.skipDirectory)},Np={__proto__:null,default:Ep},Tp=async(t,e=[{}],n=null,r=!1,s=null)=>{Array.isArray(e)||(e=[e]),e[0].fileName=e[0].fileName||"Untitled";const i=[];let o=null;if(t instanceof Blob&&t.type?o=t.type:t.headers&&t.headers.get("content-type")&&(o=t.headers.get("content-type")),e.forEach((c,d)=>{i[d]={description:c.description||"Files",accept:{}},c.mimeTypes?(d===0&&o&&c.mimeTypes.push(o),c.mimeTypes.map(f=>{i[d].accept[f]=c.extensions||[]})):o?i[d].accept[o]=c.extensions||[]:i[d].accept["*/*"]=c.extensions||[]}),n)try{await n.getFile()}catch(c){if(n=null,r)throw c}const a=n||await window.showSaveFilePicker({suggestedName:e[0].fileName,id:e[0].id,startIn:e[0].startIn,types:i,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1});!n&&s&&s(a);const l=await a.createWritable();return"stream"in t?(await t.stream().pipeTo(l),a):"body"in t?(await t.body.pipeTo(l),a):(await l.write(await t),await l.close(),a)},Op={__proto__:null,default:Tp},Ip=async(t=[{}])=>(Array.isArray(t)||(t=[t]),new Promise((e,n)=>{const r=document.createElement("input");r.type="file";const s=[...t.map(i=>i.mimeTypes||[]),...t.map(i=>i.extensions||[])].join();r.multiple=t[0].multiple||!1,r.accept=s||"",r.style.display="none",document.body.append(r),r.addEventListener("cancel",()=>{r.remove(),n(new DOMException("The user aborted a request.","AbortError"))}),r.addEventListener("change",()=>{r.remove(),e(r.multiple?Array.from(r.files):r.files[0])}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),Cp={__proto__:null,default:Ip},jp=async(t=[{}])=>(Array.isArray(t)||(t=[t]),t[0].recursive=t[0].recursive||!1,new Promise((e,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0,r.style.display="none",document.body.append(r),r.addEventListener("cancel",()=>{r.remove(),n(new DOMException("The user aborted a request.","AbortError"))}),r.addEventListener("change",()=>{r.remove();let s=Array.from(r.files);t[0].recursive?t[0].recursive&&t[0].skipDirectory&&(s=s.filter(i=>i.webkitRelativePath.split("/").every(o=>!t[0].skipDirectory({name:o,kind:"directory"})))):s=s.filter(i=>i.webkitRelativePath.split("/").length===2),e(s)}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),Pp={__proto__:null,default:jp},zp=async(t,e={})=>{Array.isArray(e)&&(e=e[0]);const n=document.createElement("a");let r=t;"body"in t&&(r=await(async function(o,a){const l=o.getReader(),c=new ReadableStream({start:h=>(async function p(){return l.read().then(({done:g,value:m})=>{if(!g)return h.enqueue(m),p();h.close()})})()}),d=new Response(c),f=await d.blob();return l.releaseLock(),new Blob([f],{type:a})})(t.body,t.headers.get("content-type"))),n.download=e.fileName||"Untitled",n.href=URL.createObjectURL(await r);const s=()=>{typeof i=="function"&&i()},i=e.legacySetup&&e.legacySetup(s,()=>i(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),s()}),n.click(),null},$p={__proto__:null,default:zp},ut=Uint8Array,It=Uint16Array,To=Int32Array,ni=new ut([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ri=new ut([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),no=new ut([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ac=function(t,e){for(var n=new It(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new To(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},Ec=Ac(ni,2),Nc=Ec.b,ro=Ec.r;Nc[28]=258,ro[258]=28;var Tc=Ac(ri,0),Dp=Tc.b,_a=Tc.r,so=new It(32768);for(var st=0;st<32768;++st){var un=(st&43690)>>1|(st&21845)<<1;un=(un&52428)>>2|(un&13107)<<2,un=(un&61680)>>4|(un&3855)<<4,so[st]=((un&65280)>>8|(un&255)<<8)>>1}var Qt=(function(t,e,n){for(var r=t.length,s=0,i=new It(e);s<r;++s)t[s]&&++i[t[s]-1];var o=new It(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(n){a=new It(1<<e);var l=15-e;for(s=0;s<r;++s)if(t[s])for(var c=s<<4|t[s],d=e-t[s],f=o[t[s]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)a[so[f]>>l]=c}else for(a=new It(r),s=0;s<r;++s)t[s]&&(a[s]=so[o[t[s]-1]++]>>15-t[s]);return a}),In=new ut(288);for(var st=0;st<144;++st)In[st]=8;for(var st=144;st<256;++st)In[st]=9;for(var st=256;st<280;++st)In[st]=7;for(var st=280;st<288;++st)In[st]=8;var Ur=new ut(32);for(var st=0;st<32;++st)Ur[st]=5;var Rp=Qt(In,9,0),Lp=Qt(In,9,1),Mp=Qt(Ur,5,0),Bp=Qt(Ur,5,1),vi=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Mt=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},xi=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Oo=function(t){return(t+7)/8|0},Xr=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new ut(t.subarray(e,n))},Fp=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],kt=function(t,e,n){var r=new Error(e||Fp[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,kt),!n)throw r;return r},Up=function(t,e,n,r){var s=t.length,i=r?r.length:0;if(!s||e.f&&!e.l)return n||new ut(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new ut(s*3));var c=function(k){var O=n.length;if(k>O){var B=new ut(Math.max(O*2,k));B.set(n),n=B}},d=e.f||0,f=e.p||0,h=e.b||0,p=e.l,g=e.d,m=e.m,w=e.n,S=s*8;do{if(!p){d=Mt(t,f,1);var A=Mt(t,f+1,3);if(f+=3,A)if(A==1)p=Lp,g=Bp,m=9,w=5;else if(A==2){var I=Mt(t,f,31)+257,j=Mt(t,f+10,15)+4,T=I+Mt(t,f+5,31)+1;f+=14;for(var L=new ut(T),D=new ut(19),X=0;X<j;++X)D[no[X]]=Mt(t,f+X*3,7);f+=j*3;for(var q=vi(D),ee=(1<<q)-1,ce=Qt(D,q,1),X=0;X<T;){var he=ce[Mt(t,f,ee)];f+=he&15;var E=he>>4;if(E<16)L[X++]=E;else{var we=0,ue=0;for(E==16?(ue=3+Mt(t,f,3),f+=2,we=L[X-1]):E==17?(ue=3+Mt(t,f,7),f+=3):E==18&&(ue=11+Mt(t,f,127),f+=7);ue--;)L[X++]=we}}var re=L.subarray(0,I),me=L.subarray(I);m=vi(re),w=vi(me),p=Qt(re,m,1),g=Qt(me,w,1)}else kt(1);else{var E=Oo(f)+4,x=t[E-4]|t[E-3]<<8,C=E+x;if(C>s){l&&kt(0);break}a&&c(h+x),n.set(t.subarray(E,C),h),e.b=h+=x,e.p=f=C*8,e.f=d;continue}if(f>S){l&&kt(0);break}}a&&c(h+131072);for(var oe=(1<<m)-1,Te=(1<<w)-1,Oe=f;;Oe=f){var we=p[xi(t,f)&oe],ve=we>>4;if(f+=we&15,f>S){l&&kt(0);break}if(we||kt(2),ve<256)n[h++]=ve;else if(ve==256){Oe=f,p=null;break}else{var G=ve-254;if(ve>264){var X=ve-257,Ne=ni[X];G=Mt(t,f,(1<<Ne)-1)+Nc[X],f+=Ne}var Re=g[xi(t,f)&Te],Le=Re>>4;Re||kt(3),f+=Re&15;var me=Dp[Le];if(Le>3){var Ne=ri[Le];me+=xi(t,f)&(1<<Ne)-1,f+=Ne}if(f>S){l&&kt(0);break}a&&c(h+131072);var Ue=h+G;if(h<me){var We=i-me,v=Math.min(me,Ue);for(We+h<0&&kt(3);h<v;++h)n[h]=r[We+h]}for(;h<Ue;++h)n[h]=n[h-me]}}e.l=p,e.p=Oe,e.b=h,e.f=d,p&&(d=1,e.m=m,e.d=g,e.n=w)}while(!d);return h!=n.length&&o?Xr(n,0,h):n.subarray(0,h)},tn=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Ir=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},ki=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:Ic,l:0};if(s==1){var o=new ut(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(C,I){return C.f-I.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,d=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=s-1;)a=n[n[c].f<n[f].f?c++:f++],l=n[c!=d&&n[c].f<n[f].f?c++:f++],n[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=i[0].s,r=1;r<s;++r)i[r].s>h&&(h=i[r].s);var p=new It(h+1),g=io(n[d-1],p,0);if(g>e){var r=0,m=0,w=g-e,S=1<<w;for(i.sort(function(I,j){return p[j.s]-p[I.s]||I.f-j.f});r<s;++r){var A=i[r].s;if(p[A]>e)m+=S-(1<<g-p[A]),p[A]=e;else break}for(m>>=w;m>0;){var E=i[r].s;p[E]<e?m-=1<<e-p[E]++-1:++r}for(;r>=0&&m;--r){var x=i[r].s;p[x]==e&&(--p[x],++m)}g=e}return{t:new ut(p),l:g}},io=function(t,e,n){return t.s==-1?Math.max(io(t.l,e,n+1),io(t.r,e,n+1)):e[t.s]=n},va=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new It(++e),r=0,s=t[0],i=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return{c:n.subarray(0,r),n:e}},Cr=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Oc=function(t,e,n){var r=n.length,s=Oo(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<r;++i)t[s+i+4]=n[i];return(s+4+r)*8},xa=function(t,e,n,r,s,i,o,a,l,c,d){tn(e,d++,n),++s[256];for(var f=ki(s,15),h=f.t,p=f.l,g=ki(i,15),m=g.t,w=g.l,S=va(h),A=S.c,E=S.n,x=va(m),C=x.c,I=x.n,j=new It(19),T=0;T<A.length;++T)++j[A[T]&31];for(var T=0;T<C.length;++T)++j[C[T]&31];for(var L=ki(j,7),D=L.t,X=L.l,q=19;q>4&&!D[no[q-1]];--q);var ee=c+5<<3,ce=Cr(s,In)+Cr(i,Ur)+o,he=Cr(s,h)+Cr(i,m)+o+14+3*q+Cr(j,D)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&ee<=ce&&ee<=he)return Oc(e,d,t.subarray(l,l+c));var we,ue,re,me;if(tn(e,d,1+(he<ce)),d+=2,he<ce){we=Qt(h,p,0),ue=h,re=Qt(m,w,0),me=m;var oe=Qt(D,X,0);tn(e,d,E-257),tn(e,d+5,I-1),tn(e,d+10,q-4),d+=14;for(var T=0;T<q;++T)tn(e,d+3*T,D[no[T]]);d+=3*q;for(var Te=[A,C],Oe=0;Oe<2;++Oe)for(var ve=Te[Oe],T=0;T<ve.length;++T){var G=ve[T]&31;tn(e,d,oe[G]),d+=D[G],G>15&&(tn(e,d,ve[T]>>5&127),d+=ve[T]>>12)}}else we=Rp,ue=In,re=Mp,me=Ur;for(var T=0;T<a;++T){var Ne=r[T];if(Ne>255){var G=Ne>>18&31;Ir(e,d,we[G+257]),d+=ue[G+257],G>7&&(tn(e,d,Ne>>23&31),d+=ni[G]);var Re=Ne&31;Ir(e,d,re[Re]),d+=me[Re],Re>3&&(Ir(e,d,Ne>>5&8191),d+=ri[Re])}else Ir(e,d,we[Ne]),d+=ue[Ne]}return Ir(e,d,we[256]),d+ue[256]},Zp=new To([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ic=new ut(0),Vp=function(t,e,n,r,s,i){var o=i.z||t.length,a=new ut(r+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(r,a.length-s),c=i.l,d=(i.r||0)&7;if(e){d&&(l[0]=i.r>>3);for(var f=Zp[e-1],h=f>>13,p=f&8191,g=(1<<n)-1,m=i.p||new It(32768),w=i.h||new It(g+1),S=Math.ceil(n/3),A=2*S,E=function($){return(t[$]^t[$+1]<<S^t[$+2]<<A)&g},x=new To(25e3),C=new It(288),I=new It(32),j=0,T=0,L=i.i||0,D=0,X=i.w||0,q=0;L+2<o;++L){var ee=E(L),ce=L&32767,he=w[ee];if(m[ce]=he,w[ee]=ce,X<=L){var we=o-L;if((j>7e3||D>24576)&&(we>423||!c)){d=xa(t,l,0,x,C,I,T,D,q,L-q,d),D=j=T=0,q=L;for(var ue=0;ue<286;++ue)C[ue]=0;for(var ue=0;ue<30;++ue)I[ue]=0}var re=2,me=0,oe=p,Te=ce-he&32767;if(we>2&&ee==E(L-Te))for(var Oe=Math.min(h,we)-1,ve=Math.min(32767,L),G=Math.min(258,we);Te<=ve&&--oe&&ce!=he;){if(t[L+re]==t[L+re-Te]){for(var Ne=0;Ne<G&&t[L+Ne]==t[L+Ne-Te];++Ne);if(Ne>re){if(re=Ne,me=Te,Ne>Oe)break;for(var Re=Math.min(Te,Ne-2),Le=0,ue=0;ue<Re;++ue){var Ue=L-Te+ue&32767,We=m[Ue],v=Ue-We&32767;v>Le&&(Le=v,he=Ue)}}}ce=he,he=m[ce],Te+=ce-he&32767}if(me){x[D++]=268435456|ro[re]<<18|_a[me];var k=ro[re]&31,O=_a[me]&31;T+=ni[k]+ri[O],++C[257+k],++I[O],X=L+re,++j}else x[D++]=t[L],++C[t[L]]}}for(L=Math.max(L,X);L<o;++L)x[D++]=t[L],++C[t[L]];d=xa(t,l,c,x,C,I,T,D,q,L-q,d),c||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=w,i.p=m,i.i=L,i.w=X)}else{for(var L=i.w||0;L<o+c;L+=65535){var B=L+65535;B>=o&&(l[d/8|0]=c,B=o),d=Oc(l,d+1,t.subarray(L,B))}i.i=o}return Xr(a,0,r+Oo(d)+s)},qp=(function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(n&1&&-306674912)^n>>>1;t[e]=n}return t})(),Kp=function(){var t=-1;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=qp[n&255^e[r]]^n>>>8;t=n},d:function(){return~t}}},Gp=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new ut(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return Vp(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},Cc=function(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n},Wt=function(t,e){return t[e]|t[e+1]<<8},Vt=function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},Si=function(t,e){return Vt(t,e)+Vt(t,e+4)*4294967296},vt=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function Hp(t,e){return Gp(t,e||{},0,0)}function Yp(t,e){return Up(t,{i:2},e&&e.out,e&&e.dictionary)}var jc=function(t,e,n,r){for(var s in t){var i=t[s],o=e+s,a=r;Array.isArray(i)&&(a=Cc(r,i[1]),i=i[0]),i instanceof ut?n[o]=[i,a]:(n[o+="/"]=[new ut(0),a],jc(i,o,n,r))}},ka=typeof TextEncoder<"u"&&new TextEncoder,oo=typeof TextDecoder<"u"&&new TextDecoder,Wp=0;try{oo.decode(Ic,{stream:!0}),Wp=1}catch{}var Xp=function(t){for(var e="",n=0;;){var r=t[n++],s=(r>127)+(r>223)+(r>239);if(n+s>t.length)return{s:e,r:Xr(t,n-1)};s?s==3?(r=((r&15)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):s&1?e+=String.fromCharCode((r&31)<<6|t[n++]&63):e+=String.fromCharCode((r&15)<<12|(t[n++]&63)<<6|t[n++]&63):e+=String.fromCharCode(r)}};function Zr(t,e){var n;if(ka)return ka.encode(t);for(var r=t.length,s=new ut(t.length+(t.length>>1)),i=0,o=function(c){s[i++]=c},n=0;n<r;++n){if(i+5>s.length){var a=new ut(i+8+(r-n<<1));a.set(s),s=a}var l=t.charCodeAt(n);l<128||e?o(l):l<2048?(o(192|l>>6),o(128|l&63)):l>55295&&l<57344?(l=65536+(l&1047552)|t.charCodeAt(++n)&1023,o(240|l>>18),o(128|l>>12&63),o(128|l>>6&63),o(128|l&63)):(o(224|l>>12),o(128|l>>6&63),o(128|l&63))}return Xr(s,0,i)}function ao(t,e){if(e){for(var n="",r=0;r<t.length;r+=16384)n+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return n}else{if(oo)return oo.decode(t);var s=Xp(t),i=s.s,n=s.r;return n.length&&kt(8),i}}var Qp=function(t,e){return e+30+Wt(t,e+26)+Wt(t,e+28)},Jp=function(t,e,n){var r=Wt(t,e+28),s=ao(t.subarray(e+46,e+46+r),!(Wt(t,e+8)&2048)),i=e+46+r,o=Vt(t,e+20),a=n&&o==4294967295?em(t,i):[o,Vt(t,e+24),Vt(t,e+42)],l=a[0],c=a[1],d=a[2];return[Wt(t,e+10),l,c,s,i+Wt(t,e+30)+Wt(t,e+32),d]},em=function(t,e){for(;Wt(t,e)!=1;e+=4+Wt(t,e+2));return[Si(t,e+12),Si(t,e+4),Si(t,e+20)]},lo=function(t){var e=0;if(t)for(var n in t){var r=t[n].length;r>65535&&kt(9),e+=r+4}return e},Sa=function(t,e,n,r,s,i,o,a){var l=r.length,c=n.extra,d=a&&a.length,f=lo(c);vt(t,e,o!=null?33639248:67324752),e+=4,o!=null&&(t[e++]=20,t[e++]=n.os),t[e]=20,e+=2,t[e++]=n.flag<<1|(i<0&&8),t[e++]=s&&8,t[e++]=n.compression&255,t[e++]=n.compression>>8;var h=new Date(n.mtime==null?Date.now():n.mtime),p=h.getFullYear()-1980;if((p<0||p>119)&&kt(10),vt(t,e,p<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>1),e+=4,i!=-1&&(vt(t,e,n.crc),vt(t,e+4,i<0?-i-2:i),vt(t,e+8,n.size)),vt(t,e+12,l),vt(t,e+14,f),e+=16,o!=null&&(vt(t,e,d),vt(t,e+6,n.attrs),vt(t,e+10,o),e+=14),t.set(r,e),e+=l,f)for(var g in c){var m=c[g],w=m.length;vt(t,e,+g),vt(t,e+2,w),t.set(m,e+4),e+=4+w}return d&&(t.set(a,e),e+=d),e},tm=function(t,e,n,r,s){vt(t,e,101010256),vt(t,e+8,n),vt(t,e+10,n),vt(t,e+12,r),vt(t,e+16,s)};function nm(t,e){e||(e={});var n={},r=[];jc(t,"",n,e);var s=0,i=0;for(var o in n){var a=n[o],l=a[0],c=a[1],d=c.level==0?0:8,f=Zr(o),h=f.length,p=c.comment,g=p&&Zr(p),m=g&&g.length,w=lo(c.extra);h>65535&&kt(11);var S=d?Hp(l,c):l,A=S.length,E=Kp();E.p(l),r.push(Cc(c,{size:l.length,crc:E.d(),c:S,f,m:g,u:h!=o.length||g&&p.length!=m,o:s,compression:d})),s+=30+h+w+A,i+=76+2*(h+w)+(m||0)+A}for(var x=new ut(i+22),C=s,I=i-s,j=0;j<r.length;++j){var f=r[j];Sa(x,f.o,f,f.f,f.u,f.c.length);var T=30+f.f.length+lo(f.extra);x.set(f.c,f.o+T),Sa(x,s,f,f.f,f.u,f.c.length,f.o,f.m),s+=16+T+(f.m?f.m.length:0)}return tm(x,s,r.length,I,C),x}function rm(t,e){for(var n={},r=t.length-22;Vt(t,r)!=101010256;--r)(!r||t.length-r>65558)&&kt(13);var s=Wt(t,r+8);if(!s)return{};var i=Vt(t,r+16),o=i==4294967295||s==65535;if(o){var a=Vt(t,r-12);o=Vt(t,a)==101075792,o&&(s=Vt(t,a+32),i=Vt(t,a+48))}for(var l=0;l<s;++l){var c=Jp(t,i,o),d=c[0],f=c[1],h=c[2],p=c[3],g=c[4],m=c[5],w=Qp(t,m);i=g,d?d==8?n[p]=Yp(t.subarray(w,w+f),{out:new ut(h)}):kt(14,"unknown compression type "+d):n[p]=Xr(t,w,w+f)}return n}var cs={},jr={},us={},Aa;function Et(){if(Aa)return us;Aa=1,Object.defineProperty(us,"__esModule",{value:!0});let t=class extends Error{constructor(n){super(n),this.name="NBTError"}};return us.default=t,us}var Pr={},Ea;function Rt(){if(Ea)return Pr;Ea=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.concatUint8Arrays=t,Pr.isLittleEndian=e;function t(...n){let r=0;for(let o of n)r+=o.length;let s=new Uint8Array(r),i=0;for(let o of n)s.set(o,i),i+=o.length;return s}function e(n){return n==="bedrock"}return Pr}var Ai={},fs={},ds={},Na;function Io(){if(Na)return ds;Na=1,Object.defineProperty(ds,"__esModule",{value:!0});const t=Ct(),e=Et(),n=Rt();let r=class dn{constructor(i){this.value=i&0xffffffffffffffffn}static fromSNBTValue(i){if(i=i.trim(),!/[-+]?(?:0|[1-9][0-9]*)[lL]?/.test(i))throw new e.default("Invalid long SNBT value");return new dn(BigInt(i.replace(/[lL]/,"").trim()))}static fromUint8Array(i,o){return new dn(new DataView(i.buffer).getBigInt64(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return dn.fromSNBTValue(i)}fromUint8Array(i,o){return dn.fromUint8Array(i,o)}copy(){return new dn(this.value)}equals(i){return i instanceof dn&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return dn.getTagId()}setValue(i){this.value=i&0xffffffffffffffffn}toSNBTValue(i){return this.value+"l"}toUint8Array(i){const o=new ArrayBuffer(8);return new DataView(o).setBigInt64(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.LONG}};return ds.default=r,ds}var hs={},Ta;function kr(){if(Ta)return hs;Ta=1,Object.defineProperty(hs,"__esModule",{value:!0});const t=Ct(),e=Et(),n=Rt();let r=class hn{constructor(i){this.value=i&4294967295}static fromSNBTValue(i){if(i=i.trim(),!/[-+]?(?:0|[1-9][0-9]*)/.test(i))throw new e.default("Invalid int SNBT value");return new hn(Number(i.trim()))}static fromUint8Array(i,o){return new hn(new DataView(i.buffer).getInt32(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return hn.fromSNBTValue(i)}fromUint8Array(i,o){return hn.fromUint8Array(i,o)}copy(){return new hn(this.value)}equals(i){return i instanceof hn&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return hn.getTagId()}setValue(i){this.value=i&4294967295}toSNBTValue(i){return this.value.toString()}toUint8Array(i){const o=new ArrayBuffer(4);return new DataView(o).setInt32(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.INT}};return hs.default=r,hs}var Oa;function sm(){if(Oa)return fs;Oa=1,Object.defineProperty(fs,"__esModule",{value:!0});const t=Ct(),e=Et(),n=Rt(),r=Io(),s=kr();let i=class pn{constructor(a){if(a.length>=2**31)throw new e.default("Long array is too long");this.value=a}static fromSNBTValue(a){a=a.replace(" ","").trim();const l=a.replace("[L;","").replace("]","").split(","),c=[];return l.forEach((d,f)=>c[f]=r.default.fromSNBTValue(d)),new pn(c)}static fromUint8Array(a,l){const c=[],d=s.default.fromUint8Array(a.slice(0,4),l).getValue();let f=4;for(let h=0;h<d;h++)c.push(r.default.fromUint8Array(a.slice(f,f+8),l)),f+=8;return new pn(c)}fromSNBTValue(a){return pn.fromSNBTValue(a)}fromUint8Array(a,l){return pn.fromUint8Array(a,l)}copy(){return new pn(this.value)}equals(a){return a instanceof pn&&this.value.every((l,c)=>l.equals(this.value[c]))}getValue(){return this.value}getValueDeep(){return this.value.map(a=>a.getValueDeep())}getTagId(){return pn.getTagId()}setValue(a){if(a.length>=2**31)throw new e.default("Long array is too long");this.value=a}toSNBTValue(a){let l="[L;"+(a==="formated"?" ":"");if(this.value.length>0){l+=a==="formated"?" ":"";for(let c=0;c<this.value.length-1;c++)l+=this.value[c].toSNBTValue(a)+","+(a==="formated"?" ":"");l+=this.value[this.value.length-1].toSNBTValue(a)}return l+="]",l}toUint8Array(a){return(0,n.concatUint8Arrays)(new s.default(this.value.length).toUint8Array(a),...this.value.map(l=>l.toUint8Array(a)))}static getTagId(){return t.default.LONG_ARRAY}};return fs.default=i,fs}var ps={},Ia;function im(){if(Ia)return ps;Ia=1,Object.defineProperty(ps,"__esModule",{value:!0});const t=Ct(),e=Et(),n=Rt(),r=kr();let s=class mn{constructor(o){if(o.length>=2**31)throw new e.default("Int array is too long");this.value=o}static fromSNBTValue(o){o=o.replace(" ","");const a=o.replace("[I;","").replace("]","").split(","),l=[];return a.forEach((c,d)=>l[d]=r.default.fromSNBTValue(c)),new mn(l)}static fromUint8Array(o,a){const l=[],c=r.default.fromUint8Array(o.slice(0,4),a).getValue();let d=4;for(let f=0;f<c;f++)l.push(r.default.fromUint8Array(o.slice(d,d+4),a)),d+=4;return new mn(l)}fromSNBTValue(o){return mn.fromSNBTValue(o)}fromUint8Array(o,a){return mn.fromUint8Array(o,a)}copy(){return new mn(this.value)}equals(o){return o instanceof mn&&this.value.every((a,l)=>a.equals(this.value[l]))}getValue(){return this.value}getValueDeep(){return this.value.map(o=>o.getValueDeep())}getTagId(){return mn.getTagId()}setValue(o){if(o.length>=2**31)throw new e.default("Int array is too long");this.value=o}toSNBTValue(o){let a="[I;";if(this.value.length>0){a+=o==="formated"?" ":"";for(let l=0;l<this.value.length-1;l++)a+=this.value[l].toSNBTValue(o)+","+(o==="formated"?" ":"");a+=this.value[this.value.length-1].toSNBTValue(o)}return a+="]",a}toUint8Array(o){return(0,n.concatUint8Arrays)(new r.default(this.value.length).toUint8Array(o),...this.value.map(a=>a.toUint8Array(o)))}static getTagId(){return t.default.INT_ARRAY}};return ps.default=s,ps}var ms={},Ca;function Pc(){if(Ca)return ms;Ca=1,Object.defineProperty(ms,"__esModule",{value:!0});const t=Ct(),e=Et(),n=Rt(),r=kr();let s=class gn{constructor(o){if(o.length>=2**31)throw new e.default("List is too long");if(o.length>0&&o.some(a=>a.getTagId()!==o[0].getTagId()))throw new e.default("List contains different types");this.value=o}static fromSNBTValue(o){if(o=o.trim(),!o.startsWith("[")||!o.endsWith("]"))throw new Error("Invalid compound SNBT value");const a=[];let l=[],c="";for(let d=1;d<o.length-1;d++){const f=o.charAt(d),h=d-1<1?"":o.charAt(d-1),p=d+1>=o.length-1?"":o.charAt(d+1);switch(f){case"{":(!l[l.length-1]||!l[l.length-1].includes("string"))&&l.push("compound");break;case"[":(!l[l.length-1]||!l[l.length-1].includes("string"))&&l.push("list");break;case'"':l[l.length-1]==='"string"'?h!=="\\"&&l.pop():l[l.length-1]!=='"string"'&&l.push('"string"');break;case"'":l[l.length-1]==="'string'"?h!=="\\"&&l.pop():l[l.length-1]!=="'string'"&&l.push("'string'");break;case"]":l[l.length-1]==="list"&&l.pop();break;case"}":l[l.length-1]==="compound"&&l.pop();break}if(l.length>0)c+=f;else{const g=()=>{const m=(0,t.getPayloadTypeBySNBTValue)(c);a.push(m.fromSNBTValue(c)),c=""};if(f===" ")continue;f===","?g():(c+=f,p===""&&g())}}return new gn(a)}static fromUint8Array(o,a){const l=[],c=r.default.fromUint8Array(o.slice(1,5),a).getValue();if(c>0){const d=(0,t.getPayloadType)(o[0]);let f=5;for(let h=0;h<c;h++){const p=d.fromUint8Array(o.slice(f),a);l.push(p),f+=p.toUint8Array(a).length}}return new gn(l)}fromSNBTValue(o){return gn.fromSNBTValue(o)}fromUint8Array(o,a){return gn.fromUint8Array(o,a)}copy(){return new gn(this.value)}equals(o){return o instanceof gn&&this.value.every((a,l)=>a.equals(this.value[l]))}getValue(){return this.value}getValueDeep(){return this.value.map(o=>o.getValueDeep())}getTagId(){return gn.getTagId()}setValue(o){if(o.length>=2**31)throw new e.default("List is too long");if(o.length>0&&o.some(a=>a.getTagId()!==o[0].getTagId()))throw new e.default("List contains different types");this.value=o}toSNBTValue(o){let a="[";if(this.value.length>0){for(let l=0;l<this.value.length-1;l++)a+=this.value[l].toSNBTValue(o)+","+(o==="formated"?" ":"");a+=this.value[this.value.length-1].toSNBTValue(o)}return a+="]",a}toUint8Array(o){return(0,n.concatUint8Arrays)(this.value.length===0?new Uint8Array([0]):new Uint8Array([this.value[0].getTagId()]),new r.default(this.value.length).toUint8Array(o),...this.value.map(a=>a.toUint8Array(o)))}static getTagId(){return t.default.LIST}};return ms.default=s,ms}var gs={},ja;function Co(){if(ja)return gs;ja=1,Object.defineProperty(gs,"__esModule",{value:!0});const t=Ct(),e=Et();let n=class Ht{constructor(s){this.value=s&255}static fromSNBTValue(s){if(s=s.trim(),s==="true")return new Ht(1);if(s==="false")return new Ht(0);if(!/[-+]?(?:0|[1-9][0-9]*)[bB]?/.test(s))throw new e.default("Invalid byte SNBT value");return new Ht(Number(s.replace(/[bB]/,"").trim()))}static fromUint8Array(s,i){return new Ht(new DataView(s.buffer).getInt8(0))}fromSNBTValue(s){return Ht.fromSNBTValue(s)}fromUint8Array(s,i){return Ht.fromUint8Array(s,i)}copy(){return new Ht(this.value)}equals(s){return s instanceof Ht&&this.value===s.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return Ht.getTagId()}setValue(s){this.value=s&255}toSNBTValue(s){return this.value+"b"}toUint8Array(s){const i=new ArrayBuffer(1);return new DataView(i).setInt8(0,this.value),new Uint8Array(i)}static getTagId(){return t.default.BYTE}};return gs.default=n,gs}var bs={},Pa;function zc(){if(Pa)return bs;Pa=1,Object.defineProperty(bs,"__esModule",{value:!0});const t=Ct(),e=Et(),n=Rt();let r=class bn{constructor(i){this.value=i&65535}static fromSNBTValue(i){if(i=i=i.replace(" ","").trim(),!/[-+]?(?:0|[1-9][0-9]*)[sS]?/.test(i))throw new e.default("Invalid short SNBT value");return new bn(Number(i.replace(/[sS]/,"").trim()))}static fromUint8Array(i,o){return new bn(new DataView(i.buffer).getInt32(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return bn.fromSNBTValue(i)}fromUint8Array(i,o){return bn.fromUint8Array(i,o)}copy(){return new bn(this.value)}equals(i){return i instanceof bn&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return bn.getTagId()}setValue(i){this.value=i&65535}toSNBTValue(i){return this.value+"s"}toUint8Array(i){const o=new ArrayBuffer(2);return new DataView(o).setInt16(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.SHORT}};return bs.default=r,bs}var ys={},za;function $c(){if(za)return ys;za=1,Object.defineProperty(ys,"__esModule",{value:!0});const t=Ct(),e=Et(),n=Rt();let r=class Yt{constructor(i){this.value=Yt.numToFloat(i)}static fromSNBTValue(i){if(i=i.trim(),!/[-+]?(?:[0-9]+[.]?|[0-9]*[.][0-9]+)(?:e[-+]?[0-9]+)?[fF]?/.test(i))throw new e.default("Invalid float SNBT value");return new Yt(Number(i.replace(/[fF]/,"").trim()))}static fromUint8Array(i,o){return new Yt(new DataView(i.buffer).getFloat32(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return Yt.fromSNBTValue(i)}fromUint8Array(i,o){return Yt.fromUint8Array(i,o)}copy(){return new Yt(this.value)}equals(i){return i instanceof Yt&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return Yt.getTagId()}setValue(i){this.value=Yt.numToFloat(i)}toSNBTValue(i){return this.value+"f"}toUint8Array(i){const o=new ArrayBuffer(4);return new DataView(o).setFloat32(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.FLOAT}static numToFloat(i){return new Float32Array([i])[0]}};return ys.default=r,ys}var ws={},$a;function Dc(){if($a)return ws;$a=1,Object.defineProperty(ws,"__esModule",{value:!0});const t=Ct(),e=Et(),n=Rt();let r=class yn{constructor(i){this.value=i}static fromSNBTValue(i){if(i=i.trim(),/![-+]?(?:[0-9]+[.]?|[0-9]*[.][0-9]+)(?:e[-+]?[0-9]+)?[dD]?/.test(i))throw new e.default("Invalid double SNBT value");return new yn(Number(i.replace(/[dD]/,"").trim()))}static fromUint8Array(i,o){return new yn(new DataView(i.buffer).getFloat64(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return yn.fromSNBTValue(i)}fromUint8Array(i,o){return yn.fromUint8Array(i,o)}copy(){return new yn(this.value)}equals(i){return i instanceof yn&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return yn.getTagId()}setValue(i){this.value=i}toSNBTValue(i){return this.value+"d"}toUint8Array(i){const o=new ArrayBuffer(8);return new DataView(o).setFloat64(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.DOUBLE}};return ws.default=r,ws}var _s={},Da;function Rc(){if(Da)return _s;Da=1,Object.defineProperty(_s,"__esModule",{value:!0});const t=Ct(),e=Et(),n=Rt();let r=class wn{constructor(i){this.value=i}static fromSNBTValue(i){if(i=i.trim(),new TextEncoder().encode(i).length>65535)throw new e.default("String is too long");if(/([a-zA-Z0-9_\-.+]+)|('.+')|(".+")/.test(i))i.startsWith("'")&&i.endsWith("'")?i=i.substring(1,i.length-1).replace("\\'","'"):i.startsWith('"')&&i.endsWith('"')&&(i=i.substring(1,i.length-1).replace('\\"','"'));else throw new e.default("Invalid string SNBT value");return new wn(i)}static fromUint8Array(i,o){const a=new DataView(i.slice(0,2).buffer).getUint16(0);return new wn(new TextDecoder().decode(i.slice(2,a+2)))}fromSNBTValue(i){return wn.fromSNBTValue(i)}fromUint8Array(i,o){return wn.fromUint8Array(i,o)}copy(){return new wn(this.value)}equals(i){return i instanceof wn&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return wn.getTagId()}setValue(i){this.value=i}toSNBTValue(i){return'"'+this.value.replace('"','\\"')+'"'}toUint8Array(i){const o=new TextEncoder().encode(this.value),a=new ArrayBuffer(2);return new DataView(a).setUint16(0,o.length),(0,n.concatUint8Arrays)(new Uint8Array(a),o)}static getTagId(){return t.default.STRING}};return _s.default=r,_s}var vs={},Ra;function om(){if(Ra)return vs;Ra=1,Object.defineProperty(vs,"__esModule",{value:!0});const t=Ct(),e=Et(),n=Rt(),r=Co(),s=kr();let i=class _n{constructor(a){if(a.length>=2**31)throw new e.default("Byte array is too long");this.value=a}static fromSNBTValue(a){a=a.replace(" ","").trim();const l=a.replace("[B;","").replace("]","").split(","),c=[];return l.forEach((d,f)=>c[f]=r.default.fromSNBTValue(d)),new _n(c)}static fromUint8Array(a,l){const c=[],d=s.default.fromUint8Array(a.slice(0,4),l).getValue();for(let f=0;f<d;f++)c.push(r.default.fromUint8Array(a.slice(f+4,f+5),l));return new _n(c)}fromSNBTValue(a){return _n.fromSNBTValue(a)}fromUint8Array(a,l){return _n.fromUint8Array(a,l)}copy(){return new _n(this.value)}equals(a){return a instanceof _n&&this.value.every((l,c)=>l.equals(this.value[c]))}getValue(){return this.value}getValueDeep(){return this.value.map(a=>a.getValueDeep())}getTagId(){return _n.getTagId()}setValue(a){if(a.length>=2**31)throw new e.default("Byte array is too long");this.value=a}toSNBTValue(a){let l="[B;";if(this.value.length>0){l+=a==="formated"?" ":"";for(let c=0;c<this.value.length-1;c++)l+=this.value[c].toSNBTValue(a)+","+(a==="formated"?" ":"");l+=this.value[this.value.length-1].toSNBTValue(a)}return l+="]",l}toUint8Array(a){return(0,n.concatUint8Arrays)(new s.default(this.value.length).toUint8Array(a),...this.value.map(l=>l.toUint8Array(a)))}static getTagId(){return t.default.BYTE_ARRAY}};return vs.default=i,vs}var xs={},La;function jo(){if(La)return xs;La=1,Object.defineProperty(xs,"__esModule",{value:!0});const t=Ct(),e=Rt(),n=Lc(),r=Et();let s=class vn{constructor(o){this.value=o}static fromSNBTValue(o){if(o=o.trim(),!o.startsWith("{")||!o.endsWith("}"))throw new Error("Invalid compound SNBT value");const a=[];let l="name",c="?",d=[],f="",h="";for(let p=1;p<o.length-1;p++){const g=o.charAt(p),m=p-1<1?"":o.charAt(p-1),w=p+1>=o.length-1?"":o.charAt(p+1);switch(l){case"name":switch(c){case"?":if(g==="'")c="'";else if(g==='"')c='"';else{if(g===" ")continue;if(/[a-zA-Z0-9_\-.+]/.test(g))c="",f+=g;else throw new r.default("Wrong SNBT format")}break;case'"':if(g==='"')m==="\\"?f+=g:(c="?",l="after-name");else if(g==="\\"){if(w==='"')continue;f+=g}else f+=g;break;case"'":if(g==="'")m==="\\"?f+=g:(c="?",l="after-name");else if(g==="\\"){if(w==="'")continue;f+=g}else f+=g;break;case"":/[a-zA-Z0-9_\-.+]/.test(g)?f+=g:(c="?",l="after-name",p--)}break;case"after-name":if(g===":")l="payload";else{if(g===" ")continue;throw new r.default("Wrong SNBT format")}break;case"payload":switch(g){case"{":(!d[d.length-1]||!d[d.length-1].includes("string"))&&d.push("compound");break;case"[":(!d[d.length-1]||!d[d.length-1].includes("string"))&&d.push("list");break;case'"':d[d.length-1]==='"string"'?m!=="\\"&&d.pop():d[d.length-1]!=='"string"'&&d.push('"string"');break;case"'":d[d.length-1]==="'string'"?m!=="\\"&&d.pop():d[d.length-1]!=="'string'"&&d.push("'string'");break;case"]":d[d.length-1]==="list"&&d.pop();break;case"}":d[d.length-1]==="compound"&&d.pop();break}if(d.length>0)h+=g;else{const S=()=>{const A=(0,t.getPayloadTypeBySNBTValue)(h);a.push(new n.Tag(f,A.fromSNBTValue(h))),h="",l="name",f=""};if(g===" ")continue;g===","?S():(h+=g,w===""&&S())}}}return new vn(a)}static fromUint8Array(o,a){const l=[];for(let c=0;c<o.length;){const d=o.slice(c);if(d[0]===t.default.END)break;const f=n.Tag.fromUint8Array(d,a);l.push(f),c+=f.toUint8Array(a).length}return new vn(l)}hasTagName(o){return this.value.some(a=>a.getTagName()===o)}hasTag(o){return this.value.some(a=>a.equals(o))}fromSNBTValue(o){return vn.fromSNBTValue(o)}fromUint8Array(o,a){return vn.fromUint8Array(o,a)}copy(){return new vn(this.value)}equals(o){return o instanceof vn&&this.value.every((a,l)=>a.equals(this.value[l]))}getValue(){return this.value}getValueDeep(){const o={};return this.value.forEach(a=>o[a.getTagName()]=a.getPayload().getValueDeep()),o}getTagId(){return vn.getTagId()}setValue(o){this.value=o}toSNBTValue(o){let a="{";if(this.value.length>0){for(let l=0;l<this.value.length-1;l++)a+=this.value[l].toSNBT(o)+","+(o==="formated"?" ":"");a+=this.value[this.value.length-1].toSNBT(o)}return a+="}",a}toUint8Array(o){return(0,e.concatUint8Arrays)(...this.value.map(a=>a.toUint8Array(o)),new Uint8Array([0]))}static getTagId(){return t.default.COMPOUND}};return xs.default=s,xs}var Ma;function Ct(){return Ma||(Ma=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.payloadTypes=void 0,t.getPayloadType=m,t.getPayloadTypeBySNBTValue=w;const e=sm(),n=im(),r=Pc(),s=Co(),i=zc(),o=kr(),a=Io(),l=$c(),c=Dc(),d=Rc(),f=om(),h=jo(),p=Et();var g;(function(S){S[S.END=0]="END",S[S.BYTE=1]="BYTE",S[S.SHORT=2]="SHORT",S[S.INT=3]="INT",S[S.LONG=4]="LONG",S[S.FLOAT=5]="FLOAT",S[S.DOUBLE=6]="DOUBLE",S[S.BYTE_ARRAY=7]="BYTE_ARRAY",S[S.STRING=8]="STRING",S[S.LIST=9]="LIST",S[S.COMPOUND=10]="COMPOUND",S[S.INT_ARRAY=11]="INT_ARRAY",S[S.LONG_ARRAY=12]="LONG_ARRAY"})(g||(g={})),t.payloadTypes=[s.default,i.default,o.default,a.default,l.default,c.default,f.default,d.default,r.default,h.default,n.default,e.default];function m(S){const A=t.payloadTypes.find(E=>E.getTagId()===S);if(!A)throw new p.default("Unknown payload type");return A}function w(S){if(S=S.trim(),S.startsWith("{")&&S.endsWith("}"))return m(g.COMPOUND);if(S.startsWith("[")&&S.endsWith("]"))return S=S.replace(" ",""),S.startsWith("[B;")?m(g.BYTE_ARRAY):S.startsWith("[I;")?m(g.INT_ARRAY):S.startsWith("[L;")?m(g.LONG_ARRAY):m(g.LIST);if(S==="false"||S==="true")return m(g.BYTE);const A=S[S.length-1];return A==="b"||A==="B"?m(g.BYTE):A==="s"||A==="S"?m(g.SHORT):A==="l"||A==="L"?m(g.LONG):A==="f"||A==="F"?m(g.FLOAT):A==="d"||A==="D"||/[-+]?(?:[0-9]+[.]|[0-9]*[.][0-9]+)(?:e[-+]?[0-9]+)?/.test(S)?m(g.DOUBLE):/[-+]?(?:0|[1-9][0-9]*)/.test(S)&&-2147483648<Number(S)&&Number(S)<2**31-1?m(g.INT):m(g.STRING)}t.default=g})(Ai)),Ai}var Ba;function Lc(){if(Ba)return jr;Ba=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.Tag=void 0;const t=Et(),e=Rt(),n=Ct(),r=Co(),s=zc(),i=Io(),o=kr(),a=$c(),l=Dc(),c=Rc(),d=Pc(),f=jo();let h=class _t{constructor(g,m,w=!1){if(g.length>65535)throw new t.default("Tag name is too long");if(w&&(m.getTagId()!==n.default.COMPOUND||g!==""))throw new t.default("Root tag must be a compound and its name must by empty");this.name=g,this.payload=m,this.root=w}copy(){return new _t(this.name,this.payload.copy())}equals(g){return this.name===g.name&&this.payload.equals(g.payload)}getTagId(){return this.payload.getTagId()}getTagName(){return this.name}isRoot(){return this.root}setTagName(g){if(g.length>65535)throw new t.default("Tag name is too long");this.name=g}getPayload(){return this.payload}setPayload(g){this.payload=g}toSNBT(g){return this.root?this.payload.toSNBTValue(g):`"${this.name.replace('"','\\"')}":${g==="formated"?" ":""}${this.payload.toSNBTValue(g)}`}toJSON(){return this.root?this.payload.getValueDeep():{[this.name]:this.payload.getValueDeep()}}toUint8Array(g){const m=new TextEncoder().encode(this.name),w=new ArrayBuffer(2);return new DataView(w).setUint16(0,m.length,!1),(0,e.concatUint8Arrays)(new Uint8Array([this.payload.getTagId()]),new Uint8Array(w),m,this.payload.toUint8Array(g))}static fromJSON(g,m=!1){const w=Object.keys(g);if(w.length!==1)return _t.fromJSON({"":g},m);switch(typeof g[w[0]]){case"string":return new _t(w[0],new c.default(g[w[0]]),m);case"boolean":return new _t(w[0],new r.default(g[w[0]]?1:0),m);case"bigint":case"number":const S=g[w[0]],A=Number(S);if(typeof S=="bigint"||Number.isInteger(S)){if(S<=127&&S>=-128)return new _t(w[0],new r.default(A),m);if(S<=32767&&S>=-32768)return new _t(w[0],new s.default(A),m);if(S<=2**31&&S>=-2147483648)return new _t(w[0],new o.default(A));if(S<=2n**63n-1n&&S>=-(2n**63n))return new _t(w[0],new i.default(BigInt(S)),m)}return new Float32Array([A])[0]==S?new _t(w[0],new a.default(A),m):new _t(w[0],new l.default(Number(A)),m);case"object":if(Array.isArray(g[w[0]]))return new _t(w[0],new d.default(g[w[0]].map(E=>_t.fromJSON({"":E}).getPayload())),m);{const E=[];for(const x in g[w[0]])E.push(_t.fromJSON({[x]:g[w[0]][x]}));return new _t(w[0],new f.default(E),m)}}throw new t.default("Invalid value format")}static fromUint8Array(g,m,w=!1){const S=(0,n.getPayloadType)(g[0]),A=new DataView(g.slice(1,5).buffer).getUint16(0,!1);return new _t(new TextDecoder().decode(g.slice(3,3+A)),S.fromUint8Array(g.slice(3+A),m),w)}static fromSNBTTag(g,m=!1){return g=g.trim(),new _t("",new f.default([]),m)}};return jr.Tag=h,jr}var Bt={},Ln={},Ft={},Mn={},Fa;function am(){if(Fa)return Mn;Fa=1;const t=4,e=0,n=1,r=2;function s(_){let se=_.length;for(;--se>=0;)_[se]=0}const i=0,o=1,a=2,l=3,c=258,d=29,f=256,h=f+1+d,p=30,g=19,m=2*h+1,w=15,S=16,A=7,E=256,x=16,C=17,I=18,j=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),T=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),L=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),X=512,q=new Array((h+2)*2);s(q);const ee=new Array(p*2);s(ee);const ce=new Array(X);s(ce);const he=new Array(c-l+1);s(he);const we=new Array(d);s(we);const ue=new Array(p);s(ue);function re(_,se,ie,ge,ke){this.static_tree=_,this.extra_bits=se,this.extra_base=ie,this.elems=ge,this.max_length=ke,this.has_stree=_&&_.length}let me,oe,Te;function Oe(_,se){this.dyn_tree=_,this.max_code=0,this.stat_desc=se}const ve=_=>_<256?ce[_]:ce[256+(_>>>7)],G=(_,se)=>{_.pending_buf[_.pending++]=se&255,_.pending_buf[_.pending++]=se>>>8&255},Ne=(_,se,ie)=>{_.bi_valid>S-ie?(_.bi_buf|=se<<_.bi_valid&65535,G(_,_.bi_buf),_.bi_buf=se>>S-_.bi_valid,_.bi_valid+=ie-S):(_.bi_buf|=se<<_.bi_valid&65535,_.bi_valid+=ie)},Re=(_,se,ie)=>{Ne(_,ie[se*2],ie[se*2+1])},Le=(_,se)=>{let ie=0;do ie|=_&1,_>>>=1,ie<<=1;while(--se>0);return ie>>>1},Ue=_=>{_.bi_valid===16?(G(_,_.bi_buf),_.bi_buf=0,_.bi_valid=0):_.bi_valid>=8&&(_.pending_buf[_.pending++]=_.bi_buf&255,_.bi_buf>>=8,_.bi_valid-=8)},We=(_,se)=>{const ie=se.dyn_tree,ge=se.max_code,ke=se.stat_desc.static_tree,Ie=se.stat_desc.has_stree,P=se.stat_desc.extra_bits,W=se.stat_desc.extra_base,b=se.stat_desc.max_length;let ae,Fe,le,Ve,_e,tt,J=0;for(Ve=0;Ve<=w;Ve++)_.bl_count[Ve]=0;for(ie[_.heap[_.heap_max]*2+1]=0,ae=_.heap_max+1;ae<m;ae++)Fe=_.heap[ae],Ve=ie[ie[Fe*2+1]*2+1]+1,Ve>b&&(Ve=b,J++),ie[Fe*2+1]=Ve,!(Fe>ge)&&(_.bl_count[Ve]++,_e=0,Fe>=W&&(_e=P[Fe-W]),tt=ie[Fe*2],_.opt_len+=tt*(Ve+_e),Ie&&(_.static_len+=tt*(ke[Fe*2+1]+_e)));if(J!==0){do{for(Ve=b-1;_.bl_count[Ve]===0;)Ve--;_.bl_count[Ve]--,_.bl_count[Ve+1]+=2,_.bl_count[b]--,J-=2}while(J>0);for(Ve=b;Ve!==0;Ve--)for(Fe=_.bl_count[Ve];Fe!==0;)le=_.heap[--ae],!(le>ge)&&(ie[le*2+1]!==Ve&&(_.opt_len+=(Ve-ie[le*2+1])*ie[le*2],ie[le*2+1]=Ve),Fe--)}},v=(_,se,ie)=>{const ge=new Array(w+1);let ke=0,Ie,P;for(Ie=1;Ie<=w;Ie++)ke=ke+ie[Ie-1]<<1,ge[Ie]=ke;for(P=0;P<=se;P++){let W=_[P*2+1];W!==0&&(_[P*2]=Le(ge[W]++,W))}},k=()=>{let _,se,ie,ge,ke;const Ie=new Array(w+1);for(ie=0,ge=0;ge<d-1;ge++)for(we[ge]=ie,_=0;_<1<<j[ge];_++)he[ie++]=ge;for(he[ie-1]=ge,ke=0,ge=0;ge<16;ge++)for(ue[ge]=ke,_=0;_<1<<T[ge];_++)ce[ke++]=ge;for(ke>>=7;ge<p;ge++)for(ue[ge]=ke<<7,_=0;_<1<<T[ge]-7;_++)ce[256+ke++]=ge;for(se=0;se<=w;se++)Ie[se]=0;for(_=0;_<=143;)q[_*2+1]=8,_++,Ie[8]++;for(;_<=255;)q[_*2+1]=9,_++,Ie[9]++;for(;_<=279;)q[_*2+1]=7,_++,Ie[7]++;for(;_<=287;)q[_*2+1]=8,_++,Ie[8]++;for(v(q,h+1,Ie),_=0;_<p;_++)ee[_*2+1]=5,ee[_*2]=Le(_,5);me=new re(q,j,f+1,h,w),oe=new re(ee,T,0,p,w),Te=new re(new Array(0),L,0,g,A)},O=_=>{let se;for(se=0;se<h;se++)_.dyn_ltree[se*2]=0;for(se=0;se<p;se++)_.dyn_dtree[se*2]=0;for(se=0;se<g;se++)_.bl_tree[se*2]=0;_.dyn_ltree[E*2]=1,_.opt_len=_.static_len=0,_.sym_next=_.matches=0},B=_=>{_.bi_valid>8?G(_,_.bi_buf):_.bi_valid>0&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0},$=(_,se,ie,ge)=>{const ke=se*2,Ie=ie*2;return _[ke]<_[Ie]||_[ke]===_[Ie]&&ge[se]<=ge[ie]},M=(_,se,ie)=>{const ge=_.heap[ie];let ke=ie<<1;for(;ke<=_.heap_len&&(ke<_.heap_len&&$(se,_.heap[ke+1],_.heap[ke],_.depth)&&ke++,!$(se,ge,_.heap[ke],_.depth));)_.heap[ie]=_.heap[ke],ie=ke,ke<<=1;_.heap[ie]=ge},K=(_,se,ie)=>{let ge,ke,Ie=0,P,W;if(_.sym_next!==0)do ge=_.pending_buf[_.sym_buf+Ie++]&255,ge+=(_.pending_buf[_.sym_buf+Ie++]&255)<<8,ke=_.pending_buf[_.sym_buf+Ie++],ge===0?Re(_,ke,se):(P=he[ke],Re(_,P+f+1,se),W=j[P],W!==0&&(ke-=we[P],Ne(_,ke,W)),ge--,P=ve(ge),Re(_,P,ie),W=T[P],W!==0&&(ge-=ue[P],Ne(_,ge,W)));while(Ie<_.sym_next);Re(_,E,se)},z=(_,se)=>{const ie=se.dyn_tree,ge=se.stat_desc.static_tree,ke=se.stat_desc.has_stree,Ie=se.stat_desc.elems;let P,W,b=-1,ae;for(_.heap_len=0,_.heap_max=m,P=0;P<Ie;P++)ie[P*2]!==0?(_.heap[++_.heap_len]=b=P,_.depth[P]=0):ie[P*2+1]=0;for(;_.heap_len<2;)ae=_.heap[++_.heap_len]=b<2?++b:0,ie[ae*2]=1,_.depth[ae]=0,_.opt_len--,ke&&(_.static_len-=ge[ae*2+1]);for(se.max_code=b,P=_.heap_len>>1;P>=1;P--)M(_,ie,P);ae=Ie;do P=_.heap[1],_.heap[1]=_.heap[_.heap_len--],M(_,ie,1),W=_.heap[1],_.heap[--_.heap_max]=P,_.heap[--_.heap_max]=W,ie[ae*2]=ie[P*2]+ie[W*2],_.depth[ae]=(_.depth[P]>=_.depth[W]?_.depth[P]:_.depth[W])+1,ie[P*2+1]=ie[W*2+1]=ae,_.heap[1]=ae++,M(_,ie,1);while(_.heap_len>=2);_.heap[--_.heap_max]=_.heap[1],We(_,se),v(ie,b,_.bl_count)},R=(_,se,ie)=>{let ge,ke=-1,Ie,P=se[1],W=0,b=7,ae=4;for(P===0&&(b=138,ae=3),se[(ie+1)*2+1]=65535,ge=0;ge<=ie;ge++)Ie=P,P=se[(ge+1)*2+1],!(++W<b&&Ie===P)&&(W<ae?_.bl_tree[Ie*2]+=W:Ie!==0?(Ie!==ke&&_.bl_tree[Ie*2]++,_.bl_tree[x*2]++):W<=10?_.bl_tree[C*2]++:_.bl_tree[I*2]++,W=0,ke=Ie,P===0?(b=138,ae=3):Ie===P?(b=6,ae=3):(b=7,ae=4))},U=(_,se,ie)=>{let ge,ke=-1,Ie,P=se[1],W=0,b=7,ae=4;for(P===0&&(b=138,ae=3),ge=0;ge<=ie;ge++)if(Ie=P,P=se[(ge+1)*2+1],!(++W<b&&Ie===P)){if(W<ae)do Re(_,Ie,_.bl_tree);while(--W!==0);else Ie!==0?(Ie!==ke&&(Re(_,Ie,_.bl_tree),W--),Re(_,x,_.bl_tree),Ne(_,W-3,2)):W<=10?(Re(_,C,_.bl_tree),Ne(_,W-3,3)):(Re(_,I,_.bl_tree),Ne(_,W-11,7));W=0,ke=Ie,P===0?(b=138,ae=3):Ie===P?(b=6,ae=3):(b=7,ae=4)}},F=_=>{let se;for(R(_,_.dyn_ltree,_.l_desc.max_code),R(_,_.dyn_dtree,_.d_desc.max_code),z(_,_.bl_desc),se=g-1;se>=3&&_.bl_tree[D[se]*2+1]===0;se--);return _.opt_len+=3*(se+1)+5+5+4,se},te=(_,se,ie,ge)=>{let ke;for(Ne(_,se-257,5),Ne(_,ie-1,5),Ne(_,ge-4,4),ke=0;ke<ge;ke++)Ne(_,_.bl_tree[D[ke]*2+1],3);U(_,_.dyn_ltree,se-1),U(_,_.dyn_dtree,ie-1)},pe=_=>{let se=4093624447,ie;for(ie=0;ie<=31;ie++,se>>>=1)if(se&1&&_.dyn_ltree[ie*2]!==0)return e;if(_.dyn_ltree[18]!==0||_.dyn_ltree[20]!==0||_.dyn_ltree[26]!==0)return n;for(ie=32;ie<f;ie++)if(_.dyn_ltree[ie*2]!==0)return n;return e};let fe=!1;const je=_=>{fe||(k(),fe=!0),_.l_desc=new Oe(_.dyn_ltree,me),_.d_desc=new Oe(_.dyn_dtree,oe),_.bl_desc=new Oe(_.bl_tree,Te),_.bi_buf=0,_.bi_valid=0,O(_)},Se=(_,se,ie,ge)=>{Ne(_,(i<<1)+(ge?1:0),3),B(_),G(_,ie),G(_,~ie),ie&&_.pending_buf.set(_.window.subarray(se,se+ie),_.pending),_.pending+=ie},Ke=_=>{Ne(_,o<<1,3),Re(_,E,q),Ue(_)},ze=(_,se,ie,ge)=>{let ke,Ie,P=0;_.level>0?(_.strm.data_type===r&&(_.strm.data_type=pe(_)),z(_,_.l_desc),z(_,_.d_desc),P=F(_),ke=_.opt_len+3+7>>>3,Ie=_.static_len+3+7>>>3,Ie<=ke&&(ke=Ie)):ke=Ie=ie+5,ie+4<=ke&&se!==-1?Se(_,se,ie,ge):_.strategy===t||Ie===ke?(Ne(_,(o<<1)+(ge?1:0),3),K(_,q,ee)):(Ne(_,(a<<1)+(ge?1:0),3),te(_,_.l_desc.max_code+1,_.d_desc.max_code+1,P+1),K(_,_.dyn_ltree,_.dyn_dtree)),O(_),ge&&B(_)},De=(_,se,ie)=>(_.pending_buf[_.sym_buf+_.sym_next++]=se,_.pending_buf[_.sym_buf+_.sym_next++]=se>>8,_.pending_buf[_.sym_buf+_.sym_next++]=ie,se===0?_.dyn_ltree[ie*2]++:(_.matches++,se--,_.dyn_ltree[(he[ie]+f+1)*2]++,_.dyn_dtree[ve(se)*2]++),_.sym_next===_.sym_end);return Mn._tr_init=je,Mn._tr_stored_block=Se,Mn._tr_flush_block=ze,Mn._tr_tally=De,Mn._tr_align=Ke,Mn}var Ei,Ua;function Mc(){return Ua||(Ua=1,Ei=(e,n,r,s)=>{let i=e&65535|0,o=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+n[s++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0}),Ei}var Ni,Za;function Bc(){if(Za)return Ni;Za=1;const t=()=>{let r,s=[];for(var i=0;i<256;i++){r=i;for(var o=0;o<8;o++)r=r&1?3988292384^r>>>1:r>>>1;s[i]=r}return s},e=new Uint32Array(t());return Ni=(r,s,i,o)=>{const a=e,l=o+i;r^=-1;for(let c=o;c<l;c++)r=r>>>8^a[(r^s[c])&255];return r^-1},Ni}var Ti,Va;function Po(){return Va||(Va=1,Ti={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),Ti}var Oi,qa;function Hn(){return qa||(qa=1,Oi={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),Oi}var Ka;function lm(){if(Ka)return Ft;Ka=1;const{_tr_init:t,_tr_stored_block:e,_tr_flush_block:n,_tr_tally:r,_tr_align:s}=am(),i=Mc(),o=Bc(),a=Po(),{Z_NO_FLUSH:l,Z_PARTIAL_FLUSH:c,Z_FULL_FLUSH:d,Z_FINISH:f,Z_BLOCK:h,Z_OK:p,Z_STREAM_END:g,Z_STREAM_ERROR:m,Z_DATA_ERROR:w,Z_BUF_ERROR:S,Z_DEFAULT_COMPRESSION:A,Z_FILTERED:E,Z_HUFFMAN_ONLY:x,Z_RLE:C,Z_FIXED:I,Z_DEFAULT_STRATEGY:j,Z_UNKNOWN:T,Z_DEFLATED:L}=Hn(),D=9,X=15,q=8,he=256+1+29,we=30,ue=19,re=2*he+1,me=15,oe=3,Te=258,Oe=Te+oe+1,ve=32,G=42,Ne=57,Re=69,Le=73,Ue=91,We=103,v=113,k=666,O=1,B=2,$=3,M=4,K=3,z=(u,H)=>(u.msg=a[H],H),R=u=>u*2-(u>4?9:0),U=u=>{let H=u.length;for(;--H>=0;)u[H]=0},F=u=>{let H,N,Z,V=u.w_size;H=u.hash_size,Z=H;do N=u.head[--Z],u.head[Z]=N>=V?N-V:0;while(--H);H=V,Z=H;do N=u.prev[--Z],u.prev[Z]=N>=V?N-V:0;while(--H)};let pe=(u,H,N)=>(H<<u.hash_shift^N)&u.hash_mask;const fe=u=>{const H=u.state;let N=H.pending;N>u.avail_out&&(N=u.avail_out),N!==0&&(u.output.set(H.pending_buf.subarray(H.pending_out,H.pending_out+N),u.next_out),u.next_out+=N,H.pending_out+=N,u.total_out+=N,u.avail_out-=N,H.pending-=N,H.pending===0&&(H.pending_out=0))},je=(u,H)=>{n(u,u.block_start>=0?u.block_start:-1,u.strstart-u.block_start,H),u.block_start=u.strstart,fe(u.strm)},Se=(u,H)=>{u.pending_buf[u.pending++]=H},Ke=(u,H)=>{u.pending_buf[u.pending++]=H>>>8&255,u.pending_buf[u.pending++]=H&255},ze=(u,H,N,Z)=>{let V=u.avail_in;return V>Z&&(V=Z),V===0?0:(u.avail_in-=V,H.set(u.input.subarray(u.next_in,u.next_in+V),N),u.state.wrap===1?u.adler=i(u.adler,H,V,N):u.state.wrap===2&&(u.adler=o(u.adler,H,V,N)),u.next_in+=V,u.total_in+=V,V)},De=(u,H)=>{let N=u.max_chain_length,Z=u.strstart,V,de,Pe=u.prev_length,xe=u.nice_match;const xt=u.strstart>u.w_size-Oe?u.strstart-(u.w_size-Oe):0,He=u.window,lt=u.w_mask,Nt=u.prev,ft=u.strstart+Te;let jt=He[Z+Pe-1],Ot=He[Z+Pe];u.prev_length>=u.good_match&&(N>>=2),xe>u.lookahead&&(xe=u.lookahead);do if(V=H,!(He[V+Pe]!==Ot||He[V+Pe-1]!==jt||He[V]!==He[Z]||He[++V]!==He[Z+1])){Z+=2,V++;do;while(He[++Z]===He[++V]&&He[++Z]===He[++V]&&He[++Z]===He[++V]&&He[++Z]===He[++V]&&He[++Z]===He[++V]&&He[++Z]===He[++V]&&He[++Z]===He[++V]&&He[++Z]===He[++V]&&Z<ft);if(de=Te-(ft-Z),Z=ft-Te,de>Pe){if(u.match_start=H,Pe=de,de>=xe)break;jt=He[Z+Pe-1],Ot=He[Z+Pe]}}while((H=Nt[H&lt])>xt&&--N!==0);return Pe<=u.lookahead?Pe:u.lookahead},_=u=>{const H=u.w_size;let N,Z,V;do{if(Z=u.window_size-u.lookahead-u.strstart,u.strstart>=H+(H-Oe)&&(u.window.set(u.window.subarray(H,H+H-Z),0),u.match_start-=H,u.strstart-=H,u.block_start-=H,u.insert>u.strstart&&(u.insert=u.strstart),F(u),Z+=H),u.strm.avail_in===0)break;if(N=ze(u.strm,u.window,u.strstart+u.lookahead,Z),u.lookahead+=N,u.lookahead+u.insert>=oe)for(V=u.strstart-u.insert,u.ins_h=u.window[V],u.ins_h=pe(u,u.ins_h,u.window[V+1]);u.insert&&(u.ins_h=pe(u,u.ins_h,u.window[V+oe-1]),u.prev[V&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=V,V++,u.insert--,!(u.lookahead+u.insert<oe)););}while(u.lookahead<Oe&&u.strm.avail_in!==0)},se=(u,H)=>{let N=u.pending_buf_size-5>u.w_size?u.w_size:u.pending_buf_size-5,Z,V,de,Pe=0,xe=u.strm.avail_in;do{if(Z=65535,de=u.bi_valid+42>>3,u.strm.avail_out<de||(de=u.strm.avail_out-de,V=u.strstart-u.block_start,Z>V+u.strm.avail_in&&(Z=V+u.strm.avail_in),Z>de&&(Z=de),Z<N&&(Z===0&&H!==f||H===l||Z!==V+u.strm.avail_in)))break;Pe=H===f&&Z===V+u.strm.avail_in?1:0,e(u,0,0,Pe),u.pending_buf[u.pending-4]=Z,u.pending_buf[u.pending-3]=Z>>8,u.pending_buf[u.pending-2]=~Z,u.pending_buf[u.pending-1]=~Z>>8,fe(u.strm),V&&(V>Z&&(V=Z),u.strm.output.set(u.window.subarray(u.block_start,u.block_start+V),u.strm.next_out),u.strm.next_out+=V,u.strm.avail_out-=V,u.strm.total_out+=V,u.block_start+=V,Z-=V),Z&&(ze(u.strm,u.strm.output,u.strm.next_out,Z),u.strm.next_out+=Z,u.strm.avail_out-=Z,u.strm.total_out+=Z)}while(Pe===0);return xe-=u.strm.avail_in,xe&&(xe>=u.w_size?(u.matches=2,u.window.set(u.strm.input.subarray(u.strm.next_in-u.w_size,u.strm.next_in),0),u.strstart=u.w_size,u.insert=u.strstart):(u.window_size-u.strstart<=xe&&(u.strstart-=u.w_size,u.window.set(u.window.subarray(u.w_size,u.w_size+u.strstart),0),u.matches<2&&u.matches++,u.insert>u.strstart&&(u.insert=u.strstart)),u.window.set(u.strm.input.subarray(u.strm.next_in-xe,u.strm.next_in),u.strstart),u.strstart+=xe,u.insert+=xe>u.w_size-u.insert?u.w_size-u.insert:xe),u.block_start=u.strstart),u.high_water<u.strstart&&(u.high_water=u.strstart),Pe?M:H!==l&&H!==f&&u.strm.avail_in===0&&u.strstart===u.block_start?B:(de=u.window_size-u.strstart,u.strm.avail_in>de&&u.block_start>=u.w_size&&(u.block_start-=u.w_size,u.strstart-=u.w_size,u.window.set(u.window.subarray(u.w_size,u.w_size+u.strstart),0),u.matches<2&&u.matches++,de+=u.w_size,u.insert>u.strstart&&(u.insert=u.strstart)),de>u.strm.avail_in&&(de=u.strm.avail_in),de&&(ze(u.strm,u.window,u.strstart,de),u.strstart+=de,u.insert+=de>u.w_size-u.insert?u.w_size-u.insert:de),u.high_water<u.strstart&&(u.high_water=u.strstart),de=u.bi_valid+42>>3,de=u.pending_buf_size-de>65535?65535:u.pending_buf_size-de,N=de>u.w_size?u.w_size:de,V=u.strstart-u.block_start,(V>=N||(V||H===f)&&H!==l&&u.strm.avail_in===0&&V<=de)&&(Z=V>de?de:V,Pe=H===f&&u.strm.avail_in===0&&Z===V?1:0,e(u,u.block_start,Z,Pe),u.block_start+=Z,fe(u.strm)),Pe?$:O)},ie=(u,H)=>{let N,Z;for(;;){if(u.lookahead<Oe){if(_(u),u.lookahead<Oe&&H===l)return O;if(u.lookahead===0)break}if(N=0,u.lookahead>=oe&&(u.ins_h=pe(u,u.ins_h,u.window[u.strstart+oe-1]),N=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),N!==0&&u.strstart-N<=u.w_size-Oe&&(u.match_length=De(u,N)),u.match_length>=oe)if(Z=r(u,u.strstart-u.match_start,u.match_length-oe),u.lookahead-=u.match_length,u.match_length<=u.max_lazy_match&&u.lookahead>=oe){u.match_length--;do u.strstart++,u.ins_h=pe(u,u.ins_h,u.window[u.strstart+oe-1]),N=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart;while(--u.match_length!==0);u.strstart++}else u.strstart+=u.match_length,u.match_length=0,u.ins_h=u.window[u.strstart],u.ins_h=pe(u,u.ins_h,u.window[u.strstart+1]);else Z=r(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++;if(Z&&(je(u,!1),u.strm.avail_out===0))return O}return u.insert=u.strstart<oe-1?u.strstart:oe-1,H===f?(je(u,!0),u.strm.avail_out===0?$:M):u.sym_next&&(je(u,!1),u.strm.avail_out===0)?O:B},ge=(u,H)=>{let N,Z,V;for(;;){if(u.lookahead<Oe){if(_(u),u.lookahead<Oe&&H===l)return O;if(u.lookahead===0)break}if(N=0,u.lookahead>=oe&&(u.ins_h=pe(u,u.ins_h,u.window[u.strstart+oe-1]),N=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),u.prev_length=u.match_length,u.prev_match=u.match_start,u.match_length=oe-1,N!==0&&u.prev_length<u.max_lazy_match&&u.strstart-N<=u.w_size-Oe&&(u.match_length=De(u,N),u.match_length<=5&&(u.strategy===E||u.match_length===oe&&u.strstart-u.match_start>4096)&&(u.match_length=oe-1)),u.prev_length>=oe&&u.match_length<=u.prev_length){V=u.strstart+u.lookahead-oe,Z=r(u,u.strstart-1-u.prev_match,u.prev_length-oe),u.lookahead-=u.prev_length-1,u.prev_length-=2;do++u.strstart<=V&&(u.ins_h=pe(u,u.ins_h,u.window[u.strstart+oe-1]),N=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart);while(--u.prev_length!==0);if(u.match_available=0,u.match_length=oe-1,u.strstart++,Z&&(je(u,!1),u.strm.avail_out===0))return O}else if(u.match_available){if(Z=r(u,0,u.window[u.strstart-1]),Z&&je(u,!1),u.strstart++,u.lookahead--,u.strm.avail_out===0)return O}else u.match_available=1,u.strstart++,u.lookahead--}return u.match_available&&(Z=r(u,0,u.window[u.strstart-1]),u.match_available=0),u.insert=u.strstart<oe-1?u.strstart:oe-1,H===f?(je(u,!0),u.strm.avail_out===0?$:M):u.sym_next&&(je(u,!1),u.strm.avail_out===0)?O:B},ke=(u,H)=>{let N,Z,V,de;const Pe=u.window;for(;;){if(u.lookahead<=Te){if(_(u),u.lookahead<=Te&&H===l)return O;if(u.lookahead===0)break}if(u.match_length=0,u.lookahead>=oe&&u.strstart>0&&(V=u.strstart-1,Z=Pe[V],Z===Pe[++V]&&Z===Pe[++V]&&Z===Pe[++V])){de=u.strstart+Te;do;while(Z===Pe[++V]&&Z===Pe[++V]&&Z===Pe[++V]&&Z===Pe[++V]&&Z===Pe[++V]&&Z===Pe[++V]&&Z===Pe[++V]&&Z===Pe[++V]&&V<de);u.match_length=Te-(de-V),u.match_length>u.lookahead&&(u.match_length=u.lookahead)}if(u.match_length>=oe?(N=r(u,1,u.match_length-oe),u.lookahead-=u.match_length,u.strstart+=u.match_length,u.match_length=0):(N=r(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++),N&&(je(u,!1),u.strm.avail_out===0))return O}return u.insert=0,H===f?(je(u,!0),u.strm.avail_out===0?$:M):u.sym_next&&(je(u,!1),u.strm.avail_out===0)?O:B},Ie=(u,H)=>{let N;for(;;){if(u.lookahead===0&&(_(u),u.lookahead===0)){if(H===l)return O;break}if(u.match_length=0,N=r(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++,N&&(je(u,!1),u.strm.avail_out===0))return O}return u.insert=0,H===f?(je(u,!0),u.strm.avail_out===0?$:M):u.sym_next&&(je(u,!1),u.strm.avail_out===0)?O:B};function P(u,H,N,Z,V){this.good_length=u,this.max_lazy=H,this.nice_length=N,this.max_chain=Z,this.func=V}const W=[new P(0,0,0,0,se),new P(4,4,8,4,ie),new P(4,5,16,8,ie),new P(4,6,32,32,ie),new P(4,4,16,16,ge),new P(8,16,32,32,ge),new P(8,16,128,128,ge),new P(8,32,128,256,ge),new P(32,128,258,1024,ge),new P(32,258,258,4096,ge)],b=u=>{u.window_size=2*u.w_size,U(u.head),u.max_lazy_match=W[u.level].max_lazy,u.good_match=W[u.level].good_length,u.nice_match=W[u.level].nice_length,u.max_chain_length=W[u.level].max_chain,u.strstart=0,u.block_start=0,u.lookahead=0,u.insert=0,u.match_length=u.prev_length=oe-1,u.match_available=0,u.ins_h=0};function ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=L,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(re*2),this.dyn_dtree=new Uint16Array((2*we+1)*2),this.bl_tree=new Uint16Array((2*ue+1)*2),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(me+1),this.heap=new Uint16Array(2*he+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*he+1),U(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Fe=u=>{if(!u)return 1;const H=u.state;return!H||H.strm!==u||H.status!==G&&H.status!==Ne&&H.status!==Re&&H.status!==Le&&H.status!==Ue&&H.status!==We&&H.status!==v&&H.status!==k?1:0},le=u=>{if(Fe(u))return z(u,m);u.total_in=u.total_out=0,u.data_type=T;const H=u.state;return H.pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap===2?Ne:H.wrap?G:v,u.adler=H.wrap===2?0:1,H.last_flush=-2,t(H),p},Ve=u=>{const H=le(u);return H===p&&b(u.state),H},_e=(u,H)=>Fe(u)||u.state.wrap!==2?m:(u.state.gzhead=H,p),tt=(u,H,N,Z,V,de)=>{if(!u)return m;let Pe=1;if(H===A&&(H=6),Z<0?(Pe=0,Z=-Z):Z>15&&(Pe=2,Z-=16),V<1||V>D||N!==L||Z<8||Z>15||H<0||H>9||de<0||de>I||Z===8&&Pe!==1)return z(u,m);Z===8&&(Z=9);const xe=new ae;return u.state=xe,xe.strm=u,xe.status=G,xe.wrap=Pe,xe.gzhead=null,xe.w_bits=Z,xe.w_size=1<<xe.w_bits,xe.w_mask=xe.w_size-1,xe.hash_bits=V+7,xe.hash_size=1<<xe.hash_bits,xe.hash_mask=xe.hash_size-1,xe.hash_shift=~~((xe.hash_bits+oe-1)/oe),xe.window=new Uint8Array(xe.w_size*2),xe.head=new Uint16Array(xe.hash_size),xe.prev=new Uint16Array(xe.w_size),xe.lit_bufsize=1<<V+6,xe.pending_buf_size=xe.lit_bufsize*4,xe.pending_buf=new Uint8Array(xe.pending_buf_size),xe.sym_buf=xe.lit_bufsize,xe.sym_end=(xe.lit_bufsize-1)*3,xe.level=H,xe.strategy=de,xe.method=N,Ve(u)},J=(u,H)=>tt(u,H,L,X,q,j),ne=(u,H)=>{if(Fe(u)||H>h||H<0)return u?z(u,m):m;const N=u.state;if(!u.output||u.avail_in!==0&&!u.input||N.status===k&&H!==f)return z(u,u.avail_out===0?S:m);const Z=N.last_flush;if(N.last_flush=H,N.pending!==0){if(fe(u),u.avail_out===0)return N.last_flush=-1,p}else if(u.avail_in===0&&R(H)<=R(Z)&&H!==f)return z(u,S);if(N.status===k&&u.avail_in!==0)return z(u,S);if(N.status===G&&N.wrap===0&&(N.status=v),N.status===G){let V=L+(N.w_bits-8<<4)<<8,de=-1;if(N.strategy>=x||N.level<2?de=0:N.level<6?de=1:N.level===6?de=2:de=3,V|=de<<6,N.strstart!==0&&(V|=ve),V+=31-V%31,Ke(N,V),N.strstart!==0&&(Ke(N,u.adler>>>16),Ke(N,u.adler&65535)),u.adler=1,N.status=v,fe(u),N.pending!==0)return N.last_flush=-1,p}if(N.status===Ne){if(u.adler=0,Se(N,31),Se(N,139),Se(N,8),N.gzhead)Se(N,(N.gzhead.text?1:0)+(N.gzhead.hcrc?2:0)+(N.gzhead.extra?4:0)+(N.gzhead.name?8:0)+(N.gzhead.comment?16:0)),Se(N,N.gzhead.time&255),Se(N,N.gzhead.time>>8&255),Se(N,N.gzhead.time>>16&255),Se(N,N.gzhead.time>>24&255),Se(N,N.level===9?2:N.strategy>=x||N.level<2?4:0),Se(N,N.gzhead.os&255),N.gzhead.extra&&N.gzhead.extra.length&&(Se(N,N.gzhead.extra.length&255),Se(N,N.gzhead.extra.length>>8&255)),N.gzhead.hcrc&&(u.adler=o(u.adler,N.pending_buf,N.pending,0)),N.gzindex=0,N.status=Re;else if(Se(N,0),Se(N,0),Se(N,0),Se(N,0),Se(N,0),Se(N,N.level===9?2:N.strategy>=x||N.level<2?4:0),Se(N,K),N.status=v,fe(u),N.pending!==0)return N.last_flush=-1,p}if(N.status===Re){if(N.gzhead.extra){let V=N.pending,de=(N.gzhead.extra.length&65535)-N.gzindex;for(;N.pending+de>N.pending_buf_size;){let xe=N.pending_buf_size-N.pending;if(N.pending_buf.set(N.gzhead.extra.subarray(N.gzindex,N.gzindex+xe),N.pending),N.pending=N.pending_buf_size,N.gzhead.hcrc&&N.pending>V&&(u.adler=o(u.adler,N.pending_buf,N.pending-V,V)),N.gzindex+=xe,fe(u),N.pending!==0)return N.last_flush=-1,p;V=0,de-=xe}let Pe=new Uint8Array(N.gzhead.extra);N.pending_buf.set(Pe.subarray(N.gzindex,N.gzindex+de),N.pending),N.pending+=de,N.gzhead.hcrc&&N.pending>V&&(u.adler=o(u.adler,N.pending_buf,N.pending-V,V)),N.gzindex=0}N.status=Le}if(N.status===Le){if(N.gzhead.name){let V=N.pending,de;do{if(N.pending===N.pending_buf_size){if(N.gzhead.hcrc&&N.pending>V&&(u.adler=o(u.adler,N.pending_buf,N.pending-V,V)),fe(u),N.pending!==0)return N.last_flush=-1,p;V=0}N.gzindex<N.gzhead.name.length?de=N.gzhead.name.charCodeAt(N.gzindex++)&255:de=0,Se(N,de)}while(de!==0);N.gzhead.hcrc&&N.pending>V&&(u.adler=o(u.adler,N.pending_buf,N.pending-V,V)),N.gzindex=0}N.status=Ue}if(N.status===Ue){if(N.gzhead.comment){let V=N.pending,de;do{if(N.pending===N.pending_buf_size){if(N.gzhead.hcrc&&N.pending>V&&(u.adler=o(u.adler,N.pending_buf,N.pending-V,V)),fe(u),N.pending!==0)return N.last_flush=-1,p;V=0}N.gzindex<N.gzhead.comment.length?de=N.gzhead.comment.charCodeAt(N.gzindex++)&255:de=0,Se(N,de)}while(de!==0);N.gzhead.hcrc&&N.pending>V&&(u.adler=o(u.adler,N.pending_buf,N.pending-V,V))}N.status=We}if(N.status===We){if(N.gzhead.hcrc){if(N.pending+2>N.pending_buf_size&&(fe(u),N.pending!==0))return N.last_flush=-1,p;Se(N,u.adler&255),Se(N,u.adler>>8&255),u.adler=0}if(N.status=v,fe(u),N.pending!==0)return N.last_flush=-1,p}if(u.avail_in!==0||N.lookahead!==0||H!==l&&N.status!==k){let V=N.level===0?se(N,H):N.strategy===x?Ie(N,H):N.strategy===C?ke(N,H):W[N.level].func(N,H);if((V===$||V===M)&&(N.status=k),V===O||V===$)return u.avail_out===0&&(N.last_flush=-1),p;if(V===B&&(H===c?s(N):H!==h&&(e(N,0,0,!1),H===d&&(U(N.head),N.lookahead===0&&(N.strstart=0,N.block_start=0,N.insert=0))),fe(u),u.avail_out===0))return N.last_flush=-1,p}return H!==f?p:N.wrap<=0?g:(N.wrap===2?(Se(N,u.adler&255),Se(N,u.adler>>8&255),Se(N,u.adler>>16&255),Se(N,u.adler>>24&255),Se(N,u.total_in&255),Se(N,u.total_in>>8&255),Se(N,u.total_in>>16&255),Se(N,u.total_in>>24&255)):(Ke(N,u.adler>>>16),Ke(N,u.adler&65535)),fe(u),N.wrap>0&&(N.wrap=-N.wrap),N.pending!==0?p:g)},Qn=u=>{if(Fe(u))return m;const H=u.state.status;return u.state=null,H===v?z(u,w):p},rt=(u,H)=>{let N=H.length;if(Fe(u))return m;const Z=u.state,V=Z.wrap;if(V===2||V===1&&Z.status!==G||Z.lookahead)return m;if(V===1&&(u.adler=i(u.adler,H,N,0)),Z.wrap=0,N>=Z.w_size){V===0&&(U(Z.head),Z.strstart=0,Z.block_start=0,Z.insert=0);let xt=new Uint8Array(Z.w_size);xt.set(H.subarray(N-Z.w_size,N),0),H=xt,N=Z.w_size}const de=u.avail_in,Pe=u.next_in,xe=u.input;for(u.avail_in=N,u.next_in=0,u.input=H,_(Z);Z.lookahead>=oe;){let xt=Z.strstart,He=Z.lookahead-(oe-1);do Z.ins_h=pe(Z,Z.ins_h,Z.window[xt+oe-1]),Z.prev[xt&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=xt,xt++;while(--He);Z.strstart=xt,Z.lookahead=oe-1,_(Z)}return Z.strstart+=Z.lookahead,Z.block_start=Z.strstart,Z.insert=Z.lookahead,Z.lookahead=0,Z.match_length=Z.prev_length=oe-1,Z.match_available=0,u.next_in=Pe,u.input=xe,u.avail_in=de,Z.wrap=V,p};return Ft.deflateInit=J,Ft.deflateInit2=tt,Ft.deflateReset=Ve,Ft.deflateResetKeep=le,Ft.deflateSetHeader=_e,Ft.deflate=ne,Ft.deflateEnd=Qn,Ft.deflateSetDictionary=rt,Ft.deflateInfo="pako deflate (from Nodeca project)",Ft}var ks={},Ga;function Fc(){if(Ga)return ks;Ga=1;const t=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);return ks.assign=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const r=n.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const s in r)t(r,s)&&(e[s]=r[s])}}return e},ks.flattenChunks=e=>{let n=0;for(let s=0,i=e.length;s<i;s++)n+=e[s].length;const r=new Uint8Array(n);for(let s=0,i=0,o=e.length;s<o;s++){let a=e[s];r.set(a,i),i+=a.length}return r},ks}var zr={},Ha;function Uc(){if(Ha)return zr;Ha=1;let t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t=!1}const e=new Uint8Array(256);for(let r=0;r<256;r++)e[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;e[254]=e[254]=1,zr.string2buf=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let s,i,o,a,l,c=r.length,d=0;for(a=0;a<c;a++)i=r.charCodeAt(a),(i&64512)===55296&&a+1<c&&(o=r.charCodeAt(a+1),(o&64512)===56320&&(i=65536+(i-55296<<10)+(o-56320),a++)),d+=i<128?1:i<2048?2:i<65536?3:4;for(s=new Uint8Array(d),l=0,a=0;l<d;a++)i=r.charCodeAt(a),(i&64512)===55296&&a+1<c&&(o=r.charCodeAt(a+1),(o&64512)===56320&&(i=65536+(i-55296<<10)+(o-56320),a++)),i<128?s[l++]=i:i<2048?(s[l++]=192|i>>>6,s[l++]=128|i&63):i<65536?(s[l++]=224|i>>>12,s[l++]=128|i>>>6&63,s[l++]=128|i&63):(s[l++]=240|i>>>18,s[l++]=128|i>>>12&63,s[l++]=128|i>>>6&63,s[l++]=128|i&63);return s};const n=(r,s)=>{if(s<65534&&r.subarray&&t)return String.fromCharCode.apply(null,r.length===s?r:r.subarray(0,s));let i="";for(let o=0;o<s;o++)i+=String.fromCharCode(r[o]);return i};return zr.buf2string=(r,s)=>{const i=s||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,s));let o,a;const l=new Array(i*2);for(a=0,o=0;o<i;){let c=r[o++];if(c<128){l[a++]=c;continue}let d=e[c];if(d>4){l[a++]=65533,o+=d-1;continue}for(c&=d===2?31:d===3?15:7;d>1&&o<i;)c=c<<6|r[o++]&63,d--;if(d>1){l[a++]=65533;continue}c<65536?l[a++]=c:(c-=65536,l[a++]=55296|c>>10&1023,l[a++]=56320|c&1023)}return n(l,a)},zr.utf8border=(r,s)=>{s=s||r.length,s>r.length&&(s=r.length);let i=s-1;for(;i>=0&&(r[i]&192)===128;)i--;return i<0||i===0?s:i+e[r[i]]>s?i:s},zr}var Ii,Ya;function Zc(){if(Ya)return Ii;Ya=1;function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return Ii=t,Ii}var Wa;function cm(){if(Wa)return Ln;Wa=1;const t=lm(),e=Fc(),n=Uc(),r=Po(),s=Zc(),i=Object.prototype.toString,{Z_NO_FLUSH:o,Z_SYNC_FLUSH:a,Z_FULL_FLUSH:l,Z_FINISH:c,Z_OK:d,Z_STREAM_END:f,Z_DEFAULT_COMPRESSION:h,Z_DEFAULT_STRATEGY:p,Z_DEFLATED:g}=Hn();function m(E){this.options=e.assign({level:h,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:p},E||{});let x=this.options;x.raw&&x.windowBits>0?x.windowBits=-x.windowBits:x.gzip&&x.windowBits>0&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let C=t.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(C!==d)throw new Error(r[C]);if(x.header&&t.deflateSetHeader(this.strm,x.header),x.dictionary){let I;if(typeof x.dictionary=="string"?I=n.string2buf(x.dictionary):i.call(x.dictionary)==="[object ArrayBuffer]"?I=new Uint8Array(x.dictionary):I=x.dictionary,C=t.deflateSetDictionary(this.strm,I),C!==d)throw new Error(r[C]);this._dict_set=!0}}m.prototype.push=function(E,x){const C=this.strm,I=this.options.chunkSize;let j,T;if(this.ended)return!1;for(x===~~x?T=x:T=x===!0?c:o,typeof E=="string"?C.input=n.string2buf(E):i.call(E)==="[object ArrayBuffer]"?C.input=new Uint8Array(E):C.input=E,C.next_in=0,C.avail_in=C.input.length;;){if(C.avail_out===0&&(C.output=new Uint8Array(I),C.next_out=0,C.avail_out=I),(T===a||T===l)&&C.avail_out<=6){this.onData(C.output.subarray(0,C.next_out)),C.avail_out=0;continue}if(j=t.deflate(C,T),j===f)return C.next_out>0&&this.onData(C.output.subarray(0,C.next_out)),j=t.deflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===d;if(C.avail_out===0){this.onData(C.output);continue}if(T>0&&C.next_out>0){this.onData(C.output.subarray(0,C.next_out)),C.avail_out=0;continue}if(C.avail_in===0)break}return!0},m.prototype.onData=function(E){this.chunks.push(E)},m.prototype.onEnd=function(E){E===d&&(this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg};function w(E,x){const C=new m(x);if(C.push(E,!0),C.err)throw C.msg||r[C.err];return C.result}function S(E,x){return x=x||{},x.raw=!0,w(E,x)}function A(E,x){return x=x||{},x.gzip=!0,w(E,x)}return Ln.Deflate=m,Ln.deflate=w,Ln.deflateRaw=S,Ln.gzip=A,Ln.constants=Hn(),Ln}var Bn={},Pt={},Ci,Xa;function um(){if(Xa)return Ci;Xa=1;const t=16209,e=16191;return Ci=function(r,s){let i,o,a,l,c,d,f,h,p,g,m,w,S,A,E,x,C,I,j,T,L,D,X,q;const ee=r.state;i=r.next_in,X=r.input,o=i+(r.avail_in-5),a=r.next_out,q=r.output,l=a-(s-r.avail_out),c=a+(r.avail_out-257),d=ee.dmax,f=ee.wsize,h=ee.whave,p=ee.wnext,g=ee.window,m=ee.hold,w=ee.bits,S=ee.lencode,A=ee.distcode,E=(1<<ee.lenbits)-1,x=(1<<ee.distbits)-1;e:do{w<15&&(m+=X[i++]<<w,w+=8,m+=X[i++]<<w,w+=8),C=S[m&E];t:for(;;){if(I=C>>>24,m>>>=I,w-=I,I=C>>>16&255,I===0)q[a++]=C&65535;else if(I&16){j=C&65535,I&=15,I&&(w<I&&(m+=X[i++]<<w,w+=8),j+=m&(1<<I)-1,m>>>=I,w-=I),w<15&&(m+=X[i++]<<w,w+=8,m+=X[i++]<<w,w+=8),C=A[m&x];n:for(;;){if(I=C>>>24,m>>>=I,w-=I,I=C>>>16&255,I&16){if(T=C&65535,I&=15,w<I&&(m+=X[i++]<<w,w+=8,w<I&&(m+=X[i++]<<w,w+=8)),T+=m&(1<<I)-1,T>d){r.msg="invalid distance too far back",ee.mode=t;break e}if(m>>>=I,w-=I,I=a-l,T>I){if(I=T-I,I>h&&ee.sane){r.msg="invalid distance too far back",ee.mode=t;break e}if(L=0,D=g,p===0){if(L+=f-I,I<j){j-=I;do q[a++]=g[L++];while(--I);L=a-T,D=q}}else if(p<I){if(L+=f+p-I,I-=p,I<j){j-=I;do q[a++]=g[L++];while(--I);if(L=0,p<j){I=p,j-=I;do q[a++]=g[L++];while(--I);L=a-T,D=q}}}else if(L+=p-I,I<j){j-=I;do q[a++]=g[L++];while(--I);L=a-T,D=q}for(;j>2;)q[a++]=D[L++],q[a++]=D[L++],q[a++]=D[L++],j-=3;j&&(q[a++]=D[L++],j>1&&(q[a++]=D[L++]))}else{L=a-T;do q[a++]=q[L++],q[a++]=q[L++],q[a++]=q[L++],j-=3;while(j>2);j&&(q[a++]=q[L++],j>1&&(q[a++]=q[L++]))}}else if((I&64)===0){C=A[(C&65535)+(m&(1<<I)-1)];continue n}else{r.msg="invalid distance code",ee.mode=t;break e}break}}else if((I&64)===0){C=S[(C&65535)+(m&(1<<I)-1)];continue t}else if(I&32){ee.mode=e;break e}else{r.msg="invalid literal/length code",ee.mode=t;break e}break}}while(i<o&&a<c);j=w>>3,i-=j,w-=j<<3,m&=(1<<w)-1,r.next_in=i,r.next_out=a,r.avail_in=i<o?5+(o-i):5-(i-o),r.avail_out=a<c?257+(c-a):257-(a-c),ee.hold=m,ee.bits=w},Ci}var ji,Qa;function fm(){if(Qa)return ji;Qa=1;const t=15,e=852,n=592,r=0,s=1,i=2,o=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),a=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),l=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),c=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);return ji=(f,h,p,g,m,w,S,A)=>{const E=A.bits;let x=0,C=0,I=0,j=0,T=0,L=0,D=0,X=0,q=0,ee=0,ce,he,we,ue,re,me=null,oe;const Te=new Uint16Array(t+1),Oe=new Uint16Array(t+1);let ve=null,G,Ne,Re;for(x=0;x<=t;x++)Te[x]=0;for(C=0;C<g;C++)Te[h[p+C]]++;for(T=E,j=t;j>=1&&Te[j]===0;j--);if(T>j&&(T=j),j===0)return m[w++]=1<<24|64<<16|0,m[w++]=1<<24|64<<16|0,A.bits=1,0;for(I=1;I<j&&Te[I]===0;I++);for(T<I&&(T=I),X=1,x=1;x<=t;x++)if(X<<=1,X-=Te[x],X<0)return-1;if(X>0&&(f===r||j!==1))return-1;for(Oe[1]=0,x=1;x<t;x++)Oe[x+1]=Oe[x]+Te[x];for(C=0;C<g;C++)h[p+C]!==0&&(S[Oe[h[p+C]]++]=C);if(f===r?(me=ve=S,oe=20):f===s?(me=o,ve=a,oe=257):(me=l,ve=c,oe=0),ee=0,C=0,x=I,re=w,L=T,D=0,we=-1,q=1<<T,ue=q-1,f===s&&q>e||f===i&&q>n)return 1;for(;;){G=x-D,S[C]+1<oe?(Ne=0,Re=S[C]):S[C]>=oe?(Ne=ve[S[C]-oe],Re=me[S[C]-oe]):(Ne=96,Re=0),ce=1<<x-D,he=1<<L,I=he;do he-=ce,m[re+(ee>>D)+he]=G<<24|Ne<<16|Re|0;while(he!==0);for(ce=1<<x-1;ee&ce;)ce>>=1;if(ce!==0?(ee&=ce-1,ee+=ce):ee=0,C++,--Te[x]===0){if(x===j)break;x=h[p+S[C]]}if(x>T&&(ee&ue)!==we){for(D===0&&(D=T),re+=I,L=x-D,X=1<<L;L+D<j&&(X-=Te[L+D],!(X<=0));)L++,X<<=1;if(q+=1<<L,f===s&&q>e||f===i&&q>n)return 1;we=ee&ue,m[we]=T<<24|L<<16|re-w|0}}return ee!==0&&(m[re+ee]=x-D<<24|64<<16|0),A.bits=T,0},ji}var Ja;function dm(){if(Ja)return Pt;Ja=1;const t=Mc(),e=Bc(),n=um(),r=fm(),s=0,i=1,o=2,{Z_FINISH:a,Z_BLOCK:l,Z_TREES:c,Z_OK:d,Z_STREAM_END:f,Z_NEED_DICT:h,Z_STREAM_ERROR:p,Z_DATA_ERROR:g,Z_MEM_ERROR:m,Z_BUF_ERROR:w,Z_DEFLATED:S}=Hn(),A=16180,E=16181,x=16182,C=16183,I=16184,j=16185,T=16186,L=16187,D=16188,X=16189,q=16190,ee=16191,ce=16192,he=16193,we=16194,ue=16195,re=16196,me=16197,oe=16198,Te=16199,Oe=16200,ve=16201,G=16202,Ne=16203,Re=16204,Le=16205,Ue=16206,We=16207,v=16208,k=16209,O=16210,B=16211,$=852,M=592,z=15,R=P=>(P>>>24&255)+(P>>>8&65280)+((P&65280)<<8)+((P&255)<<24);function U(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const F=P=>{if(!P)return 1;const W=P.state;return!W||W.strm!==P||W.mode<A||W.mode>B?1:0},te=P=>{if(F(P))return p;const W=P.state;return P.total_in=P.total_out=W.total=0,P.msg="",W.wrap&&(P.adler=W.wrap&1),W.mode=A,W.last=0,W.havedict=0,W.flags=-1,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new Int32Array($),W.distcode=W.distdyn=new Int32Array(M),W.sane=1,W.back=-1,d},pe=P=>{if(F(P))return p;const W=P.state;return W.wsize=0,W.whave=0,W.wnext=0,te(P)},fe=(P,W)=>{let b;if(F(P))return p;const ae=P.state;return W<0?(b=0,W=-W):(b=(W>>4)+5,W<48&&(W&=15)),W&&(W<8||W>15)?p:(ae.window!==null&&ae.wbits!==W&&(ae.window=null),ae.wrap=b,ae.wbits=W,pe(P))},je=(P,W)=>{if(!P)return p;const b=new U;P.state=b,b.strm=P,b.window=null,b.mode=A;const ae=fe(P,W);return ae!==d&&(P.state=null),ae},Se=P=>je(P,z);let Ke=!0,ze,De;const _=P=>{if(Ke){ze=new Int32Array(512),De=new Int32Array(32);let W=0;for(;W<144;)P.lens[W++]=8;for(;W<256;)P.lens[W++]=9;for(;W<280;)P.lens[W++]=7;for(;W<288;)P.lens[W++]=8;for(r(i,P.lens,0,288,ze,0,P.work,{bits:9}),W=0;W<32;)P.lens[W++]=5;r(o,P.lens,0,32,De,0,P.work,{bits:5}),Ke=!1}P.lencode=ze,P.lenbits=9,P.distcode=De,P.distbits=5},se=(P,W,b,ae)=>{let Fe;const le=P.state;return le.window===null&&(le.wsize=1<<le.wbits,le.wnext=0,le.whave=0,le.window=new Uint8Array(le.wsize)),ae>=le.wsize?(le.window.set(W.subarray(b-le.wsize,b),0),le.wnext=0,le.whave=le.wsize):(Fe=le.wsize-le.wnext,Fe>ae&&(Fe=ae),le.window.set(W.subarray(b-ae,b-ae+Fe),le.wnext),ae-=Fe,ae?(le.window.set(W.subarray(b-ae,b),0),le.wnext=ae,le.whave=le.wsize):(le.wnext+=Fe,le.wnext===le.wsize&&(le.wnext=0),le.whave<le.wsize&&(le.whave+=Fe))),0},ie=(P,W)=>{let b,ae,Fe,le,Ve,_e,tt,J,ne,Qn,rt,u,H,N,Z=0,V,de,Pe,xe,xt,He,lt,Nt;const ft=new Uint8Array(4);let jt,Ot;const la=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(F(P)||!P.output||!P.input&&P.avail_in!==0)return p;b=P.state,b.mode===ee&&(b.mode=ce),Ve=P.next_out,Fe=P.output,tt=P.avail_out,le=P.next_in,ae=P.input,_e=P.avail_in,J=b.hold,ne=b.bits,Qn=_e,rt=tt,Nt=d;e:for(;;)switch(b.mode){case A:if(b.wrap===0){b.mode=ce;break}for(;ne<16;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}if(b.wrap&2&&J===35615){b.wbits===0&&(b.wbits=15),b.check=0,ft[0]=J&255,ft[1]=J>>>8&255,b.check=e(b.check,ft,2,0),J=0,ne=0,b.mode=E;break}if(b.head&&(b.head.done=!1),!(b.wrap&1)||(((J&255)<<8)+(J>>8))%31){P.msg="incorrect header check",b.mode=k;break}if((J&15)!==S){P.msg="unknown compression method",b.mode=k;break}if(J>>>=4,ne-=4,lt=(J&15)+8,b.wbits===0&&(b.wbits=lt),lt>15||lt>b.wbits){P.msg="invalid window size",b.mode=k;break}b.dmax=1<<b.wbits,b.flags=0,P.adler=b.check=1,b.mode=J&512?X:ee,J=0,ne=0;break;case E:for(;ne<16;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}if(b.flags=J,(b.flags&255)!==S){P.msg="unknown compression method",b.mode=k;break}if(b.flags&57344){P.msg="unknown header flags set",b.mode=k;break}b.head&&(b.head.text=J>>8&1),b.flags&512&&b.wrap&4&&(ft[0]=J&255,ft[1]=J>>>8&255,b.check=e(b.check,ft,2,0)),J=0,ne=0,b.mode=x;case x:for(;ne<32;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}b.head&&(b.head.time=J),b.flags&512&&b.wrap&4&&(ft[0]=J&255,ft[1]=J>>>8&255,ft[2]=J>>>16&255,ft[3]=J>>>24&255,b.check=e(b.check,ft,4,0)),J=0,ne=0,b.mode=C;case C:for(;ne<16;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}b.head&&(b.head.xflags=J&255,b.head.os=J>>8),b.flags&512&&b.wrap&4&&(ft[0]=J&255,ft[1]=J>>>8&255,b.check=e(b.check,ft,2,0)),J=0,ne=0,b.mode=I;case I:if(b.flags&1024){for(;ne<16;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}b.length=J,b.head&&(b.head.extra_len=J),b.flags&512&&b.wrap&4&&(ft[0]=J&255,ft[1]=J>>>8&255,b.check=e(b.check,ft,2,0)),J=0,ne=0}else b.head&&(b.head.extra=null);b.mode=j;case j:if(b.flags&1024&&(u=b.length,u>_e&&(u=_e),u&&(b.head&&(lt=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Uint8Array(b.head.extra_len)),b.head.extra.set(ae.subarray(le,le+u),lt)),b.flags&512&&b.wrap&4&&(b.check=e(b.check,ae,u,le)),_e-=u,le+=u,b.length-=u),b.length))break e;b.length=0,b.mode=T;case T:if(b.flags&2048){if(_e===0)break e;u=0;do lt=ae[le+u++],b.head&&lt&&b.length<65536&&(b.head.name+=String.fromCharCode(lt));while(lt&&u<_e);if(b.flags&512&&b.wrap&4&&(b.check=e(b.check,ae,u,le)),_e-=u,le+=u,lt)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=L;case L:if(b.flags&4096){if(_e===0)break e;u=0;do lt=ae[le+u++],b.head&&lt&&b.length<65536&&(b.head.comment+=String.fromCharCode(lt));while(lt&&u<_e);if(b.flags&512&&b.wrap&4&&(b.check=e(b.check,ae,u,le)),_e-=u,le+=u,lt)break e}else b.head&&(b.head.comment=null);b.mode=D;case D:if(b.flags&512){for(;ne<16;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}if(b.wrap&4&&J!==(b.check&65535)){P.msg="header crc mismatch",b.mode=k;break}J=0,ne=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),P.adler=b.check=0,b.mode=ee;break;case X:for(;ne<32;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}P.adler=b.check=R(J),J=0,ne=0,b.mode=q;case q:if(b.havedict===0)return P.next_out=Ve,P.avail_out=tt,P.next_in=le,P.avail_in=_e,b.hold=J,b.bits=ne,h;P.adler=b.check=1,b.mode=ee;case ee:if(W===l||W===c)break e;case ce:if(b.last){J>>>=ne&7,ne-=ne&7,b.mode=Ue;break}for(;ne<3;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}switch(b.last=J&1,J>>>=1,ne-=1,J&3){case 0:b.mode=he;break;case 1:if(_(b),b.mode=Te,W===c){J>>>=2,ne-=2;break e}break;case 2:b.mode=re;break;case 3:P.msg="invalid block type",b.mode=k}J>>>=2,ne-=2;break;case he:for(J>>>=ne&7,ne-=ne&7;ne<32;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}if((J&65535)!==(J>>>16^65535)){P.msg="invalid stored block lengths",b.mode=k;break}if(b.length=J&65535,J=0,ne=0,b.mode=we,W===c)break e;case we:b.mode=ue;case ue:if(u=b.length,u){if(u>_e&&(u=_e),u>tt&&(u=tt),u===0)break e;Fe.set(ae.subarray(le,le+u),Ve),_e-=u,le+=u,tt-=u,Ve+=u,b.length-=u;break}b.mode=ee;break;case re:for(;ne<14;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}if(b.nlen=(J&31)+257,J>>>=5,ne-=5,b.ndist=(J&31)+1,J>>>=5,ne-=5,b.ncode=(J&15)+4,J>>>=4,ne-=4,b.nlen>286||b.ndist>30){P.msg="too many length or distance symbols",b.mode=k;break}b.have=0,b.mode=me;case me:for(;b.have<b.ncode;){for(;ne<3;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}b.lens[la[b.have++]]=J&7,J>>>=3,ne-=3}for(;b.have<19;)b.lens[la[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,jt={bits:b.lenbits},Nt=r(s,b.lens,0,19,b.lencode,0,b.work,jt),b.lenbits=jt.bits,Nt){P.msg="invalid code lengths set",b.mode=k;break}b.have=0,b.mode=oe;case oe:for(;b.have<b.nlen+b.ndist;){for(;Z=b.lencode[J&(1<<b.lenbits)-1],V=Z>>>24,de=Z>>>16&255,Pe=Z&65535,!(V<=ne);){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}if(Pe<16)J>>>=V,ne-=V,b.lens[b.have++]=Pe;else{if(Pe===16){for(Ot=V+2;ne<Ot;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}if(J>>>=V,ne-=V,b.have===0){P.msg="invalid bit length repeat",b.mode=k;break}lt=b.lens[b.have-1],u=3+(J&3),J>>>=2,ne-=2}else if(Pe===17){for(Ot=V+3;ne<Ot;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}J>>>=V,ne-=V,lt=0,u=3+(J&7),J>>>=3,ne-=3}else{for(Ot=V+7;ne<Ot;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}J>>>=V,ne-=V,lt=0,u=11+(J&127),J>>>=7,ne-=7}if(b.have+u>b.nlen+b.ndist){P.msg="invalid bit length repeat",b.mode=k;break}for(;u--;)b.lens[b.have++]=lt}}if(b.mode===k)break;if(b.lens[256]===0){P.msg="invalid code -- missing end-of-block",b.mode=k;break}if(b.lenbits=9,jt={bits:b.lenbits},Nt=r(i,b.lens,0,b.nlen,b.lencode,0,b.work,jt),b.lenbits=jt.bits,Nt){P.msg="invalid literal/lengths set",b.mode=k;break}if(b.distbits=6,b.distcode=b.distdyn,jt={bits:b.distbits},Nt=r(o,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,jt),b.distbits=jt.bits,Nt){P.msg="invalid distances set",b.mode=k;break}if(b.mode=Te,W===c)break e;case Te:b.mode=Oe;case Oe:if(_e>=6&&tt>=258){P.next_out=Ve,P.avail_out=tt,P.next_in=le,P.avail_in=_e,b.hold=J,b.bits=ne,n(P,rt),Ve=P.next_out,Fe=P.output,tt=P.avail_out,le=P.next_in,ae=P.input,_e=P.avail_in,J=b.hold,ne=b.bits,b.mode===ee&&(b.back=-1);break}for(b.back=0;Z=b.lencode[J&(1<<b.lenbits)-1],V=Z>>>24,de=Z>>>16&255,Pe=Z&65535,!(V<=ne);){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}if(de&&(de&240)===0){for(xe=V,xt=de,He=Pe;Z=b.lencode[He+((J&(1<<xe+xt)-1)>>xe)],V=Z>>>24,de=Z>>>16&255,Pe=Z&65535,!(xe+V<=ne);){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}J>>>=xe,ne-=xe,b.back+=xe}if(J>>>=V,ne-=V,b.back+=V,b.length=Pe,de===0){b.mode=Le;break}if(de&32){b.back=-1,b.mode=ee;break}if(de&64){P.msg="invalid literal/length code",b.mode=k;break}b.extra=de&15,b.mode=ve;case ve:if(b.extra){for(Ot=b.extra;ne<Ot;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}b.length+=J&(1<<b.extra)-1,J>>>=b.extra,ne-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=G;case G:for(;Z=b.distcode[J&(1<<b.distbits)-1],V=Z>>>24,de=Z>>>16&255,Pe=Z&65535,!(V<=ne);){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}if((de&240)===0){for(xe=V,xt=de,He=Pe;Z=b.distcode[He+((J&(1<<xe+xt)-1)>>xe)],V=Z>>>24,de=Z>>>16&255,Pe=Z&65535,!(xe+V<=ne);){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}J>>>=xe,ne-=xe,b.back+=xe}if(J>>>=V,ne-=V,b.back+=V,de&64){P.msg="invalid distance code",b.mode=k;break}b.offset=Pe,b.extra=de&15,b.mode=Ne;case Ne:if(b.extra){for(Ot=b.extra;ne<Ot;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}b.offset+=J&(1<<b.extra)-1,J>>>=b.extra,ne-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){P.msg="invalid distance too far back",b.mode=k;break}b.mode=Re;case Re:if(tt===0)break e;if(u=rt-tt,b.offset>u){if(u=b.offset-u,u>b.whave&&b.sane){P.msg="invalid distance too far back",b.mode=k;break}u>b.wnext?(u-=b.wnext,H=b.wsize-u):H=b.wnext-u,u>b.length&&(u=b.length),N=b.window}else N=Fe,H=Ve-b.offset,u=b.length;u>tt&&(u=tt),tt-=u,b.length-=u;do Fe[Ve++]=N[H++];while(--u);b.length===0&&(b.mode=Oe);break;case Le:if(tt===0)break e;Fe[Ve++]=b.length,tt--,b.mode=Oe;break;case Ue:if(b.wrap){for(;ne<32;){if(_e===0)break e;_e--,J|=ae[le++]<<ne,ne+=8}if(rt-=tt,P.total_out+=rt,b.total+=rt,b.wrap&4&&rt&&(P.adler=b.check=b.flags?e(b.check,Fe,rt,Ve-rt):t(b.check,Fe,rt,Ve-rt)),rt=tt,b.wrap&4&&(b.flags?J:R(J))!==b.check){P.msg="incorrect data check",b.mode=k;break}J=0,ne=0}b.mode=We;case We:if(b.wrap&&b.flags){for(;ne<32;){if(_e===0)break e;_e--,J+=ae[le++]<<ne,ne+=8}if(b.wrap&4&&J!==(b.total&4294967295)){P.msg="incorrect length check",b.mode=k;break}J=0,ne=0}b.mode=v;case v:Nt=f;break e;case k:Nt=g;break e;case O:return m;case B:default:return p}return P.next_out=Ve,P.avail_out=tt,P.next_in=le,P.avail_in=_e,b.hold=J,b.bits=ne,(b.wsize||rt!==P.avail_out&&b.mode<k&&(b.mode<Ue||W!==a))&&se(P,P.output,P.next_out,rt-P.avail_out),Qn-=P.avail_in,rt-=P.avail_out,P.total_in+=Qn,P.total_out+=rt,b.total+=rt,b.wrap&4&&rt&&(P.adler=b.check=b.flags?e(b.check,Fe,rt,P.next_out-rt):t(b.check,Fe,rt,P.next_out-rt)),P.data_type=b.bits+(b.last?64:0)+(b.mode===ee?128:0)+(b.mode===Te||b.mode===we?256:0),(Qn===0&&rt===0||W===a)&&Nt===d&&(Nt=w),Nt},ge=P=>{if(F(P))return p;let W=P.state;return W.window&&(W.window=null),P.state=null,d},ke=(P,W)=>{if(F(P))return p;const b=P.state;return(b.wrap&2)===0?p:(b.head=W,W.done=!1,d)},Ie=(P,W)=>{const b=W.length;let ae,Fe,le;return F(P)||(ae=P.state,ae.wrap!==0&&ae.mode!==q)?p:ae.mode===q&&(Fe=1,Fe=t(Fe,W,b,0),Fe!==ae.check)?g:(le=se(P,W,b,b),le?(ae.mode=O,m):(ae.havedict=1,d))};return Pt.inflateReset=pe,Pt.inflateReset2=fe,Pt.inflateResetKeep=te,Pt.inflateInit=Se,Pt.inflateInit2=je,Pt.inflate=ie,Pt.inflateEnd=ge,Pt.inflateGetHeader=ke,Pt.inflateSetDictionary=Ie,Pt.inflateInfo="pako inflate (from Nodeca project)",Pt}var Pi,el;function hm(){if(el)return Pi;el=1;function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return Pi=t,Pi}var tl;function pm(){if(tl)return Bn;tl=1;const t=dm(),e=Fc(),n=Uc(),r=Po(),s=Zc(),i=hm(),o=Object.prototype.toString,{Z_NO_FLUSH:a,Z_FINISH:l,Z_OK:c,Z_STREAM_END:d,Z_NEED_DICT:f,Z_STREAM_ERROR:h,Z_DATA_ERROR:p,Z_MEM_ERROR:g}=Hn();function m(A){this.options=e.assign({chunkSize:1024*64,windowBits:15,to:""},A||{});const E=this.options;E.raw&&E.windowBits>=0&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),E.windowBits>=0&&E.windowBits<16&&!(A&&A.windowBits)&&(E.windowBits+=32),E.windowBits>15&&E.windowBits<48&&(E.windowBits&15)===0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let x=t.inflateInit2(this.strm,E.windowBits);if(x!==c)throw new Error(r[x]);if(this.header=new i,t.inflateGetHeader(this.strm,this.header),E.dictionary&&(typeof E.dictionary=="string"?E.dictionary=n.string2buf(E.dictionary):o.call(E.dictionary)==="[object ArrayBuffer]"&&(E.dictionary=new Uint8Array(E.dictionary)),E.raw&&(x=t.inflateSetDictionary(this.strm,E.dictionary),x!==c)))throw new Error(r[x])}m.prototype.push=function(A,E){const x=this.strm,C=this.options.chunkSize,I=this.options.dictionary;let j,T,L;if(this.ended)return!1;for(E===~~E?T=E:T=E===!0?l:a,o.call(A)==="[object ArrayBuffer]"?x.input=new Uint8Array(A):x.input=A,x.next_in=0,x.avail_in=x.input.length;;){for(x.avail_out===0&&(x.output=new Uint8Array(C),x.next_out=0,x.avail_out=C),j=t.inflate(x,T),j===f&&I&&(j=t.inflateSetDictionary(x,I),j===c?j=t.inflate(x,T):j===p&&(j=f));x.avail_in>0&&j===d&&x.state.wrap>0&&A[x.next_in]!==0;)t.inflateReset(x),j=t.inflate(x,T);switch(j){case h:case p:case f:case g:return this.onEnd(j),this.ended=!0,!1}if(L=x.avail_out,x.next_out&&(x.avail_out===0||j===d))if(this.options.to==="string"){let D=n.utf8border(x.output,x.next_out),X=x.next_out-D,q=n.buf2string(x.output,D);x.next_out=X,x.avail_out=C-X,X&&x.output.set(x.output.subarray(D,D+X),0),this.onData(q)}else this.onData(x.output.length===x.next_out?x.output:x.output.subarray(0,x.next_out));if(!(j===c&&L===0)){if(j===d)return j=t.inflateEnd(this.strm),this.onEnd(j),this.ended=!0,!0;if(x.avail_in===0)break}}return!0},m.prototype.onData=function(A){this.chunks.push(A)},m.prototype.onEnd=function(A){A===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};function w(A,E){const x=new m(E);if(x.push(A),x.err)throw x.msg||r[x.err];return x.result}function S(A,E){return E=E||{},E.raw=!0,w(A,E)}return Bn.Inflate=m,Bn.inflate=w,Bn.inflateRaw=S,Bn.ungzip=w,Bn.constants=Hn(),Bn}var nl;function mm(){if(nl)return Bt;nl=1;const{Deflate:t,deflate:e,deflateRaw:n,gzip:r}=cm(),{Inflate:s,inflate:i,inflateRaw:o,ungzip:a}=pm(),l=Hn();return Bt.Deflate=t,Bt.deflate=e,Bt.deflateRaw=n,Bt.gzip=r,Bt.Inflate=s,Bt.inflate=i,Bt.inflateRaw=o,Bt.ungzip=a,Bt.constants=l,Bt}var $r={exports:{}},zi={exports:{}},Ms={exports:{}},gm=Ms.exports,rl;function Vc(){return rl||(rl=1,(function(t){(function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,i=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",l=1e14,c=14,d=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,p=1e9;function g(I){var j,T,L,D=G.prototype={constructor:G,toString:null,valueOf:null},X=new G(1),q=20,ee=4,ce=-7,he=21,we=-1e7,ue=1e7,re=!1,me=1,oe=0,Te={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},Oe="0123456789abcdefghijklmnopqrstuvwxyz",ve=!0;function G(v,k){var O,B,$,M,K,z,R,U,F=this;if(!(F instanceof G))return new G(v,k);if(k==null){if(v&&v._isBigNumber===!0){F.s=v.s,!v.c||v.e>ue?F.c=F.e=null:v.e<we?F.c=[F.e=0]:(F.e=v.e,F.c=v.c.slice());return}if((z=typeof v=="number")&&v*0==0){if(F.s=1/v<0?(v=-v,-1):1,v===~~v){for(M=0,K=v;K>=10;K/=10,M++);M>ue?F.c=F.e=null:(F.e=M,F.c=[v]);return}U=String(v)}else{if(!r.test(U=String(v)))return L(F,U,z);F.s=U.charCodeAt(0)==45?(U=U.slice(1),-1):1}(M=U.indexOf("."))>-1&&(U=U.replace(".","")),(K=U.search(/e/i))>0?(M<0&&(M=K),M+=+U.slice(K+1),U=U.substring(0,K)):M<0&&(M=U.length)}else{if(A(k,2,Oe.length,"Base"),k==10&&ve)return F=new G(v),Ue(F,q+F.e+1,ee);if(U=String(v),z=typeof v=="number"){if(v*0!=0)return L(F,U,z,k);if(F.s=1/v<0?(U=U.slice(1),-1):1,G.DEBUG&&U.replace(/^0\.0*|\./,"").length>15)throw Error(a+v)}else F.s=U.charCodeAt(0)===45?(U=U.slice(1),-1):1;for(O=Oe.slice(0,k),M=K=0,R=U.length;K<R;K++)if(O.indexOf(B=U.charAt(K))<0){if(B=="."){if(K>M){M=R;continue}}else if(!$&&(U==U.toUpperCase()&&(U=U.toLowerCase())||U==U.toLowerCase()&&(U=U.toUpperCase()))){$=!0,K=-1,M=0;continue}return L(F,String(v),z,k)}z=!1,U=T(U,k,10,F.s),(M=U.indexOf("."))>-1?U=U.replace(".",""):M=U.length}for(K=0;U.charCodeAt(K)===48;K++);for(R=U.length;U.charCodeAt(--R)===48;);if(U=U.slice(K,++R)){if(R-=K,z&&G.DEBUG&&R>15&&(v>d||v!==i(v)))throw Error(a+F.s*v);if((M=M-K-1)>ue)F.c=F.e=null;else if(M<we)F.c=[F.e=0];else{if(F.e=M,F.c=[],K=(M+1)%c,M<0&&(K+=c),K<R){for(K&&F.c.push(+U.slice(0,K)),R-=c;K<R;)F.c.push(+U.slice(K,K+=c));K=c-(U=U.slice(K)).length}else K-=R;for(;K--;U+="0");F.c.push(+U)}}else F.c=[F.e=0]}G.clone=g,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=G.set=function(v){var k,O;if(v!=null)if(typeof v=="object"){if(v.hasOwnProperty(k="DECIMAL_PLACES")&&(O=v[k],A(O,0,p,k),q=O),v.hasOwnProperty(k="ROUNDING_MODE")&&(O=v[k],A(O,0,8,k),ee=O),v.hasOwnProperty(k="EXPONENTIAL_AT")&&(O=v[k],O&&O.pop?(A(O[0],-p,0,k),A(O[1],0,p,k),ce=O[0],he=O[1]):(A(O,-p,p,k),ce=-(he=O<0?-O:O))),v.hasOwnProperty(k="RANGE"))if(O=v[k],O&&O.pop)A(O[0],-p,-1,k),A(O[1],1,p,k),we=O[0],ue=O[1];else if(A(O,-p,p,k),O)we=-(ue=O<0?-O:O);else throw Error(o+k+" cannot be zero: "+O);if(v.hasOwnProperty(k="CRYPTO"))if(O=v[k],O===!!O)if(O)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))re=O;else throw re=!O,Error(o+"crypto unavailable");else re=O;else throw Error(o+k+" not true or false: "+O);if(v.hasOwnProperty(k="MODULO_MODE")&&(O=v[k],A(O,0,9,k),me=O),v.hasOwnProperty(k="POW_PRECISION")&&(O=v[k],A(O,0,p,k),oe=O),v.hasOwnProperty(k="FORMAT"))if(O=v[k],typeof O=="object")Te=O;else throw Error(o+k+" not an object: "+O);if(v.hasOwnProperty(k="ALPHABET"))if(O=v[k],typeof O=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(O))ve=O.slice(0,10)=="0123456789",Oe=O;else throw Error(o+k+" invalid: "+O)}else throw Error(o+"Object expected: "+v);return{DECIMAL_PLACES:q,ROUNDING_MODE:ee,EXPONENTIAL_AT:[ce,he],RANGE:[we,ue],CRYPTO:re,MODULO_MODE:me,POW_PRECISION:oe,FORMAT:Te,ALPHABET:Oe}},G.isBigNumber=function(v){if(!v||v._isBigNumber!==!0)return!1;if(!G.DEBUG)return!0;var k,O,B=v.c,$=v.e,M=v.s;e:if({}.toString.call(B)=="[object Array]"){if((M===1||M===-1)&&$>=-p&&$<=p&&$===i($)){if(B[0]===0){if($===0&&B.length===1)return!0;break e}if(k=($+1)%c,k<1&&(k+=c),String(B[0]).length==k){for(k=0;k<B.length;k++)if(O=B[k],O<0||O>=l||O!==i(O))break e;if(O!==0)return!0}}}else if(B===null&&$===null&&(M===null||M===1||M===-1))return!0;throw Error(o+"Invalid BigNumber: "+v)},G.maximum=G.max=function(){return Re(arguments,-1)},G.minimum=G.min=function(){return Re(arguments,1)},G.random=(function(){var v=9007199254740992,k=Math.random()*v&2097151?function(){return i(Math.random()*v)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(O){var B,$,M,K,z,R=0,U=[],F=new G(X);if(O==null?O=q:A(O,0,p),K=s(O/c),re)if(crypto.getRandomValues){for(B=crypto.getRandomValues(new Uint32Array(K*=2));R<K;)z=B[R]*131072+(B[R+1]>>>11),z>=9e15?($=crypto.getRandomValues(new Uint32Array(2)),B[R]=$[0],B[R+1]=$[1]):(U.push(z%1e14),R+=2);R=K/2}else if(crypto.randomBytes){for(B=crypto.randomBytes(K*=7);R<K;)z=(B[R]&31)*281474976710656+B[R+1]*1099511627776+B[R+2]*4294967296+B[R+3]*16777216+(B[R+4]<<16)+(B[R+5]<<8)+B[R+6],z>=9e15?crypto.randomBytes(7).copy(B,R):(U.push(z%1e14),R+=7);R=K/7}else throw re=!1,Error(o+"crypto unavailable");if(!re)for(;R<K;)z=k(),z<9e15&&(U[R++]=z%1e14);for(K=U[--R],O%=c,K&&O&&(z=f[c-O],U[R]=i(K/z)*z);U[R]===0;U.pop(),R--);if(R<0)U=[M=0];else{for(M=-1;U[0]===0;U.splice(0,1),M-=c);for(R=1,z=U[0];z>=10;z/=10,R++);R<c&&(M-=c-R)}return F.e=M,F.c=U,F}})(),G.sum=function(){for(var v=1,k=arguments,O=new G(k[0]);v<k.length;)O=O.plus(k[v++]);return O},T=(function(){var v="0123456789";function k(O,B,$,M){for(var K,z=[0],R,U=0,F=O.length;U<F;){for(R=z.length;R--;z[R]*=B);for(z[0]+=M.indexOf(O.charAt(U++)),K=0;K<z.length;K++)z[K]>$-1&&(z[K+1]==null&&(z[K+1]=0),z[K+1]+=z[K]/$|0,z[K]%=$)}return z.reverse()}return function(O,B,$,M,K){var z,R,U,F,te,pe,fe,je,Se=O.indexOf("."),Ke=q,ze=ee;for(Se>=0&&(F=oe,oe=0,O=O.replace(".",""),je=new G(B),pe=je.pow(O.length-Se),oe=F,je.c=k(C(w(pe.c),pe.e,"0"),10,$,v),je.e=je.c.length),fe=k(O,B,$,K?(z=Oe,v):(z=v,Oe)),U=F=fe.length;fe[--F]==0;fe.pop());if(!fe[0])return z.charAt(0);if(Se<0?--U:(pe.c=fe,pe.e=U,pe.s=M,pe=j(pe,je,Ke,ze,$),fe=pe.c,te=pe.r,U=pe.e),R=U+Ke+1,Se=fe[R],F=$/2,te=te||R<0||fe[R+1]!=null,te=ze<4?(Se!=null||te)&&(ze==0||ze==(pe.s<0?3:2)):Se>F||Se==F&&(ze==4||te||ze==6&&fe[R-1]&1||ze==(pe.s<0?8:7)),R<1||!fe[0])O=te?C(z.charAt(1),-Ke,z.charAt(0)):z.charAt(0);else{if(fe.length=R,te)for(--$;++fe[--R]>$;)fe[R]=0,R||(++U,fe=[1].concat(fe));for(F=fe.length;!fe[--F];);for(Se=0,O="";Se<=F;O+=z.charAt(fe[Se++]));O=C(O,U,z.charAt(0))}return O}})(),j=(function(){function v(B,$,M){var K,z,R,U,F=0,te=B.length,pe=$%h,fe=$/h|0;for(B=B.slice();te--;)R=B[te]%h,U=B[te]/h|0,K=fe*R+U*pe,z=pe*R+K%h*h+F,F=(z/M|0)+(K/h|0)+fe*U,B[te]=z%M;return F&&(B=[F].concat(B)),B}function k(B,$,M,K){var z,R;if(M!=K)R=M>K?1:-1;else for(z=R=0;z<M;z++)if(B[z]!=$[z]){R=B[z]>$[z]?1:-1;break}return R}function O(B,$,M,K){for(var z=0;M--;)B[M]-=z,z=B[M]<$[M]?1:0,B[M]=z*K+B[M]-$[M];for(;!B[0]&&B.length>1;B.splice(0,1));}return function(B,$,M,K,z){var R,U,F,te,pe,fe,je,Se,Ke,ze,De,_,se,ie,ge,ke,Ie,P=B.s==$.s?1:-1,W=B.c,b=$.c;if(!W||!W[0]||!b||!b[0])return new G(!B.s||!$.s||(W?b&&W[0]==b[0]:!b)?NaN:W&&W[0]==0||!b?P*0:P/0);for(Se=new G(P),Ke=Se.c=[],U=B.e-$.e,P=M+U+1,z||(z=l,U=m(B.e/c)-m($.e/c),P=P/c|0),F=0;b[F]==(W[F]||0);F++);if(b[F]>(W[F]||0)&&U--,P<0)Ke.push(1),te=!0;else{for(ie=W.length,ke=b.length,F=0,P+=2,pe=i(z/(b[0]+1)),pe>1&&(b=v(b,pe,z),W=v(W,pe,z),ke=b.length,ie=W.length),se=ke,ze=W.slice(0,ke),De=ze.length;De<ke;ze[De++]=0);Ie=b.slice(),Ie=[0].concat(Ie),ge=b[0],b[1]>=z/2&&ge++;do{if(pe=0,R=k(b,ze,ke,De),R<0){if(_=ze[0],ke!=De&&(_=_*z+(ze[1]||0)),pe=i(_/ge),pe>1)for(pe>=z&&(pe=z-1),fe=v(b,pe,z),je=fe.length,De=ze.length;k(fe,ze,je,De)==1;)pe--,O(fe,ke<je?Ie:b,je,z),je=fe.length,R=1;else pe==0&&(R=pe=1),fe=b.slice(),je=fe.length;if(je<De&&(fe=[0].concat(fe)),O(ze,fe,De,z),De=ze.length,R==-1)for(;k(b,ze,ke,De)<1;)pe++,O(ze,ke<De?Ie:b,De,z),De=ze.length}else R===0&&(pe++,ze=[0]);Ke[F++]=pe,ze[0]?ze[De++]=W[se]||0:(ze=[W[se]],De=1)}while((se++<ie||ze[0]!=null)&&P--);te=ze[0]!=null,Ke[0]||Ke.splice(0,1)}if(z==l){for(F=1,P=Ke[0];P>=10;P/=10,F++);Ue(Se,M+(Se.e=F+U*c-1)+1,K,te)}else Se.e=U,Se.r=+te;return Se}})();function Ne(v,k,O,B){var $,M,K,z,R;if(O==null?O=ee:A(O,0,8),!v.c)return v.toString();if($=v.c[0],K=v.e,k==null)R=w(v.c),R=B==1||B==2&&(K<=ce||K>=he)?x(R,K):C(R,K,"0");else if(v=Ue(new G(v),k,O),M=v.e,R=w(v.c),z=R.length,B==1||B==2&&(k<=M||M<=ce)){for(;z<k;R+="0",z++);R=x(R,M)}else if(k-=K+(B===2&&M>K),R=C(R,M,"0"),M+1>z){if(--k>0)for(R+=".";k--;R+="0");}else if(k+=M-z,k>0)for(M+1==z&&(R+=".");k--;R+="0");return v.s<0&&$?"-"+R:R}function Re(v,k){for(var O,B,$=1,M=new G(v[0]);$<v.length;$++)B=new G(v[$]),(!B.s||(O=S(M,B))===k||O===0&&M.s===k)&&(M=B);return M}function Le(v,k,O){for(var B=1,$=k.length;!k[--$];k.pop());for($=k[0];$>=10;$/=10,B++);return(O=B+O*c-1)>ue?v.c=v.e=null:O<we?v.c=[v.e=0]:(v.e=O,v.c=k),v}L=(function(){var v=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,O=/^\.([^.]+)$/,B=/^-?(Infinity|NaN)$/,$=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(M,K,z,R){var U,F=z?K:K.replace($,"");if(B.test(F))M.s=isNaN(F)?null:F<0?-1:1;else{if(!z&&(F=F.replace(v,function(te,pe,fe){return U=(fe=fe.toLowerCase())=="x"?16:fe=="b"?2:8,!R||R==U?pe:te}),R&&(U=R,F=F.replace(k,"$1").replace(O,"0.$1")),K!=F))return new G(F,U);if(G.DEBUG)throw Error(o+"Not a"+(R?" base "+R:"")+" number: "+K);M.s=null}M.c=M.e=null}})();function Ue(v,k,O,B){var $,M,K,z,R,U,F,te=v.c,pe=f;if(te){e:{for($=1,z=te[0];z>=10;z/=10,$++);if(M=k-$,M<0)M+=c,K=k,R=te[U=0],F=i(R/pe[$-K-1]%10);else if(U=s((M+1)/c),U>=te.length)if(B){for(;te.length<=U;te.push(0));R=F=0,$=1,M%=c,K=M-c+1}else break e;else{for(R=z=te[U],$=1;z>=10;z/=10,$++);M%=c,K=M-c+$,F=K<0?0:i(R/pe[$-K-1]%10)}if(B=B||k<0||te[U+1]!=null||(K<0?R:R%pe[$-K-1]),B=O<4?(F||B)&&(O==0||O==(v.s<0?3:2)):F>5||F==5&&(O==4||B||O==6&&(M>0?K>0?R/pe[$-K]:0:te[U-1])%10&1||O==(v.s<0?8:7)),k<1||!te[0])return te.length=0,B?(k-=v.e+1,te[0]=pe[(c-k%c)%c],v.e=-k||0):te[0]=v.e=0,v;if(M==0?(te.length=U,z=1,U--):(te.length=U+1,z=pe[c-M],te[U]=K>0?i(R/pe[$-K]%pe[K])*z:0),B)for(;;)if(U==0){for(M=1,K=te[0];K>=10;K/=10,M++);for(K=te[0]+=z,z=1;K>=10;K/=10,z++);M!=z&&(v.e++,te[0]==l&&(te[0]=1));break}else{if(te[U]+=z,te[U]!=l)break;te[U--]=0,z=1}for(M=te.length;te[--M]===0;te.pop());}v.e>ue?v.c=v.e=null:v.e<we&&(v.c=[v.e=0])}return v}function We(v){var k,O=v.e;return O===null?v.toString():(k=w(v.c),k=O<=ce||O>=he?x(k,O):C(k,O,"0"),v.s<0?"-"+k:k)}return D.absoluteValue=D.abs=function(){var v=new G(this);return v.s<0&&(v.s=1),v},D.comparedTo=function(v,k){return S(this,new G(v,k))},D.decimalPlaces=D.dp=function(v,k){var O,B,$,M=this;if(v!=null)return A(v,0,p),k==null?k=ee:A(k,0,8),Ue(new G(M),v+M.e+1,k);if(!(O=M.c))return null;if(B=(($=O.length-1)-m(this.e/c))*c,$=O[$])for(;$%10==0;$/=10,B--);return B<0&&(B=0),B},D.dividedBy=D.div=function(v,k){return j(this,new G(v,k),q,ee)},D.dividedToIntegerBy=D.idiv=function(v,k){return j(this,new G(v,k),0,1)},D.exponentiatedBy=D.pow=function(v,k){var O,B,$,M,K,z,R,U,F,te=this;if(v=new G(v),v.c&&!v.isInteger())throw Error(o+"Exponent not an integer: "+We(v));if(k!=null&&(k=new G(k)),z=v.e>14,!te.c||!te.c[0]||te.c[0]==1&&!te.e&&te.c.length==1||!v.c||!v.c[0])return F=new G(Math.pow(+We(te),z?v.s*(2-E(v)):+We(v))),k?F.mod(k):F;if(R=v.s<0,k){if(k.c?!k.c[0]:!k.s)return new G(NaN);B=!R&&te.isInteger()&&k.isInteger(),B&&(te=te.mod(k))}else{if(v.e>9&&(te.e>0||te.e<-1||(te.e==0?te.c[0]>1||z&&te.c[1]>=24e7:te.c[0]<8e13||z&&te.c[0]<=9999975e7)))return M=te.s<0&&E(v)?-0:0,te.e>-1&&(M=1/M),new G(R?1/M:M);oe&&(M=s(oe/c+2))}for(z?(O=new G(.5),R&&(v.s=1),U=E(v)):($=Math.abs(+We(v)),U=$%2),F=new G(X);;){if(U){if(F=F.times(te),!F.c)break;M?F.c.length>M&&(F.c.length=M):B&&(F=F.mod(k))}if($){if($=i($/2),$===0)break;U=$%2}else if(v=v.times(O),Ue(v,v.e+1,1),v.e>14)U=E(v);else{if($=+We(v),$===0)break;U=$%2}te=te.times(te),M?te.c&&te.c.length>M&&(te.c.length=M):B&&(te=te.mod(k))}return B?F:(R&&(F=X.div(F)),k?F.mod(k):M?Ue(F,oe,ee,K):F)},D.integerValue=function(v){var k=new G(this);return v==null?v=ee:A(v,0,8),Ue(k,k.e+1,v)},D.isEqualTo=D.eq=function(v,k){return S(this,new G(v,k))===0},D.isFinite=function(){return!!this.c},D.isGreaterThan=D.gt=function(v,k){return S(this,new G(v,k))>0},D.isGreaterThanOrEqualTo=D.gte=function(v,k){return(k=S(this,new G(v,k)))===1||k===0},D.isInteger=function(){return!!this.c&&m(this.e/c)>this.c.length-2},D.isLessThan=D.lt=function(v,k){return S(this,new G(v,k))<0},D.isLessThanOrEqualTo=D.lte=function(v,k){return(k=S(this,new G(v,k)))===-1||k===0},D.isNaN=function(){return!this.s},D.isNegative=function(){return this.s<0},D.isPositive=function(){return this.s>0},D.isZero=function(){return!!this.c&&this.c[0]==0},D.minus=function(v,k){var O,B,$,M,K=this,z=K.s;if(v=new G(v,k),k=v.s,!z||!k)return new G(NaN);if(z!=k)return v.s=-k,K.plus(v);var R=K.e/c,U=v.e/c,F=K.c,te=v.c;if(!R||!U){if(!F||!te)return F?(v.s=-k,v):new G(te?K:NaN);if(!F[0]||!te[0])return te[0]?(v.s=-k,v):new G(F[0]?K:ee==3?-0:0)}if(R=m(R),U=m(U),F=F.slice(),z=R-U){for((M=z<0)?(z=-z,$=F):(U=R,$=te),$.reverse(),k=z;k--;$.push(0));$.reverse()}else for(B=(M=(z=F.length)<(k=te.length))?z:k,z=k=0;k<B;k++)if(F[k]!=te[k]){M=F[k]<te[k];break}if(M&&($=F,F=te,te=$,v.s=-v.s),k=(B=te.length)-(O=F.length),k>0)for(;k--;F[O++]=0);for(k=l-1;B>z;){if(F[--B]<te[B]){for(O=B;O&&!F[--O];F[O]=k);--F[O],F[B]+=l}F[B]-=te[B]}for(;F[0]==0;F.splice(0,1),--U);return F[0]?Le(v,F,U):(v.s=ee==3?-1:1,v.c=[v.e=0],v)},D.modulo=D.mod=function(v,k){var O,B,$=this;return v=new G(v,k),!$.c||!v.s||v.c&&!v.c[0]?new G(NaN):!v.c||$.c&&!$.c[0]?new G($):(me==9?(B=v.s,v.s=1,O=j($,v,0,3),v.s=B,O.s*=B):O=j($,v,0,me),v=$.minus(O.times(v)),!v.c[0]&&me==1&&(v.s=$.s),v)},D.multipliedBy=D.times=function(v,k){var O,B,$,M,K,z,R,U,F,te,pe,fe,je,Se,Ke,ze=this,De=ze.c,_=(v=new G(v,k)).c;if(!De||!_||!De[0]||!_[0])return!ze.s||!v.s||De&&!De[0]&&!_||_&&!_[0]&&!De?v.c=v.e=v.s=null:(v.s*=ze.s,!De||!_?v.c=v.e=null:(v.c=[0],v.e=0)),v;for(B=m(ze.e/c)+m(v.e/c),v.s*=ze.s,R=De.length,te=_.length,R<te&&(je=De,De=_,_=je,$=R,R=te,te=$),$=R+te,je=[];$--;je.push(0));for(Se=l,Ke=h,$=te;--$>=0;){for(O=0,pe=_[$]%Ke,fe=_[$]/Ke|0,K=R,M=$+K;M>$;)U=De[--K]%Ke,F=De[K]/Ke|0,z=fe*U+F*pe,U=pe*U+z%Ke*Ke+je[M]+O,O=(U/Se|0)+(z/Ke|0)+fe*F,je[M--]=U%Se;je[M]=O}return O?++B:je.splice(0,1),Le(v,je,B)},D.negated=function(){var v=new G(this);return v.s=-v.s||null,v},D.plus=function(v,k){var O,B=this,$=B.s;if(v=new G(v,k),k=v.s,!$||!k)return new G(NaN);if($!=k)return v.s=-k,B.minus(v);var M=B.e/c,K=v.e/c,z=B.c,R=v.c;if(!M||!K){if(!z||!R)return new G($/0);if(!z[0]||!R[0])return R[0]?v:new G(z[0]?B:$*0)}if(M=m(M),K=m(K),z=z.slice(),$=M-K){for($>0?(K=M,O=R):($=-$,O=z),O.reverse();$--;O.push(0));O.reverse()}for($=z.length,k=R.length,$-k<0&&(O=R,R=z,z=O,k=$),$=0;k;)$=(z[--k]=z[k]+R[k]+$)/l|0,z[k]=l===z[k]?0:z[k]%l;return $&&(z=[$].concat(z),++K),Le(v,z,K)},D.precision=D.sd=function(v,k){var O,B,$,M=this;if(v!=null&&v!==!!v)return A(v,1,p),k==null?k=ee:A(k,0,8),Ue(new G(M),v,k);if(!(O=M.c))return null;if($=O.length-1,B=$*c+1,$=O[$]){for(;$%10==0;$/=10,B--);for($=O[0];$>=10;$/=10,B++);}return v&&M.e+1>B&&(B=M.e+1),B},D.shiftedBy=function(v){return A(v,-d,d),this.times("1e"+v)},D.squareRoot=D.sqrt=function(){var v,k,O,B,$,M=this,K=M.c,z=M.s,R=M.e,U=q+4,F=new G("0.5");if(z!==1||!K||!K[0])return new G(!z||z<0&&(!K||K[0])?NaN:K?M:1/0);if(z=Math.sqrt(+We(M)),z==0||z==1/0?(k=w(K),(k.length+R)%2==0&&(k+="0"),z=Math.sqrt(+k),R=m((R+1)/2)-(R<0||R%2),z==1/0?k="5e"+R:(k=z.toExponential(),k=k.slice(0,k.indexOf("e")+1)+R),O=new G(k)):O=new G(z+""),O.c[0]){for(R=O.e,z=R+U,z<3&&(z=0);;)if($=O,O=F.times($.plus(j(M,$,U,1))),w($.c).slice(0,z)===(k=w(O.c)).slice(0,z))if(O.e<R&&--z,k=k.slice(z-3,z+1),k=="9999"||!B&&k=="4999"){if(!B&&(Ue($,$.e+q+2,0),$.times($).eq(M))){O=$;break}U+=4,z+=4,B=1}else{(!+k||!+k.slice(1)&&k.charAt(0)=="5")&&(Ue(O,O.e+q+2,1),v=!O.times(O).eq(M));break}}return Ue(O,O.e+q+1,ee,v)},D.toExponential=function(v,k){return v!=null&&(A(v,0,p),v++),Ne(this,v,k,1)},D.toFixed=function(v,k){return v!=null&&(A(v,0,p),v=v+this.e+1),Ne(this,v,k)},D.toFormat=function(v,k,O){var B,$=this;if(O==null)v!=null&&k&&typeof k=="object"?(O=k,k=null):v&&typeof v=="object"?(O=v,v=k=null):O=Te;else if(typeof O!="object")throw Error(o+"Argument not an object: "+O);if(B=$.toFixed(v,k),$.c){var M,K=B.split("."),z=+O.groupSize,R=+O.secondaryGroupSize,U=O.groupSeparator||"",F=K[0],te=K[1],pe=$.s<0,fe=pe?F.slice(1):F,je=fe.length;if(R&&(M=z,z=R,R=M,je-=M),z>0&&je>0){for(M=je%z||z,F=fe.substr(0,M);M<je;M+=z)F+=U+fe.substr(M,z);R>0&&(F+=U+fe.slice(M)),pe&&(F="-"+F)}B=te?F+(O.decimalSeparator||"")+((R=+O.fractionGroupSize)?te.replace(new RegExp("\\d{"+R+"}\\B","g"),"$&"+(O.fractionGroupSeparator||"")):te):F}return(O.prefix||"")+B+(O.suffix||"")},D.toFraction=function(v){var k,O,B,$,M,K,z,R,U,F,te,pe,fe=this,je=fe.c;if(v!=null&&(z=new G(v),!z.isInteger()&&(z.c||z.s!==1)||z.lt(X)))throw Error(o+"Argument "+(z.isInteger()?"out of range: ":"not an integer: ")+We(z));if(!je)return new G(fe);for(k=new G(X),U=O=new G(X),B=R=new G(X),pe=w(je),M=k.e=pe.length-fe.e-1,k.c[0]=f[(K=M%c)<0?c+K:K],v=!v||z.comparedTo(k)>0?M>0?k:U:z,K=ue,ue=1/0,z=new G(pe),R.c[0]=0;F=j(z,k,0,1),$=O.plus(F.times(B)),$.comparedTo(v)!=1;)O=B,B=$,U=R.plus(F.times($=U)),R=$,k=z.minus(F.times($=k)),z=$;return $=j(v.minus(O),B,0,1),R=R.plus($.times(U)),O=O.plus($.times(B)),R.s=U.s=fe.s,M=M*2,te=j(U,B,M,ee).minus(fe).abs().comparedTo(j(R,O,M,ee).minus(fe).abs())<1?[U,B]:[R,O],ue=K,te},D.toNumber=function(){return+We(this)},D.toPrecision=function(v,k){return v!=null&&A(v,1,p),Ne(this,v,k,2)},D.toString=function(v){var k,O=this,B=O.s,$=O.e;return $===null?B?(k="Infinity",B<0&&(k="-"+k)):k="NaN":(v==null?k=$<=ce||$>=he?x(w(O.c),$):C(w(O.c),$,"0"):v===10&&ve?(O=Ue(new G(O),q+$+1,ee),k=C(w(O.c),O.e,"0")):(A(v,2,Oe.length,"Base"),k=T(C(w(O.c),$,"0"),10,v,B,!0)),B<0&&O.c[0]&&(k="-"+k)),k},D.valueOf=D.toJSON=function(){return We(this)},D._isBigNumber=!0,I!=null&&G.set(I),G}function m(I){var j=I|0;return I>0||I===j?j:j-1}function w(I){for(var j,T,L=1,D=I.length,X=I[0]+"";L<D;){for(j=I[L++]+"",T=c-j.length;T--;j="0"+j);X+=j}for(D=X.length;X.charCodeAt(--D)===48;);return X.slice(0,D+1||1)}function S(I,j){var T,L,D=I.c,X=j.c,q=I.s,ee=j.s,ce=I.e,he=j.e;if(!q||!ee)return null;if(T=D&&!D[0],L=X&&!X[0],T||L)return T?L?0:-ee:q;if(q!=ee)return q;if(T=q<0,L=ce==he,!D||!X)return L?0:!D^T?1:-1;if(!L)return ce>he^T?1:-1;for(ee=(ce=D.length)<(he=X.length)?ce:he,q=0;q<ee;q++)if(D[q]!=X[q])return D[q]>X[q]^T?1:-1;return ce==he?0:ce>he^T?1:-1}function A(I,j,T,L){if(I<j||I>T||I!==i(I))throw Error(o+(L||"Argument")+(typeof I=="number"?I<j||I>T?" out of range: ":" not an integer: ":" not a primitive number: ")+String(I))}function E(I){var j=I.c.length-1;return m(I.e/c)==j&&I.c[j]%2!=0}function x(I,j){return(I.length>1?I.charAt(0)+"."+I.slice(1):I)+(j<0?"e":"e+")+j}function C(I,j,T){var L,D;if(j<0){for(D=T+".";++j;D+=T);I=D+I}else if(L=I.length,++j>L){for(D=T,j-=L;--j;D+=T);I+=D}else j<L&&(I=I.slice(0,j)+"."+I.slice(j));return I}n=g(),n.default=n.BigNumber=n,t.exports?t.exports=n:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=n)})(gm)})(Ms)),Ms.exports}var sl;function bm(){return sl||(sl=1,(function(t){var e=Vc(),n=t.exports;(function(){var r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s,i,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a;function l(d){return r.lastIndex=0,r.test(d)?'"'+d.replace(r,function(f){var h=o[f];return typeof h=="string"?h:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+d+'"'}function c(d,f){var h,p,g,m,w=s,S,A=f[d],E=A!=null&&(A instanceof e||e.isBigNumber(A));switch(A&&typeof A=="object"&&typeof A.toJSON=="function"&&(A=A.toJSON(d)),typeof a=="function"&&(A=a.call(f,d,A)),typeof A){case"string":return E?A:l(A);case"number":return isFinite(A)?String(A):"null";case"boolean":case"null":case"bigint":return String(A);case"object":if(!A)return"null";if(s+=i,S=[],Object.prototype.toString.apply(A)==="[object Array]"){for(m=A.length,h=0;h<m;h+=1)S[h]=c(h,A)||"null";return g=S.length===0?"[]":s?`[
`+s+S.join(`,
`+s)+`
`+w+"]":"["+S.join(",")+"]",s=w,g}if(a&&typeof a=="object")for(m=a.length,h=0;h<m;h+=1)typeof a[h]=="string"&&(p=a[h],g=c(p,A),g&&S.push(l(p)+(s?": ":":")+g));else Object.keys(A).forEach(function(x){var C=c(x,A);C&&S.push(l(x)+(s?": ":":")+C)});return g=S.length===0?"{}":s?`{
`+s+S.join(`,
`+s)+`
`+w+"}":"{"+S.join(",")+"}",s=w,g}}typeof n.stringify!="function"&&(n.stringify=function(d,f,h){var p;if(s="",i="",typeof h=="number")for(p=0;p<h;p+=1)i+=" ";else typeof h=="string"&&(i=h);if(a=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return c("",{"":d})})})()})(zi)),zi.exports}var $i,il;function ym(){if(il)return $i;il=1;var t=null;const e=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,n=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var r=function(s){var i={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(s!=null){if(s.strict===!0&&(i.strict=!0),s.storeAsString===!0&&(i.storeAsString=!0),i.alwaysParseAsBig=s.alwaysParseAsBig===!0?s.alwaysParseAsBig:!1,i.useNativeBigInt=s.useNativeBigInt===!0?s.useNativeBigInt:!1,typeof s.constructorAction<"u")if(s.constructorAction==="error"||s.constructorAction==="ignore"||s.constructorAction==="preserve")i.constructorAction=s.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${s.constructorAction}`);if(typeof s.protoAction<"u")if(s.protoAction==="error"||s.protoAction==="ignore"||s.protoAction==="preserve")i.protoAction=s.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${s.protoAction}`)}var o,a,l={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},c,d=function(E){throw{name:"SyntaxError",message:E,at:o,text:c}},f=function(E){return E&&E!==a&&d("Expected '"+E+"' instead of '"+a+"'"),a=c.charAt(o),o+=1,a},h=function(){var E,x="";for(a==="-"&&(x="-",f("-"));a>="0"&&a<="9";)x+=a,f();if(a===".")for(x+=".";f()&&a>="0"&&a<="9";)x+=a;if(a==="e"||a==="E")for(x+=a,f(),(a==="-"||a==="+")&&(x+=a,f());a>="0"&&a<="9";)x+=a,f();if(E=+x,!isFinite(E))d("Bad number");else return t==null&&(t=Vc()),x.length>15?i.storeAsString?x:i.useNativeBigInt?BigInt(x):new t(x):i.alwaysParseAsBig?i.useNativeBigInt?BigInt(E):new t(E):E},p=function(){var E,x,C="",I;if(a==='"')for(var j=o;f();){if(a==='"')return o-1>j&&(C+=c.substring(j,o-1)),f(),C;if(a==="\\"){if(o-1>j&&(C+=c.substring(j,o-1)),f(),a==="u"){for(I=0,x=0;x<4&&(E=parseInt(f(),16),!!isFinite(E));x+=1)I=I*16+E;C+=String.fromCharCode(I)}else if(typeof l[a]=="string")C+=l[a];else break;j=o}}d("Bad string")},g=function(){for(;a&&a<=" ";)f()},m=function(){switch(a){case"t":return f("t"),f("r"),f("u"),f("e"),!0;case"f":return f("f"),f("a"),f("l"),f("s"),f("e"),!1;case"n":return f("n"),f("u"),f("l"),f("l"),null}d("Unexpected '"+a+"'")},w,S=function(){var E=[];if(a==="["){if(f("["),g(),a==="]")return f("]"),E;for(;a;){if(E.push(w()),g(),a==="]")return f("]"),E;f(","),g()}}d("Bad array")},A=function(){var E,x=Object.create(null);if(a==="{"){if(f("{"),g(),a==="}")return f("}"),x;for(;a;){if(E=p(),g(),f(":"),i.strict===!0&&Object.hasOwnProperty.call(x,E)&&d('Duplicate key "'+E+'"'),e.test(E)===!0?i.protoAction==="error"?d("Object contains forbidden prototype property"):i.protoAction==="ignore"?w():x[E]=w():n.test(E)===!0?i.constructorAction==="error"?d("Object contains forbidden constructor property"):i.constructorAction==="ignore"?w():x[E]=w():x[E]=w(),g(),a==="}")return f("}"),x;f(","),g()}}d("Bad object")};return w=function(){switch(g(),a){case"{":return A();case"[":return S();case'"':return p();case"-":return h();default:return a>="0"&&a<="9"?h():m()}},function(E,x){var C;return c=E+"",o=0,a=" ",C=w(),g(),a&&d("Syntax error"),typeof x=="function"?(function I(j,T){var L,D=j[T];return D&&typeof D=="object"&&Object.keys(D).forEach(function(X){L=I(D,X),L!==void 0?D[X]=L:delete D[X]}),x.call(j,T,D)})({"":C},""):C}};return $i=r,$i}var ol;function wm(){if(ol)return $r.exports;ol=1;var t=bm().stringify,e=ym();return $r.exports=function(n){return{parse:e(n),stringify:t}},$r.exports.parse=e(),$r.exports.stringify=t,$r.exports}var al;function _m(){if(al)return cs;al=1,Object.defineProperty(cs,"__esModule",{value:!0});const t=Lc(),e=Et(),n=mm(),r=jo(),s=wm();class i{constructor(a){if(!a.isRoot())throw new e.default("Must be a root tag");this.rootTag=a}static parseJSON(a){return new i(t.Tag.fromJSON({"":a},!0))}static parseSNBT(a){return new i(new t.Tag("",r.default.fromSNBTValue(a),!0))}static parseNBT(a,l,c){if(!c)if(a[0]===31&&a[1]===139)c="gzip";else if(a[0]<=12)c="none";else throw new e.default("Unknown compression type");return c==="gzip"&&(a=(0,n.inflate)(a)),new i(t.Tag.fromUint8Array(a,l,!0))}toJSON(){return this.rootTag.toJSON()}toJSONString(){return s.stringify(this.toJSON())}toSNBT(a){return this.rootTag.toSNBT(a)}toNBT(a="none",l){return a==="gzip"?(0,n.gzip)(this.rootTag.toUint8Array(l)):this.rootTag.toUint8Array(l)}getRootTag(){return this.rootTag}setRootTag(a){if(!a.isRoot())throw new e.default("Must be a root tag");this.rootTag=a}}return cs.default=i,cs}var vm=_m();const xm=pd(vm);function Q(t,e,n){function r(a,l){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(t),e(a,l);for(const d in o.prototype)d in a||Object.defineProperty(a,d,{value:o.prototype[d].bind(a)});a._zod.constr=o,a._zod.def=l}const s=n?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:t});function o(a){var l;const c=n?.Parent?new i:this;r(c,a),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}class dr extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class qc extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Kc={};function Cn(t){return Kc}function km(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function co(t,e){return typeof e=="bigint"?e.toString():e}function zo(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function $o(t){return t==null}function Do(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function Sm(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const l=r.match(/\d?e-(\d?)/);l?.[1]&&(s=Number.parseInt(l[1]))}const i=n>s?n:s,o=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return o%a/10**i}const ll=Symbol("evaluating");function Qe(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==ll)return r===void 0&&(r=ll,r=n()),r},set(s){Object.defineProperty(t,e,{value:s})},configurable:!0})}function Gc(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function ln(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Sr(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function cl(t){return JSON.stringify(t)}const Hc="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Ys(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Am=zo(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function mr(t){if(Ys(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(Ys(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Yc(t){return mr(t)?{...t}:Array.isArray(t)?[...t]:t}const Em=new Set(["string","number","symbol"]);function gr(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Dn(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Ce(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Nm(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const Tm={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Om(t,e){const n=t._zod.def,r=Sr(t._zod.def,{get shape(){const s={};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=n.shape[i])}return ln(this,"shape",s),s},checks:[]});return Dn(t,r)}function Im(t,e){const n=t._zod.def,r=Sr(t._zod.def,{get shape(){const s={...t._zod.def.shape};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return ln(this,"shape",s),s},checks:[]});return Dn(t,r)}function Cm(t,e){if(!mr(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=Sr(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return ln(this,"shape",i),i},checks:[]});return Dn(t,s)}function jm(t,e){if(!mr(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return ln(this,"shape",r),r},checks:t._zod.def.checks};return Dn(t,n)}function Pm(t,e){const n=Sr(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return ln(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Dn(t,n)}function zm(t,e,n){const r=Sr(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=t?new t({type:"optional",innerType:s[o]}):s[o])}else for(const o in s)i[o]=t?new t({type:"optional",innerType:s[o]}):s[o];return ln(this,"shape",i),i},checks:[]});return Dn(e,r)}function $m(t,e,n){const r=Sr(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=new t({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new t({type:"nonoptional",innerType:s[o]});return ln(this,"shape",i),i},checks:[]});return Dn(e,r)}function sr(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function Vn(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function Ss(t){return typeof t=="string"?t:t?.message}function jn(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const s=Ss(t.inst?._zod.def?.error?.(t))??Ss(e?.error?.(t))??Ss(n.customError?.(t))??Ss(n.localeError?.(t))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Ro(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Vr(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const Wc=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,co,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Xc=Q("$ZodError",Wc),Qc=Q("$ZodError",Wc,{Parent:Error});function Dm(t,e=n=>n.message){const n={},r=[];for(const s of t.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}function Rm(t,e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(a=>s({issues:a}));else if(o.code==="invalid_key")s({issues:o.issues});else if(o.code==="invalid_element")s({issues:o.issues});else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(t),r}const Lo=t=>(e,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new dr;if(o.issues.length){const a=new(s?.Err??t)(o.issues.map(l=>jn(l,i,Cn())));throw Hc(a,s?.callee),a}return o.value},Mo=t=>async(e,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new(s?.Err??t)(o.issues.map(l=>jn(l,i,Cn())));throw Hc(a,s?.callee),a}return o.value},si=t=>(e,n,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new dr;return i.issues.length?{success:!1,error:new(t??Xc)(i.issues.map(o=>jn(o,s,Cn())))}:{success:!0,data:i.value}},Lm=si(Qc),ii=t=>async(e,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(o=>jn(o,s,Cn())))}:{success:!0,data:i.value}},Mm=ii(Qc),Bm=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Lo(t)(e,n,s)},Fm=t=>(e,n,r)=>Lo(t)(e,n,r),Um=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Mo(t)(e,n,s)},Zm=t=>async(e,n,r)=>Mo(t)(e,n,r),Vm=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return si(t)(e,n,s)},qm=t=>(e,n,r)=>si(t)(e,n,r),Km=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ii(t)(e,n,s)},Gm=t=>async(e,n,r)=>ii(t)(e,n,r),Hm=/^[cC][^\s-]{8,}$/,Ym=/^[0-9a-z]+$/,Wm=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Xm=/^[0-9a-vA-V]{20}$/,Qm=/^[A-Za-z0-9]{27}$/,Jm=/^[a-zA-Z0-9_-]{21}$/,e0=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,t0=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ul=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,n0=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,r0="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function s0(){return new RegExp(r0,"u")}const i0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,o0=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,a0=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,l0=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,c0=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Jc=/^[A-Za-z0-9_-]*$/,u0=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,f0=/^\+(?:[0-9]){6,14}[0-9]$/,eu="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",d0=new RegExp(`^${eu}$`);function tu(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function h0(t){return new RegExp(`^${tu(t)}$`)}function p0(t){const e=tu({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${eu}T(?:${r})$`)}const m0=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},g0=/^-?\d+$/,b0=/^-?\d+(?:\.\d+)?/,y0=/^(?:true|false)$/i,w0=/^[^A-Z]*$/,_0=/^[^a-z]*$/,Tt=Q("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),nu={number:"number",bigint:"bigint",object:"date"},ru=Q("$ZodCheckLessThan",(t,e)=>{Tt.init(t,e);const n=nu[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),su=Q("$ZodCheckGreaterThan",(t,e)=>{Tt.init(t,e);const n=nu[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),v0=Q("$ZodCheckMultipleOf",(t,e)=>{Tt.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):Sm(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),x0=Q("$ZodCheckNumberFormat",(t,e)=>{Tt.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[s,i]=Tm[e.format];t._zod.onattach.push(o=>{const a=o._zod.bag;a.format=e.format,a.minimum=s,a.maximum=i,n&&(a.pattern=g0)}),t._zod.check=o=>{const a=o.value;if(n){if(!Number.isInteger(a)){o.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?o.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):o.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}a<s&&o.issues.push({origin:"number",input:a,code:"too_small",minimum:s,inclusive:!0,inst:t,continue:!e.abort}),a>i&&o.issues.push({origin:"number",input:a,code:"too_big",maximum:i,inst:t})}}),k0=Q("$ZodCheckMaxLength",(t,e)=>{var n;Tt.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!$o(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const o=Ro(s);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),S0=Q("$ZodCheckMinLength",(t,e)=>{var n;Tt.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!$o(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const o=Ro(s);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),A0=Q("$ZodCheckLengthEquals",(t,e)=>{var n;Tt.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!$o(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),t._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const o=Ro(s),a=i>e.length;r.issues.push({origin:o,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),oi=Q("$ZodCheckStringFormat",(t,e)=>{var n,r;Tt.init(t,e),t._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),E0=Q("$ZodCheckRegex",(t,e)=>{oi.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),N0=Q("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=w0),oi.init(t,e)}),T0=Q("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=_0),oi.init(t,e)}),O0=Q("$ZodCheckIncludes",(t,e)=>{Tt.init(t,e);const n=gr(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:t,continue:!e.abort})}}),I0=Q("$ZodCheckStartsWith",(t,e)=>{Tt.init(t,e);const n=new RegExp(`^${gr(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),C0=Q("$ZodCheckEndsWith",(t,e)=>{Tt.init(t,e);const n=new RegExp(`.*${gr(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),j0=Q("$ZodCheckOverwrite",(t,e)=>{Tt.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class P0{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(o=>o),s=Math.min(...r.map(o=>o.length-o.trimStart().length)),i=r.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const e=Function,n=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...n,s.join(`
`))}}const z0={major:4,minor:1,patch:8},et=Q("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=z0;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const s of r)for(const i of s._zod.onattach)i(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const s=(o,a,l)=>{let c=sr(o),d;for(const f of a){if(f._zod.def.when){if(!f._zod.def.when(o))continue}else if(c)continue;const h=o.issues.length,p=f._zod.check(o);if(p instanceof Promise&&l?.async===!1)throw new dr;if(d||p instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await p,o.issues.length!==h&&(c||(c=sr(o,h)))});else{if(o.issues.length===h)continue;c||(c=sr(o,h))}}return d?d.then(()=>o):o},i=(o,a,l)=>{if(sr(o))return o.aborted=!0,o;const c=s(a,r,l);if(c instanceof Promise){if(l.async===!1)throw new dr;return c.then(d=>t._zod.parse(d,l))}return t._zod.parse(c,l)};t._zod.run=(o,a)=>{if(a.skipChecks)return t._zod.parse(o,a);if(a.direction==="backward"){const c=t._zod.parse({value:o.value,issues:[]},{...a,skipChecks:!0});return c instanceof Promise?c.then(d=>i(d,o,a)):i(c,o,a)}const l=t._zod.parse(o,a);if(l instanceof Promise){if(a.async===!1)throw new dr;return l.then(c=>s(c,r,a))}return s(l,r,a)}}t["~standard"]={validate:s=>{try{const i=Lm(t,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return Mm(t,s).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),Bo=Q("$ZodString",(t,e)=>{et.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??m0(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),ot=Q("$ZodStringFormat",(t,e)=>{oi.init(t,e),Bo.init(t,e)}),$0=Q("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=t0),ot.init(t,e)}),D0=Q("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=ul(r))}else e.pattern??(e.pattern=ul());ot.init(t,e)}),R0=Q("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=n0),ot.init(t,e)}),L0=Q("$ZodURL",(t,e)=>{ot.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:u0.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),M0=Q("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=s0()),ot.init(t,e)}),B0=Q("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Jm),ot.init(t,e)}),F0=Q("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Hm),ot.init(t,e)}),U0=Q("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=Ym),ot.init(t,e)}),Z0=Q("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Wm),ot.init(t,e)}),V0=Q("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Xm),ot.init(t,e)}),q0=Q("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=Qm),ot.init(t,e)}),K0=Q("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=p0(e)),ot.init(t,e)}),G0=Q("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=d0),ot.init(t,e)}),H0=Q("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=h0(e)),ot.init(t,e)}),Y0=Q("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=e0),ot.init(t,e)}),W0=Q("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=i0),ot.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),X0=Q("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=o0),ot.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),Q0=Q("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=a0),ot.init(t,e)}),J0=Q("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=l0),ot.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function iu(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const eg=Q("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=c0),ot.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{iu(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function tg(t){if(!Jc.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return iu(n)}const ng=Q("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Jc),ot.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{tg(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),rg=Q("$ZodE164",(t,e)=>{e.pattern??(e.pattern=f0),ot.init(t,e)});function sg(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const ig=Q("$ZodJWT",(t,e)=>{ot.init(t,e),t._zod.check=n=>{sg(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),ou=Q("$ZodNumber",(t,e)=>{et.init(t,e),t._zod.pattern=t._zod.bag.pattern??b0,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:t,...i?{received:i}:{}}),n}}),og=Q("$ZodNumber",(t,e)=>{x0.init(t,e),ou.init(t,e)}),ag=Q("$ZodBoolean",(t,e)=>{et.init(t,e),t._zod.pattern=y0,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:t}),n}}),lg=Q("$ZodUnknown",(t,e)=>{et.init(t,e),t._zod.parse=n=>n}),cg=Q("$ZodNever",(t,e)=>{et.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),ug=Q("$ZodDate",(t,e)=>{et.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const s=n.value,i=s instanceof Date;return i&&!Number.isNaN(s.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:s,...i?{received:"Invalid Date"}:{},inst:t}),n}});function fl(t,e,n){t.issues.length&&e.issues.push(...Vn(n,t.issues)),e.value[n]=t.value}const fg=Q("$ZodArray",(t,e)=>{et.init(t,e),t._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:t}),n;n.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const a=s[o],l=e.element._zod.run({value:a,issues:[]},r);l instanceof Promise?i.push(l.then(c=>fl(c,n,o))):fl(l,n,o)}return i.length?Promise.all(i).then(()=>n):n}});function Ws(t,e,n,r){t.issues.length&&e.issues.push(...Vn(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function au(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=Nm(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function lu(t,e,n,r,s,i){const o=[],a=s.keySet,l=s.catchall._zod,c=l.def.type;for(const d of Object.keys(e)){if(a.has(d))continue;if(c==="never"){o.push(d);continue}const f=l.run({value:e[d],issues:[]},r);f instanceof Promise?t.push(f.then(h=>Ws(h,n,d,e))):Ws(f,n,d,e)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const dg=Q("$ZodObject",(t,e)=>{et.init(t,e);const n=zo(()=>au(e));Qe(t._zod,"propValues",()=>{const o=e.shape,a={};for(const l in o){const c=o[l]._zod;if(c.values){a[l]??(a[l]=new Set);for(const d of c.values)a[l].add(d)}}return a});const r=Ys,s=e.catchall;let i;t._zod.parse=(o,a)=>{i??(i=n.value);const l=o.value;if(!r(l))return o.issues.push({expected:"object",code:"invalid_type",input:l,inst:t}),o;o.value={};const c=[],d=i.shape;for(const f of i.keys){const p=d[f]._zod.run({value:l[f],issues:[]},a);p instanceof Promise?c.push(p.then(g=>Ws(g,o,f,l))):Ws(p,o,f,l)}return s?lu(c,l,o,a,n.value,t):c.length?Promise.all(c).then(()=>o):o}}),hg=Q("$ZodObjectJIT",(t,e)=>{dg.init(t,e);const n=t._zod.parse,r=zo(()=>au(e)),s=h=>{const p=new P0(["shape","payload","ctx"]),g=r.value,m=E=>{const x=cl(E);return`shape[${x}]._zod.run({ value: input[${x}], issues: [] }, ctx)`};p.write("const input = payload.value;");const w=Object.create(null);let S=0;for(const E of g.keys)w[E]=`key_${S++}`;p.write("const newResult = {};");for(const E of g.keys){const x=w[E],C=cl(E);p.write(`const ${x} = ${m(E)};`),p.write(`
        if (${x}.issues.length) {
          payload.issues = payload.issues.concat(${x}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${C}, ...iss.path] : [${C}]
          })));
        }
        
        
        if (${x}.value === undefined) {
          if (${C} in input) {
            newResult[${C}] = undefined;
          }
        } else {
          newResult[${C}] = ${x}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const A=p.compile();return(E,x)=>A(h,E,x)};let i;const o=Ys,a=!Kc.jitless,c=a&&Am.value,d=e.catchall;let f;t._zod.parse=(h,p)=>{f??(f=r.value);const g=h.value;return o(g)?a&&c&&p?.async===!1&&p.jitless!==!0?(i||(i=s(e.shape)),h=i(h,p),d?lu([],g,h,p,f,t):h):n(h,p):(h.issues.push({expected:"object",code:"invalid_type",input:g,inst:t}),h)}});function dl(t,e,n,r){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const s=t.filter(i=>!sr(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(o=>jn(o,r,Cn())))}),e)}const pg=Q("$ZodUnion",(t,e)=>{et.init(t,e),Qe(t._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Qe(t._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Qe(t._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),Qe(t._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>Do(i.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(s,i)=>{if(n)return r(s,i);let o=!1;const a=[];for(const l of e.options){const c=l._zod.run({value:s.value,issues:[]},i);if(c instanceof Promise)a.push(c),o=!0;else{if(c.issues.length===0)return c;a.push(c)}}return o?Promise.all(a).then(l=>dl(l,s,t,i)):dl(a,s,t,i)}}),mg=Q("$ZodIntersection",(t,e)=>{et.init(t,e),t._zod.parse=(n,r)=>{const s=n.value,i=e.left._zod.run({value:s,issues:[]},r),o=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([l,c])=>hl(n,l,c)):hl(n,i,o)}});function uo(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(mr(t)&&mr(e)){const n=Object.keys(e),r=Object.keys(t).filter(i=>n.indexOf(i)!==-1),s={...t,...e};for(const i of r){const o=uo(t[i],e[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r],o=uo(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function hl(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),sr(t))return t;const r=uo(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const gg=Q("$ZodTuple",(t,e)=>{et.init(t,e);const n=e.items,r=n.length-[...n].reverse().findIndex(s=>s._zod.optin!=="optional");t._zod.parse=(s,i)=>{const o=s.value;if(!Array.isArray(o))return s.issues.push({input:o,inst:t,expected:"tuple",code:"invalid_type"}),s;s.value=[];const a=[];if(!e.rest){const c=o.length>n.length,d=o.length<r-1;if(c||d)return s.issues.push({...c?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},input:o,inst:t,origin:"array"}),s}let l=-1;for(const c of n){if(l++,l>=o.length&&l>=r)continue;const d=c._zod.run({value:o[l],issues:[]},i);d instanceof Promise?a.push(d.then(f=>As(f,s,l))):As(d,s,l)}if(e.rest){const c=o.slice(n.length);for(const d of c){l++;const f=e.rest._zod.run({value:d,issues:[]},i);f instanceof Promise?a.push(f.then(h=>As(h,s,l))):As(f,s,l)}}return a.length?Promise.all(a).then(()=>s):s}});function As(t,e,n){t.issues.length&&e.issues.push(...Vn(n,t.issues)),e.value[n]=t.value}const bg=Q("$ZodRecord",(t,e)=>{et.init(t,e),t._zod.parse=(n,r)=>{const s=n.value;if(!mr(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:t}),n;const i=[];if(e.keyType._zod.values){const o=e.keyType._zod.values;n.value={};for(const l of o)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const c=e.valueType._zod.run({value:s[l],issues:[]},r);c instanceof Promise?i.push(c.then(d=>{d.issues.length&&n.issues.push(...Vn(l,d.issues)),n.value[l]=d.value})):(c.issues.length&&n.issues.push(...Vn(l,c.issues)),n.value[l]=c.value)}let a;for(const l in s)o.has(l)||(a=a??[],a.push(l));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:t,keys:a})}else{n.value={};for(const o of Reflect.ownKeys(s)){if(o==="__proto__")continue;const a=e.keyType._zod.run({value:o,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:a.issues.map(c=>jn(c,r,Cn())),input:o,path:[o],inst:t}),n.value[a.value]=a.value;continue}const l=e.valueType._zod.run({value:s[o],issues:[]},r);l instanceof Promise?i.push(l.then(c=>{c.issues.length&&n.issues.push(...Vn(o,c.issues)),n.value[a.value]=c.value})):(l.issues.length&&n.issues.push(...Vn(o,l.issues)),n.value[a.value]=l.value)}}return i.length?Promise.all(i).then(()=>n):n}}),yg=Q("$ZodEnum",(t,e)=>{et.init(t,e);const n=km(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(s=>Em.has(typeof s)).map(s=>typeof s=="string"?gr(s):s.toString()).join("|")})$`),t._zod.parse=(s,i)=>{const o=s.value;return r.has(o)||s.issues.push({code:"invalid_value",values:n,input:o,inst:t}),s}}),wg=Q("$ZodLiteral",(t,e)=>{if(et.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(n=>typeof n=="string"?gr(n):n?gr(n.toString()):String(n)).join("|")})$`),t._zod.parse=(n,r)=>{const s=n.value;return t._zod.values.has(s)||n.issues.push({code:"invalid_value",values:e.values,input:s,inst:t}),n}}),_g=Q("$ZodTransform",(t,e)=>{et.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new qc(t.constructor.name);const s=e.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(n.value=o,n));if(s instanceof Promise)throw new dr;return n.value=s,n}});function pl(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const vg=Q("$ZodOptional",(t,e)=>{et.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Qe(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Qe(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Do(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>pl(i,n.value)):pl(s,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),xg=Q("$ZodNullable",(t,e)=>{et.init(t,e),Qe(t._zod,"optin",()=>e.innerType._zod.optin),Qe(t._zod,"optout",()=>e.innerType._zod.optout),Qe(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Do(n.source)}|null)$`):void 0}),Qe(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),kg=Q("$ZodDefault",(t,e)=>{et.init(t,e),t._zod.optin="optional",Qe(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>ml(i,e)):ml(s,e)}});function ml(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const Sg=Q("$ZodPrefault",(t,e)=>{et.init(t,e),t._zod.optin="optional",Qe(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),Ag=Q("$ZodNonOptional",(t,e)=>{et.init(t,e),Qe(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>gl(i,t)):gl(s,t)}});function gl(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const Eg=Q("$ZodCatch",(t,e)=>{et.init(t,e),Qe(t._zod,"optin",()=>e.innerType._zod.optin),Qe(t._zod,"optout",()=>e.innerType._zod.optout),Qe(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(o=>jn(o,r,Cn()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(i=>jn(i,r,Cn()))},input:n.value}),n.issues=[]),n)}}),Ng=Q("$ZodPipe",(t,e)=>{et.init(t,e),Qe(t._zod,"values",()=>e.in._zod.values),Qe(t._zod,"optin",()=>e.in._zod.optin),Qe(t._zod,"optout",()=>e.out._zod.optout),Qe(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(n,r);return i instanceof Promise?i.then(o=>Es(o,e.in,r)):Es(i,e.in,r)}const s=e.in._zod.run(n,r);return s instanceof Promise?s.then(i=>Es(i,e.out,r)):Es(s,e.out,r)}});function Es(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const Tg=Q("$ZodReadonly",(t,e)=>{et.init(t,e),Qe(t._zod,"propValues",()=>e.innerType._zod.propValues),Qe(t._zod,"values",()=>e.innerType._zod.values),Qe(t._zod,"optin",()=>e.innerType._zod.optin),Qe(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(bl):bl(s)}});function bl(t){return t.value=Object.freeze(t.value),t}const Og=Q("$ZodLazy",(t,e)=>{et.init(t,e),Qe(t._zod,"innerType",()=>e.getter()),Qe(t._zod,"pattern",()=>t._zod.innerType._zod.pattern),Qe(t._zod,"propValues",()=>t._zod.innerType._zod.propValues),Qe(t._zod,"optin",()=>t._zod.innerType._zod.optin??void 0),Qe(t._zod,"optout",()=>t._zod.innerType._zod.optout??void 0),t._zod.parse=(n,r)=>t._zod.innerType._zod.run(n,r)}),Ig=Q("$ZodCustom",(t,e)=>{Tt.init(t,e),et.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>yl(i,n,r,t));yl(s,n,r,t)}});function yl(t,e,n,r){if(!t){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(Vr(s))}}class Cg{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function jg(){return new Cg}const Ns=jg();function Pg(t,e){return new t({type:"string",...Ce(e)})}function zg(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ce(e)})}function wl(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ce(e)})}function $g(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ce(e)})}function Dg(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ce(e)})}function Rg(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ce(e)})}function Lg(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ce(e)})}function Mg(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ce(e)})}function Bg(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ce(e)})}function Fg(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ce(e)})}function Ug(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ce(e)})}function Zg(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ce(e)})}function Vg(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ce(e)})}function qg(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ce(e)})}function Kg(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ce(e)})}function Gg(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ce(e)})}function Hg(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ce(e)})}function Yg(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ce(e)})}function Wg(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ce(e)})}function Xg(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ce(e)})}function Qg(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ce(e)})}function Jg(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ce(e)})}function e1(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ce(e)})}function t1(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ce(e)})}function n1(t,e){return new t({type:"string",format:"date",check:"string_format",...Ce(e)})}function r1(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ce(e)})}function s1(t,e){return new t({type:"string",format:"duration",check:"string_format",...Ce(e)})}function i1(t,e){return new t({type:"number",checks:[],...Ce(e)})}function o1(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ce(e)})}function a1(t,e){return new t({type:"boolean",...Ce(e)})}function l1(t){return new t({type:"unknown"})}function c1(t,e){return new t({type:"never",...Ce(e)})}function u1(t,e){return new t({type:"date",...Ce(e)})}function _l(t,e){return new ru({check:"less_than",...Ce(e),value:t,inclusive:!1})}function Bs(t,e){return new ru({check:"less_than",...Ce(e),value:t,inclusive:!0})}function vl(t,e){return new su({check:"greater_than",...Ce(e),value:t,inclusive:!1})}function Fs(t,e){return new su({check:"greater_than",...Ce(e),value:t,inclusive:!0})}function xl(t,e){return new v0({check:"multiple_of",...Ce(e),value:t})}function cu(t,e){return new k0({check:"max_length",...Ce(e),maximum:t})}function Xs(t,e){return new S0({check:"min_length",...Ce(e),minimum:t})}function uu(t,e){return new A0({check:"length_equals",...Ce(e),length:t})}function f1(t,e){return new E0({check:"string_format",format:"regex",...Ce(e),pattern:t})}function d1(t){return new N0({check:"string_format",format:"lowercase",...Ce(t)})}function h1(t){return new T0({check:"string_format",format:"uppercase",...Ce(t)})}function p1(t,e){return new O0({check:"string_format",format:"includes",...Ce(e),includes:t})}function m1(t,e){return new I0({check:"string_format",format:"starts_with",...Ce(e),prefix:t})}function g1(t,e){return new C0({check:"string_format",format:"ends_with",...Ce(e),suffix:t})}function Qr(t){return new j0({check:"overwrite",tx:t})}function b1(t){return Qr(e=>e.normalize(t))}function y1(){return Qr(t=>t.trim())}function w1(){return Qr(t=>t.toLowerCase())}function _1(){return Qr(t=>t.toUpperCase())}function v1(t,e,n){return new t({type:"array",element:e,...Ce(n)})}function x1(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Ce(n)})}function k1(t){const e=S1(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Vr(r,n.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),n.issues.push(Vr(s))}},t(n.value,n)));return e}function S1(t,e){const n=new Tt({check:"custom",...Ce(e)});return n._zod.check=t,n}const A1=Q("ZodISODateTime",(t,e)=>{K0.init(t,e),at.init(t,e)});function E1(t){return t1(A1,t)}const N1=Q("ZodISODate",(t,e)=>{G0.init(t,e),at.init(t,e)});function T1(t){return n1(N1,t)}const O1=Q("ZodISOTime",(t,e)=>{H0.init(t,e),at.init(t,e)});function I1(t){return r1(O1,t)}const C1=Q("ZodISODuration",(t,e)=>{Y0.init(t,e),at.init(t,e)});function j1(t){return s1(C1,t)}const P1=(t,e)=>{Xc.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>Rm(t,n)},flatten:{value:n=>Dm(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,co,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,co,2)}},isEmpty:{get(){return t.issues.length===0}}})},Lt=Q("ZodError",P1,{Parent:Error}),z1=Lo(Lt),$1=Mo(Lt),D1=si(Lt),R1=ii(Lt),L1=Bm(Lt),M1=Fm(Lt),B1=Um(Lt),F1=Zm(Lt),U1=Vm(Lt),Z1=qm(Lt),V1=Km(Lt),q1=Gm(Lt),it=Q("ZodType",(t,e)=>(et.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone({...e,checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),t.clone=(n,r)=>Dn(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>z1(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>D1(t,n,r),t.parseAsync=async(n,r)=>$1(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>R1(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>L1(t,n,r),t.decode=(n,r)=>M1(t,n,r),t.encodeAsync=async(n,r)=>B1(t,n,r),t.decodeAsync=async(n,r)=>F1(t,n,r),t.safeEncode=(n,r)=>U1(t,n,r),t.safeDecode=(n,r)=>Z1(t,n,r),t.safeEncodeAsync=async(n,r)=>V1(t,n,r),t.safeDecodeAsync=async(n,r)=>q1(t,n,r),t.refine=(n,r)=>t.check(Bb(n,r)),t.superRefine=n=>t.check(Fb(n)),t.overwrite=n=>t.check(Qr(n)),t.optional=()=>Tl(t),t.nullable=()=>Ol(t),t.nullish=()=>Tl(Ol(t)),t.nonoptional=n=>Cb(t,n),t.array=()=>br(t),t.or=n=>pu([t,n]),t.and=n=>wb(t,n),t.transform=n=>Il(t,Ab(n)),t.default=n=>Tb(t,n),t.prefault=n=>Ib(t,n),t.catch=n=>Pb(t,n),t.pipe=n=>Il(t,n),t.readonly=()=>Db(t),t.describe=n=>{const r=t.clone();return Ns.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return Ns.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Ns.get(t);const r=t.clone();return Ns.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),fu=Q("_ZodString",(t,e)=>{Bo.init(t,e),it.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(f1(...r)),t.includes=(...r)=>t.check(p1(...r)),t.startsWith=(...r)=>t.check(m1(...r)),t.endsWith=(...r)=>t.check(g1(...r)),t.min=(...r)=>t.check(Xs(...r)),t.max=(...r)=>t.check(cu(...r)),t.length=(...r)=>t.check(uu(...r)),t.nonempty=(...r)=>t.check(Xs(1,...r)),t.lowercase=r=>t.check(d1(r)),t.uppercase=r=>t.check(h1(r)),t.trim=()=>t.check(y1()),t.normalize=(...r)=>t.check(b1(...r)),t.toLowerCase=()=>t.check(w1()),t.toUpperCase=()=>t.check(_1())}),K1=Q("ZodString",(t,e)=>{Bo.init(t,e),fu.init(t,e),t.email=n=>t.check(zg(G1,n)),t.url=n=>t.check(Mg(H1,n)),t.jwt=n=>t.check(e1(cb,n)),t.emoji=n=>t.check(Bg(Y1,n)),t.guid=n=>t.check(wl(kl,n)),t.uuid=n=>t.check($g(Ts,n)),t.uuidv4=n=>t.check(Dg(Ts,n)),t.uuidv6=n=>t.check(Rg(Ts,n)),t.uuidv7=n=>t.check(Lg(Ts,n)),t.nanoid=n=>t.check(Fg(W1,n)),t.guid=n=>t.check(wl(kl,n)),t.cuid=n=>t.check(Ug(X1,n)),t.cuid2=n=>t.check(Zg(Q1,n)),t.ulid=n=>t.check(Vg(J1,n)),t.base64=n=>t.check(Xg(ob,n)),t.base64url=n=>t.check(Qg(ab,n)),t.xid=n=>t.check(qg(eb,n)),t.ksuid=n=>t.check(Kg(tb,n)),t.ipv4=n=>t.check(Gg(nb,n)),t.ipv6=n=>t.check(Hg(rb,n)),t.cidrv4=n=>t.check(Yg(sb,n)),t.cidrv6=n=>t.check(Wg(ib,n)),t.e164=n=>t.check(Jg(lb,n)),t.datetime=n=>t.check(E1(n)),t.date=n=>t.check(T1(n)),t.time=n=>t.check(I1(n)),t.duration=n=>t.check(j1(n))});function Ye(t){return Pg(K1,t)}const at=Q("ZodStringFormat",(t,e)=>{ot.init(t,e),fu.init(t,e)}),G1=Q("ZodEmail",(t,e)=>{R0.init(t,e),at.init(t,e)}),kl=Q("ZodGUID",(t,e)=>{$0.init(t,e),at.init(t,e)}),Ts=Q("ZodUUID",(t,e)=>{D0.init(t,e),at.init(t,e)}),H1=Q("ZodURL",(t,e)=>{L0.init(t,e),at.init(t,e)}),Y1=Q("ZodEmoji",(t,e)=>{M0.init(t,e),at.init(t,e)}),W1=Q("ZodNanoID",(t,e)=>{B0.init(t,e),at.init(t,e)}),X1=Q("ZodCUID",(t,e)=>{F0.init(t,e),at.init(t,e)}),Q1=Q("ZodCUID2",(t,e)=>{U0.init(t,e),at.init(t,e)}),J1=Q("ZodULID",(t,e)=>{Z0.init(t,e),at.init(t,e)}),eb=Q("ZodXID",(t,e)=>{V0.init(t,e),at.init(t,e)}),tb=Q("ZodKSUID",(t,e)=>{q0.init(t,e),at.init(t,e)}),nb=Q("ZodIPv4",(t,e)=>{W0.init(t,e),at.init(t,e)}),rb=Q("ZodIPv6",(t,e)=>{X0.init(t,e),at.init(t,e)}),sb=Q("ZodCIDRv4",(t,e)=>{Q0.init(t,e),at.init(t,e)}),ib=Q("ZodCIDRv6",(t,e)=>{J0.init(t,e),at.init(t,e)}),ob=Q("ZodBase64",(t,e)=>{eg.init(t,e),at.init(t,e)}),ab=Q("ZodBase64URL",(t,e)=>{ng.init(t,e),at.init(t,e)}),lb=Q("ZodE164",(t,e)=>{rg.init(t,e),at.init(t,e)}),cb=Q("ZodJWT",(t,e)=>{ig.init(t,e),at.init(t,e)}),du=Q("ZodNumber",(t,e)=>{ou.init(t,e),it.init(t,e),t.gt=(r,s)=>t.check(vl(r,s)),t.gte=(r,s)=>t.check(Fs(r,s)),t.min=(r,s)=>t.check(Fs(r,s)),t.lt=(r,s)=>t.check(_l(r,s)),t.lte=(r,s)=>t.check(Bs(r,s)),t.max=(r,s)=>t.check(Bs(r,s)),t.int=r=>t.check(Sl(r)),t.safe=r=>t.check(Sl(r)),t.positive=r=>t.check(vl(0,r)),t.nonnegative=r=>t.check(Fs(0,r)),t.negative=r=>t.check(_l(0,r)),t.nonpositive=r=>t.check(Bs(0,r)),t.multipleOf=(r,s)=>t.check(xl(r,s)),t.step=(r,s)=>t.check(xl(r,s)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Ge(t){return i1(du,t)}const ub=Q("ZodNumberFormat",(t,e)=>{og.init(t,e),du.init(t,e)});function Sl(t){return o1(ub,t)}const fb=Q("ZodBoolean",(t,e)=>{ag.init(t,e),it.init(t,e)});function Yn(t){return a1(fb,t)}const db=Q("ZodUnknown",(t,e)=>{lg.init(t,e),it.init(t,e)});function Qs(){return l1(db)}const hb=Q("ZodNever",(t,e)=>{cg.init(t,e),it.init(t,e)});function pb(t){return c1(hb,t)}const mb=Q("ZodDate",(t,e)=>{ug.init(t,e),it.init(t,e),t.min=(r,s)=>t.check(Fs(r,s)),t.max=(r,s)=>t.check(Bs(r,s));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function Al(t){return u1(mb,t)}const gb=Q("ZodArray",(t,e)=>{fg.init(t,e),it.init(t,e),t.element=e.element,t.min=(n,r)=>t.check(Xs(n,r)),t.nonempty=n=>t.check(Xs(1,n)),t.max=(n,r)=>t.check(cu(n,r)),t.length=(n,r)=>t.check(uu(n,r)),t.unwrap=()=>t.element});function br(t,e){return v1(gb,t,e)}const hu=Q("ZodObject",(t,e)=>{hg.init(t,e),it.init(t,e),Qe(t,"shape",()=>e.shape),t.keyof=()=>xb(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Qs()}),t.loose=()=>t.clone({...t._zod.def,catchall:Qs()}),t.strict=()=>t.clone({...t._zod.def,catchall:pb()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>Cm(t,n),t.safeExtend=n=>jm(t,n),t.merge=n=>Pm(t,n),t.pick=n=>Om(t,n),t.omit=n=>Im(t,n),t.partial=(...n)=>zm(mu,t,n[0]),t.required=(...n)=>$m(gu,t,n[0])});function Gn(t,e){const n={type:"object",get shape(){return ln(this,"shape",t?Gc(t):{}),this.shape},...Ce(e)};return new hu(n)}function Pn(t,e){return new hu({type:"object",get shape(){return ln(this,"shape",Gc(t)),this.shape},catchall:Qs(),...Ce(e)})}const bb=Q("ZodUnion",(t,e)=>{pg.init(t,e),it.init(t,e),t.options=e.options});function pu(t,e){return new bb({type:"union",options:t,...Ce(e)})}const yb=Q("ZodIntersection",(t,e)=>{mg.init(t,e),it.init(t,e)});function wb(t,e){return new yb({type:"intersection",left:t,right:e})}const _b=Q("ZodTuple",(t,e)=>{gg.init(t,e),it.init(t,e),t.rest=n=>t.clone({...t._zod.def,rest:n})});function El(t,e,n){const r=e instanceof et,s=r?n:e,i=r?e:null;return new _b({type:"tuple",items:t,rest:i,...Ce(s)})}const vb=Q("ZodRecord",(t,e)=>{bg.init(t,e),it.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function zn(t,e,n){return new vb({type:"record",keyType:t,valueType:e,...Ce(n)})}const fo=Q("ZodEnum",(t,e)=>{yg.init(t,e),it.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,s)=>{const i={};for(const o of r)if(n.has(o))i[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new fo({...e,checks:[],...Ce(s),entries:i})},t.exclude=(r,s)=>{const i={...e.entries};for(const o of r)if(n.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new fo({...e,checks:[],...Ce(s),entries:i})}});function xb(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new fo({type:"enum",entries:n,...Ce(e)})}const kb=Q("ZodLiteral",(t,e)=>{wg.init(t,e),it.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Nl(t,e){return new kb({type:"literal",values:Array.isArray(t)?t:[t],...Ce(e)})}const Sb=Q("ZodTransform",(t,e)=>{_g.init(t,e),it.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new qc(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Vr(i,n.value,e));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),n.issues.push(Vr(o))}};const s=e.transform(n.value,n);return s instanceof Promise?s.then(i=>(n.value=i,n)):(n.value=s,n)}});function Ab(t){return new Sb({type:"transform",transform:t})}const mu=Q("ZodOptional",(t,e)=>{vg.init(t,e),it.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Tl(t){return new mu({type:"optional",innerType:t})}const Eb=Q("ZodNullable",(t,e)=>{xg.init(t,e),it.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Ol(t){return new Eb({type:"nullable",innerType:t})}const Nb=Q("ZodDefault",(t,e)=>{kg.init(t,e),it.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Tb(t,e){return new Nb({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Yc(e)}})}const Ob=Q("ZodPrefault",(t,e)=>{Sg.init(t,e),it.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Ib(t,e){return new Ob({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Yc(e)}})}const gu=Q("ZodNonOptional",(t,e)=>{Ag.init(t,e),it.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Cb(t,e){return new gu({type:"nonoptional",innerType:t,...Ce(e)})}const jb=Q("ZodCatch",(t,e)=>{Eg.init(t,e),it.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Pb(t,e){return new jb({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const zb=Q("ZodPipe",(t,e)=>{Ng.init(t,e),it.init(t,e),t.in=e.in,t.out=e.out});function Il(t,e){return new zb({type:"pipe",in:t,out:e})}const $b=Q("ZodReadonly",(t,e)=>{Tg.init(t,e),it.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Db(t){return new $b({type:"readonly",innerType:t})}const Rb=Q("ZodLazy",(t,e)=>{Og.init(t,e),it.init(t,e),t.unwrap=()=>t._zod.def.getter()});function Lb(t){return new Rb({type:"lazy",getter:t})}const Mb=Q("ZodCustom",(t,e)=>{Ig.init(t,e),it.init(t,e)});function Bb(t,e={}){return x1(Mb,t,e)}function Fb(t){return k1(t)}const bu=Pn({transform:Ye().optional(),posX:Ge(),posY:Ge(),posZ:Ge(),rotX:Ge(),rotY:Ge(),rotZ:Ge(),sizeX:Ge().optional(),sizeY:Ge().optional(),sizeZ:Ge().optional(),anchor:Ye().optional()}),Ub=Pn({enabled:Yn()}),yu=pu([Pn({"==":Nl("org.bukkit.inventory.ItemStack"),DataVersion:Ge(),id:Ye(),count:Ge(),components:zn(Ye(),Ye()).transform(t=>{const e={};for(const[n,r]of Object.entries(t))try{e[n]=xm.parseSNBT(r).toJSON()}catch{e[n]=r}return e}).optional(),schema_version:Ge()}),Pn({"==":Nl("org.bukkit.inventory.ItemStack"),DataVersion:Ge(),id:Ye(),count:Ge(),components:zn(Ye(),Qs()).optional(),schema_version:Ge()})]),wu=Lb(()=>Gn({type:Ye(),item:yu.optional(),position:bu,attachments:zn(Ye(),wu).optional(),displayItem:Ub.optional(),shulkerColor:Ye().optional(),schematic:Ye().optional(),displayMode:Ye().optional(),firstPersonViewMode:Ye().optional(),firstPersonViewLockMode:Ye().optional(),lockRotation:Yn().optional(),names:br(Ye()).optional(),text:Ye().optional(),animations:zn(Ye(),Pn({nodes:br(Ye()),looped:Yn().optional(),speed:Ge().optional()})).optional(),brightness:Gn({block:Ge(),sky:Ge()}).optional()})),Zb=Pn({type:Ye(),entityType:Ye(),attachments:zn(Ye(),wu),position:bu.optional(),item:yu.optional(),shulkerColor:Ye().optional(),editor:Gn({selectedIndex:Ge().optional(),animNodeSelectedOption:Ge().optional(),scrollOffset:Ge().optional(),expanded:Yn().optional()}).passthrough().optional(),animations:zn(Ye(),Gn({nodes:br(Ye()),looped:Yn().optional(),speed:Ge().optional()}).passthrough()).optional(),physical:Gn({cartLength:Ge().optional(),wheelCenter:Ge().optional(),wheelDistance:Ge().optional(),cartCouplerLength:Ge().optional()}).passthrough().optional()}),_u=Pn({model:Zb.optional(),entityType:Ye(),flipped:Yn().optional()}),Vb=Pn({savedName:Ye(),name:Ye().optional(),carts:zn(Ye(),_u).optional(),claims:br(Ye()).optional(),spawnPattern:Ye().optional(),flipped:Yn().optional(),spawnLimit:Ge().optional(),usedModels:br(Ye()).optional()}),vu=zn(Ye(),Vb);function qb(t){const e=vu.safeParse(t);return e.success?{valid:!0}:{valid:!1,errors:e.error.issues.map(n=>`${n.path.join(".")}: ${n.message}`)}}const Kb=Gn({schemaVersion:Ge().min(0).default(0),projectName:Ye(),createdAt:Al().optional().nullable(),lastModifiedAt:Al().optional().nullable(),orbitControls:Gn({position:El([Ge(),Ge(),Ge()]),target:El([Ge(),Ge(),Ge()]),zoom:Ge().optional()}).optional()});class Gb{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,n){this.keyToValue.set(e,n),this.valueToKey.set(n,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class xu{constructor(e){this.generateIdentifier=e,this.kv=new Gb}register(e,n){this.kv.getByValue(e)||(n||(n=this.generateIdentifier(e)),this.kv.set(n,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}}class Hb extends xu{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,n){typeof n=="object"?(n.allowProps&&this.classToAllowedProps.set(e,n.allowProps),super.register(e,n.identifier)):super.register(e,n)}getAllowedProps(e){return this.classToAllowedProps.get(e)}}function Yb(t){if("values"in Object)return Object.values(t);const e=[];for(const n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}function Wb(t,e){const n=Yb(t);if("find"in n)return n.find(e);const r=n;for(let s=0;s<r.length;s++){const i=r[s];if(e(i))return i}}function yr(t,e){Object.entries(t).forEach(([n,r])=>e(r,n))}function Us(t,e){return t.indexOf(e)!==-1}function Cl(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(e(r))return r}}class Xb{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return Wb(this.transfomers,n=>n.isApplicable(e))}findByName(e){return this.transfomers[e]}}const Qb=t=>Object.prototype.toString.call(t).slice(8,-1),ku=t=>typeof t>"u",Jb=t=>t===null,qr=t=>typeof t!="object"||t===null||t===Object.prototype?!1:Object.getPrototypeOf(t)===null?!0:Object.getPrototypeOf(t)===Object.prototype,ho=t=>qr(t)&&Object.keys(t).length===0,$n=t=>Array.isArray(t),ey=t=>typeof t=="string",ty=t=>typeof t=="number"&&!isNaN(t),ny=t=>typeof t=="boolean",ry=t=>t instanceof RegExp,Kr=t=>t instanceof Map,Gr=t=>t instanceof Set,Su=t=>Qb(t)==="Symbol",sy=t=>t instanceof Date&&!isNaN(t.valueOf()),iy=t=>t instanceof Error,jl=t=>typeof t=="number"&&isNaN(t),oy=t=>ny(t)||Jb(t)||ku(t)||ty(t)||ey(t)||Su(t),ay=t=>typeof t=="bigint",ly=t=>t===1/0||t===-1/0,cy=t=>ArrayBuffer.isView(t)&&!(t instanceof DataView),uy=t=>t instanceof URL,Au=t=>t.replace(/\./g,"\\."),Di=t=>t.map(String).map(Au).join("."),Mr=t=>{const e=[];let n="";for(let s=0;s<t.length;s++){let i=t.charAt(s);if(i==="\\"&&t.charAt(s+1)==="."){n+=".",s++;continue}if(i==="."){e.push(n),n="";continue}n+=i}const r=n;return e.push(r),e};function Gt(t,e,n,r){return{isApplicable:t,annotation:e,transform:n,untransform:r}}const Eu=[Gt(ku,"undefined",()=>null,()=>{}),Gt(ay,"bigint",t=>t.toString(),t=>typeof BigInt<"u"?BigInt(t):(console.error("Please add a BigInt polyfill."),t)),Gt(sy,"Date",t=>t.toISOString(),t=>new Date(t)),Gt(iy,"Error",(t,e)=>{const n={name:t.name,message:t.message};return e.allowedErrorProps.forEach(r=>{n[r]=t[r]}),n},(t,e)=>{const n=new Error(t.message);return n.name=t.name,n.stack=t.stack,e.allowedErrorProps.forEach(r=>{n[r]=t[r]}),n}),Gt(ry,"regexp",t=>""+t,t=>{const e=t.slice(1,t.lastIndexOf("/")),n=t.slice(t.lastIndexOf("/")+1);return new RegExp(e,n)}),Gt(Gr,"set",t=>[...t.values()],t=>new Set(t)),Gt(Kr,"map",t=>[...t.entries()],t=>new Map(t)),Gt(t=>jl(t)||ly(t),"number",t=>jl(t)?"NaN":t>0?"Infinity":"-Infinity",Number),Gt(t=>t===0&&1/t===-1/0,"number",()=>"-0",Number),Gt(uy,"URL",t=>t.toString(),t=>new URL(t))];function ai(t,e,n,r){return{isApplicable:t,annotation:e,transform:n,untransform:r}}const Nu=ai((t,e)=>Su(t)?!!e.symbolRegistry.getIdentifier(t):!1,(t,e)=>["symbol",e.symbolRegistry.getIdentifier(t)],t=>t.description,(t,e,n)=>{const r=n.symbolRegistry.getValue(e[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r}),fy=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((t,e)=>(t[e.name]=e,t),{}),Tu=ai(cy,t=>["typed-array",t.constructor.name],t=>[...t],(t,e)=>{const n=fy[e[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(t)});function Ou(t,e){return t?.constructor?!!e.classRegistry.getIdentifier(t.constructor):!1}const Iu=ai(Ou,(t,e)=>["class",e.classRegistry.getIdentifier(t.constructor)],(t,e)=>{const n=e.classRegistry.getAllowedProps(t.constructor);if(!n)return{...t};const r={};return n.forEach(s=>{r[s]=t[s]}),r},(t,e,n)=>{const r=n.classRegistry.getValue(e[1]);if(!r)throw new Error(`Trying to deserialize unknown class '${e[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(r.prototype),t)}),Cu=ai((t,e)=>!!e.customTransformerRegistry.findApplicable(t),(t,e)=>["custom",e.customTransformerRegistry.findApplicable(t).name],(t,e)=>e.customTransformerRegistry.findApplicable(t).serialize(t),(t,e,n)=>{const r=n.customTransformerRegistry.findByName(e[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(t)}),dy=[Iu,Nu,Cu,Tu],Pl=(t,e)=>{const n=Cl(dy,s=>s.isApplicable(t,e));if(n)return{value:n.transform(t,e),type:n.annotation(t,e)};const r=Cl(Eu,s=>s.isApplicable(t,e));if(r)return{value:r.transform(t,e),type:r.annotation}},ju={};Eu.forEach(t=>{ju[t.annotation]=t});const hy=(t,e,n)=>{if($n(e))switch(e[0]){case"symbol":return Nu.untransform(t,e,n);case"class":return Iu.untransform(t,e,n);case"custom":return Cu.untransform(t,e,n);case"typed-array":return Tu.untransform(t,e,n);default:throw new Error("Unknown transformation: "+e)}else{const r=ju[e];if(!r)throw new Error("Unknown transformation: "+e);return r.untransform(t,n)}},ir=(t,e)=>{if(e>t.size)throw new Error("index out of bounds");const n=t.keys();for(;e>0;)n.next(),e--;return n.next().value};function Pu(t){if(Us(t,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(Us(t,"prototype"))throw new Error("prototype is not allowed as a property");if(Us(t,"constructor"))throw new Error("constructor is not allowed as a property")}const py=(t,e)=>{Pu(e);for(let n=0;n<e.length;n++){const r=e[n];if(Gr(t))t=ir(t,+r);else if(Kr(t)){const s=+r,i=+e[++n]==0?"key":"value",o=ir(t,s);switch(i){case"key":t=o;break;case"value":t=t.get(o);break}}else t=t[r]}return t},po=(t,e,n)=>{if(Pu(e),e.length===0)return n(t);let r=t;for(let i=0;i<e.length-1;i++){const o=e[i];if($n(r)){const a=+o;r=r[a]}else if(qr(r))r=r[o];else if(Gr(r)){const a=+o;r=ir(r,a)}else if(Kr(r)){if(i===e.length-2)break;const l=+o,c=+e[++i]==0?"key":"value",d=ir(r,l);switch(c){case"key":r=d;break;case"value":r=r.get(d);break}}}const s=e[e.length-1];if($n(r)?r[+s]=n(r[+s]):qr(r)&&(r[s]=n(r[s])),Gr(r)){const i=ir(r,+s),o=n(i);i!==o&&(r.delete(i),r.add(o))}if(Kr(r)){const i=+e[e.length-2],o=ir(r,i);switch(+s==0?"key":"value"){case"key":{const l=n(o);r.set(l,r.get(o)),l!==o&&r.delete(o);break}case"value":{r.set(o,n(r.get(o)));break}}}return t};function mo(t,e,n=[]){if(!t)return;if(!$n(t)){yr(t,(i,o)=>mo(i,e,[...n,...Mr(o)]));return}const[r,s]=t;s&&yr(s,(i,o)=>{mo(i,e,[...n,...Mr(o)])}),e(r,n)}function my(t,e,n){return mo(e,(r,s)=>{t=po(t,s,i=>hy(i,r,n))}),t}function gy(t,e){function n(r,s){const i=py(t,Mr(s));r.map(Mr).forEach(o=>{t=po(t,o,()=>i)})}if($n(e)){const[r,s]=e;r.forEach(i=>{t=po(t,Mr(i),()=>t)}),s&&yr(s,n)}else yr(e,n);return t}const by=(t,e)=>qr(t)||$n(t)||Kr(t)||Gr(t)||Ou(t,e);function yy(t,e,n){const r=n.get(t);r?r.push(e):n.set(t,[e])}function wy(t,e){const n={};let r;return t.forEach(s=>{if(s.length<=1)return;e||(s=s.map(a=>a.map(String)).sort((a,l)=>a.length-l.length));const[i,...o]=s;i.length===0?r=o.map(Di):n[Di(i)]=o.map(Di)}),r?ho(n)?[r]:[r,n]:ho(n)?void 0:n}const zu=(t,e,n,r,s=[],i=[],o=new Map)=>{const a=oy(t);if(!a){yy(t,s,e);const p=o.get(t);if(p)return r?{transformedValue:null}:p}if(!by(t,n)){const p=Pl(t,n),g=p?{transformedValue:p.value,annotations:[p.type]}:{transformedValue:t};return a||o.set(t,g),g}if(Us(i,t))return{transformedValue:null};const l=Pl(t,n),c=l?.value??t,d=$n(c)?[]:{},f={};yr(c,(p,g)=>{if(g==="__proto__"||g==="constructor"||g==="prototype")throw new Error(`Detected property ${g}. This is a prototype pollution risk, please remove it from your object.`);const m=zu(p,e,n,r,[...s,g],[...i,t],o);d[g]=m.transformedValue,$n(m.annotations)?f[g]=m.annotations:qr(m.annotations)&&yr(m.annotations,(w,S)=>{f[Au(g)+"."+S]=w})});const h=ho(f)?{transformedValue:d,annotations:l?[l.type]:void 0}:{transformedValue:d,annotations:l?[l.type,f]:f};return a||o.set(t,h),h};function $u(t){return Object.prototype.toString.call(t).slice(8,-1)}function zl(t){return $u(t)==="Array"}function _y(t){if($u(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return!!e&&e.constructor===Object&&e===Object.prototype}function vy(t,e,n,r,s){const i={}.propertyIsEnumerable.call(r,e)?"enumerable":"nonenumerable";i==="enumerable"&&(t[e]=n),s&&i==="nonenumerable"&&Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!0,configurable:!0})}function go(t,e={}){if(zl(t))return t.map(s=>go(s,e));if(!_y(t))return t;const n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertySymbols(t);return[...n,...r].reduce((s,i)=>{if(zl(e.props)&&!e.props.includes(i))return s;const o=t[i],a=go(o,e);return vy(s,i,a,t,e.nonenumerable),s},{})}class qe{constructor({dedupe:e=!1}={}){this.classRegistry=new Hb,this.symbolRegistry=new xu(n=>n.description??""),this.customTransformerRegistry=new Xb,this.allowedErrorProps=[],this.dedupe=e}serialize(e){const n=new Map,r=zu(e,n,this,this.dedupe),s={json:r.transformedValue};r.annotations&&(s.meta={...s.meta,values:r.annotations});const i=wy(n,this.dedupe);return i&&(s.meta={...s.meta,referentialEqualities:i}),s}deserialize(e){const{json:n,meta:r}=e;let s=go(n);return r?.values&&(s=my(s,r.values,this)),r?.referentialEqualities&&(s=gy(s,r.referentialEqualities)),s}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,n){this.classRegistry.register(e,n)}registerSymbol(e,n){this.symbolRegistry.register(e,n)}registerCustom(e,n){this.customTransformerRegistry.register({name:n,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}}qe.defaultInstance=new qe;qe.serialize=qe.defaultInstance.serialize.bind(qe.defaultInstance);qe.deserialize=qe.defaultInstance.deserialize.bind(qe.defaultInstance);qe.stringify=qe.defaultInstance.stringify.bind(qe.defaultInstance);qe.parse=qe.defaultInstance.parse.bind(qe.defaultInstance);qe.registerClass=qe.defaultInstance.registerClass.bind(qe.defaultInstance);qe.registerSymbol=qe.defaultInstance.registerSymbol.bind(qe.defaultInstance);qe.registerCustom=qe.defaultInstance.registerCustom.bind(qe.defaultInstance);qe.allowErrorProps=qe.defaultInstance.allowErrorProps.bind(qe.defaultInstance);qe.serialize;qe.deserialize;qe.stringify;qe.parse;qe.registerClass;qe.registerCustom;qe.registerSymbol;qe.allowErrorProps;const Fn=Zr("🦊🚂🎬"),Os=0;function $l(t){if(!t)return[];const e=new Set;function n(s){if(s&&typeof s=="object"&&"minecraft:custom_model_data"in s){const i=s["minecraft:custom_model_data"];if(i?.floats)for(const o of i.floats)e.add(o)}}function r(s){for(const i of Object.keys(s)){const o=s[i];n(o.item?.components),o.attachments&&r(o.attachments)}}return t.model&&(n(t.model.item?.components),t.model.attachments&&r(t.model.attachments)),Array.from(e).sort((s,i)=>s-i)}const qt=So((t,e)=>{const n=r=>{const i={...typeof r=="function"?r(e()):r};return"saved"in i&&i.saved===!0?i.saved=!0:(i.metadata?.orbitControls||(i.saved=!1),i.selectedObjectPath&&(i.saved=e().saved)),t(i)};return{saved:!1,metadata:{schemaVersion:Os,projectName:"",createdAt:null,lastModifiedAt:null,orbitControls:void 0},cart:null,modelIds:[],selectedObjectPath:void 0,setSelectedObjectPath:r=>n({selectedObjectPath:r}),setMetadata:r=>n({metadata:r}),setProjectName:r=>n(s=>({metadata:{...s.metadata,projectName:r}})),setCart:r=>n({cart:r,modelIds:$l(r)}),clearCart:()=>n({cart:null}),saveProject:async r=>{const s=qt.getState();if(!s.cart)throw new Error("No cart data to save.");const i=`${s.metadata.projectName||"TCA-Project"}.tcaproj`,o={...s.metadata,createdAt:s.metadata.createdAt||new Date},a=nm({"metadata.json":Zr(qe.stringify(o)),"cart.json":Zr(qe.stringify(s.cart))},{level:9}),l=new Uint8Array(Fn.length+a.length);l.set(Fn),l.set(a,Fn.length);const c=new Uint8Array(l.length);c.set(l);const d=new Blob([c],{type:"application/binary"}),f=s.fileHandle;if(!f||r){const h=await Zn.promise(xp(d,{fileName:i,extensions:[".tcaproj"],mimeTypes:["application/binary"],id:"tca-project"}),{loading:"Saving project...",success:"Project saved successfully!",error:"Failed to save the project."}).unwrap();h&&(n({saved:!0,fileHandle:h,metadata:{...o}}),h.name!==i&&n({metadata:{...o,lastModifiedAt:new Date,projectName:h.name.replace(/\.tcaproj$/,"")}}))}else await Zn.promise(f.createWritable().then(async p=>(await p.write(c),await p.close(),!0)).catch(()=>!1),{loading:"Saving project...",success:"Project saved successfully!",error:"Failed to save the project."}).unwrap()&&n({saved:!0,fileHandle:f,metadata:{...o,lastModifiedAt:new Date}})},loadProjectFromFile:async()=>{const r=await kc({description:"Select a TCA-Project file",extensions:[".tcaproj"],mimeTypes:["application/binary"],id:"tca-project",startIn:"documents"}).catch(()=>null);if(!r)throw new Error("No file selected.");const s=await r.arrayBuffer(),i=new Uint8Array(Fn.length);if(i.set(Fn),!new Uint8Array(s.slice(0,Fn.length)).every((c,d)=>c===i[d]))throw new Error("Invalid TCA-Project file format.");const a=new Uint8Array(s.slice(Fn.length)),l=await rm(a);for(const[c,d]of Object.entries(l))switch(c){case"metadata.json":{const f=qe.parse(ao(d)),h=Kb.safeParse(f);if(!h.success){console.error("Invalid metadata in project:",h.error),Zn.error("We couldn't load your project. The metadata is invalid. See the browser console for more details.",{duration:1e4}),n({metadata:{schemaVersion:Os,projectName:"",createdAt:null,lastModifiedAt:null},cart:null,fileHandle:void 0});continue}n({metadata:h.data});break}case"cart.json":{const f=qe.parse(ao(d)),h=_u.safeParse(f);if(!h.success){console.error("Invalid cart data in project:",h.error),Zn.error("We couldn't load your project. The cart data is invalid. See the browser console for more details.",{duration:1e4}),n({metadata:{schemaVersion:Os,projectName:"",createdAt:null,lastModifiedAt:null},cart:null,fileHandle:void 0});continue}n({cart:h.data,modelIds:$l(h.data)});break}default:console.warn(`Unknown file in TCA-Project: ${c}`);break}n({saved:!0,fileHandle:r.handle})},reset:()=>n({metadata:{schemaVersion:Os,projectName:"",createdAt:null,lastModifiedAt:null},cart:null,fileHandle:void 0})}});function xy(){const t=ye.c(56),e=qt(),[n,r]=Me.useState(document.fullscreenElement),[s,i]=Me.useState(!1),[o,a]=Me.useState(!1),l=Sy;let c,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{const Oe=()=>{r(document.fullscreenElement)};return document.addEventListener("fullscreenchange",Oe),()=>{document.removeEventListener("fullscreenchange",Oe)}},d=[],t[0]=c,t[1]=d):(c=t[0],d=t[1]),Me.useEffect(c,d);let f;t[2]!==e?(f=async()=>{i(!0),await e.saveProject(),e.reset(),i(!1)},t[2]=e,t[3]=f):f=t[3];const h=f;let p,g;t[4]!==e?(p=()=>{const Oe=ve=>{ve.key==="s"&&(ve.ctrlKey||ve.metaKey)&&e.cart?(ve.preventDefault(),e.saveProject().catch(ky)):ve.key===","&&(ve.ctrlKey||ve.metaKey)&&(ve.preventDefault(),a(!0))};return window.addEventListener("keydown",Oe),()=>{window.removeEventListener("keydown",Oe)}},g=[e],t[4]=e,t[5]=p,t[6]=g):(p=t[5],g=t[6]),Me.useEffect(p,g);const m=e.metadata.projectName||"Untitled Project";let w;t[7]!==e.saved?(w=e.saved?y.jsx(tc,{}):y.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:"currentColor",marginRight:4,aspectRatio:"1 / 1"}}),t[7]=e.saved,t[8]=w):w=t[8];let S;t[9]!==h||t[10]!==s||t[11]!==w?(S=y.jsx(On,{className:"h-4 w-4",variant:"ghost",size:"icon",disabled:s,onClick:h,children:w}),t[9]=h,t[10]=s,t[11]=w,t[12]=S):S=t[12];let A;t[13]!==m||t[14]!==S?(A=y.jsxs("div",{className:"bg-card flex items-center gap-2 px-2",children:[m,S]}),t[13]=m,t[14]=S,t[15]=A):A=t[15];let E;t[16]===Symbol.for("react.memo_cache_sentinel")?(E=y.jsx(ep,{children:"File"}),t[16]=E):E=t[16];let x;t[17]!==e?(x=async()=>e.saveProject(),t[17]=e,t[18]=x):x=t[18];let C;t[19]===Symbol.for("react.memo_cache_sentinel")?(C=y.jsx(ba,{children:"CTRL + S"}),t[19]=C):C=t[19];let I;t[20]!==s||t[21]!==x?(I=y.jsxs(er,{disabled:s,onClick:x,children:["Save Project ",C]}),t[20]=s,t[21]=x,t[22]=I):I=t[22];let j;t[23]!==e?(j=async()=>e.saveProject(!0),t[23]=e,t[24]=j):j=t[24];let T;t[25]!==s||t[26]!==j?(T=y.jsx(er,{disabled:s,onClick:j,children:"Save Project As"}),t[25]=s,t[26]=j,t[27]=T):T=t[27];let L;t[28]===Symbol.for("react.memo_cache_sentinel")?(L=y.jsx(_i,{}),t[28]=L):L=t[28];let D;t[29]!==e?(D=async()=>e.loadProjectFromFile(),t[29]=e,t[30]=D):D=t[30];let X;t[31]!==s||t[32]!==D?(X=y.jsx(er,{disabled:s,onClick:D,children:"Load Project"}),t[31]=s,t[32]=D,t[33]=X):X=t[33];let q;t[34]!==h||t[35]!==s?(q=y.jsx(er,{disabled:s,onClick:h,children:"New Project"}),t[34]=h,t[35]=s,t[36]=q):q=t[36];let ee;t[37]===Symbol.for("react.memo_cache_sentinel")?(ee=y.jsx(_i,{}),t[37]=ee):ee=t[37];let ce;t[38]===Symbol.for("react.memo_cache_sentinel")?(ce=()=>a(!0),t[38]=ce):ce=t[38];let he,we,ue;t[39]===Symbol.for("react.memo_cache_sentinel")?(he=y.jsxs(er,{onClick:ce,children:["Preferences",y.jsx(ba,{children:"CTRL + ,"})]}),we=y.jsx(_i,{}),ue=y.jsx(er,{children:"Print"}),t[39]=he,t[40]=we,t[41]=ue):(he=t[39],we=t[40],ue=t[41]);let re;t[42]!==I||t[43]!==T||t[44]!==X||t[45]!==q?(re=y.jsxs(ga,{children:[E,y.jsxs(tp,{children:[I,T,L,X,q,ee,he,we,ue]})]}),t[42]=I,t[43]=T,t[44]=X,t[45]=q,t[46]=re):re=t[46];let me;t[47]!==n?(me=y.jsx(ga,{children:y.jsx(On,{className:"ml-auto",variant:"ghost",size:"icon",onClick:l,children:n?y.jsx(Ld,{}):y.jsx(Rd,{})})}),t[47]=n,t[48]=me):me=t[48];let oe;t[49]!==o?(oe=y.jsx(Ny,{open:o,setOpen:a}),t[49]=o,t[50]=oe):oe=t[50];let Te;return t[51]!==re||t[52]!==me||t[53]!==oe||t[54]!==A?(Te=y.jsxs(Qh,{className:"rounded-none",children:[A,re,me,oe]}),t[51]=re,t[52]=me,t[53]=oe,t[54]=A,t[55]=Te):Te=t[55],Te}function ky(t){console.error("Save failed:",t)}function Sy(){document.fullscreenElement?document.exitFullscreen().catch(Ay):document.documentElement.requestFullscreen().catch(Ey)}function Ay(t){console.error("Error exiting fullscreen mode:",t)}function Ey(t){console.error("Error entering fullscreen mode:",t)}function Ny(t){const e=ye.c(61),{open:n,setOpen:r}=t,s=Wr();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=y.jsx(Wh,{children:"Preferences"}),e[0]=i):i=e[0];let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=y.jsx(Zt,{htmlFor:"theme-select",children:"Theme:"}),e[1]=o):o=e[1];let a;e[2]!==s?(a=me=>{if(me!=="light"&&me!=="dark"){console.warn("Invalid theme selected:",me);return}s.setTheme(me)},e[2]=s,e[3]=a):a=e[3];let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=y.jsx(Wi,{className:"h-10 w-full",id:"theme-select",children:y.jsx(Yi,{placeholder:"Select theme"})}),e[4]=l):l=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=y.jsx(Xi,{children:y.jsxs(Hi,{children:[y.jsx(Qi,{children:"Available Themes"}),y.jsx(Hs,{value:"light",children:"Light"}),y.jsx(Hs,{value:"dark",children:"Dark"})]})}),e[5]=c):c=e[5];let d;e[6]!==s.theme||e[7]!==a?(d=y.jsxs("div",{className:"flex flex-col",children:[o,y.jsxs(Gi,{value:s.theme,onValueChange:a,children:[l,c]})]}),e[6]=s.theme,e[7]=a,e[8]=d):d=e[8];let f;e[9]===Symbol.for("react.memo_cache_sentinel")?(f=y.jsx(Zt,{htmlFor:"save-interval",children:"Auto-save Interval (seconds):"}),e[9]=f):f=e[9];let h;e[10]!==s?(h=me=>{const oe=parseInt(me.target.value,10);if(isNaN(oe)||oe<1){console.warn("Invalid save interval:",me.target.value);return}s.setSaveInterval(oe)},e[10]=s,e[11]=h):h=e[11];let p;e[12]!==s.saveInterval||e[13]!==h?(p=y.jsxs("div",{className:"flex flex-col",children:[f,y.jsx(ti,{id:"save-interval",type:"number",min:1,value:s.saveInterval,onChange:h,className:"h-10 w-full"})]}),e[12]=s.saveInterval,e[13]=h,e[14]=p):p=e[14];let g;e[15]===Symbol.for("react.memo_cache_sentinel")?(g=y.jsx(Zt,{htmlFor:"grid-color",className:"mb-2 block",children:"Grid Color:"}),e[15]=g):g=e[15];let m;e[16]!==s?(m=me=>{s.setGridColor(me.hex)},e[16]=s,e[17]=m):m=e[17];let w;e[18]!==s.gridColor||e[19]!==m?(w=y.jsxs("div",{className:"flex flex-col",children:[g,y.jsx(op,{defaultColor:s.gridColor,onChangeComplete:m})]}),e[18]=s.gridColor,e[19]=m,e[20]=w):w=e[20];let S;e[21]===Symbol.for("react.memo_cache_sentinel")?(S=y.jsx(Sn,{asChild:!0,children:y.jsx(rs,{className:"mr-[0.5] inline h-3"})}),e[21]=S):S=e[21];let A;e[22]===Symbol.for("react.memo_cache_sentinel")?(A=y.jsxs(Zt,{htmlFor:"debug-text",className:"mb-2 block",children:[y.jsxs(kn,{children:[S,y.jsx(An,{children:y.jsx("p",{children:"Debug text displays additional information about the 3D scene, such as object coordinates and rendering details. It can be useful for troubleshooting but may clutter the view."})})]}),"Debug Text:"]}),e[22]=A):A=e[22];let E;e[23]!==s?(E=me=>s.setDebugText(me),e[23]=s,e[24]=E):E=e[24];let x;e[25]!==s.debugText||e[26]!==E?(x=y.jsxs("div",{className:"flex flex-row gap-2",children:[A,y.jsx(as,{id:"debug-text",checked:s.debugText,onCheckedChange:E})]}),e[25]=s.debugText,e[26]=E,e[27]=x):x=e[27];let C;e[28]===Symbol.for("react.memo_cache_sentinel")?(C=y.jsx(Sn,{asChild:!0,children:y.jsx(rs,{className:"mr-[0.5] inline h-3"})}),e[28]=C):C=e[28];let I;e[29]===Symbol.for("react.memo_cache_sentinel")?(I=y.jsxs(Zt,{htmlFor:"ssao-enabled",className:"mb-2 block",children:[y.jsxs(kn,{children:[C,y.jsx(An,{children:y.jsx("p",{children:"Screen Space Ambient Occlusion (SSAO) is a shading method that adds soft shadows to enhance depth perception in 3D scenes. It can improve visual realism but may impact performance."})})]}),"SSAO Enabled:"]}),e[29]=I):I=e[29];let j;e[30]!==s?(j=me=>s.setSSAOEnabled(me),e[30]=s,e[31]=j):j=e[31];let T;e[32]!==s.SSAOEnabled||e[33]!==j?(T=y.jsxs("div",{className:"flex flex-row gap-2",children:[I,y.jsx(as,{id:"ssao-enabled",checked:s.SSAOEnabled,onCheckedChange:j})]}),e[32]=s.SSAOEnabled,e[33]=j,e[34]=T):T=e[34];let L;e[35]===Symbol.for("react.memo_cache_sentinel")?(L=y.jsx(Sn,{asChild:!0,children:y.jsx(rs,{className:"mr-[0.5] inline h-3"})}),e[35]=L):L=e[35];let D;e[36]===Symbol.for("react.memo_cache_sentinel")?(D=y.jsxs(Zt,{htmlFor:"dof-enabled",className:"mb-2 block",children:[y.jsxs(kn,{children:[L,y.jsx(An,{children:y.jsx("p",{children:"Depth of Field (DOF) creates a blurred effect on objects outside the focus area, simulating camera lens behavior. It enhances realism but can be resource-intensive and may affect performance."})})]}),"Depth of Field Enabled:"]}),e[36]=D):D=e[36];let X;e[37]!==s?(X=me=>s.setDOFEnabled(me),e[37]=s,e[38]=X):X=e[38];let q;e[39]!==s.DOFEnabled||e[40]!==X?(q=y.jsxs("div",{className:"flex flex-row gap-2",children:[D,y.jsx(as,{id:"dof-enabled",checked:s.DOFEnabled,onCheckedChange:X})]}),e[39]=s.DOFEnabled,e[40]=X,e[41]=q):q=e[41];let ee;e[42]===Symbol.for("react.memo_cache_sentinel")?(ee=y.jsx(Sn,{asChild:!0,children:y.jsx(rs,{className:"mr-[0.5] inline h-3"})}),e[42]=ee):ee=e[42];let ce;e[43]===Symbol.for("react.memo_cache_sentinel")?(ce=y.jsxs(Zt,{htmlFor:"control-damping-enabled",className:"mb-2 block",children:[y.jsxs(kn,{children:[ee,y.jsx(An,{children:y.jsx("p",{children:"Enabling control damping makes camera movements smoother by adding inertia. This results in a more natural feel when orbiting or panning the view, but may introduce a slight delay in responsiveness."})})]}),"Orbit Controls Damping:"]}),e[43]=ce):ce=e[43];let he;e[44]!==s?(he=me=>s.setControlDamping(me),e[44]=s,e[45]=he):he=e[45];let we;e[46]!==s.controlDamping||e[47]!==he?(we=y.jsxs("div",{className:"flex flex-row gap-2",children:[ce,y.jsx(as,{id:"control-damping",checked:s.controlDamping,onCheckedChange:he})]}),e[46]=s.controlDamping,e[47]=he,e[48]=we):we=e[48];let ue;e[49]!==w||e[50]!==x||e[51]!==T||e[52]!==q||e[53]!==we||e[54]!==d||e[55]!==p?(ue=y.jsx(Hh,{children:y.jsxs(Yh,{children:[i,y.jsx(Xh,{asChild:!0,children:y.jsxs("div",{children:["Here you can adjust your preferences for the application.",y.jsxs("div",{className:"mt-4 flex flex-col gap-4",children:[d,p,w,x,T,q,we]})]})})]})}),e[49]=w,e[50]=x,e[51]=T,e[52]=q,e[53]=we,e[54]=d,e[55]=p,e[56]=ue):ue=e[56];let re;return e[57]!==n||e[58]!==r||e[59]!==ue?(re=y.jsx(qh,{open:n,onOpenChange:r,children:ue}),e[57]=n,e[58]=r,e[59]=ue,e[60]=re):re=e[60],re}let Zs=[],Vs=[];function Ty(t){return Zs.push(t),()=>{Zs=Zs.filter(e=>e!==t)}}function Oy(t){return Vs.push(t),()=>{Vs=Vs.filter(e=>e!==t)}}function Iy(){const t=ye.c(3),e=Me.useRef(0);let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=performance.now(),t[0]=n):n=t[0];const r=Me.useRef(n),{gl:s}=Ao();let i;return t[1]!==s?(i=()=>{e.current=e.current+1;const o=performance.now(),a=o-r.current;if(a>500){const l=Math.round(e.current*1e3/a);e.current=0,r.current=o,Zs.forEach(d=>d(l));const c=s.info;Vs.forEach(d=>d(c.render))}},t[1]=s,t[2]=i):i=t[2],rc(i),null}function Cy(t){const e=ye.c(24),{position:n}=t,r=n===void 0?"top-right":n,s=Wr(),[i,o]=Me.useState(0);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={calls:0,frame:0,lines:0,points:0,triangles:0},e[0]=a):a=e[0];const[l,c]=Me.useState(a);let d,f;e[1]===Symbol.for("react.memo_cache_sentinel")?(d=()=>Ty(o),f=[],e[1]=d,e[2]=f):(d=e[1],f=e[2]),Me.useEffect(d,f);let h,p;e[3]===Symbol.for("react.memo_cache_sentinel")?(h=()=>Oy(c),p=[],e[3]=h,e[4]=p):(h=e[3],p=e[4]),Me.useEffect(h,p);const g=r.includes("top")?8:void 0,m=r.includes("bottom")?8:void 0,w=r.includes("left")?8:void 0,S=r.includes("right")?8:void 0;let A;e[5]!==S||e[6]!==g||e[7]!==m||e[8]!==w?(A={top:g,bottom:m,left:w,right:S},e[5]=S,e[6]=g,e[7]=m,e[8]=w,e[9]=A):A=e[9];const E=A;let x;e[10]!==E?(x={...E},e[10]=E,e[11]=x):x=e[11];let C;e[12]!==i?(C=y.jsxs("p",{children:[i," FPS"]}),e[12]=i,e[13]=C):C=e[13];let I;e[14]!==s.DOFEnabled||e[15]!==s.SSAOEnabled||e[16]!==s.controlDamping||e[17]!==s.debugText||e[18]!==l?(I=s.debugText&&y.jsxs(y.Fragment,{children:[y.jsx("hr",{className:"border-border my-1 border-t"}),y.jsxs("p",{children:["Draw Calls: ",l.calls]}),y.jsxs("p",{children:["Frame: ",l.frame]}),y.jsxs("p",{children:["Triangles: ",l.triangles]}),y.jsxs("p",{children:["Lines: ",l.lines]}),y.jsxs("p",{children:["Points: ",l.points]}),y.jsx("hr",{className:"border-border my-1 border-t"}),y.jsxs("p",{children:["Debug Text: ",s.debugText?"On":"Off"]}),y.jsxs("p",{children:["SSAO: ",s.SSAOEnabled?"On":"Off"]}),y.jsxs("p",{children:["Depth of Field: ",s.DOFEnabled?"On":"Off"]}),y.jsxs("p",{children:["Control Damping:"," ",s.controlDamping?"On":"Off"]})]}),e[14]=s.DOFEnabled,e[15]=s.SSAOEnabled,e[16]=s.controlDamping,e[17]=s.debugText,e[18]=l,e[19]=I):I=e[19];let j;return e[20]!==x||e[21]!==C||e[22]!==I?(j=y.jsxs("div",{className:"text-muted-foreground pointer-events-none absolute z-10 text-right font-mono text-sm",style:x,children:[C,I]}),e[20]=x,e[21]=C,e[22]=I,e[23]=j):j=e[23],j}function jy(t){const e=ye.c(26);let n,r,s,i,o,a;e[0]!==t?({className:n,defaultValue:r,value:a,min:i,max:o,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=o,e[6]=a):(n=e[1],r=e[2],s=e[3],i=e[4],o=e[5],a=e[6]);const l=i===void 0?0:i,c=o===void 0?100:o;let d,f;e[7]!==r||e[8]!==c||e[9]!==l||e[10]!==a?(f=Array.isArray(a)?a:Array.isArray(r)?r:[l,c],e[7]=r,e[8]=c,e[9]=l,e[10]=a,e[11]=f):f=e[11],d=f;const h=d;let p;e[12]!==n?(p=$e("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",n),e[12]=n,e[13]=p):p=e[13];let g;e[14]===Symbol.for("react.memo_cache_sentinel")?(g=$e("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),e[14]=g):g=e[14];let m;e[15]===Symbol.for("react.memo_cache_sentinel")?(m=y.jsx(md,{"data-slot":"slider-track",className:g,children:y.jsx(gd,{"data-slot":"slider-range",className:$e("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),e[15]=m):m=e[15];let w;e[16]!==h.length?(w=Array.from({length:h.length},Py),e[16]=h.length,e[17]=w):w=e[17];let S;return e[18]!==r||e[19]!==c||e[20]!==l||e[21]!==s||e[22]!==p||e[23]!==w||e[24]!==a?(S=y.jsxs(bd,{"data-slot":"slider",defaultValue:r,value:a,min:l,max:c,className:p,...s,children:[m,w]}),e[18]=r,e[19]=c,e[20]=l,e[21]=s,e[22]=p,e[23]=w,e[24]=a,e[25]=S):S=e[25],S}function Py(t,e){return y.jsx(yd,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},e)}function zy(t){const e=ye.c(17),{value:n,onChange:r}=t,s=n===void 0?0:n;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=[0,1,5,11.25,15,22.5,30,45],e[0]=i):i=e[0];const o=i,[a,l]=Me.useState(s||0);let c;e[1]!==r?(c=x=>{l(x),r(x)},e[1]=r,e[2]=c):c=e[2];const d=c;let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=x=>o.reduce((C,I)=>Math.abs(I-x)<Math.abs(C-x)?I:C),e[3]=f):f=e[3];const h=f;let p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p={minWidth:"5ch"},e[4]=p):p=e[4];const g=a>0?`${a}°`:"Off";let m;e[5]!==g?(m=y.jsxs(Zt,{className:"flex items-center gap-1 font-semibold whitespace-nowrap",children:["Angle Snap:",y.jsx("span",{className:"inline-block",style:p,children:g})]}),e[5]=g,e[6]=m):m=e[6];let w;e[7]!==a?(w=[a],e[7]=a,e[8]=w):w=e[8];let S;e[9]!==d?(S=x=>{const C=h(x[0]);d(C)},e[9]=d,e[10]=S):S=e[10];let A;e[11]!==w||e[12]!==S?(A=y.jsx(jy,{min:0,max:45,step:.1,value:w,onValueChange:S,className:"w-full"}),e[11]=w,e[12]=S,e[13]=A):A=e[13];let E;return e[14]!==A||e[15]!==m?(E=y.jsxs("div",{className:"flex w-sm flex-row items-center gap-2",children:[m,A]}),e[14]=A,e[15]=m,e[16]=E):E=e[16],E}const Is=[],$y=5;function Dy(){const t=Math.floor(Math.random()*360),e=70+Math.random()*10,n=80+Math.random()*10;return`hsl(${t}, ${e}%, ${n}%)`}function Ry(){let t="",e=0;do t=Dy(),e++;while(Is.includes(t)&&e<10);return Is.push(t),Is.length>$y&&Is.shift(),t}const Du=Me.forwardRef((t,e)=>{const n=ye.c(14),r=Gd("/tc-animator/textures/missing.png");let s,i;n[0]!==r?(i=r.clone(),i.magFilter=ca,i.minFilter=ca,n[0]=r,n[1]=i):i=n[1],s=i;const o=s;let a,l;n[2]===Symbol.for("react.memo_cache_sentinel")?(l=Ry(),n[2]=l):l=n[2],a=l;const c=a,[d,f]=Me.useState(!1);let h,p,g;n[3]===Symbol.for("react.memo_cache_sentinel")?(h=E=>{E.stopPropagation(),f(!0)},p=()=>f(!1),g=y.jsx("boxGeometry",{args:[1,1,1]}),n[3]=h,n[4]=p,n[5]=g):(h=n[3],p=n[4],g=n[5]);const m=d?c:"#000",w=d?.5:0;let S;n[6]!==m||n[7]!==w||n[8]!==o?(S=y.jsx("meshStandardMaterial",{map:o,color:c,emissive:m,emissiveIntensity:w}),n[6]=m,n[7]=w,n[8]=o,n[9]=S):S=n[9];let A;return n[10]!==t||n[11]!==e||n[12]!==S?(A=y.jsxs("mesh",{ref:e,...t,castShadow:!0,receiveShadow:!0,onPointerOver:h,onPointerOut:p,children:[g,S]}),n[10]=t,n[11]=e,n[12]=S,n[13]=A):A=n[13],A}),Ly="/tc-animator/models/dummy.glb";sc.preload(Ly);function My({scale:t=1,position:e=new Tn(0,0,0)}){const{scene:n}=sc("/tc-animator/models/dummy.glb"),r=lh(n);return y.jsx("primitive",{object:r,scale:t,position:e,castShadow:!0,receiveShadow:!0,rotation:[0,rn(180),0]})}function By(t){const e=ye.c(27),{onSelect:n}=t,{cart:r,setSelectedObjectPath:s}=qt(),i=Me.useRef(null);if(!r?.model)return null;const{position:o}=r.model,a=o?.posX||0,l=o?.posY||0,c=o?.posZ||0;let d;e[0]!==a||e[1]!==l||e[2]!==c?(d=new Tn(a,l,c),e[0]=a,e[1]=l,e[2]=c,e[3]=d):d=e[3];const f=d,h=o?.rotX||0;let p;e[4]!==o?.rotY||e[5]!==o?.rotZ||e[6]!==h?(p=new Eo(rn(h),rn(o?.rotY||0),rn(o?.rotZ||0)),e[4]=o?.rotY,e[5]=o?.rotZ,e[6]=h,e[7]=p):p=e[7];const g=p,m=o?.sizeX||1,w=o?.sizeY||1,S=o?.sizeZ||1;let A;e[8]!==m||e[9]!==w||e[10]!==S?(A=new Tn(m,w,S),e[8]=m,e[9]=w,e[10]=S,e[11]=A):A=e[11];const E=A;let x;e[12]!==n||e[13]!==s?(x=L=>{L.stopPropagation(),i.current&&(n(i.current),s("$.model"))},e[12]=n,e[13]=s,e[14]=x):x=e[14];let C;e[15]===Symbol.for("react.memo_cache_sentinel")?(C=y.jsx(Du,{}),e[15]=C):C=e[15];let I;e[16]!==E?(I=y.jsx("group",{scale:E,children:C}),e[16]=E,e[17]=I):I=e[17];let j;e[18]!==r.model||e[19]!==n?(j=y.jsx(Ru,{attachments:r.model,onSelect:n,jsonPath:"$.model"}),e[18]=r.model,e[19]=n,e[20]=j):j=e[20];let T;return e[21]!==f||e[22]!==g||e[23]!==x||e[24]!==I||e[25]!==j?(T=y.jsxs("group",{ref:i,position:f,rotation:g,onClick:x,children:[I,j]}),e[21]=f,e[22]=g,e[23]=x,e[24]=I,e[25]=j,e[26]=T):T=e[26],T}function Fy(t){const e=ye.c(49),{attachment:n,onSelect:r,jsonPath:s}=t,i=Wr(),{setSelectedObjectPath:o}=qt(),a=Me.useRef(null),l=n.position?.posX||0,c=n.position?.posY||0,d=n.position?.posZ||0;let f,h,p,g,m,w;if(e[0]!==n.names||e[1]!==n.position?.rotX||e[2]!==n.position?.rotY||e[3]!==n.position?.rotZ||e[4]!==n.position?.sizeX||e[5]!==n.position?.sizeY||e[6]!==n.position?.sizeZ||e[7]!==n.type||e[8]!==s||e[9]!==r||e[10]!==i.debugText||e[11]!==o||e[12]!==l||e[13]!==c||e[14]!==d){const E=new Tn(l,c,d),x=new Eo(rn(n.position?.rotX||0),rn(n.position?.rotY||0),rn(n.position?.rotZ||0)),C=n.position?.sizeX||1,I=n.position?.sizeY||1,j=n.position?.sizeZ||1;let T;e[21]!==C||e[22]!==I||e[23]!==j?(T=new Tn(C,I,j),e[21]=C,e[22]=I,e[23]=j,e[24]=T):T=e[24];const L=T;f=a,h=E,p=x,e[25]!==n.type||e[26]!==s||e[27]!==r||e[28]!==o?(g=X=>{a.current&&!["SEAT","HITBOX"].includes(n.type)&&(X.stopPropagation(),r(a.current),o(s))},e[25]=n.type,e[26]=s,e[27]=r,e[28]=o,e[29]=g):g=e[29];let D;e:switch(n.type){case"SEAT":{const X=i.debugText&&y.jsx(Dl,{fontSize:.3,color:"white",anchorX:"center",anchorY:"middle",outlineWidth:.05,outlineColor:"black",position:[0,3.5,0],children:`${n.names&&Array.isArray(n.names)&&n.names.length>0?n.names[0]:"Seat"}
Pos:${E.toArray().map(Ky)}`});let q;e[30]===Symbol.for("react.memo_cache_sentinel")?(q=y.jsx(My,{}),e[30]=q):q=e[30];let ee;e[31]!==X?(ee=y.jsxs(y.Fragment,{children:[X,q]}),e[31]=X,e[32]=ee):ee=e[32],D=ee;break e}case"HITBOX":{D=null;break e}default:{let X;e[33]===Symbol.for("react.memo_cache_sentinel")?(X=y.jsx(Du,{}),e[33]=X):X=e[33],D=X}}e[34]!==L||e[35]!==D?(m=y.jsx("group",{scale:L,children:D}),e[34]=L,e[35]=D,e[36]=m):m=e[36],w=i.debugText&&!["SEAT","HITBOX"].includes(n.type)&&y.jsx(Dl,{position:[0,1.5,0],fontSize:.3,color:"yellow",anchorX:"center",anchorY:"middle",scale:[1,1,1],outlineWidth:.05,outlineColor:"black",children:`${n.names&&Array.isArray(n.names)&&n.names.length>0?n.names[0]:""}
Pos:${E.toArray().map(qy)}
rot:${x.toArray().filter(Vy).map(Zy)}
scale:${L.toArray().map(Uy)}`}),e[0]=n.names,e[1]=n.position?.rotX,e[2]=n.position?.rotY,e[3]=n.position?.rotZ,e[4]=n.position?.sizeX,e[5]=n.position?.sizeY,e[6]=n.position?.sizeZ,e[7]=n.type,e[8]=s,e[9]=r,e[10]=i.debugText,e[11]=o,e[12]=l,e[13]=c,e[14]=d,e[15]=f,e[16]=h,e[17]=p,e[18]=g,e[19]=m,e[20]=w}else f=e[15],h=e[16],p=e[17],g=e[18],m=e[19],w=e[20];let S;e[37]!==n||e[38]!==s||e[39]!==r?(S=n.attachments&&y.jsx(Ru,{attachments:n,onSelect:r,jsonPath:`${s}`}),e[37]=n,e[38]=s,e[39]=r,e[40]=S):S=e[40];let A;return e[41]!==S||e[42]!==f||e[43]!==h||e[44]!==p||e[45]!==g||e[46]!==m||e[47]!==w?(A=y.jsxs("group",{ref:f,position:h,rotation:p,onClick:g,children:[m,w,S]}),e[41]=S,e[42]=f,e[43]=h,e[44]=p,e[45]=g,e[46]=m,e[47]=w,e[48]=A):A=e[48],A}function Uy(t){return t.toFixed(2)}function Zy(t){return t.toFixed(2)}function Vy(t){return typeof t=="number"}function qy(t){return t.toFixed(2)}function Ky(t){return`
${t.toFixed(2)}`}function Ru({attachments:t,onSelect:e,jsonPath:n}){return Object.entries(t.attachments||{}).map(([r,s])=>y.jsx(Fy,{attachment:s,onSelect:e,jsonPath:`${n}.attachments.${r}`},r))}function Dl(t){const e=ye.c(4),n=Me.useRef(null),{camera:r}=Ao();let s;e[0]!==r?(s=()=>{if(!n.current)return;const o=n.current.getWorldPosition(new Tn),a=r.position.clone();a.y=o.y;const l=a.sub(o).normalize();let c=Math.atan2(l.x,l.z);if(n.current.parent){const d=new ch;n.current.parent.getWorldQuaternion(d);const h=new Eo().setFromQuaternion(d,"YXZ").y;c=c-h+Math.PI}else c=c+Math.PI;n.current.rotation.set(0,c+rn(180),0)},e[0]=r,e[1]=s):s=e[1],rc(s);let i;return e[2]!==t?(i=y.jsx(Hd,{ref:n,...t,children:t.children}),e[2]=t,e[3]=i):i=e[3],i}const Gy=bc("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-card",outline:"border border-input bg-card shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function Rl(t){const e=ye.c(12);let n,r,s,i;e[0]!==t?({className:n,variant:i,size:s,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);let o;e[5]!==n||e[6]!==s||e[7]!==i?(o=$e(Gy({variant:i,size:s,className:n})),e[5]=n,e[6]=s,e[7]=i,e[8]=o):o=e[8];let a;return e[9]!==r||e[10]!==o?(a=y.jsx(wd,{"data-slot":"toggle",className:o,...r}),e[9]=r,e[10]=o,e[11]=a):a=e[11],a}function Hy({controlsRef:t}){const e=qt(),{camera:n}=Ao();return Me.useEffect(()=>{const r=t.current,s=e.metadata.orbitControls;!r||!s||(n.position.copy(new Tn(...s.position)),r.target.copy(new Tn(...s.target)),s.zoom&&"zoom"in n&&(n.zoom=s.zoom,n.updateProjectionMatrix()),r.update())},[e.metadata.orbitControls,n,t]),Me.useEffect(()=>{const r=t.current;if(!r)return;const s=()=>{e.setMetadata({...e.metadata,orbitControls:{position:n.position.toArray(),target:r.target.toArray(),zoom:n.zoom}})};return r.addEventListener("change",s),()=>r.removeEventListener("change",s)},[n,e,t]),null}function Yy(){const t=ye.c(96),e=Wr(),n=qt(),r=Me.useRef(null),[s,i]=Me.useState(null),[o,a]=Me.useState("translate"),[l,c]=Me.useState("world");let d,f;t[0]!==l?(d=()=>{const De=_=>{_.target&&_.target.isContentEditable||(_.key==="v"||_.key==="V"?a("translate"):_.key==="r"||_.key==="R"?a("rotate"):(_.key==="x"||_.key==="X")&&c(l==="world"?"local":"world"))};return window.addEventListener("keydown",De),()=>{window.removeEventListener("keydown",De)}},f=[l],t[0]=l,t[1]=d,t[2]=f):(d=t[1],f=t[2]),Me.useEffect(d,f);let h,p;if(t[3]!==n.cart||t[4]!==s?(h=()=>{s&&(n.cart||i(null))},p=[n.cart,s],t[3]=n.cart,t[4]=s,t[5]=h,t[6]=p):(h=t[5],p=t[6]),Me.useEffect(h,p),!n.cart){let De;return t[7]===Symbol.for("react.memo_cache_sentinel")?(De=y.jsx("div",{className:"flex h-full w-full items-center justify-center bg-black",children:y.jsx("p",{className:"text-muted-foreground",children:"No cart selected. Please create or open a project."})}),t[7]=De):De=t[7],De}let g;t[8]!==e.SSAOEnabled?(g=e.SSAOEnabled&&y.jsx(Yd,{},"ssao"),t[8]=e.SSAOEnabled,t[9]=g):g=t[9];let m;t[10]!==e.DOFEnabled?(m=e.DOFEnabled&&y.jsx(Wd,{focusDistance:2,focalLength:5,bokehScale:2},"dof"),t[10]=e.DOFEnabled,t[11]=m):m=t[11];let w;t[12]===Symbol.for("react.memo_cache_sentinel")?(w=y.jsx(Jd,{},"smaa"),t[12]=w):w=t[12];let S;t[13]!==s?(S=s&&y.jsx(eh,{selection:[s],edgeStrength:4,blur:!0},"outline"),t[13]=s,t[14]=S):S=t[14];let A;t[15]!==g||t[16]!==m||t[17]!==S?(A=[g,m,w,S].filter(Boolean),t[15]=g,t[16]=m,t[17]=S,t[18]=A):A=t[18];const E=A;let x;t[19]===Symbol.for("react.memo_cache_sentinel")?(x={position:[3,3,3],fov:45},t[19]=x):x=t[19];let C,I;t[20]===Symbol.for("react.memo_cache_sentinel")?(C=[1,2],I={powerPreference:"high-performance",antialias:!1},t[20]=C,t[21]=I):(C=t[20],I=t[21]);let j;t[22]!==n?(j=De=>{De.type==="click"&&(n.setSelectedObjectPath(void 0),i(null))},t[22]=n,t[23]=j):j=t[23];let T;t[24]!==E?(T=y.jsx(th,{enableNormalPass:!0,depthBuffer:!0,stencilBuffer:!0,children:E}),t[24]=E,t[25]=T):T=t[25];let L,D,X,q;t[26]===Symbol.for("react.memo_cache_sentinel")?(L=y.jsx(Iy,{}),D=y.jsx(nh,{all:!0}),X=y.jsx("ambientLight",{intensity:2}),q=y.jsx("directionalLight",{position:[5,5,5],intensity:3,castShadow:!0}),t[26]=L,t[27]=D,t[28]=X,t[29]=q):(L=t[26],D=t[27],X=t[28],q=t[29]);let ee;t[30]===Symbol.for("react.memo_cache_sentinel")?(ee=y.jsx(By,{onSelect:i}),t[30]=ee):ee=t[30];let ce;t[31]===Symbol.for("react.memo_cache_sentinel")?(ce=[.5,-.501,.5],t[31]=ce):ce=t[31];const he=e.gridColor;let we;t[32]!==e?(we=e.getComplementaryGridColor(),t[32]=e,t[33]=we):we=t[33];let ue;t[34]!==e.gridColor||t[35]!==we?(ue=y.jsx(rh,{position:ce,cellSize:.0625,sectionSize:1,cellThickness:.5,sectionThickness:1.5,cellColor:he,sectionColor:we,infiniteGrid:!0,side:uh}),t[34]=e.gridColor,t[35]=we,t[36]=ue):ue=t[36];let re;t[37]!==e.angleSnap||t[38]!==e.distanceSnap||t[39]!==s||t[40]!==o||t[41]!==l?(re=s&&y.jsx(Xd,{object:s,mode:o,rotationSnap:rn(e.angleSnap),translationSnap:e.distanceSnap,onMouseDown:()=>r.current.enabled=!1,onMouseUp:()=>r.current.enabled=!0,space:l}),t[37]=e.angleSnap,t[38]=e.distanceSnap,t[39]=s,t[40]=o,t[41]=l,t[42]=re):re=t[42];let me;t[43]!==e.controlDamping?(me=y.jsx(Qd,{ref:r,makeDefault:!0,enableDamping:e.controlDamping}),t[43]=e.controlDamping,t[44]=me):me=t[44];let oe;t[45]===Symbol.for("react.memo_cache_sentinel")?(oe=[80,80],t[45]=oe):oe=t[45];let Te,Oe;t[46]===Symbol.for("react.memo_cache_sentinel")?(Te=y.jsx(sh,{alignment:"bottom-right",margin:oe,children:y.jsx(ih,{axisColors:["#9d4b4b","#2f7f4f","#3b5b9d"],labelColor:"white"})}),Oe=y.jsx(Hy,{controlsRef:r}),t[46]=Te,t[47]=Oe):(Te=t[46],Oe=t[47]);let ve;t[48]!==ue||t[49]!==re||t[50]!==me?(ve=y.jsxs(Me.Suspense,{fallback:null,children:[ee,ue,re,me,Te,Oe]}),t[48]=ue,t[49]=re,t[50]=me,t[51]=ve):ve=t[51];let G;t[52]!==j||t[53]!==T||t[54]!==ve?(G=y.jsxs(oh,{className:"three-bg",camera:x,shadows:!0,dpr:C,gl:I,onPointerMissed:j,children:[T,L,D,X,q,ve]}),t[52]=j,t[53]=T,t[54]=ve,t[55]=G):G=t[55];let Ne;t[56]===Symbol.for("react.memo_cache_sentinel")?(Ne=y.jsx(Cy,{}),t[56]=Ne):Ne=t[56];let Re;t[57]!==l?(Re=()=>{c(l==="world"?"local":"world")},t[57]=l,t[58]=Re):Re=t[58];let Le;t[59]!==l?(Le=y.jsx(Sn,{children:l==="world"?y.jsx(Md,{}):y.jsx(Bd,{})}),t[59]=l,t[60]=Le):Le=t[60];let Ue;t[61]!==Re||t[62]!==Le?(Ue=y.jsx(On,{variant:"secondary",size:"icon",asChild:!0,onClick:Re,children:Le}),t[61]=Re,t[62]=Le,t[63]=Ue):Ue=t[63];const We=l==="world"?"World Space":"Local Space";let v;t[64]===Symbol.for("react.memo_cache_sentinel")?(v=y.jsx("kbd",{className:"text-muted-foreground ml-1",children:"X"}),t[64]=v):v=t[64];let k;t[65]!==We?(k=y.jsxs(An,{children:[We,v]}),t[65]=We,t[66]=k):k=t[66];let O;t[67]!==Ue||t[68]!==k?(O=y.jsxs(kn,{children:[Ue,k]}),t[67]=Ue,t[68]=k,t[69]=O):O=t[69];const B=o==="translate";let $;t[70]===Symbol.for("react.memo_cache_sentinel")?($=()=>a("translate"),t[70]=$):$=t[70];let M;t[71]===Symbol.for("react.memo_cache_sentinel")?(M=y.jsx(Sn,{children:y.jsx(Fd,{})}),t[71]=M):M=t[71];let K;t[72]!==B?(K=y.jsx(Rl,{pressed:B,onClick:$,asChild:!0,children:M}),t[72]=B,t[73]=K):K=t[73];let z;t[74]===Symbol.for("react.memo_cache_sentinel")?(z=y.jsxs(An,{children:["Translate Mode",y.jsx("kbd",{className:"text-muted-foreground ml-1",children:"V"})]}),t[74]=z):z=t[74];let R;t[75]!==K?(R=y.jsxs(kn,{children:[K,z]}),t[75]=K,t[76]=R):R=t[76];const U=o==="rotate";let F;t[77]===Symbol.for("react.memo_cache_sentinel")?(F=()=>a("rotate"),t[77]=F):F=t[77];let te;t[78]===Symbol.for("react.memo_cache_sentinel")?(te=y.jsx(Sn,{children:y.jsx(Ud,{})}),t[78]=te):te=t[78];let pe;t[79]!==U?(pe=y.jsx(Rl,{pressed:U,onClick:F,asChild:!0,children:te}),t[79]=U,t[80]=pe):pe=t[80];let fe;t[81]===Symbol.for("react.memo_cache_sentinel")?(fe=y.jsxs(An,{children:["Rotate Mode",y.jsx("kbd",{className:"text-muted-foreground ml-1",children:"R"})]}),t[81]=fe):fe=t[81];let je;t[82]!==pe?(je=y.jsxs(kn,{children:[pe,fe]}),t[82]=pe,t[83]=je):je=t[83];let Se;t[84]!==e.angleSnap||t[85]!==e.setAngleSnap||t[86]!==o?(Se=o==="rotate"&&y.jsx(zy,{value:e.angleSnap,onChange:e.setAngleSnap}),t[84]=e.angleSnap,t[85]=e.setAngleSnap,t[86]=o,t[87]=Se):Se=t[87];let Ke;t[88]!==O||t[89]!==R||t[90]!==je||t[91]!==Se?(Ke=y.jsxs("div",{className:"absolute top-[8px] left-[8px] flex flex-row gap-[8px]",children:[O,R,je,Se]}),t[88]=O,t[89]=R,t[90]=je,t[91]=Se,t[92]=Ke):Ke=t[92];let ze;return t[93]!==G||t[94]!==Ke?(ze=y.jsxs("div",{className:"relative h-full w-full",children:[G,Ne,Ke]}),t[93]=G,t[94]=Ke,t[95]=ze):ze=t[95],ze}function Wy(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("flex flex-col gap-2",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(kd,{"data-slot":"tabs",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Xy(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("bg-muted text-muted-foreground inline-flex min-h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(_d,{"data-slot":"tabs-list",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Cs(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-9 flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(vd,{"data-slot":"tabs-trigger",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function js(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("flex-1 outline-none",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(xd,{"data-slot":"tabs-content",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Qy(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("w-full caption-bottom text-sm",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:y.jsx("table",{"data-slot":"table",className:s,...r})}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Jy(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("[&_tr]:border-b",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("thead",{"data-slot":"table-header",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function ew(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("[&_tr:last-child]:border-0",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("tbody",{"data-slot":"table-body",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Ll(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("tr",{"data-slot":"table-row",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Ml(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("th",{"data-slot":"table-head",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Bl(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("td",{"data-slot":"table-cell",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}class tw{add(e,n,r){if(typeof arguments[0]!="string")for(let s in arguments[0])this.add(s,arguments[0][s],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(s){this[s]=this[s]||[],n&&this[s][r?"unshift":"push"](n)},this)}run(e,n){this[e]=this[e]||[],this[e].forEach(function(r){r.call(n&&n.context?n.context:n,n)})}}class nw{constructor(e){this.jsep=e,this.registered={}}register(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(s=>{if(typeof s!="object"||!s.name||!s.init)throw new Error("Invalid JSEP plugin format");this.registered[s.name]||(s.init(this.jsep),this.registered[s.name]=s)})}}class Y{static get version(){return"1.4.0"}static toString(){return"JavaScript Expression Parser (JSEP) v"+Y.version}static addUnaryOp(e){return Y.max_unop_len=Math.max(e.length,Y.max_unop_len),Y.unary_ops[e]=1,Y}static addBinaryOp(e,n,r){return Y.max_binop_len=Math.max(e.length,Y.max_binop_len),Y.binary_ops[e]=n,r?Y.right_associative.add(e):Y.right_associative.delete(e),Y}static addIdentifierChar(e){return Y.additional_identifier_chars.add(e),Y}static addLiteral(e,n){return Y.literals[e]=n,Y}static removeUnaryOp(e){return delete Y.unary_ops[e],e.length===Y.max_unop_len&&(Y.max_unop_len=Y.getMaxKeyLen(Y.unary_ops)),Y}static removeAllUnaryOps(){return Y.unary_ops={},Y.max_unop_len=0,Y}static removeIdentifierChar(e){return Y.additional_identifier_chars.delete(e),Y}static removeBinaryOp(e){return delete Y.binary_ops[e],e.length===Y.max_binop_len&&(Y.max_binop_len=Y.getMaxKeyLen(Y.binary_ops)),Y.right_associative.delete(e),Y}static removeAllBinaryOps(){return Y.binary_ops={},Y.max_binop_len=0,Y}static removeLiteral(e){return delete Y.literals[e],Y}static removeAllLiterals(){return Y.literals={},Y}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(e){this.expr=e,this.index=0}static parse(e){return new Y(e).parse()}static getMaxKeyLen(e){return Math.max(0,...Object.keys(e).map(n=>n.length))}static isDecimalDigit(e){return e>=48&&e<=57}static binaryPrecedence(e){return Y.binary_ops[e]||0}static isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||e>=128&&!Y.binary_ops[String.fromCharCode(e)]||Y.additional_identifier_chars.has(String.fromCharCode(e))}static isIdentifierPart(e){return Y.isIdentifierStart(e)||Y.isDecimalDigit(e)}throwError(e){const n=new Error(e+" at character "+this.index);throw n.index=this.index,n.description=e,n}runHook(e,n){if(Y.hooks[e]){const r={context:this,node:n};return Y.hooks.run(e,r),r.node}return n}searchHook(e){if(Y.hooks[e]){const n={context:this};return Y.hooks[e].find(function(r){return r.call(n.context,n),n.node}),n.node}}gobbleSpaces(){let e=this.code;for(;e===Y.SPACE_CODE||e===Y.TAB_CODE||e===Y.LF_CODE||e===Y.CR_CODE;)e=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");const e=this.gobbleExpressions(),n=e.length===1?e[0]:{type:Y.COMPOUND,body:e};return this.runHook("after-all",n)}gobbleExpressions(e){let n=[],r,s;for(;this.index<this.expr.length;)if(r=this.code,r===Y.SEMCOL_CODE||r===Y.COMMA_CODE)this.index++;else if(s=this.gobbleExpression())n.push(s);else if(this.index<this.expr.length){if(r===e)break;this.throwError('Unexpected "'+this.char+'"')}return n}gobbleExpression(){const e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}gobbleBinaryOp(){this.gobbleSpaces();let e=this.expr.substr(this.index,Y.max_binop_len),n=e.length;for(;n>0;){if(Y.binary_ops.hasOwnProperty(e)&&(!Y.isIdentifierStart(this.code)||this.index+e.length<this.expr.length&&!Y.isIdentifierPart(this.expr.charCodeAt(this.index+e.length))))return this.index+=n,e;e=e.substr(0,--n)}return!1}gobbleBinaryExpression(){let e,n,r,s,i,o,a,l,c;if(o=this.gobbleToken(),!o||(n=this.gobbleBinaryOp(),!n))return o;for(i={value:n,prec:Y.binaryPrecedence(n),right_a:Y.right_associative.has(n)},a=this.gobbleToken(),a||this.throwError("Expected expression after "+n),s=[o,i,a];n=this.gobbleBinaryOp();){if(r=Y.binaryPrecedence(n),r===0){this.index-=n.length;break}i={value:n,prec:r,right_a:Y.right_associative.has(n)},c=n;const d=f=>i.right_a&&f.right_a?r>f.prec:r<=f.prec;for(;s.length>2&&d(s[s.length-2]);)a=s.pop(),n=s.pop().value,o=s.pop(),e={type:Y.BINARY_EXP,operator:n,left:o,right:a},s.push(e);e=this.gobbleToken(),e||this.throwError("Expected expression after "+c),s.push(i,e)}for(l=s.length-1,e=s[l];l>1;)e={type:Y.BINARY_EXP,operator:s[l-1].value,left:s[l-2],right:e},l-=2;return e}gobbleToken(){let e,n,r,s;if(this.gobbleSpaces(),s=this.searchHook("gobble-token"),s)return this.runHook("after-token",s);if(e=this.code,Y.isDecimalDigit(e)||e===Y.PERIOD_CODE)return this.gobbleNumericLiteral();if(e===Y.SQUOTE_CODE||e===Y.DQUOTE_CODE)s=this.gobbleStringLiteral();else if(e===Y.OBRACK_CODE)s=this.gobbleArray();else{for(n=this.expr.substr(this.index,Y.max_unop_len),r=n.length;r>0;){if(Y.unary_ops.hasOwnProperty(n)&&(!Y.isIdentifierStart(this.code)||this.index+n.length<this.expr.length&&!Y.isIdentifierPart(this.expr.charCodeAt(this.index+n.length)))){this.index+=r;const i=this.gobbleToken();return i||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:Y.UNARY_EXP,operator:n,argument:i,prefix:!0})}n=n.substr(0,--r)}Y.isIdentifierStart(e)?(s=this.gobbleIdentifier(),Y.literals.hasOwnProperty(s.name)?s={type:Y.LITERAL,value:Y.literals[s.name],raw:s.name}:s.name===Y.this_str&&(s={type:Y.THIS_EXP})):e===Y.OPAREN_CODE&&(s=this.gobbleGroup())}return s?(s=this.gobbleTokenProperty(s),this.runHook("after-token",s)):this.runHook("after-token",!1)}gobbleTokenProperty(e){this.gobbleSpaces();let n=this.code;for(;n===Y.PERIOD_CODE||n===Y.OBRACK_CODE||n===Y.OPAREN_CODE||n===Y.QUMARK_CODE;){let r;if(n===Y.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==Y.PERIOD_CODE)break;r=!0,this.index+=2,this.gobbleSpaces(),n=this.code}this.index++,n===Y.OBRACK_CODE?(e={type:Y.MEMBER_EXP,computed:!0,object:e,property:this.gobbleExpression()},e.property||this.throwError('Unexpected "'+this.char+'"'),this.gobbleSpaces(),n=this.code,n!==Y.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):n===Y.OPAREN_CODE?e={type:Y.CALL_EXP,arguments:this.gobbleArguments(Y.CPAREN_CODE),callee:e}:(n===Y.PERIOD_CODE||r)&&(r&&this.index--,this.gobbleSpaces(),e={type:Y.MEMBER_EXP,computed:!1,object:e,property:this.gobbleIdentifier()}),r&&(e.optional=!0),this.gobbleSpaces(),n=this.code}return e}gobbleNumericLiteral(){let e="",n,r;for(;Y.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(this.code===Y.PERIOD_CODE)for(e+=this.expr.charAt(this.index++);Y.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(n=this.char,n==="e"||n==="E"){for(e+=this.expr.charAt(this.index++),n=this.char,(n==="+"||n==="-")&&(e+=this.expr.charAt(this.index++));Y.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);Y.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+e+this.char+")")}return r=this.code,Y.isIdentifierStart(r)?this.throwError("Variable names cannot start with a number ("+e+this.char+")"):(r===Y.PERIOD_CODE||e.length===1&&e.charCodeAt(0)===Y.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:Y.LITERAL,value:parseFloat(e),raw:e}}gobbleStringLiteral(){let e="";const n=this.index,r=this.expr.charAt(this.index++);let s=!1;for(;this.index<this.expr.length;){let i=this.expr.charAt(this.index++);if(i===r){s=!0;break}else if(i==="\\")switch(i=this.expr.charAt(this.index++),i){case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=i}else e+=i}return s||this.throwError('Unclosed quote after "'+e+'"'),{type:Y.LITERAL,value:e,raw:this.expr.substring(n,this.index)}}gobbleIdentifier(){let e=this.code,n=this.index;for(Y.isIdentifierStart(e)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(e=this.code,Y.isIdentifierPart(e));)this.index++;return{type:Y.IDENTIFIER,name:this.expr.slice(n,this.index)}}gobbleArguments(e){const n=[];let r=!1,s=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let i=this.code;if(i===e){r=!0,this.index++,e===Y.CPAREN_CODE&&s&&s>=n.length&&this.throwError("Unexpected token "+String.fromCharCode(e));break}else if(i===Y.COMMA_CODE){if(this.index++,s++,s!==n.length){if(e===Y.CPAREN_CODE)this.throwError("Unexpected token ,");else if(e===Y.CBRACK_CODE)for(let o=n.length;o<s;o++)n.push(null)}}else if(n.length!==s&&s!==0)this.throwError("Expected comma");else{const o=this.gobbleExpression();(!o||o.type===Y.COMPOUND)&&this.throwError("Expected comma"),n.push(o)}}return r||this.throwError("Expected "+String.fromCharCode(e)),n}gobbleGroup(){this.index++;let e=this.gobbleExpressions(Y.CPAREN_CODE);if(this.code===Y.CPAREN_CODE)return this.index++,e.length===1?e[0]:e.length?{type:Y.SEQUENCE_EXP,expressions:e}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:Y.ARRAY_EXP,elements:this.gobbleArguments(Y.CBRACK_CODE)}}}const rw=new tw;Object.assign(Y,{hooks:rw,plugins:new nw(Y),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"??":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10,"**":11},right_associative:new Set(["**"]),additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});Y.max_unop_len=Y.getMaxKeyLen(Y.unary_ops);Y.max_binop_len=Y.getMaxKeyLen(Y.binary_ops);const an=t=>new Y(t).parse(),sw=Object.getOwnPropertyNames(class{});Object.getOwnPropertyNames(Y).filter(t=>!sw.includes(t)&&an[t]===void 0).forEach(t=>{an[t]=Y[t]});an.Jsep=Y;const iw="ConditionalExpression";var ow={name:"ternary",init(t){t.hooks.add("after-expression",function(n){if(n.node&&this.code===t.QUMARK_CODE){this.index++;const r=n.node,s=this.gobbleExpression();if(s||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===t.COLON_CODE){this.index++;const i=this.gobbleExpression();if(i||this.throwError("Expected expression"),n.node={type:iw,test:r,consequent:s,alternate:i},r.operator&&t.binary_ops[r.operator]<=.9){let o=r;for(;o.right.operator&&t.binary_ops[o.right.operator]<=.9;)o=o.right;n.node.test=o.right,o.right=n.node,n.node=r}}else this.throwError("Expected :")}})}};an.plugins.register(ow);const Fl=47,aw=92;var lw={name:"regex",init(t){t.hooks.add("gobble-token",function(n){if(this.code===Fl){const r=++this.index;let s=!1;for(;this.index<this.expr.length;){if(this.code===Fl&&!s){const i=this.expr.slice(r,this.index);let o="";for(;++this.index<this.expr.length;){const l=this.code;if(l>=97&&l<=122||l>=65&&l<=90||l>=48&&l<=57)o+=this.char;else break}let a;try{a=new RegExp(i,o)}catch(l){this.throwError(l.message)}return n.node={type:t.LITERAL,value:a,raw:this.expr.slice(r-1,this.index)},n.node=this.gobbleTokenProperty(n.node),n.node}this.code===t.OBRACK_CODE?s=!0:s&&this.code===t.CBRACK_CODE&&(s=!1),this.index+=this.code===aw?2:1}this.throwError("Unclosed Regex")}})}};const Ri=43,cw=45,rr={name:"assignment",assignmentOperators:new Set(["=","*=","**=","/=","%=","+=","-=","<<=",">>=",">>>=","&=","^=","|=","||=","&&=","??="]),updateOperators:[Ri,cw],assignmentPrecedence:.9,init(t){const e=[t.IDENTIFIER,t.MEMBER_EXP];rr.assignmentOperators.forEach(r=>t.addBinaryOp(r,rr.assignmentPrecedence,!0)),t.hooks.add("gobble-token",function(s){const i=this.code;rr.updateOperators.some(o=>o===i&&o===this.expr.charCodeAt(this.index+1))&&(this.index+=2,s.node={type:"UpdateExpression",operator:i===Ri?"++":"--",argument:this.gobbleTokenProperty(this.gobbleIdentifier()),prefix:!0},(!s.node.argument||!e.includes(s.node.argument.type))&&this.throwError(`Unexpected ${s.node.operator}`))}),t.hooks.add("after-token",function(s){if(s.node){const i=this.code;rr.updateOperators.some(o=>o===i&&o===this.expr.charCodeAt(this.index+1))&&(e.includes(s.node.type)||this.throwError(`Unexpected ${s.node.operator}`),this.index+=2,s.node={type:"UpdateExpression",operator:i===Ri?"++":"--",argument:s.node,prefix:!1})}}),t.hooks.add("after-expression",function(s){s.node&&n(s.node)});function n(r){rr.assignmentOperators.has(r.operator)?(r.type="AssignmentExpression",n(r.left),n(r.right)):r.operator||Object.values(r).forEach(s=>{s&&typeof s=="object"&&n(s)})}}};an.plugins.register(lw,rr);an.addUnaryOp("typeof");an.addLiteral("null",null);an.addLiteral("undefined",void 0);const uw=new Set(["constructor","__proto__","__defineGetter__","__defineSetter__"]),Je={evalAst(t,e){switch(t.type){case"BinaryExpression":case"LogicalExpression":return Je.evalBinaryExpression(t,e);case"Compound":return Je.evalCompound(t,e);case"ConditionalExpression":return Je.evalConditionalExpression(t,e);case"Identifier":return Je.evalIdentifier(t,e);case"Literal":return Je.evalLiteral(t,e);case"MemberExpression":return Je.evalMemberExpression(t,e);case"UnaryExpression":return Je.evalUnaryExpression(t,e);case"ArrayExpression":return Je.evalArrayExpression(t,e);case"CallExpression":return Je.evalCallExpression(t,e);case"AssignmentExpression":return Je.evalAssignmentExpression(t,e);default:throw SyntaxError("Unexpected expression",t)}},evalBinaryExpression(t,e){return{"||":(r,s)=>r||s(),"&&":(r,s)=>r&&s(),"|":(r,s)=>r|s(),"^":(r,s)=>r^s(),"&":(r,s)=>r&s(),"==":(r,s)=>r==s(),"!=":(r,s)=>r!=s(),"===":(r,s)=>r===s(),"!==":(r,s)=>r!==s(),"<":(r,s)=>r<s(),">":(r,s)=>r>s(),"<=":(r,s)=>r<=s(),">=":(r,s)=>r>=s(),"<<":(r,s)=>r<<s(),">>":(r,s)=>r>>s(),">>>":(r,s)=>r>>>s(),"+":(r,s)=>r+s(),"-":(r,s)=>r-s(),"*":(r,s)=>r*s(),"/":(r,s)=>r/s(),"%":(r,s)=>r%s()}[t.operator](Je.evalAst(t.left,e),()=>Je.evalAst(t.right,e))},evalCompound(t,e){let n;for(let r=0;r<t.body.length;r++){t.body[r].type==="Identifier"&&["var","let","const"].includes(t.body[r].name)&&t.body[r+1]&&t.body[r+1].type==="AssignmentExpression"&&(r+=1);const s=t.body[r];n=Je.evalAst(s,e)}return n},evalConditionalExpression(t,e){return Je.evalAst(t.test,e)?Je.evalAst(t.consequent,e):Je.evalAst(t.alternate,e)},evalIdentifier(t,e){if(Object.hasOwn(e,t.name))return e[t.name];throw ReferenceError(`${t.name} is not defined`)},evalLiteral(t){return t.value},evalMemberExpression(t,e){const n=String(t.computed?Je.evalAst(t.property):t.property.name),r=Je.evalAst(t.object,e);if(r==null)throw TypeError(`Cannot read properties of ${r} (reading '${n}')`);if(!Object.hasOwn(r,n)&&uw.has(n))throw TypeError(`Cannot read properties of ${r} (reading '${n}')`);const s=r[n];return typeof s=="function"?s.bind(r):s},evalUnaryExpression(t,e){return{"-":r=>-Je.evalAst(r,e),"!":r=>!Je.evalAst(r,e),"~":r=>~Je.evalAst(r,e),"+":r=>+Je.evalAst(r,e),typeof:r=>typeof Je.evalAst(r,e)}[t.operator](t.argument)},evalArrayExpression(t,e){return t.elements.map(n=>Je.evalAst(n,e))},evalCallExpression(t,e){const n=t.arguments.map(s=>Je.evalAst(s,e));return Je.evalAst(t.callee,e)(...n)},evalAssignmentExpression(t,e){if(t.left.type!=="Identifier")throw SyntaxError("Invalid left-hand side in assignment");const n=t.left.name,r=Je.evalAst(t.right,e);return e[n]=r,e[n]}};class fw{constructor(e){this.code=e,this.ast=an(this.code)}runInNewContext(e){const n=Object.assign(Object.create(null),e);return Je.evalAst(this.ast,n)}}function fn(t,e){return t=t.slice(),t.push(e),t}function bo(t,e){return e=e.slice(),e.unshift(t),e}class dw extends Error{constructor(e){super('JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),this.avoidNew=!0,this.value=e,this.name="NewError"}}function Xe(t,e,n,r,s){if(!(this instanceof Xe))try{return new Xe(t,e,n,r,s)}catch(o){if(!o.avoidNew)throw o;return o.value}typeof t=="string"&&(s=r,r=n,n=e,e=t,t=null);const i=t&&typeof t=="object";if(t=t||{},this.json=t.json||n,this.path=t.path||e,this.resultType=t.resultType||"value",this.flatten=t.flatten||!1,this.wrap=Object.hasOwn(t,"wrap")?t.wrap:!0,this.sandbox=t.sandbox||{},this.eval=t.eval===void 0?"safe":t.eval,this.ignoreEvalErrors=typeof t.ignoreEvalErrors>"u"?!1:t.ignoreEvalErrors,this.parent=t.parent||null,this.parentProperty=t.parentProperty||null,this.callback=t.callback||r||null,this.otherTypeCallback=t.otherTypeCallback||s||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},t.autostart!==!1){const o={path:i?t.path:e};i?"json"in t&&(o.json=t.json):o.json=n;const a=this.evaluate(o);if(!a||typeof a!="object")throw new dw(a);return a}}Xe.prototype.evaluate=function(t,e,n,r){let s=this.parent,i=this.parentProperty,{flatten:o,wrap:a}=this;if(this.currResultType=this.resultType,this.currEval=this.eval,this.currSandbox=this.sandbox,n=n||this.callback,this.currOtherTypeCallback=r||this.otherTypeCallback,e=e||this.json,t=t||this.path,t&&typeof t=="object"&&!Array.isArray(t)){if(!t.path&&t.path!=="")throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Object.hasOwn(t,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');({json:e}=t),o=Object.hasOwn(t,"flatten")?t.flatten:o,this.currResultType=Object.hasOwn(t,"resultType")?t.resultType:this.currResultType,this.currSandbox=Object.hasOwn(t,"sandbox")?t.sandbox:this.currSandbox,a=Object.hasOwn(t,"wrap")?t.wrap:a,this.currEval=Object.hasOwn(t,"eval")?t.eval:this.currEval,n=Object.hasOwn(t,"callback")?t.callback:n,this.currOtherTypeCallback=Object.hasOwn(t,"otherTypeCallback")?t.otherTypeCallback:this.currOtherTypeCallback,s=Object.hasOwn(t,"parent")?t.parent:s,i=Object.hasOwn(t,"parentProperty")?t.parentProperty:i,t=t.path}if(s=s||null,i=i||null,Array.isArray(t)&&(t=Xe.toPathString(t)),!t&&t!==""||!e)return;const l=Xe.toPathArray(t);l[0]==="$"&&l.length>1&&l.shift(),this._hasParentSelector=null;const c=this._trace(l,e,["$"],s,i,n).filter(function(d){return d&&!d.isParentSelector});return c.length?!a&&c.length===1&&!c[0].hasArrExpr?this._getPreferredOutput(c[0]):c.reduce((d,f)=>{const h=this._getPreferredOutput(f);return o&&Array.isArray(h)?d=d.concat(h):d.push(h),d},[]):a?[]:void 0};Xe.prototype._getPreferredOutput=function(t){const e=this.currResultType;switch(e){case"all":{const n=Array.isArray(t.path)?t.path:Xe.toPathArray(t.path);return t.pointer=Xe.toPointer(n),t.path=typeof t.path=="string"?t.path:Xe.toPathString(t.path),t}case"value":case"parent":case"parentProperty":return t[e];case"path":return Xe.toPathString(t[e]);case"pointer":return Xe.toPointer(t.path);default:throw new TypeError("Unknown result type")}};Xe.prototype._handleCallback=function(t,e,n){if(e){const r=this._getPreferredOutput(t);t.path=typeof t.path=="string"?t.path:Xe.toPathString(t.path),e(r,n,t)}};Xe.prototype._trace=function(t,e,n,r,s,i,o,a){let l;if(!t.length)return l={path:n,value:e,parent:r,parentProperty:s,hasArrExpr:o},this._handleCallback(l,i,"value"),l;const c=t[0],d=t.slice(1),f=[];function h(p){Array.isArray(p)?p.forEach(g=>{f.push(g)}):f.push(p)}if((typeof c!="string"||a)&&e&&Object.hasOwn(e,c))h(this._trace(d,e[c],fn(n,c),e,c,i,o));else if(c==="*")this._walk(e,p=>{h(this._trace(d,e[p],fn(n,p),e,p,i,!0,!0))});else if(c==="..")h(this._trace(d,e,n,r,s,i,o)),this._walk(e,p=>{typeof e[p]=="object"&&h(this._trace(t.slice(),e[p],fn(n,p),e,p,i,!0))});else{if(c==="^")return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:d,isParentSelector:!0};if(c==="~")return l={path:fn(n,c),value:s,parent:r,parentProperty:null},this._handleCallback(l,i,"property"),l;if(c==="$")h(this._trace(d,e,n,null,null,i,o));else if(/^(-?\d*):(-?\d*):?(\d*)$/u.test(c))h(this._slice(c,d,e,n,r,s,i));else if(c.indexOf("?(")===0){if(this.currEval===!1)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");const p=c.replace(/^\?\((.*?)\)$/u,"$1"),g=/@.?([^?]*)[['](\??\(.*?\))(?!.\)\])[\]']/gu.exec(p);g?this._walk(e,m=>{const w=[g[2]],S=g[1]?e[m][g[1]]:e[m];this._trace(w,S,n,r,s,i,!0).length>0&&h(this._trace(d,e[m],fn(n,m),e,m,i,!0))}):this._walk(e,m=>{this._eval(p,e[m],m,n,r,s)&&h(this._trace(d,e[m],fn(n,m),e,m,i,!0))})}else if(c[0]==="("){if(this.currEval===!1)throw new Error("Eval [(expr)] prevented in JSONPath expression.");h(this._trace(bo(this._eval(c,e,n.at(-1),n.slice(0,-1),r,s),d),e,n,r,s,i,o))}else if(c[0]==="@"){let p=!1;const g=c.slice(1,-2);switch(g){case"scalar":(!e||!["object","function"].includes(typeof e))&&(p=!0);break;case"boolean":case"string":case"undefined":case"function":typeof e===g&&(p=!0);break;case"integer":Number.isFinite(e)&&!(e%1)&&(p=!0);break;case"number":Number.isFinite(e)&&(p=!0);break;case"nonFinite":typeof e=="number"&&!Number.isFinite(e)&&(p=!0);break;case"object":e&&typeof e===g&&(p=!0);break;case"array":Array.isArray(e)&&(p=!0);break;case"other":p=this.currOtherTypeCallback(e,n,r,s);break;case"null":e===null&&(p=!0);break;default:throw new TypeError("Unknown value type "+g)}if(p)return l={path:n,value:e,parent:r,parentProperty:s},this._handleCallback(l,i,"value"),l}else if(c[0]==="`"&&e&&Object.hasOwn(e,c.slice(1))){const p=c.slice(1);h(this._trace(d,e[p],fn(n,p),e,p,i,o,!0))}else if(c.includes(",")){const p=c.split(",");for(const g of p)h(this._trace(bo(g,d),e,n,r,s,i,!0))}else!a&&e&&Object.hasOwn(e,c)&&h(this._trace(d,e[c],fn(n,c),e,c,i,o,!0))}if(this._hasParentSelector)for(let p=0;p<f.length;p++){const g=f[p];if(g&&g.isParentSelector){const m=this._trace(g.expr,e,g.path,r,s,i,o);if(Array.isArray(m)){f[p]=m[0];const w=m.length;for(let S=1;S<w;S++)p++,f.splice(p,0,m[S])}else f[p]=m}}return f};Xe.prototype._walk=function(t,e){if(Array.isArray(t)){const n=t.length;for(let r=0;r<n;r++)e(r)}else t&&typeof t=="object"&&Object.keys(t).forEach(n=>{e(n)})};Xe.prototype._slice=function(t,e,n,r,s,i,o){if(!Array.isArray(n))return;const a=n.length,l=t.split(":"),c=l[2]&&Number.parseInt(l[2])||1;let d=l[0]&&Number.parseInt(l[0])||0,f=l[1]&&Number.parseInt(l[1])||a;d=d<0?Math.max(0,d+a):Math.min(a,d),f=f<0?Math.max(0,f+a):Math.min(a,f);const h=[];for(let p=d;p<f;p+=c)this._trace(bo(p,e),n,r,s,i,o,!0).forEach(m=>{h.push(m)});return h};Xe.prototype._eval=function(t,e,n,r,s,i){this.currSandbox._$_parentProperty=i,this.currSandbox._$_parent=s,this.currSandbox._$_property=n,this.currSandbox._$_root=this.json,this.currSandbox._$_v=e;const o=t.includes("@path");o&&(this.currSandbox._$_path=Xe.toPathString(r.concat([n])));const a=this.currEval+"Script:"+t;if(!Xe.cache[a]){let l=t.replaceAll("@parentProperty","_$_parentProperty").replaceAll("@parent","_$_parent").replaceAll("@property","_$_property").replaceAll("@root","_$_root").replaceAll(/@([.\s)[])/gu,"_$_v$1");if(o&&(l=l.replaceAll("@path","_$_path")),this.currEval==="safe"||this.currEval===!0||this.currEval===void 0)Xe.cache[a]=new this.safeVm.Script(l);else if(this.currEval==="native")Xe.cache[a]=new this.vm.Script(l);else if(typeof this.currEval=="function"&&this.currEval.prototype&&Object.hasOwn(this.currEval.prototype,"runInNewContext")){const c=this.currEval;Xe.cache[a]=new c(l)}else if(typeof this.currEval=="function")Xe.cache[a]={runInNewContext:c=>this.currEval(l,c)};else throw new TypeError(`Unknown "eval" property "${this.currEval}"`)}try{return Xe.cache[a].runInNewContext(this.currSandbox)}catch(l){if(this.ignoreEvalErrors)return!1;throw new Error("jsonPath: "+l.message+": "+t)}};Xe.cache={};Xe.toPathString=function(t){const e=t,n=e.length;let r="$";for(let s=1;s<n;s++)/^(~|\^|@.*?\(\))$/u.test(e[s])||(r+=/^[0-9*]+$/u.test(e[s])?"["+e[s]+"]":"['"+e[s]+"']");return r};Xe.toPointer=function(t){const e=t,n=e.length;let r="";for(let s=1;s<n;s++)/^(~|\^|@.*?\(\))$/u.test(e[s])||(r+="/"+e[s].toString().replaceAll("~","~0").replaceAll("/","~1"));return r};Xe.toPathArray=function(t){const{cache:e}=Xe;if(e[t])return e[t].concat();const n=[],s=t.replaceAll(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/gu,";$&;").replaceAll(/[['](\??\(.*?\))[\]'](?!.\])/gu,function(i,o){return"[#"+(n.push(o)-1)+"]"}).replaceAll(/\[['"]([^'\]]*)['"]\]/gu,function(i,o){return"['"+o.replaceAll(".","%@%").replaceAll("~","%%@@%%")+"']"}).replaceAll("~",";~;").replaceAll(/['"]?\.['"]?(?![^[]*\])|\[['"]?/gu,";").replaceAll("%@%",".").replaceAll("%%@@%%","~").replaceAll(/(?:;)?(\^+)(?:;)?/gu,function(i,o){return";"+o.split("").join(";")+";"}).replaceAll(/;;;|;;/gu,";..;").replaceAll(/;$|'?\]|'$/gu,"").split(";").map(function(i){const o=i.match(/#(\d+)/u);return!o||!o[1]?i:n[o[1]]});return e[t]=s,e[t].concat()};Xe.prototype.safeVm={Script:fw};const hw=function(t,e,n){const r=t.length;for(let s=0;s<r;s++){const i=t[s];n(i)&&e.push(t.splice(s--,1)[0])}};class pw{constructor(e){this.code=e}runInNewContext(e){let n=this.code;const r=Object.keys(e),s=[];hw(r,s,c=>typeof e[c]=="function");const i=r.map(c=>e[c]);n=s.reduce((c,d)=>{let f=e[d].toString();return/function/u.test(f)||(f="function "+f),"var "+d+"="+f+";"+c},"")+n,!/(['"])use strict\1/u.test(n)&&!r.includes("arguments")&&(n="var arguments = undefined;"+n),n=n.replace(/;\s*$/u,"");const a=n.lastIndexOf(";"),l=a!==-1?n.slice(0,a+1)+" return "+n.slice(a+1):" return "+n;return new Function(...r,l)(...i)}}Xe.prototype.vm={Script:pw};const mw="/tc-animator/assets/blockbench-settings-G7FDEJl4.png";function gw(){const t=ye.c(27),{modelIds:e,selectedObjectPath:n,cart:r}=qt();let s;e:{if(!n||!r){let C;t[0]===Symbol.for("react.memo_cache_sentinel")?(C=[],t[0]=C):C=t[0],s=C;break e}let E;if(t[1]!==r||t[2]!==n){const C=Xe({path:n,json:r,resultType:"value"});if(C.length===0){let T;t[5]===Symbol.for("react.memo_cache_sentinel")?(T=[],t[5]=T):T=t[5],s=T;break e}const I=C[0];if(!I||typeof I!="object"){let T;t[6]===Symbol.for("react.memo_cache_sentinel")?(T=[],t[6]=T):T=t[6],s=T;break e}E=new Set;const j=function(L){if(!L)return;const D=L["minecraft:custom_model_data"];if(D&&typeof D=="object"&&"floats"in D){const X=D.floats;Array.isArray(X)&&X.forEach(q=>E.add(q))}};if("item"in I){const T=I.item;j(T?.components)}t[1]=r,t[2]=n,t[3]=E,t[4]=s}else E=t[3],s=t[4];let x;t[7]!==E?(x=Array.from(E),t[7]=E,t[8]=x):x=t[8],s=x}const i=s;let o,a;t[9]===Symbol.for("react.memo_cache_sentinel")?(o=y.jsx("br",{}),a=y.jsx("br",{}),t[9]=o,t[10]=a):(o=t[9],a=t[10]);let l;t[11]===Symbol.for("react.memo_cache_sentinel")?(l=y.jsx("b",{children:"GLTF"}),t[11]=l):l=t[11];let c;t[12]===Symbol.for("react.memo_cache_sentinel")?(c=y.jsx("b",{children:"GLB"}),t[12]=c):c=t[12];let d;t[13]===Symbol.for("react.memo_cache_sentinel")?(d=y.jsx(Sn,{className:"mx-1 cursor-help font-bold underline underline-offset-2",children:"Blockbench"}),t[13]=d):d=t[13];let f;t[14]===Symbol.for("react.memo_cache_sentinel")?(f=y.jsxs(kn,{children:[d,y.jsxs(An,{children:[y.jsx("p",{className:"mb-2",children:"Use these settings when exporting from Blockbench:"}),y.jsx("img",{src:mw,alt:"Blockbench export settings"})]})]}),t[14]=f):f=t[14];let h,p;t[15]===Symbol.for("react.memo_cache_sentinel")?(h=y.jsx("br",{}),p=y.jsx("br",{}),t[15]=h,t[16]=p):(h=t[15],p=t[16]);let g,m;t[17]===Symbol.for("react.memo_cache_sentinel")?(m=y.jsxs("p",{className:"text-muted-foreground mb-4",children:["You can replace the default cubes with your own 3D models to make the cart look like it is ingame.",o,a,"Models must be in ",l," or ",c," format. These can be exported from",f,"or most 3D software.",h,p,"Below, you'll see each ",y.jsx("b",{children:"Custom Model ID"})," for your attachments. Select an attachment in the 3D view to highlight the corresponding ID if it has one. Upload your model next to the matching ID to apply it in TC Animator."]}),g=y.jsx("hr",{className:"my-4"}),t[17]=g,t[18]=m):(g=t[17],m=t[18]);let w;t[19]!==e.length?(w=e.length===0&&y.jsx("p",{className:"text-muted-foreground text-sm",children:"No custom models required for this cart."}),t[19]=e.length,t[20]=w):w=t[20];let S;t[21]!==e||t[22]!==i?(S=e.length>0&&y.jsxs(Qy,{children:[y.jsx(Jy,{children:y.jsxs(Ll,{children:[y.jsx(Ml,{children:"Custom Model ID"}),y.jsx(Ml,{children:"Upload Model"})]})}),y.jsx(ew,{children:e.map(E=>y.jsxs(Ll,{children:[y.jsx(Bl,{className:i.includes(E)?"font-bold text-yellow-500":"",children:E}),y.jsx(Bl,{children:y.jsx(ti,{type:"file",accept:".gltf,.glb",className:"m-0 w-full"})})]},E))})]}),t[21]=e,t[22]=i,t[23]=S):S=t[23];let A;return t[24]!==w||t[25]!==S?(A=y.jsxs(y.Fragment,{children:[m,g,w,S]}),t[24]=w,t[25]=S,t[26]=A):A=t[26],A}function Ul(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("bg-accent animate-pulse rounded-md",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("div",{"data-slot":"skeleton",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}const Zl=Me.lazy(()=>ah(()=>import("./monaco-CDJ1Rlok.js"),__vite__mapDeps([0,1])));function bw(){const t=ye.c(21),e=qt();let n,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=y.jsxs(Xy,{className:"w-full flex-wrap rounded-none",children:[y.jsx(Cs,{value:"object-controls",children:"Object Controls"}),y.jsx(Cs,{value:"custom-models",children:"Custom Models"}),y.jsx(Cs,{value:"cart-debug",children:"Cart Debug"}),y.jsx(Cs,{value:"project-debug",children:"Project Debug"})]}),r=y.jsx(js,{value:"object-controls",className:"px-4",children:"W.I.P."}),t[0]=n,t[1]=r):(n=t[0],r=t[1]);let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=y.jsx(js,{value:"custom-models",className:"px-4",children:y.jsx(gw,{})}),t[2]=s):s=t[2];let i;t[3]===Symbol.for("react.memo_cache_sentinel")?(i=y.jsx(Ul,{className:"h-full w-full"}),t[3]=i):i=t[3];let o;t[4]!==e.cart?(o=JSON.stringify(e.cart,null,2),t[4]=e.cart,t[5]=o):o=t[5];let a;t[6]===Symbol.for("react.memo_cache_sentinel")?(a={minimap:{enabled:!0},scrollbar:{alwaysConsumeMouseWheel:!1},wordWrap:"on",automaticLayout:!0},t[6]=a):a=t[6];let l;t[7]!==e?(l=m=>{if(m)try{const w=JSON.parse(m);e.setCart(w)}catch(w){console.error("Failed to parse JSON:",w)}},t[7]=e,t[8]=l):l=t[8];let c;t[9]!==o||t[10]!==l?(c=y.jsx(js,{value:"cart-debug",children:y.jsx(Me.Suspense,{fallback:i,children:y.jsx(Zl,{language:"json",theme:"vs-dark",value:o,options:a,onChange:l})})}),t[9]=o,t[10]=l,t[11]=c):c=t[11];let d;t[12]===Symbol.for("react.memo_cache_sentinel")?(d=y.jsx(Ul,{className:"h-full w-full"}),t[12]=d):d=t[12];let f;t[13]!==e?(f=JSON.stringify({...e,cart:void 0},null,2),t[13]=e,t[14]=f):f=t[14];let h;t[15]===Symbol.for("react.memo_cache_sentinel")?(h={minimap:{enabled:!0},scrollbar:{alwaysConsumeMouseWheel:!1},wordWrap:"on",automaticLayout:!0},t[15]=h):h=t[15];let p;t[16]!==f?(p=y.jsx(js,{value:"project-debug",children:y.jsx(Me.Suspense,{fallback:d,children:y.jsx(Zl,{language:"json",theme:"vs-dark",value:f,options:h})})}),t[16]=f,t[17]=p):p=t[17];let g;return t[18]!==p||t[19]!==c?(g=y.jsxs(Wy,{defaultValue:"project-debug",className:"-mt-4 h-full w-full",children:[n,r,s,c,p]}),t[18]=p,t[19]=c,t[20]=g):g=t[20],g}function yw(){const t=ye.c(16),[e,n]=Me.useState(null),[r,s]=Me.useState(null),[i,o]=Me.useState(!1);let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=E=>{s(E),o(!1)},t[0]=a):a=t[0];const l=a;let c;t[1]!==r?(c=()=>{r&&r.playPause()},t[1]=r,t[2]=c):c=t[2];const d=c;let f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f=y.jsx(ti,{type:"file",accept:"audio/*",onChange:E=>{if(E.target.files&&E.target.files.length>0){const x=E.target.files[0];n(x)}}}),t[3]=f):f=t[3];let h;t[4]!==e?(h=e?URL.createObjectURL(e):"",t[4]=e,t[5]=h):h=t[5];let p,g;t[6]===Symbol.for("react.memo_cache_sentinel")?(p=()=>o(!0),g=()=>o(!1),t[6]=p,t[7]=g):(p=t[6],g=t[7]);let m;t[8]!==h?(m=y.jsx(Sd,{url:h,waveColor:"#3a81f6",onReady:l,onPlay:p,onPause:g}),t[8]=h,t[9]=m):m=t[9];const w=i?"Pause":"Play";let S;t[10]!==d||t[11]!==w?(S=y.jsx("button",{onClick:d,children:w}),t[10]=d,t[11]=w,t[12]=S):S=t[12];let A;return t[13]!==m||t[14]!==S?(A=y.jsxs("div",{children:[f,m,S]}),t[13]=m,t[14]=S,t[15]=A):A=t[15],A}function ww(){const t=ye.c(15),e=Wr(),n=qt();let r,s;t[0]!==e.theme?(r=()=>{const g=window.document.documentElement;g.classList.remove("light","dark"),g.classList.add(e.theme)},s=[e.theme],t[0]=e.theme,t[1]=r,t[2]=s):(r=t[1],s=t[2]),Me.useEffect(r,s);let i,o;t[3]!==n?(i=()=>{const g=m=>{n.saved||!n.cart||(m.preventDefault(),m.returnValue="")};return window.addEventListener("beforeunload",g),()=>{window.removeEventListener("beforeunload",g)}},o=[n],t[3]=n,t[4]=i,t[5]=o):(i=t[4],o=t[5]),Me.useEffect(i,o);let a,l;t[6]!==e.saveInterval||t[7]!==n?(a=()=>{const g=setInterval(()=>{!n.saved&&n.cart&&n.saveProject().catch(_w)},e.saveInterval*1e3);return()=>{clearInterval(g)}},l=[n,e.saveInterval],t[6]=e.saveInterval,t[7]=n,t[8]=a,t[9]=l):(a=t[8],l=t[9]),Me.useEffect(a,l);let c,d;t[10]===Symbol.for("react.memo_cache_sentinel")?(c=y.jsxs(os,{minSize:5,defaultSize:20,className:"bg-card flex flex-col gap-4",children:[y.jsx(xy,{}),y.jsx(bw,{})]}),d=y.jsx(ma,{}),t[10]=c,t[11]=d):(c=t[10],d=t[11]);let f,h;t[12]===Symbol.for("react.memo_cache_sentinel")?(f=y.jsx(os,{children:y.jsxs(pa,{direction:"horizontal",autoSaveId:"tca-preview",autoSave:"true",children:[c,d,y.jsx(os,{minSize:5,children:y.jsx(Yy,{})})]})}),h=y.jsx(ma,{}),t[12]=f,t[13]=h):(f=t[12],h=t[13]);let p;return t[14]===Symbol.for("react.memo_cache_sentinel")?(p=y.jsx("div",{className:"h-screen w-screen",children:y.jsxs(pa,{direction:"vertical",autoSaveId:"tca-project",autoSave:"true",children:[f,h,y.jsxs(os,{minSize:5,defaultSize:40,className:"bg-card p-4",children:["Timeline",y.jsx(yw,{})]})]})}),t[14]=p):p=t[14],p}function _w(t){console.error("Auto-save failed:",t)}function Fo(t){const e=ye.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(Od,{"data-slot":"alert-dialog",...n}),e[2]=n,e[3]=r):r=e[3],r}function vw(t){const e=ye.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(Id,{"data-slot":"alert-dialog-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function xw(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(Cd,{"data-slot":"alert-dialog-overlay",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Uo(t){const e=ye.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]===Symbol.for("react.memo_cache_sentinel")?(s=y.jsx(xw,{}),e[3]=s):s=e[3];let i;e[4]!==n?(i=$e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),e[4]=n,e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==i?(o=y.jsxs(vw,{children:[s,y.jsx(Td,{"data-slot":"alert-dialog-content",className:i,...r})]}),e[6]=r,e[7]=i,e[8]=o):o=e[8],o}function Zo(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("div",{"data-slot":"alert-dialog-header",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Vo(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("div",{"data-slot":"alert-dialog-footer",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function qo(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("text-lg font-semibold",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(Ed,{"data-slot":"alert-dialog-title",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Ko(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e("text-muted-foreground text-sm",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(Nd,{"data-slot":"alert-dialog-description",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function kw(t){const e=ye.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=$e(yc({variant:"outline"}),n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(Ad,{className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Sw(){const t=[],e=document.createElement("canvas");return!!(e.getContext("webgl")||e.getContext("experimental-webgl"))||t.push("WebGL / 3D Graphics"),"AudioContext"in window||"webkitAudioContext"in window||t.push("Web Audio API (AudioContext)"),"requestAnimationFrame"in window||t.push("Animation Frame API (requestAnimationFrame)"),t}const Aw=()=>{const t=ye.c(22);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0];const[n,r]=Me.useState(e),[s,i]=Me.useState(!1);let o,a;if(t[1]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{const E=Sw();(E.length>0||!fr)&&(r(E),setTimeout(()=>{i(!0)},10))},a=[],t[1]=o,t[2]=a):(o=t[1],a=t[2]),Me.useEffect(o,a),!s)return null;let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=y.jsx(qo,{children:"Missing Browser Capabilities"}),t[3]=l):l=t[3];let c;t[4]!==n?(c=n.map(Ew),t[4]=n,t[5]=c):c=t[5];let d;t[6]===Symbol.for("react.memo_cache_sentinel")?(d=!fr&&y.jsxs("li",{children:["File System Access API",y.jsx("br",{}),y.jsx("span",{className:"text-xs text-muted-foreground",children:"Used for autosave and loading files directly. Without it, you'll need to manually download and upload your files each time."})]}),t[6]=d):d=t[6];let f;t[7]!==c?(f=y.jsxs("ul",{className:"my-2 list-disc list-inside",children:[c,d]}),t[7]=c,t[8]=f):f=t[8];let h;t[9]===Symbol.for("react.memo_cache_sentinel")?(h=y.jsx("strong",{children:"Chrome"}),t[9]=h):h=t[9];let p;t[10]===Symbol.for("react.memo_cache_sentinel")?(p=y.jsx("strong",{children:"Edge"}),t[10]=p):p=t[10];let g;t[11]===Symbol.for("react.memo_cache_sentinel")?(g=y.jsx("strong",{children:"Brave"}),t[11]=g):g=t[11];let m;t[12]!==f?(m=y.jsxs(Zo,{children:[l,y.jsxs(Ko,{children:["This app requires certain browser features to work correctly. Your current browser is missing the following capabilities:",f,"To use all features, switch to a modern Chromium-based browser like ",h,","," ",p,", or ",g,"."]})]}),t[12]=f,t[13]=m):m=t[13];let w;t[14]!==n.length?(w=!fr&&n.length===0&&y.jsx(Vo,{children:y.jsx(kw,{children:"Acknowledge"})}),t[14]=n.length,t[15]=w):w=t[15];let S;t[16]!==m||t[17]!==w?(S=y.jsxs(Uo,{children:[m,w]}),t[16]=m,t[17]=w,t[18]=S):S=t[18];let A;return t[19]!==s||t[20]!==S?(A=y.jsx(Fo,{open:s,onOpenChange:i,children:S}),t[19]=s,t[20]=S,t[21]=A):A=t[21],A};function Ew(t){return y.jsx("li",{children:t},t)}const Go=Symbol.for("yaml.alias"),yo=Symbol.for("yaml.document"),Nn=Symbol.for("yaml.map"),Lu=Symbol.for("yaml.pair"),Jt=Symbol.for("yaml.scalar"),Ar=Symbol.for("yaml.seq"),Dt=Symbol.for("yaml.node.type"),Xn=t=>!!t&&typeof t=="object"&&t[Dt]===Go,li=t=>!!t&&typeof t=="object"&&t[Dt]===yo,Jr=t=>!!t&&typeof t=="object"&&t[Dt]===Nn,pt=t=>!!t&&typeof t=="object"&&t[Dt]===Lu,nt=t=>!!t&&typeof t=="object"&&t[Dt]===Jt,es=t=>!!t&&typeof t=="object"&&t[Dt]===Ar;function dt(t){if(t&&typeof t=="object")switch(t[Dt]){case Nn:case Ar:return!0}return!1}function ht(t){if(t&&typeof t=="object")switch(t[Dt]){case Go:case Nn:case Jt:case Ar:return!0}return!1}const Mu=t=>(nt(t)||dt(t))&&!!t.anchor,Un=Symbol("break visit"),Nw=Symbol("skip children"),Br=Symbol("remove node");function Er(t,e){const n=Tw(e);li(t)?or(null,t.contents,n,Object.freeze([t]))===Br&&(t.contents=null):or(null,t,n,Object.freeze([]))}Er.BREAK=Un;Er.SKIP=Nw;Er.REMOVE=Br;function or(t,e,n,r){const s=Ow(t,e,n,r);if(ht(s)||pt(s))return Iw(t,r,s),or(t,s,n,r);if(typeof s!="symbol"){if(dt(e)){r=Object.freeze(r.concat(e));for(let i=0;i<e.items.length;++i){const o=or(i,e.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===Un)return Un;o===Br&&(e.items.splice(i,1),i-=1)}}}else if(pt(e)){r=Object.freeze(r.concat(e));const i=or("key",e.key,n,r);if(i===Un)return Un;i===Br&&(e.key=null);const o=or("value",e.value,n,r);if(o===Un)return Un;o===Br&&(e.value=null)}}return s}function Tw(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function Ow(t,e,n,r){if(typeof n=="function")return n(t,e,r);if(Jr(e))return n.Map?.(t,e,r);if(es(e))return n.Seq?.(t,e,r);if(pt(e))return n.Pair?.(t,e,r);if(nt(e))return n.Scalar?.(t,e,r);if(Xn(e))return n.Alias?.(t,e,r)}function Iw(t,e,n){const r=e[e.length-1];if(dt(r))r.items[t]=n;else if(pt(r))t==="key"?r.key=n:r.value=n;else if(li(r))r.contents=n;else{const s=Xn(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const Cw={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},jw=t=>t.replace(/[!,[\]{}]/g,e=>Cw[e]);class St{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},St.defaultYaml,e),this.tags=Object.assign({},St.defaultTags,n)}clone(){const e=new St(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new St(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:St.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},St.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:St.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},St.defaultTags),this.atNextDocument=!1);const r=e.trim().split(/[ \t]+/),s=r.shift();switch(s){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[i,o]=r;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=r;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,o),!1}}default:return n(0,`Unknown directive ${s}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,s]=e.match(/^(.*!)([^!]*)$/s);s||n(`The ${e} tag has no suffix`);const i=this.tags[r];if(i)try{return i+decodeURIComponent(s)}catch(o){return n(String(o)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+jw(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let s;if(e&&r.length>0&&ht(e.contents)){const i={};Er(e.contents,(o,a)=>{ht(a)&&a.tag&&(i[a.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,o]of r)i==="!!"&&o==="tag:yaml.org,2002:"||(!e||s.some(a=>a.startsWith(o)))&&n.push(`%TAG ${i} ${o}`);return n.join(`
`)}}St.defaultYaml={explicit:!1,version:"1.2"};St.defaultTags={"!!":"tag:yaml.org,2002:"};function Bu(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function Fu(t){const e=new Set;return Er(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function Uu(t,e){for(let n=1;;++n){const r=`${t}${n}`;if(!e.has(r))return r}}function Pw(t,e){const n=[],r=new Map;let s=null;return{onAnchor:i=>{n.push(i),s??(s=Fu(t));const o=Uu(e,s);return s.add(o),o},setAnchors:()=>{for(const i of n){const o=r.get(i);if(typeof o=="object"&&o.anchor&&(nt(o.node)||dt(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=i,a}}},sourceObjects:r}}function ar(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,i=r.length;s<i;++s){const o=r[s],a=ar(t,r,String(s),o);a===void 0?delete r[s]:a!==o&&(r[s]=a)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const i=r.get(s),o=ar(t,r,s,i);o===void 0?r.delete(s):o!==i&&r.set(s,o)}else if(r instanceof Set)for(const s of Array.from(r)){const i=ar(t,r,s,s);i===void 0?r.delete(s):i!==s&&(r.delete(s),r.add(i))}else for(const[s,i]of Object.entries(r)){const o=ar(t,r,s,i);o===void 0?delete r[s]:o!==i&&(r[s]=o)}return t.call(e,n,r)}function $t(t,e,n){if(Array.isArray(t))return t.map((r,s)=>$t(r,String(s),n));if(t&&typeof t.toJSON=="function"){if(!n||!Mu(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=i=>{r.res=i,delete n.onCreate};const s=t.toJSON(e,n);return n.onCreate&&n.onCreate(s),s}return typeof t=="bigint"&&!n?.keep?Number(t):t}class Ho{constructor(e){Object.defineProperty(this,Dt,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){if(!li(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=$t(this,"",o);if(typeof s=="function")for(const{count:l,res:c}of o.anchors.values())s(c,l);return typeof i=="function"?ar(i,{"":a},"",a):a}}class Yo extends Ho{constructor(e){super(Go),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let r;n?.aliasResolveCache?r=n.aliasResolveCache:(r=[],Er(e,{Node:(i,o)=>{(Xn(o)||Mu(o))&&r.push(o)}}),n&&(n.aliasResolveCache=r));let s;for(const i of r){if(i===this)break;i.anchor===this.source&&(s=i)}return s}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:s,maxAliasCount:i}=n,o=this.resolve(s,n);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=r.get(o);if(a||($t(o,null,n),a=r.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=qs(s,o,r)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,r){const s=`*${this.source}`;if(e){if(Bu(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${s} `}return s}}function qs(t,e,n){if(Xn(e)){const r=e.resolve(t),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(dt(e)){let r=0;for(const s of e.items){const i=qs(t,s,n);i>r&&(r=i)}return r}else if(pt(e)){const r=qs(t,e.key,n),s=qs(t,e.value,n);return Math.max(r,s)}return 1}const Zu=t=>!t||typeof t!="function"&&typeof t!="object";class Be extends Ho{constructor(e){super(Jt),this.value=e}toJSON(e,n){return n?.keep?this.value:$t(this.value,e,n)}toString(){return String(this.value)}}Be.BLOCK_FOLDED="BLOCK_FOLDED";Be.BLOCK_LITERAL="BLOCK_LITERAL";Be.PLAIN="PLAIN";Be.QUOTE_DOUBLE="QUOTE_DOUBLE";Be.QUOTE_SINGLE="QUOTE_SINGLE";const zw="tag:yaml.org,2002:";function $w(t,e,n){if(e){const r=n.filter(i=>i.tag===e),s=r.find(i=>!i.format)??r[0];if(!s)throw new Error(`Tag ${e} not found`);return s}return n.find(r=>r.identify?.(t)&&!r.format)}function Hr(t,e,n){if(li(t)&&(t=t.contents),ht(t))return t;if(pt(t)){const f=n.schema[Nn].createNode?.(n.schema,null,n);return f.items.push(t),f}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:i,schema:o,sourceObjects:a}=n;let l;if(r&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor??(l.anchor=s(t)),new Yo(l.anchor);l={anchor:null,node:null},a.set(t,l)}e?.startsWith("!!")&&(e=zw+e.slice(2));let c=$w(t,e,o.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const f=new Be(t);return l&&(l.node=f),f}c=t instanceof Map?o[Nn]:Symbol.iterator in Object(t)?o[Ar]:o[Nn]}i&&(i(c),delete n.onTagObj);const d=c?.createNode?c.createNode(n.schema,t,n):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(n.schema,t,n):new Be(t);return e?d.tag=e:c.default||(d.tag=c.tag),l&&(l.node=d),d}function Js(t,e,n){let r=n;for(let s=e.length-1;s>=0;--s){const i=e[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=r,r=o}else r=new Map([[i,r]])}return Hr(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const Rr=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class Vu extends Ho{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>ht(r)||pt(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(Rr(e))this.add(n);else{const[r,...s]=e,i=this.get(r,!0);if(dt(i))i.addIn(s,n);else if(i===void 0&&this.schema)this.set(r,Js(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const s=this.get(n,!0);if(dt(s))return s.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...s]=e,i=this.get(r,!0);return s.length===0?!n&&nt(i)?i.value:i:dt(i)?i.getIn(s,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!pt(n))return!1;const r=n.value;return r==null||e&&nt(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const s=this.get(n,!0);return dt(s)?s.hasIn(r):!1}setIn(e,n){const[r,...s]=e;if(s.length===0)this.set(r,n);else{const i=this.get(r,!0);if(dt(i))i.setIn(s,n);else if(i===void 0&&this.schema)this.set(r,Js(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}}const Dw=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function nn(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const qn=(t,e,n)=>t.endsWith(`
`)?nn(n,e):n.includes(`
`)?`
`+nn(n,e):(t.endsWith(" ")?"":" ")+n,qu="flow",wo="block",Ks="quoted";function ci(t,e,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!s||s<0)return t;s<i&&(i=0);const l=Math.max(1+i,1+s-e.length);if(t.length<=l)return t;const c=[],d={};let f=s-e.length;typeof r=="number"&&(r>s-Math.max(2,i)?c.push(0):f=s-r);let h,p,g=!1,m=-1,w=-1,S=-1;n===wo&&(m=Vl(t,m,e.length),m!==-1&&(f=m+l));for(let E;E=t[m+=1];){if(n===Ks&&E==="\\"){switch(w=m,t[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}S=m}if(E===`
`)n===wo&&(m=Vl(t,m,e.length)),f=m+e.length+l,h=void 0;else{if(E===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){const x=t[m+1];x&&x!==" "&&x!==`
`&&x!=="	"&&(h=m)}if(m>=f)if(h)c.push(h),f=h+l,h=void 0;else if(n===Ks){for(;p===" "||p==="	";)p=E,E=t[m+=1],g=!0;const x=m>S+1?m-2:w-1;if(d[x])return t;c.push(x),d[x]=!0,f=x+l,h=void 0}else g=!0}p=E}if(g&&a&&a(),c.length===0)return t;o&&o();let A=t.slice(0,c[0]);for(let E=0;E<c.length;++E){const x=c[E],C=c[E+1]||t.length;x===0?A=`
${e}${t.slice(0,C)}`:(n===Ks&&d[x]&&(A+=`${t[x]}\\`),A+=`
${e}${t.slice(x+1,C)}`)}return A}function Vl(t,e,n){let r=e,s=e+1,i=t[s];for(;i===" "||i==="	";)if(e<s+n)i=t[++e];else{do i=t[++e];while(i&&i!==`
`);r=e,s=e+1,i=t[s]}return r}const ui=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),fi=t=>/^(%|---|\.\.\.)/m.test(t);function Rw(t,e,n){if(!e||e<0)return!1;const r=e-n,s=t.length;if(s<=r)return!1;for(let i=0,o=0;i<s;++i)if(t[i]===`
`){if(i-o>r)return!0;if(o=i+1,s-o<=r)return!1}return!0}function Fr(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,s=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(fi(t)?"  ":"");let o="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const d=n.substr(l+2,4);switch(d){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:d.substr(0,2)==="00"?o+="\\x"+d.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<s)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=i,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,r?o:ci(o,i,Ks,ui(e,!1))}function _o(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return Fr(t,e);const n=e.indent||(fi(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:ci(r,n,qu,ui(e,!1))}function lr(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=Fr;else{const s=t.includes('"'),i=t.includes("'");s&&!i?r=_o:i&&!s?r=Fr:r=n?_o:Fr}return r(t,e)}let vo;try{vo=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{vo=/\n+(?!\n|$)/g}function Gs({comment:t,type:e,value:n},r,s,i){const{blockQuote:o,commentString:a,lineWidth:l}=r.options;if(!o||/\n[\t ]+$/.test(n))return lr(n,r);const c=r.indent||(r.forceBlockIndent||fi(n)?"  ":""),d=o==="literal"?!0:o==="folded"||e===Be.BLOCK_FOLDED?!1:e===Be.BLOCK_LITERAL?!0:!Rw(n,l,c.length);if(!n)return d?`|
`:`>
`;let f,h;for(h=n.length;h>0;--h){const C=n[h-1];if(C!==`
`&&C!=="	"&&C!==" ")break}let p=n.substring(h);const g=p.indexOf(`
`);g===-1?f="-":n===p||g!==p.length-1?(f="+",i&&i()):f="",p&&(n=n.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(vo,`$&${c}`));let m=!1,w,S=-1;for(w=0;w<n.length;++w){const C=n[w];if(C===" ")m=!0;else if(C===`
`)S=w;else break}let A=n.substring(0,S<w?S+1:w);A&&(n=n.substring(A.length),A=A.replace(/\n+/g,`$&${c}`));let x=(m?c?"2":"1":"")+f;if(t&&(x+=" "+a(t.replace(/ ?[\r\n]+/g," ")),s&&s()),!d){const C=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let I=!1;const j=ui(r,!0);o!=="folded"&&e!==Be.BLOCK_FOLDED&&(j.onOverflow=()=>{I=!0});const T=ci(`${A}${C}${p}`,c,wo,j);if(!I)return`>${x}
${c}${T}`}return n=n.replace(/\n+/g,`$&${c}`),`|${x}
${c}${A}${n}${p}`}function Lw(t,e,n,r){const{type:s,value:i}=t,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:d}=e;if(a&&i.includes(`
`)||d&&/[[\]{},]/.test(i))return lr(i,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||d||!i.includes(`
`)?lr(i,e):Gs(t,e,n,r);if(!a&&!d&&s!==Be.PLAIN&&i.includes(`
`))return Gs(t,e,n,r);if(fi(i)){if(l==="")return e.forceBlockIndent=!0,Gs(t,e,n,r);if(a&&l===c)return lr(i,e)}const f=i.replace(/\n+/g,`$&
${l}`);if(o){const h=m=>m.default&&m.tag!=="tag:yaml.org,2002:str"&&m.test?.test(f),{compat:p,tags:g}=e.doc.schema;if(g.some(h)||p?.some(h))return lr(i,e)}return a?f:ci(f,l,qu,ui(e,!1))}function Wo(t,e,n,r){const{implicitKey:s,inFlow:i}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==Be.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=Be.QUOTE_DOUBLE);const l=d=>{switch(d){case Be.BLOCK_FOLDED:case Be.BLOCK_LITERAL:return s||i?lr(o.value,e):Gs(o,e,n,r);case Be.QUOTE_DOUBLE:return Fr(o.value,e);case Be.QUOTE_SINGLE:return _o(o.value,e);case Be.PLAIN:return Lw(o,e,n,r);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:d,defaultStringType:f}=e.options,h=s&&d||f;if(c=l(h),c===null)throw new Error(`Unsupported default string type ${h}`)}return c}function Ku(t,e){const n=Object.assign({blockQuote:!0,commentString:Dw,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function Mw(t,e){if(e.tag){const s=t.filter(i=>i.tag===e.tag);if(s.length>0)return s.find(i=>i.format===e.format)??s[0]}let n,r;if(nt(e)){r=e.value;let s=t.filter(i=>i.identify?.(r));if(s.length>1){const i=s.filter(o=>o.test);i.length>0&&(s=i)}n=s.find(i=>i.format===e.format)??s.find(i=>!i.format)}else r=e,n=t.find(s=>s.nodeClass&&r instanceof s.nodeClass);if(!n){const s=r?.constructor?.name??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${s} value`)}return n}function Bw(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(nt(t)||dt(t))&&t.anchor;i&&Bu(i)&&(n.add(i),s.push(`&${i}`));const o=t.tag??(e.default?null:e.tag);return o&&s.push(r.directives.tagString(o)),s.join(" ")}function wr(t,e,n,r){if(pt(t))return t.toString(e,n,r);if(Xn(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let s;const i=ht(t)?t:e.doc.createNode(t,{onTagObj:l=>s=l});s??(s=Mw(e.doc.schema.tags,i));const o=Bw(i,s,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof s.stringify=="function"?s.stringify(i,e,n,r):nt(i)?Wo(i,e,n,r):i.toString(e,n,r);return o?nt(i)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}function Fw({key:t,value:e},n,r,s){const{allNullValues:i,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:d,simpleKeys:f}}=n;let h=ht(t)&&t.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(dt(t)||!ht(t)&&typeof t=="object"){const j="With simple keys, collection cannot be used as a key value";throw new Error(j)}}let p=!f&&(!t||h&&e==null&&!n.inFlow||dt(t)||(nt(t)?t.type===Be.BLOCK_FOLDED||t.type===Be.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(f||!i),indent:a+l});let g=!1,m=!1,w=wr(t,n,()=>g=!0,()=>m=!0);if(!p&&!n.inFlow&&w.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(i||e==null)return g&&r&&r(),w===""?"?":p?`? ${w}`:w}else if(i&&!f||e==null&&p)return w=`? ${w}`,h&&!g?w+=qn(w,n.indent,c(h)):m&&s&&s(),w;g&&(h=null),p?(h&&(w+=qn(w,n.indent,c(h))),w=`? ${w}
${a}:`):(w=`${w}:`,h&&(w+=qn(w,n.indent,c(h))));let S,A,E;ht(e)?(S=!!e.spaceBefore,A=e.commentBefore,E=e.comment):(S=!1,A=null,E=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!p&&!h&&nt(e)&&(n.indentAtStart=w.length+1),m=!1,!d&&l.length>=2&&!n.inFlow&&!p&&es(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let x=!1;const C=wr(e,n,()=>x=!0,()=>m=!0);let I=" ";if(h||S||A){if(I=S?`
`:"",A){const j=c(A);I+=`
${nn(j,n.indent)}`}C===""&&!n.inFlow?I===`
`&&(I=`

`):I+=`
${n.indent}`}else if(!p&&dt(e)){const j=C[0],T=C.indexOf(`
`),L=T!==-1,D=n.inFlow??e.flow??e.items.length===0;if(L||!D){let X=!1;if(L&&(j==="&"||j==="!")){let q=C.indexOf(" ");j==="&"&&q!==-1&&q<T&&C[q+1]==="!"&&(q=C.indexOf(" ",q+1)),(q===-1||T<q)&&(X=!0)}X||(I=`
${n.indent}`)}}else(C===""||C[0]===`
`)&&(I="");return w+=I+C,n.inFlow?x&&r&&r():E&&!x?w+=qn(w,n.indent,c(E)):m&&s&&s(),w}function Gu(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const Ps="<<",on={identify:t=>t===Ps||typeof t=="symbol"&&t.description===Ps,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Be(Symbol(Ps)),{addToJSMap:Hu}),stringify:()=>Ps},Uw=(t,e)=>(on.identify(e)||nt(e)&&(!e.type||e.type===Be.PLAIN)&&on.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===on.tag&&n.default);function Hu(t,e,n){if(n=t&&Xn(n)?n.resolve(t.doc):n,es(n))for(const r of n.items)Li(t,e,r);else if(Array.isArray(n))for(const r of n)Li(t,e,r);else Li(t,e,n)}function Li(t,e,n){const r=t&&Xn(n)?n.resolve(t.doc):n;if(!Jr(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,t,Map);for(const[i,o]of s)e instanceof Map?e.has(i)||e.set(i,o):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Yu(t,e,{key:n,value:r}){if(ht(n)&&n.addToJSMap)n.addToJSMap(t,e,r);else if(Uw(t,n))Hu(t,e,r);else{const s=$t(n,"",t);if(e instanceof Map)e.set(s,$t(r,s,t));else if(e instanceof Set)e.add(s);else{const i=Zw(n,s,t),o=$t(r,i,t);i in e?Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[i]=o}}return e}function Zw(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(ht(t)&&n?.doc){const r=Ku(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;const s=t.toString(r);if(!n.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),Gu(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(e)}function Xo(t,e,n){const r=Hr(t,void 0,n),s=Hr(e,void 0,n);return new At(r,s)}class At{constructor(e,n=null){Object.defineProperty(this,Dt,{value:Lu}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return ht(n)&&(n=n.clone(e)),ht(r)&&(r=r.clone(e)),new At(n,r)}toJSON(e,n){const r=n?.mapAsMap?new Map:{};return Yu(n,r,this)}toString(e,n,r){return e?.doc?Fw(this,e,n,r):JSON.stringify(this)}}function Wu(t,e,n){return(e.inFlow??t.flow?qw:Vw)(t,e,n)}function Vw({comment:t,items:e},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=n,d=Object.assign({},n,{indent:i,type:null});let f=!1;const h=[];for(let g=0;g<e.length;++g){const m=e[g];let w=null;if(ht(m))!f&&m.spaceBefore&&h.push(""),ei(n,h,m.commentBefore,f),m.comment&&(w=m.comment);else if(pt(m)){const A=ht(m.key)?m.key:null;A&&(!f&&A.spaceBefore&&h.push(""),ei(n,h,A.commentBefore,f))}f=!1;let S=wr(m,d,()=>w=null,()=>f=!0);w&&(S+=qn(S,i,c(w))),f&&w&&(f=!1),h.push(r+S)}let p;if(h.length===0)p=s.start+s.end;else{p=h[0];for(let g=1;g<h.length;++g){const m=h[g];p+=m?`
${l}${m}`:`
`}}return t?(p+=`
`+nn(c(t),l),a&&a()):f&&o&&o(),p}function qw({items:t},e,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:i,flowCollectionPadding:o,options:{commentString:a}}=e;r+=i;const l=Object.assign({},e,{indent:r,inFlow:!0,type:null});let c=!1,d=0;const f=[];for(let g=0;g<t.length;++g){const m=t[g];let w=null;if(ht(m))m.spaceBefore&&f.push(""),ei(e,f,m.commentBefore,!1),m.comment&&(w=m.comment);else if(pt(m)){const A=ht(m.key)?m.key:null;A&&(A.spaceBefore&&f.push(""),ei(e,f,A.commentBefore,!1),A.comment&&(c=!0));const E=ht(m.value)?m.value:null;E?(E.comment&&(w=E.comment),E.commentBefore&&(c=!0)):m.value==null&&A?.comment&&(w=A.comment)}w&&(c=!0);let S=wr(m,l,()=>w=null);g<t.length-1&&(S+=","),w&&(S+=qn(S,r,a(w))),!c&&(f.length>d||S.includes(`
`))&&(c=!0),f.push(S),d=f.length}const{start:h,end:p}=n;if(f.length===0)return h+p;if(!c){const g=f.reduce((m,w)=>m+w.length+2,2);c=e.options.lineWidth>0&&g>e.options.lineWidth}if(c){let g=h;for(const m of f)g+=m?`
${i}${s}${m}`:`
`;return`${g}
${s}${p}`}else return`${h}${o}${f.join(" ")}${o}${p}`}function ei({indent:t,options:{commentString:e}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const i=nn(e(r),t);n.push(i.trimStart())}}function Kn(t,e){const n=nt(e)?e.value:e;for(const r of t)if(pt(r)&&(r.key===e||r.key===n||nt(r.key)&&r.key.value===n))return r}class zt extends Vu{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Nn,e),this.items=[]}static from(e,n,r){const{keepUndefined:s,replacer:i}=r,o=new this(e),a=(l,c)=>{if(typeof i=="function")c=i.call(n,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||s)&&o.items.push(Xo(l,c,r))};if(n instanceof Map)for(const[l,c]of n)a(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){let r;pt(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new At(e,e?.value):r=new At(e.key,e.value);const s=Kn(this.items,r.key),i=this.schema?.sortMapEntries;if(s){if(!n)throw new Error(`Key ${r.key} already set`);nt(s.value)&&Zu(r.value)?s.value.value=r.value:s.value=r.value}else if(i){const o=this.items.findIndex(a=>i(r,a)<0);o===-1?this.items.push(r):this.items.splice(o,0,r)}else this.items.push(r)}delete(e){const n=Kn(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const s=Kn(this.items,e)?.value;return(!n&&nt(s)?s.value:s)??void 0}has(e){return!!Kn(this.items,e)}set(e,n){this.add(new At(e,n),!0)}toJSON(e,n,r){const s=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(s);for(const i of this.items)Yu(n,s,i);return s}toString(e,n,r){if(!e)return JSON.stringify(this);for(const s of this.items)if(!pt(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Wu(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}const Nr={collection:"map",default:!0,nodeClass:zt,tag:"tag:yaml.org,2002:map",resolve(t,e){return Jr(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>zt.from(t,e,n)};class Wn extends Vu{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Ar,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=zs(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=zs(e);if(typeof r!="number")return;const s=this.items[r];return!n&&nt(s)?s.value:s}has(e){const n=zs(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=zs(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[r];nt(s)&&Zu(n)?s.value=n:this.items[r]=n}toJSON(e,n){const r=[];n?.onCreate&&n.onCreate(r);let s=0;for(const i of this.items)r.push($t(i,String(s++),n));return r}toString(e,n,r){return e?Wu(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof s=="function"){const l=n instanceof Set?a:String(o++);a=s.call(n,l,a)}i.items.push(Hr(a,void 0,r))}}return i}}function zs(t){let e=nt(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const Tr={collection:"seq",default:!0,nodeClass:Wn,tag:"tag:yaml.org,2002:seq",resolve(t,e){return es(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>Wn.from(t,e,n)},di={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),Wo(t,e,n,r)}},hi={identify:t=>t==null,createNode:()=>new Be(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Be(null),stringify:({source:t},e)=>typeof t=="string"&&hi.test.test(t)?t:e.options.nullStr},Qo={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new Be(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&Qo.test.test(t)){const r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};function Kt({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);const s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let a=e-(i.length-o-1);for(;a-- >0;)i+="0"}return i}const Xu={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Kt},Qu={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Kt(t)}},Ju={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new Be(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:Kt},pi=t=>typeof t=="bigint"||Number.isInteger(t),Jo=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function ef(t,e,n){const{value:r}=t;return pi(r)&&r>=0?n+r.toString(e):Kt(t)}const tf={identify:t=>pi(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>Jo(t,2,8,n),stringify:t=>ef(t,8,"0o")},nf={identify:pi,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>Jo(t,0,10,n),stringify:Kt},rf={identify:t=>pi(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>Jo(t,2,16,n),stringify:t=>ef(t,16,"0x")},Kw=[Nr,Tr,di,hi,Qo,tf,nf,rf,Xu,Qu,Ju];function ql(t){return typeof t=="bigint"||Number.isInteger(t)}const $s=({value:t})=>JSON.stringify(t),Gw=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:$s},{identify:t=>t==null,createNode:()=>new Be(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:$s},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:$s},{identify:ql,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>ql(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:$s}],Hw={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},Yw=[Nr,Tr].concat(Gw,Hw),ea={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,s,i){if(!n)return"";const o=n;let a;if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=Be.BLOCK_LITERAL),e!==Be.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),c=Math.ceil(a.length/l),d=new Array(c);for(let f=0,h=0;f<c;++f,h+=l)d[f]=a.substr(h,l);a=d.join(e===Be.BLOCK_LITERAL?`
`:" ")}return Wo({comment:t,type:e,value:a},r,s,i)}};function sf(t,e){if(es(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!pt(r)){if(Jr(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");const s=r.items[0]||new At(new Be(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){const i=s.value??s.key;i.comment=i.comment?`${r.comment}
${i.comment}`:r.comment}r=s}t.items[n]=pt(r)?r:new At(r)}}else e("Expected a sequence for this tag");return t}function of(t,e,n){const{replacer:r}=n,s=new Wn(t);s.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof r=="function"&&(o=r.call(e,String(i++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;s.items.push(Xo(a,l,n))}return s}const ta={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:sf,createNode:of};class hr extends Wn{constructor(){super(),this.add=zt.prototype.add.bind(this),this.delete=zt.prototype.delete.bind(this),this.get=zt.prototype.get.bind(this),this.has=zt.prototype.has.bind(this),this.set=zt.prototype.set.bind(this),this.tag=hr.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n?.onCreate&&n.onCreate(r);for(const s of this.items){let i,o;if(pt(s)?(i=$t(s.key,"",n),o=$t(s.value,i,n)):i=$t(s,"",n),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,o)}return r}static from(e,n,r){const s=of(e,n,r),i=new this;return i.items=s.items,i}}hr.tag="tag:yaml.org,2002:omap";const na={collection:"seq",identify:t=>t instanceof Map,nodeClass:hr,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=sf(t,e),r=[];for(const{key:s}of n.items)nt(s)&&(r.includes(s.value)?e(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new hr,n)},createNode:(t,e,n)=>hr.from(t,e,n)};function af({value:t,source:e},n){return e&&(t?lf:cf).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const lf={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Be(!0),stringify:af},cf={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Be(!1),stringify:af},Ww={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Kt},Xw={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Kt(t)}},Qw={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new Be(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:Kt},ts=t=>typeof t=="bigint"||Number.isInteger(t);function mi(t,e,n,{intAsBigInt:r}){const s=t[0];if((s==="-"||s==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return s==="-"?BigInt(-1)*o:o}const i=parseInt(t,n);return s==="-"?-1*i:i}function ra(t,e,n){const{value:r}=t;if(ts(r)){const s=r.toString(e);return r<0?"-"+n+s.substr(1):n+s}return Kt(t)}const Jw={identify:ts,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>mi(t,2,2,n),stringify:t=>ra(t,2,"0b")},e_={identify:ts,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>mi(t,1,8,n),stringify:t=>ra(t,8,"0")},t_={identify:ts,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>mi(t,0,10,n),stringify:Kt},n_={identify:ts,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>mi(t,2,16,n),stringify:t=>ra(t,16,"0x")};class pr extends zt{constructor(e){super(e),this.tag=pr.tag}add(e){let n;pt(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new At(e.key,null):n=new At(e,null),Kn(this.items,n.key)||this.items.push(n)}get(e,n){const r=Kn(this.items,e);return!n&&pt(r)?nt(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Kn(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new At(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof s=="function"&&(o=s.call(n,o,o)),i.items.push(Xo(o,null,r));return i}}pr.tag="tag:yaml.org,2002:set";const sa={collection:"map",identify:t=>t instanceof Set,nodeClass:pr,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>pr.from(t,e,n),resolve(t,e){if(Jr(t)){if(t.hasAllNullValues(!0))return Object.assign(new pr,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function ia(t,e){const n=t[0],r=n==="-"||n==="+"?t.substring(1):t,s=o=>e?BigInt(o):Number(o),i=r.replace(/_/g,"").split(":").reduce((o,a)=>o*s(60)+s(a),s(0));return n==="-"?s(-1)*i:i}function uf(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return Kt(t);let r="";e<0&&(r="-",e*=n(-1));const s=n(60),i=[e%s];return e<60?i.unshift(0):(e=(e-i[0])/s,i.unshift(e%s),e>=60&&(e=(e-i[0])/s,i.unshift(e))),r+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const ff={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>ia(t,n),stringify:uf},df={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>ia(t,!1),stringify:uf},gi={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(gi.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(n,r-1,s,i||0,o||0,a||0,l);const d=e[8];if(d&&d!=="Z"){let f=ia(d,!1);Math.abs(f)<30&&(f*=60),c-=6e4*f}return new Date(c)},stringify:({value:t})=>t?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},Kl=[Nr,Tr,di,hi,lf,cf,Jw,e_,t_,n_,Ww,Xw,Qw,ea,on,na,ta,sa,ff,df,gi],Gl=new Map([["core",Kw],["failsafe",[Nr,Tr,di]],["json",Yw],["yaml11",Kl],["yaml-1.1",Kl]]),Hl={binary:ea,bool:Qo,float:Ju,floatExp:Qu,floatNaN:Xu,floatTime:df,int:nf,intHex:rf,intOct:tf,intTime:ff,map:Nr,merge:on,null:hi,omap:na,pairs:ta,seq:Tr,set:sa,timestamp:gi},r_={"tag:yaml.org,2002:binary":ea,"tag:yaml.org,2002:merge":on,"tag:yaml.org,2002:omap":na,"tag:yaml.org,2002:pairs":ta,"tag:yaml.org,2002:set":sa,"tag:yaml.org,2002:timestamp":gi};function Mi(t,e,n){const r=Gl.get(e);if(r&&!t)return n&&!r.includes(on)?r.concat(on):r.slice();let s=r;if(!s)if(Array.isArray(t))s=[];else{const i=Array.from(Gl.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${i} or define customTags array`)}if(Array.isArray(t))for(const i of t)s=s.concat(i);else typeof t=="function"&&(s=t(s.slice()));return n&&(s=s.concat(on)),s.reduce((i,o)=>{const a=typeof o=="string"?Hl[o]:o;if(!a){const l=JSON.stringify(o),c=Object.keys(Hl).map(d=>JSON.stringify(d)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${c}`)}return i.includes(a)||i.push(a),i},[])}const s_=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class oa{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:s,schema:i,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?Mi(e,"compat"):e?Mi(null,e):null,this.name=typeof i=="string"&&i||"core",this.knownTags=s?r_:{},this.tags=Mi(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,Nn,{value:Nr}),Object.defineProperty(this,Jt,{value:di}),Object.defineProperty(this,Ar,{value:Tr}),this.sortMapEntries=typeof o=="function"?o:o===!0?s_:null}clone(){const e=Object.create(oa.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function i_(t,e){const n=[];let r=e.directives===!0;if(e.directives!==!1&&t.directives){const l=t.directives.toString(t);l?(n.push(l),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");const s=Ku(t,e),{commentString:i}=s.options;if(t.commentBefore){n.length!==1&&n.unshift("");const l=i(t.commentBefore);n.unshift(nn(l,""))}let o=!1,a=null;if(t.contents){if(ht(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){const d=i(t.contents.commentBefore);n.push(nn(d,""))}s.forceBlockIndent=!!t.comment,a=t.contents.comment}const l=a?void 0:()=>o=!0;let c=wr(t.contents,s,()=>a=null,l);a&&(c+=qn(c,"",i(a))),(c[0]==="|"||c[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${c}`:n.push(c)}else n.push(wr(t.contents,s));if(t.directives?.docEnd)if(t.comment){const l=i(t.comment);l.includes(`
`)?(n.push("..."),n.push(nn(l,""))):n.push(`... ${l}`)}else n.push("...");else{let l=t.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(nn(i(l),"")))}return n.join(`
`)+`
`}class bi{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Dt,{value:yo});let s=null;typeof n=="function"||Array.isArray(n)?s=n:r===void 0&&n&&(r=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:o}=i;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new St({version:o}),this.setSchema(o,r),this.contents=e===void 0?null:this.createNode(e,s,r)}clone(){const e=Object.create(bi.prototype,{[Dt]:{value:yo}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=ht(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){tr(this.contents)&&this.contents.add(e)}addIn(e,n){tr(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const r=Fu(this);e.anchor=!n||r.has(n)?Uu(n||"a",r):n}return new Yo(e.anchor)}createNode(e,n,r){let s;if(typeof n=="function")e=n.call({"":e},"",e),s=n;else if(Array.isArray(n)){const w=A=>typeof A=="number"||A instanceof String||A instanceof Number,S=n.filter(w).map(String);S.length>0&&(n=n.concat(S)),s=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:d}=r??{},{onAnchor:f,setAnchors:h,sourceObjects:p}=Pw(this,o||"a"),g={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:c,replacer:s,schema:this.schema,sourceObjects:p},m=Hr(e,d,g);return a&&dt(m)&&(m.flow=!0),h(),m}createPair(e,n,r={}){const s=this.createNode(e,null,r),i=this.createNode(n,null,r);return new At(s,i)}delete(e){return tr(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Rr(e)?this.contents==null?!1:(this.contents=null,!0):tr(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return dt(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return Rr(e)?!n&&nt(this.contents)?this.contents.value:this.contents:dt(this.contents)?this.contents.getIn(e,n):void 0}has(e){return dt(this.contents)?this.contents.has(e):!1}hasIn(e){return Rr(e)?this.contents!==void 0:dt(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Js(this.schema,[e],n):tr(this.contents)&&this.contents.set(e,n)}setIn(e,n){Rr(e)?this.contents=n:this.contents==null?this.contents=Js(this.schema,Array.from(e),n):tr(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new St({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new St({version:e}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const s=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new oa(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:s,onAnchor:i,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},l=$t(this.contents,n??"",a);if(typeof i=="function")for(const{count:c,res:d}of a.anchors.values())i(d,c);return typeof o=="function"?ar(o,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return i_(this,e)}}function tr(t){if(dt(t))return!0;throw new Error("Expected a YAML collection as document contents")}class hf extends Error{constructor(e,n,r,s){super(),this.name=e,this.code=r,this.message=s,this.pos=n}}class Lr extends hf{constructor(e,n,r){super("YAMLParseError",e,n,r)}}class o_ extends hf{constructor(e,n,r){super("YAMLWarning",e,n,r)}}const Yl=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,o=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const a=Math.min(i-39,o.length-79);o="…"+o.substring(a),i-=a-1}if(o.length>80&&(o=o.substring(0,79)+"…"),r>1&&/^ *$/.test(o.substring(0,i))){let a=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`…
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===r&&l.col>s&&(a=Math.max(1,Math.min(l.col-s,80-i)));const c=" ".repeat(i)+"^".repeat(a);n.message+=`:

${o}
${c}
`}};function _r(t,{flow:e,indicator:n,next:r,offset:s,onError:i,parentIndent:o,startOnNewline:a}){let l=!1,c=a,d=a,f="",h="",p=!1,g=!1,m=null,w=null,S=null,A=null,E=null,x=null,C=null;for(const T of t)switch(g&&(T.type!=="space"&&T.type!=="newline"&&T.type!=="comma"&&i(T.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),g=!1),m&&(c&&T.type!=="comment"&&T.type!=="newline"&&i(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),T.type){case"space":!e&&(n!=="doc-start"||r?.type!=="flow-collection")&&T.source.includes("	")&&(m=T),d=!0;break;case"comment":{d||i(T,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const L=T.source.substring(1)||" ";f?f+=h+L:f=L,h="",c=!1;break}case"newline":c?f?f+=T.source:(!x||n!=="seq-item-ind")&&(l=!0):h+=T.source,c=!0,p=!0,(w||S)&&(A=T),d=!0;break;case"anchor":w&&i(T,"MULTIPLE_ANCHORS","A node can have at most one anchor"),T.source.endsWith(":")&&i(T.offset+T.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),w=T,C??(C=T.offset),c=!1,d=!1,g=!0;break;case"tag":{S&&i(T,"MULTIPLE_TAGS","A node can have at most one tag"),S=T,C??(C=T.offset),c=!1,d=!1,g=!0;break}case n:(w||S)&&i(T,"BAD_PROP_ORDER",`Anchors and tags must be after the ${T.source} indicator`),x&&i(T,"UNEXPECTED_TOKEN",`Unexpected ${T.source} in ${e??"collection"}`),x=T,c=n==="seq-item-ind"||n==="explicit-key-ind",d=!1;break;case"comma":if(e){E&&i(T,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),E=T,c=!1,d=!1;break}default:i(T,"UNEXPECTED_TOKEN",`Unexpected ${T.type} token`),c=!1,d=!1}const I=t[t.length-1],j=I?I.offset+I.source.length:s;return g&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(c&&m.indent<=o||r?.type==="block-map"||r?.type==="block-seq")&&i(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:E,found:x,spaceBefore:l,comment:f,hasNewline:p,anchor:w,tag:S,newlineAfterProp:A,end:j,start:C??j}}function Yr(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(Yr(e.key)||Yr(e.value))return!0}return!1;default:return!0}}function xo(t,e,n){if(e?.type==="flow-collection"){const r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&Yr(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function pf(t,e,n){const{uniqueKeys:r}=t.options;if(r===!1)return!1;const s=typeof r=="function"?r:(i,o)=>i===o||nt(i)&&nt(o)&&i.value===o.value;return e.some(i=>s(i.key,n))}const Wl="All mapping items must start at the same column";function a_({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=i?.nodeClass??zt,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,c=null;for(const d of r.items){const{start:f,key:h,sep:p,value:g}=d,m=_r(f,{indicator:"explicit-key-ind",next:h??p?.[0],offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0}),w=!m.found;if(w){if(h&&(h.type==="block-seq"?s(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==r.indent&&s(l,"BAD_INDENT",Wl)),!m.anchor&&!m.tag&&!p){c=m.end,m.comment&&(a.comment?a.comment+=`
`+m.comment:a.comment=m.comment);continue}(m.newlineAfterProp||Yr(h))&&s(h??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else m.found?.indent!==r.indent&&s(l,"BAD_INDENT",Wl);n.atKey=!0;const S=m.end,A=h?t(n,h,m,s):e(n,S,f,null,m,s);n.schema.compat&&xo(r.indent,h,s),n.atKey=!1,pf(n,a.items,A)&&s(S,"DUPLICATE_KEY","Map keys must be unique");const E=_r(p??[],{indicator:"map-value-ind",next:g,offset:A.range[2],onError:s,parentIndent:r.indent,startOnNewline:!h||h.type==="block-scalar"});if(l=E.end,E.found){w&&(g?.type==="block-map"&&!E.hasNewline&&s(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&m.start<E.found.offset-1024&&s(A.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const x=g?t(n,g,E,s):e(n,l,p,null,E,s);n.schema.compat&&xo(r.indent,g,s),l=x.range[2];const C=new At(A,x);n.options.keepSourceTokens&&(C.srcToken=d),a.items.push(C)}else{w&&s(A.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),E.comment&&(A.comment?A.comment+=`
`+E.comment:A.comment=E.comment);const x=new At(A);n.options.keepSourceTokens&&(x.srcToken=d),a.items.push(x)}}return c&&c<l&&s(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,c??l],a}function l_({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=i?.nodeClass??Wn,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,c=null;for(const{start:d,value:f}of r.items){const h=_r(d,{indicator:"seq-item-ind",next:f,offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||f)f&&f.type==="block-seq"?s(h.end,"BAD_INDENT","All sequence items must start at the same column"):s(l,"MISSING_CHAR","Sequence item without - indicator");else{c=h.end,h.comment&&(a.comment=h.comment);continue}const p=f?t(n,f,h,s):e(n,h.end,d,null,h,s);n.schema.compat&&xo(r.indent,f,s),l=p.range[2],a.items.push(p)}return a.range=[r.offset,l,c??l],a}function ns(t,e,n,r){let s="";if(t){let i=!1,o="";for(const a of t){const{source:l,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{n&&!i&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const d=l.substring(1)||" ";s?s+=o+d:s=d,o="";break}case"newline":s&&(o+=l),i=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:s,offset:e}}const Bi="Block collections are not allowed within flow collections",Fi=t=>t&&(t.type==="block-map"||t.type==="block-seq");function c_({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=r.start.source==="{",a=o?"flow map":"flow sequence",l=i?.nodeClass??(o?zt:Wn),c=new l(n.schema);c.flow=!0;const d=n.atRoot;d&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let f=r.offset+r.start.source.length;for(let w=0;w<r.items.length;++w){const S=r.items[w],{start:A,key:E,sep:x,value:C}=S,I=_r(A,{flow:a,indicator:"explicit-key-ind",next:E??x?.[0],offset:f,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!I.found){if(!I.anchor&&!I.tag&&!x&&!C){w===0&&I.comma?s(I.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):w<r.items.length-1&&s(I.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),I.comment&&(c.comment?c.comment+=`
`+I.comment:c.comment=I.comment),f=I.end;continue}!o&&n.options.strict&&Yr(E)&&s(E,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(w===0)I.comma&&s(I.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(I.comma||s(I.start,"MISSING_CHAR",`Missing , between ${a} items`),I.comment){let j="";e:for(const T of A)switch(T.type){case"comma":case"space":break;case"comment":j=T.source.substring(1);break e;default:break e}if(j){let T=c.items[c.items.length-1];pt(T)&&(T=T.value??T.key),T.comment?T.comment+=`
`+j:T.comment=j,I.comment=I.comment.substring(j.length+1)}}if(!o&&!x&&!I.found){const j=C?t(n,C,I,s):e(n,I.end,x,null,I,s);c.items.push(j),f=j.range[2],Fi(C)&&s(j.range,"BLOCK_IN_FLOW",Bi)}else{n.atKey=!0;const j=I.end,T=E?t(n,E,I,s):e(n,j,A,null,I,s);Fi(E)&&s(T.range,"BLOCK_IN_FLOW",Bi),n.atKey=!1;const L=_r(x??[],{flow:a,indicator:"map-value-ind",next:C,offset:T.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(L.found){if(!o&&!I.found&&n.options.strict){if(x)for(const q of x){if(q===L.found)break;if(q.type==="newline"){s(q,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}I.start<L.found.offset-1024&&s(L.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else C&&("source"in C&&C.source&&C.source[0]===":"?s(C,"MISSING_CHAR",`Missing space after : in ${a}`):s(L.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const D=C?t(n,C,L,s):L.found?e(n,L.end,x,null,L,s):null;D?Fi(C)&&s(D.range,"BLOCK_IN_FLOW",Bi):L.comment&&(T.comment?T.comment+=`
`+L.comment:T.comment=L.comment);const X=new At(T,D);if(n.options.keepSourceTokens&&(X.srcToken=S),o){const q=c;pf(n,q.items,T)&&s(j,"DUPLICATE_KEY","Map keys must be unique"),q.items.push(X)}else{const q=new zt(n.schema);q.flow=!0,q.items.push(X);const ee=(D??T).range;q.range=[T.range[0],ee[1],ee[2]],c.items.push(q)}f=D?D.range[2]:L.end}}const h=o?"}":"]",[p,...g]=r.end;let m=f;if(p&&p.source===h)m=p.offset+p.source.length;else{const w=a[0].toUpperCase()+a.substring(1),S=d?`${w} must end with a ${h}`:`${w} in block collection must be sufficiently indented and end with a ${h}`;s(f,d?"MISSING_CHAR":"BAD_INDENT",S),p&&p.source.length!==1&&g.unshift(p)}if(g.length>0){const w=ns(g,m,n.options.strict,s);w.comment&&(c.comment?c.comment+=`
`+w.comment:c.comment=w.comment),c.range=[r.offset,m,w.offset]}else c.range=[r.offset,m,m];return c}function Ui(t,e,n,r,s,i){const o=n.type==="block-map"?a_(t,e,n,r,i):n.type==="block-seq"?l_(t,e,n,r,i):c_(t,e,n,r,i),a=o.constructor;return s==="!"||s===a.tagName?(o.tag=a.tagName,o):(s&&(o.tag=s),o)}function u_(t,e,n,r,s){const i=r.tag,o=i?e.directives.tagName(i.source,h=>s(i,"TAG_RESOLVE_FAILED",h)):null;if(n.type==="block-seq"){const{anchor:h,newlineAfterProp:p}=r,g=h&&i?h.offset>i.offset?h:i:h??i;g&&(!p||p.offset<g.offset)&&s(g,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!o||o==="!"||o===zt.tagName&&a==="map"||o===Wn.tagName&&a==="seq")return Ui(t,e,n,s,o);let l=e.schema.tags.find(h=>h.tag===o&&h.collection===a);if(!l){const h=e.schema.knownTags[o];if(h&&h.collection===a)e.schema.tags.push(Object.assign({},h,{default:!1})),l=h;else return h?s(i,"BAD_COLLECTION_TYPE",`${h.tag} used for ${a} collection, but expects ${h.collection??"scalar"}`,!0):s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),Ui(t,e,n,s,o)}const c=Ui(t,e,n,s,o,l),d=l.resolve?.(c,h=>s(i,"TAG_RESOLVE_FAILED",h),e.options)??c,f=ht(d)?d:new Be(d);return f.range=c.range,f.tag=o,l?.format&&(f.format=l.format),f}function f_(t,e,n){const r=e.offset,s=d_(e,t.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=s.mode===">"?Be.BLOCK_FOLDED:Be.BLOCK_LITERAL,o=e.source?h_(e.source):[];let a=o.length;for(let m=o.length-1;m>=0;--m){const w=o[m][1];if(w===""||w==="\r")a=m;else break}if(a===0){const m=s.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let w=r+s.length;return e.source&&(w+=e.source.length),{value:m,type:i,comment:s.comment,range:[r,w,w]}}let l=e.indent+s.indent,c=e.offset+s.length,d=0;for(let m=0;m<a;++m){const[w,S]=o[m];if(S===""||S==="\r")s.indent===0&&w.length>l&&(l=w.length);else{w.length<l&&n(c+w.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(l=w.length),d=m,l===0&&!t.atRoot&&n(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=w.length+S.length+1}for(let m=o.length-1;m>=a;--m)o[m][0].length>l&&(a=m+1);let f="",h="",p=!1;for(let m=0;m<d;++m)f+=o[m][0].slice(l)+`
`;for(let m=d;m<a;++m){let[w,S]=o[m];c+=w.length+S.length+1;const A=S[S.length-1]==="\r";if(A&&(S=S.slice(0,-1)),S&&w.length<l){const x=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(c-S.length-(A?2:1),"BAD_INDENT",x),w=""}i===Be.BLOCK_LITERAL?(f+=h+w.slice(l)+S,h=`
`):w.length>l||S[0]==="	"?(h===" "?h=`
`:!p&&h===`
`&&(h=`

`),f+=h+w.slice(l)+S,h=`
`,p=!0):S===""?h===`
`?f+=`
`:h=`
`:(f+=h+S,h=" ",p=!1)}switch(s.chomp){case"-":break;case"+":for(let m=a;m<o.length;++m)f+=`
`+o[m][0].slice(l);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}const g=r+s.length+e.source.length;return{value:f,type:i,comment:s.comment,range:[r,g,g]}}function d_({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=e[0],i=s[0];let o=0,a="",l=-1;for(let h=1;h<s.length;++h){const p=s[h];if(!a&&(p==="-"||p==="+"))a=p;else{const g=Number(p);!o&&g?o=g:l===-1&&(l=t+h)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let c=!1,d="",f=s.length;for(let h=1;h<e.length;++h){const p=e[h];switch(p.type){case"space":c=!0;case"newline":f+=p.source.length;break;case"comment":n&&!c&&r(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=p.source.length,d=p.source.substring(1);break;case"error":r(p,"UNEXPECTED_TOKEN",p.message),f+=p.source.length;break;default:{const g=`Unexpected token in block scalar header: ${p.type}`;r(p,"UNEXPECTED_TOKEN",g);const m=p.source;m&&typeof m=="string"&&(f+=m.length)}}}return{mode:i,indent:o,chomp:a,comment:d,length:f}}function h_(t){const e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),i=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)i.push([e[o],e[o+1]]);return i}function p_(t,e,n){const{offset:r,type:s,source:i,end:o}=t;let a,l;const c=(h,p,g)=>n(r+h,p,g);switch(s){case"scalar":a=Be.PLAIN,l=m_(i,c);break;case"single-quoted-scalar":a=Be.QUOTE_SINGLE,l=g_(i,c);break;case"double-quoted-scalar":a=Be.QUOTE_DOUBLE,l=b_(i,c);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const d=r+i.length,f=ns(o,d,e,n);return{value:l,type:a,comment:f.comment,range:[r,d,f.offset]}}function m_(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),mf(t)}function g_(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),mf(t.slice(1,-1)).replace(/''/g,"'")}function mf(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let s=r[1],i=" ",o=e.lastIndex;for(n.lastIndex=o;r=n.exec(t);)r[1]===""?i===`
`?s+=i:i=`
`:(s+=i+r[1],i=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(t),s+i+(r?.[1]??"")}function b_(t,e){let n="";for(let r=1;r<t.length-1;++r){const s=t[r];if(!(s==="\r"&&t[r+1]===`
`))if(s===`
`){const{fold:i,offset:o}=y_(t,r);n+=i,r=o}else if(s==="\\"){let i=t[++r];const o=w_[i];if(o)n+=o;else if(i===`
`)for(i=t[r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="\r"&&t[r+1]===`
`)for(i=t[++r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="x"||i==="u"||i==="U"){const a={x:2,u:4,U:8}[i];n+=__(t,r+1,a,e),r+=a}else{const a=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(s===" "||s==="	"){const i=r;let o=t[r+1];for(;o===" "||o==="	";)o=t[++r+1];o!==`
`&&!(o==="\r"&&t[r+2]===`
`)&&(n+=r>i?t.slice(i,r+1):s)}else n+=s}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function y_(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}const w_={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function __(t,e,n,r){const s=t.substr(e,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(o)){const a=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function gf(t,e,n,r){const{value:s,type:i,comment:o,range:a}=e.type==="block-scalar"?f_(t,e,r):p_(e,t.options.strict,r),l=n?t.directives.tagName(n.source,f=>r(n,"TAG_RESOLVE_FAILED",f)):null;let c;t.options.stringKeys&&t.atKey?c=t.schema[Jt]:l?c=v_(t.schema,s,l,n,r):e.type==="scalar"?c=x_(t,s,e,r):c=t.schema[Jt];let d;try{const f=c.resolve(s,h=>r(n??e,"TAG_RESOLVE_FAILED",h),t.options);d=nt(f)?f:new Be(f)}catch(f){const h=f instanceof Error?f.message:String(f);r(n??e,"TAG_RESOLVE_FAILED",h),d=new Be(s)}return d.range=a,d.source=s,i&&(d.type=i),l&&(d.tag=l),c.format&&(d.format=c.format),o&&(d.comment=o),d}function v_(t,e,n,r,s){if(n==="!")return t[Jt];const i=[];for(const a of t.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)i.push(a);else return a;for(const a of i)if(a.test?.test(e))return a;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Jt])}function x_({atKey:t,directives:e,schema:n},r,s,i){const o=n.tags.find(a=>(a.default===!0||t&&a.default==="key")&&a.test?.test(r))||n[Jt];if(n.compat){const a=n.compat.find(l=>l.default&&l.test?.test(r))??n[Jt];if(o.tag!==a.tag){const l=e.tagString(o.tag),c=e.tagString(a.tag),d=`Value may be parsed as either ${l} or ${c}`;i(s,"TAG_RESOLVE_FAILED",d,!0)}}return o}function k_(t,e,n){if(e){n??(n=e.length);for(let r=n-1;r>=0;--r){let s=e[r];switch(s.type){case"space":case"comment":case"newline":t-=s.source.length;continue}for(s=e[++r];s?.type==="space";)t+=s.source.length,s=e[++r];break}}return t}const S_={composeNode:bf,composeEmptyNode:aa};function bf(t,e,n,r){const s=t.atKey,{spaceBefore:i,comment:o,anchor:a,tag:l}=n;let c,d=!0;switch(e.type){case"alias":c=A_(t,e,r),(a||l)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=gf(t,e,l,r),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=u_(S_,t,e,n,r),a&&(c.anchor=a.source.substring(1));break;default:{const f=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",f),c=aa(t,e.offset,void 0,null,n,r),d=!1}}return a&&c.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),s&&t.options.stringKeys&&(!nt(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&r(l??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(c.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?c.comment=o:c.commentBefore=o),t.options.keepSourceTokens&&d&&(c.srcToken=e),c}function aa(t,e,n,r,{spaceBefore:s,comment:i,anchor:o,tag:a,end:l},c){const d={type:"scalar",offset:k_(e,n,r),indent:-1,source:""},f=gf(t,d,a,c);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(f.spaceBefore=!0),i&&(f.comment=i,f.range[2]=l),f}function A_({options:t},{offset:e,source:n,end:r},s){const i=new Yo(n.substring(1));i.source===""&&s(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,a=ns(r,o,t.strict,s);return i.range=[e,o,a.offset],a.comment&&(i.comment=a.comment),i}function E_(t,e,{offset:n,start:r,value:s,end:i},o){const a=Object.assign({_directives:e},t),l=new bi(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},d=_r(r,{indicator:"doc-start",next:s??i?.[0],offset:n,onError:o,parentIndent:0,startOnNewline:!0});d.found&&(l.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!d.hasNewline&&o(d.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=s?bf(c,s,d,o):aa(c,d.end,r,null,d,o);const f=l.contents.range[2],h=ns(i,f,!1,o);return h.comment&&(l.comment=h.comment),l.range=[n,f,h.offset],l}function Dr(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function Xl(t){let e="",n=!1,r=!1;for(let s=0;s<t.length;++s){const i=t[s];switch(i[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(i.substring(1)||" "),n=!0,r=!1;break;case"%":t[s+1]?.[0]!=="#"&&(s+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}class N_{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,s,i)=>{const o=Dr(n);i?this.warnings.push(new o_(o,r,s)):this.errors.push(new Lr(o,r,s))},this.directives=new St({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:r,afterEmptyLine:s}=Xl(this.prelude);if(r){const i=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(s||e.directives.docStart||!i)e.commentBefore=r;else if(dt(i)&&!i.flow&&i.items.length>0){let o=i.items[0];pt(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}else{const o=i.commentBefore;i.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Xl(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(const s of e)yield*this.next(s);yield*this.end(n,r)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,r,s)=>{const i=Dr(e);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",r,s)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=E_(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new Lr(Dr(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Lr(Dr(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=ns(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Lr(Dr(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const r=Object.assign({_directives:this.directives},this.options),s=new bi(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}}const yf="\uFEFF",wf="",_f="",ko="";function T_(t){switch(t){case yf:return"byte-order-mark";case wf:return"doc-mode";case _f:return"flow-error-end";case ko:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function Ut(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Ql=new Set("0123456789ABCDEFabcdef"),O_=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Ds=new Set(",[]{}"),I_=new Set(` ,[]{}
\r	`),Zi=t=>!t||I_.has(t);class C_{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){const s=this.buffer[r+e+1];if(s===`
`||!s&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&Ut(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===yf&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,r=e.indexOf("#");for(;r!==-1;){const i=e[r-1];if(i===" "||i==="	"){n=r-1;break}else r=e.indexOf("#",r+1)}for(;;){const i=e[n-1];if(i===" "||i==="	")n-=1;else break}const s=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield wf,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&Ut(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Ut(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Ut(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Zi),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&s[0]!=="#"||r===0&&(s.startsWith("---")||s.startsWith("..."))&&Ut(s[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield _f,yield*this.parseLineStart();let i=0;for(;s[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),s[i]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Zi),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||Ut(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let s=r.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const i=this.continueScalar(s+1);if(i===-1)break;s=r.indexOf(`
`,i)}s!==-1&&(n=s-(r[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Ut(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:e=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let s=e+1;for(r=this.buffer[s];r===" ";)r=this.buffer[++s];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++s];e=s-1}else if(!this.blockScalarKeep)do{let i=e-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const a=i;for(;o===" ";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>a)e=i;else break}while(!0);return yield ko,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,s;for(;s=this.buffer[++r];)if(s===":"){const i=this.buffer[r+1];if(Ut(i)||e&&Ds.has(i))break;n=r}else if(Ut(s)){let i=this.buffer[r+1];if(s==="\r"&&(i===`
`?(r+=1,s=`
`,i=this.buffer[r+1]):n=r),i==="#"||e&&Ds.has(i))break;if(s===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(e&&Ds.has(s))break;n=r}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield ko,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Zi))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(Ut(n)||e&&Ds.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Ut(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(O_.has(n))n=this.buffer[++e];else if(n==="%"&&Ql.has(this.buffer[e+1])&&Ql.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class j_{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){const i=n+r>>1;this.lineStarts[i]<e?n=i+1:r=i}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const s=this.lineStarts[n-1];return{line:n,col:e-s+1}}}}function xn(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function Jl(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function vf(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Rs(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function nr(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function ec(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!xn(e.start,"explicit-key-ind")&&!xn(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,vf(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class P_{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new C_,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=T_(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&ec(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const s=r.items[r.items.length-1];if(s.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=r.items[r.items.length-1];s.value?r.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{const s=r.items[r.items.length-1];!s||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&Jl(s.start)===-1&&(n.indent===0||s.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(r.type==="document"?r.end=s.start:r.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Jl(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=Rs(this.peek(2)),r=nr(n);let s;e.end?(s=e.end,s.push(this.sourceToken),delete e.end):s=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const r=!this.onKeyLine&&this.indent===e.indent,s=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let i=[];if(s&&n.sep&&!n.value){const o=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(i=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":s||n.value?(i.push(this.sourceToken),e.items.push({start:i}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):s||n.value?(i.push(this.sourceToken),e.items.push({start:i,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(xn(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if(vf(n.key)&&!xn(n.sep,"newline")){const o=nr(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else i.length>0?n.sep=n.sep.concat(i,this.sourceToken):n.sep.push(this.sourceToken);else if(xn(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=nr(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||s?e.items.push({start:i,key:null,sep:[this.sourceToken]}):xn(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);s||n.value?(e.items.push({start:i,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(e);if(o){if(o.type==="block-seq"){if(!n.explicitKey&&n.sep&&!xn(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&e.items.push({start:i});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||xn(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const r=this.startBlockValue(e);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const s=Rs(r),i=nr(s);ec(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Rs(e),r=nr(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Rs(e),r=nr(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function z_(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new j_||null,prettyErrors:e}}function $_(t,e={}){const{lineCounter:n,prettyErrors:r}=z_(e),s=new P_(n?.addNewLine),i=new N_(e);let o=null;for(const a of i.compose(s.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new Lr(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(Yl(t,n)),o.warnings.forEach(Yl(t,n))),o}function D_(t,e,n){let r;const s=$_(t,n);if(!s)return null;if(s.warnings.forEach(i=>Gu(s.options.logLevel,i)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}const xf=So(t=>({trains:{},currentTrain:void 0,setTrainsFromYml:e=>{try{const n=D_(e),r=qb(n);r.valid?t({trains:vu.parse(n),parseErrors:void 0}):(console.error("Invalid YAML data:",r.errors),Zn.error("We couldn't load your trains. Please check that you uploaded the SavedTrainProperties YAML file from TrainCarts. See the browser console for more details.",{duration:1e4}),t({trains:{},parseErrors:r.errors}))}catch(n){console.error("Error parsing YAML:",n),Zn.error("We couldn't read your file. Please make sure it's a valid YAML and try again. See the browser console for more details.",{duration:1e4}),t({trains:{},parseErrors:["Failed to parse YAML.",String(n)]});return}},setTrains:e=>t({trains:e}),setCurrentTrain:e=>t({currentTrain:e}),clearCurrentTrain:()=>t({currentTrain:void 0}),reset:()=>t({trains:{},currentTrain:void 0,parseErrors:void 0})}));function R_(){const t=ye.c(58),e=qt(),n=xf(),[r,s]=Me.useState(n.currentTrain),[i,o]=Me.useState(e.cart),[a,l]=Me.useState(e.metadata.projectName);let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=y.jsx(qo,{children:"New TCA-Project"}),t[0]=c):c=t[0];let d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=y.jsx(Zt,{htmlFor:"projectName",children:"Project name"}),t[1]=d):d=t[1];let f,h,p,g;t[2]===Symbol.for("react.memo_cache_sentinel")?(f=y.jsx(ti,{id:"projectName",placeholder:"My TCA Project",className:"mt-2",onChange:ve=>l(ve.target.value)}),h=y.jsx("hr",{className:"my-4"}),p=y.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"TC Animator lets you animate one cart from a single train per project. To work on a different train or cart, create a new project for each one."}),g=y.jsx(Zt,{htmlFor:"train",children:"Train"}),t[2]=f,t[3]=h,t[4]=p,t[5]=g):(f=t[2],h=t[3],p=t[4],g=t[5]);let m;t[6]!==n.trains?(m=ve=>{const G=n.trains[ve];G&&(s(G),o(null))},t[6]=n.trains,t[7]=m):m=t[7];let w;t[8]===Symbol.for("react.memo_cache_sentinel")?(w=y.jsx(Wi,{className:"w-full",id:"train",children:y.jsx(Yi,{placeholder:"Select a train"})}),t[8]=w):w=t[8];let S;t[9]===Symbol.for("react.memo_cache_sentinel")?(S=y.jsx(Qi,{children:"Trains"}),t[9]=S):S=t[9];let A;t[10]!==n.trains?(A=Object.values(n.trains).filter(B_).map(M_),t[10]=n.trains,t[11]=A):A=t[11];let E;t[12]!==A?(E=y.jsx(Xi,{children:y.jsxs(Hi,{children:[S,A]})}),t[12]=A,t[13]=E):E=t[13];let x;t[14]!==E||t[15]!==m?(x=y.jsxs(Gi,{onValueChange:m,children:[w,E]}),t[14]=E,t[15]=m,t[16]=x):x=t[16];let C;t[17]===Symbol.for("react.memo_cache_sentinel")?(C=y.jsx(Zt,{htmlFor:"cart",className:"mt-4",children:"Cart"}),t[17]=C):C=t[17];let I;t[18]!==i||t[19]!==r?(I=r?.carts?Object.entries(r.carts).find(ve=>{const[,G]=ve;return G===i})?.[0]??"":"",t[18]=i,t[19]=r,t[20]=I):I=t[20];const j=!r?.carts;let T;t[21]!==r?.carts?(T=ve=>{const G=r?.carts?.[ve];G&&o(G)},t[21]=r?.carts,t[22]=T):T=t[22];let L;t[23]===Symbol.for("react.memo_cache_sentinel")?(L=y.jsx(Wi,{className:"w-full",id:"cart",children:y.jsx(Yi,{placeholder:"Select a cart"})}),t[23]=L):L=t[23];let D;t[24]===Symbol.for("react.memo_cache_sentinel")?(D=y.jsx(Qi,{children:"Carts"}),t[24]=D):D=t[24];let X;t[25]!==r?.carts?(X=Object.entries(r?.carts||{}).map(L_),t[25]=r?.carts,t[26]=X):X=t[26];let q;t[27]!==X?(q=y.jsx(Xi,{children:y.jsxs(Hi,{children:[D,X]})}),t[27]=X,t[28]=q):q=t[28];let ee;t[29]!==I||t[30]!==j||t[31]!==T||t[32]!==q?(ee=y.jsxs(Gi,{value:I,disabled:j,onValueChange:T,children:[L,q]}),t[29]=I,t[30]=j,t[31]=T,t[32]=q,t[33]=ee):ee=t[33];let ce;t[34]!==x||t[35]!==ee?(ce=y.jsxs(Zo,{children:[c,y.jsx(Ko,{asChild:!0,children:y.jsxs("div",{children:[d,f,h,p,g,x,C,ee]})})]}),t[34]=x,t[35]=ee,t[36]=ce):ce=t[36];let he;t[37]!==e||t[38]!==n?(he=()=>{e.reset(),n.reset()},t[37]=e,t[38]=n,t[39]=he):he=t[39];let we;t[40]===Symbol.for("react.memo_cache_sentinel")?(we=y.jsx(Kd,{}),t[40]=we):we=t[40];let ue;t[41]!==he?(ue=y.jsxs(On,{variant:"secondary",onClick:he,children:[we,"Back"]}),t[41]=he,t[42]=ue):ue=t[42];let re;t[43]!==i||t[44]!==r||t[45]!==a||t[46]!==e||t[47]!==n?(re=async()=>{a&&r&&i&&(e.setProjectName(a),n.setCurrentTrain(r),e.setCart(i),await e.saveProject())},t[43]=i,t[44]=r,t[45]=a,t[46]=e,t[47]=n,t[48]=re):re=t[48];const me=!(a&&r&&i);let oe;t[49]!==re||t[50]!==me?(oe=y.jsx(On,{onClick:re,disabled:me,children:"Create Project"}),t[49]=re,t[50]=me,t[51]=oe):oe=t[51];let Te;t[52]!==ue||t[53]!==oe?(Te=y.jsxs(Vo,{className:"flex justify-between",children:[ue,oe]}),t[52]=ue,t[53]=oe,t[54]=Te):Te=t[54];let Oe;return t[55]!==ce||t[56]!==Te?(Oe=y.jsx(Fo,{open:!0,children:y.jsxs(Uo,{children:[ce,Te]})}),t[55]=ce,t[56]=Te,t[57]=Oe):Oe=t[57],Oe}function L_(t){const[e]=t;return y.jsx(Hs,{value:e,children:e},e)}function M_(t){return y.jsx(Hs,{value:t.savedName,children:t.savedName},t.savedName)}function B_(t){return t.carts}function F_(){const t=ye.c(22),e=qt(),n=xf();let r;t[0]!==n?(r=async()=>{const A=await kc({description:"Select a YAML file",mimeTypes:["application/x-yaml","text/yaml"],extensions:[".yaml",".yml"],id:"load-saved-train-properties",startIn:"documents"}).catch(U_);if(A){const E=await A.text();n.setTrainsFromYml(E),n.setCurrentTrain(Object.values(n.trains)[0])}},t[0]=n,t[1]=r):r=t[1];const s=r;let i;t[2]!==e?(i=async()=>{Zn.promise(e.loadProjectFromFile(),{loading:"Loading project...",success:"Project loaded successfully!",error:"Failed to load project."})},t[2]=e,t[3]=i):i=t[3];const o=i;if(Object.entries(n.trains).length>0&&!e.metadata.createdAt){let A;return t[4]===Symbol.for("react.memo_cache_sentinel")?(A=y.jsx(R_,{}),t[4]=A):A=t[4],A}const a=!e.metadata.createdAt;let l;t[5]===Symbol.for("react.memo_cache_sentinel")?(l=y.jsx(qo,{children:"Welcome to TC Animator!"}),t[5]=l):l=t[5];let c;t[6]===Symbol.for("react.memo_cache_sentinel")?(c=y.jsx("h3",{className:"text-lg",children:"Please import a SavedTrainProperties YAML file or open an existing project to get started."}),t[6]=c):c=t[6];let d;t[7]===Symbol.for("react.memo_cache_sentinel")?(d=y.jsx(Zd,{className:"block size-24 mx-auto"}),t[7]=d):d=t[7];let f;t[8]!==s?(f=y.jsxs(On,{variant:"secondary",className:"aspect-square w-full h-auto flex flex-col",onClick:s,children:[d,"Import SavedTrainProperties"]}),t[8]=s,t[9]=f):f=t[9];let h;t[10]===Symbol.for("react.memo_cache_sentinel")?(h=y.jsx(Vd,{className:"block size-24 mx-auto"}),t[10]=h):h=t[10];let p;t[11]!==o?(p=y.jsxs(On,{variant:"secondary",className:"aspect-square w-full h-auto flex flex-col",onClick:o,children:[h,"Open TCA-Project"]}),t[11]=o,t[12]=p):p=t[12];let g;t[13]!==f||t[14]!==p?(g=y.jsxs(Zo,{children:[l,y.jsx(Ko,{asChild:!0,children:y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c,y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f,p]})]})})]}),t[13]=f,t[14]=p,t[15]=g):g=t[15];let m;t[16]===Symbol.for("react.memo_cache_sentinel")?(m=y.jsx(Vo,{className:"text-sm text-muted-foreground",children:y.jsxs("a",{href:"https://foxxite.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:["Made with ❤️ by Foxxite | Articca",y.jsx(qd,{className:"inline-block size-4"})]})}),t[16]=m):m=t[16];let w;t[17]!==g?(w=y.jsxs(Uo,{children:[g,m]}),t[17]=g,t[18]=w):w=t[18];let S;return t[19]!==w||t[20]!==a?(S=y.jsx(Fo,{open:a,children:w}),t[19]=w,t[20]=a,t[21]=S):S=t[21],S}function U_(){return null}jd.createRoot(document.getElementById("root")).render(y.jsxs(Me.StrictMode,{children:[y.jsx(Aw,{}),y.jsx(F_,{}),y.jsx(ww,{}),y.jsx(Pd,{position:"top-center"})]}));
