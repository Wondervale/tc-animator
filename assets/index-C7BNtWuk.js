import{h as Te,j as v,P as rf,k as sf,l as of,G as af,T as lf,C as cf,D as uf,n as ff,o as df,q as hf,X as Dl,O as pf,t as mf,I as gf,S as yf,M as bf,u as wf,v as _f,w as vf,y as kf,z as xf,A as Sf,B as Af,E as Nf,F as Tf,V as Ef,H as If,J as Of,K as zf,L as jf,N as Cf,Q as Ll,U as Pf,W as $f,Y as Df,Z as Lf,_ as Rf,$ as Bf,a0 as Mf,a1 as Ff,a2 as Uf,a3 as Zf,a4 as Vf,r as Re,a5 as qf,a6 as Kf,a7 as Gf,a8 as Hf,a9 as Yf,aa as fo,ab as Wf,ac as Jf,ad as Xf,ae as Pn,af as Qf,ag as ed,ah as Jr,ai as td,aj as nd,ak as rd,al as sd,am as id,an as od,ao as ad,ap as ld,aq as cd,ar as ud,as as fd,at as dd,au as hd,av as pd,aw as md,ax as gd,ay as yd}from"./react-C0oXDeYe.js";import{F as bd}from"./monaco-editor-Bb_vhY0d.js";import{u as ho,a as Rl,b as wd,c as Bl,T as _d,I as vd,d as kd,O as xd,L as Sd,B as Ad,e as Nd,P as Td,G as Ed,f as Id,g as Od,h as zd,C as jd}from"./react-three-j4Brw5c-.js";import{a7 as Xo,a8 as Cd,e as wn,a9 as po,a0 as Pd,aa as $d}from"./three-COLDv6GA.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Ml(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Ml(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fl(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Ml(t))&&(r&&(r+=" "),r+=e);return r}const mo="-",Dd=t=>{const e=Rd(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(mo);return a[0]===""&&a.length!==1&&a.shift(),Ul(a,e)||Ld(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Ul=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Ul(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(mo);return e.validators.find(({validator:o})=>o(i))?.classGroupId},Qo=/^\[(.+)\]$/,Ld=t=>{if(Qo.test(t)){const e=Qo.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Rd=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Ci(n[s],r,s,e);return r},Ci=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ea(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Bd(s)){Ci(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ci(o,ea(e,i),n,r)})})},ea=(t,e)=>{let n=t;return e.split(mo).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Bd=t=>t.isThemeGetter,Md=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Pi="!",$i=":",Fd=$i.length,Ud=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,a=0,l=0,u;for(let y=0;y<s.length;y++){let m=s[y];if(o===0&&a===0){if(m===$i){i.push(s.slice(l,y)),l=y+Fd;continue}if(m==="/"){u=y;continue}}m==="["?o++:m==="]"?o--:m==="("?a++:m===")"&&a--}const d=i.length===0?s:s.substring(l),f=Zd(d),h=f!==d,g=u&&u>l?u-l:void 0;return{modifiers:i,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}};if(e){const s=e+$i,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},Zd=t=>t.endsWith(Pi)?t.substring(0,t.length-1):t.startsWith(Pi)?t.substring(1):t,Vd=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||e[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},qd=t=>({cache:Md(t.cacheSize),parseClassName:Ud(t),sortModifiers:Vd(t),...Dd(t)}),Kd=/\s+/,Gd=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(Kd);let l="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{isExternal:f,modifiers:h,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:m}=n(d);if(f){l=d+(l.length>0?" "+l:l);continue}let b=!!m,S=r(b?y.substring(0,m):y);if(!S){if(!b){l=d+(l.length>0?" "+l:l);continue}if(S=r(y),!S){l=d+(l.length>0?" "+l:l);continue}b=!1}const T=i(h).join(":"),N=g?T+Pi:T,k=N+S;if(o.includes(k))continue;o.push(k);const z=s(S,b);for(let I=0;I<z.length;++I){const j=z[I];o.push(N+j)}l=d+(l.length>0?" "+l:l)}return l};function Hd(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Zl(e))&&(r&&(r+=" "),r+=n);return r}const Zl=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Zl(t[r]))&&(n&&(n+=" "),n+=e);return n};function Yd(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=qd(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=Gd(l,n);return s(l,d),d}return function(){return i(Hd.apply(null,arguments))}}const dt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Vl=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ql=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Wd=/^\d+\/\d+$/,Jd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,eh=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,th=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qn=t=>Wd.test(t),Be=t=>!!t&&!Number.isNaN(Number(t)),rn=t=>!!t&&Number.isInteger(Number(t)),li=t=>t.endsWith("%")&&Be(t.slice(0,-1)),Wt=t=>Jd.test(t),nh=()=>!0,rh=t=>Xd.test(t)&&!Qd.test(t),Kl=()=>!1,sh=t=>eh.test(t),ih=t=>th.test(t),oh=t=>!ke(t)&&!xe(t),ah=t=>mr(t,Yl,Kl),ke=t=>Vl.test(t),En=t=>mr(t,Wl,rh),ci=t=>mr(t,dh,Be),ta=t=>mr(t,Gl,Kl),lh=t=>mr(t,Hl,ih),Xr=t=>mr(t,Jl,sh),xe=t=>ql.test(t),xr=t=>gr(t,Wl),ch=t=>gr(t,hh),na=t=>gr(t,Gl),uh=t=>gr(t,Yl),fh=t=>gr(t,Hl),Qr=t=>gr(t,Jl,!0),mr=(t,e,n)=>{const r=Vl.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},gr=(t,e,n=!1)=>{const r=ql.exec(t);return r?r[1]?e(r[1]):n:!1},Gl=t=>t==="position"||t==="percentage",Hl=t=>t==="image"||t==="url",Yl=t=>t==="length"||t==="size"||t==="bg-size",Wl=t=>t==="length",dh=t=>t==="number",hh=t=>t==="family-name",Jl=t=>t==="shadow",ph=()=>{const t=dt("color"),e=dt("font"),n=dt("text"),r=dt("font-weight"),s=dt("tracking"),i=dt("leading"),o=dt("breakpoint"),a=dt("container"),l=dt("spacing"),u=dt("radius"),d=dt("shadow"),f=dt("inset-shadow"),h=dt("text-shadow"),g=dt("drop-shadow"),y=dt("blur"),m=dt("perspective"),b=dt("aspect"),S=dt("ease"),T=dt("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...k(),xe,ke],I=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],O=()=>[xe,ke,l],D=()=>[qn,"full","auto",...O()],M=()=>[rn,"none","subgrid",xe,ke],W=()=>["auto",{span:["full",rn,xe,ke]},rn,xe,ke],K=()=>[rn,"auto",xe,ke],Q=()=>["auto","min","max","fr",xe,ke],ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ce=()=>["start","end","center","stretch","center-safe","end-safe"],ge=()=>["auto",...O()],ue=()=>[qn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],te=()=>[t,xe,ke],de=()=>[...k(),na,ta,{position:[xe,ke]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Se=()=>["auto","cover","contain",uh,ah,{size:[xe,ke]}],Ne=()=>[li,xr,En],ve=()=>["","none","full",u,xe,ke],q=()=>["",Be,xr,En],Ae=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Pe=()=>[Be,li,na,ta],Ue=()=>["","none",y,xe,ke],Ke=()=>["none",Be,xe,ke],_=()=>["none",Be,xe,ke],x=()=>[Be,xe,ke],E=()=>[qn,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Wt],breakpoint:[Wt],color:[nh],container:[Wt],"drop-shadow":[Wt],ease:["in","out","in-out"],font:[oh],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Wt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Wt],shadow:[Wt],spacing:["px",Be],text:[Wt],"text-shadow":[Wt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qn,ke,xe,b]}],container:["container"],columns:[{columns:[Be,ke,xe,a]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[rn,"auto",xe,ke]}],basis:[{basis:[qn,"full","auto",a,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,qn,"auto","initial","none",ke]}],grow:[{grow:["",Be,xe,ke]}],shrink:[{shrink:["",Be,xe,ke]}],order:[{order:[rn,"first","last","none",xe,ke]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...ae(),"normal"]}],"justify-items":[{"justify-items":[...ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...ce()]}],"align-content":[{content:["normal",...ae()]}],"align-items":[{items:[...ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":ae()}],"place-items":[{"place-items":[...ce(),"baseline"]}],"place-self":[{"place-self":["auto",...ce()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:ge()}],mx:[{mx:ge()}],my:[{my:ge()}],ms:[{ms:ge()}],me:[{me:ge()}],mt:[{mt:ge()}],mr:[{mr:ge()}],mb:[{mb:ge()}],ml:[{ml:ge()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:ue()}],w:[{w:[a,"screen",...ue()]}],"min-w":[{"min-w":[a,"screen","none",...ue()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...ue()]}],h:[{h:["screen","lh",...ue()]}],"min-h":[{"min-h":["screen","lh","none",...ue()]}],"max-h":[{"max-h":["screen","lh",...ue()]}],"font-size":[{text:["base",n,xr,En]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,xe,ci]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",li,ke]}],"font-family":[{font:[ch,ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,xe,ke]}],"line-clamp":[{"line-clamp":[Be,"none",xe,ci]}],leading:[{leading:[i,...O()]}],"list-image":[{"list-image":["none",xe,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",xe,En]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[Be,"auto",xe,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:Se()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},rn,xe,ke],radial:["",xe,ke],conic:[rn,xe,ke]},fh,lh]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:Ne()}],"gradient-via-pos":[{via:Ne()}],"gradient-to-pos":[{to:Ne()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:ve()}],"rounded-s":[{"rounded-s":ve()}],"rounded-e":[{"rounded-e":ve()}],"rounded-t":[{"rounded-t":ve()}],"rounded-r":[{"rounded-r":ve()}],"rounded-b":[{"rounded-b":ve()}],"rounded-l":[{"rounded-l":ve()}],"rounded-ss":[{"rounded-ss":ve()}],"rounded-se":[{"rounded-se":ve()}],"rounded-ee":[{"rounded-ee":ve()}],"rounded-es":[{"rounded-es":ve()}],"rounded-tl":[{"rounded-tl":ve()}],"rounded-tr":[{"rounded-tr":ve()}],"rounded-br":[{"rounded-br":ve()}],"rounded-bl":[{"rounded-bl":ve()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,xe,ke]}],"outline-w":[{outline:["",Be,xr,En]}],"outline-color":[{outline:te()}],shadow:[{shadow:["","none",d,Qr,Xr]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",f,Qr,Xr]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[Be,En]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":te()}],"text-shadow":[{"text-shadow":["none",h,Qr,Xr]}],"text-shadow-color":[{"text-shadow":te()}],opacity:[{opacity:[Be,xe,ke]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":Pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Pe()}],"mask-image-linear-from-color":[{"mask-linear-from":te()}],"mask-image-linear-to-color":[{"mask-linear-to":te()}],"mask-image-t-from-pos":[{"mask-t-from":Pe()}],"mask-image-t-to-pos":[{"mask-t-to":Pe()}],"mask-image-t-from-color":[{"mask-t-from":te()}],"mask-image-t-to-color":[{"mask-t-to":te()}],"mask-image-r-from-pos":[{"mask-r-from":Pe()}],"mask-image-r-to-pos":[{"mask-r-to":Pe()}],"mask-image-r-from-color":[{"mask-r-from":te()}],"mask-image-r-to-color":[{"mask-r-to":te()}],"mask-image-b-from-pos":[{"mask-b-from":Pe()}],"mask-image-b-to-pos":[{"mask-b-to":Pe()}],"mask-image-b-from-color":[{"mask-b-from":te()}],"mask-image-b-to-color":[{"mask-b-to":te()}],"mask-image-l-from-pos":[{"mask-l-from":Pe()}],"mask-image-l-to-pos":[{"mask-l-to":Pe()}],"mask-image-l-from-color":[{"mask-l-from":te()}],"mask-image-l-to-color":[{"mask-l-to":te()}],"mask-image-x-from-pos":[{"mask-x-from":Pe()}],"mask-image-x-to-pos":[{"mask-x-to":Pe()}],"mask-image-x-from-color":[{"mask-x-from":te()}],"mask-image-x-to-color":[{"mask-x-to":te()}],"mask-image-y-from-pos":[{"mask-y-from":Pe()}],"mask-image-y-to-pos":[{"mask-y-to":Pe()}],"mask-image-y-from-color":[{"mask-y-from":te()}],"mask-image-y-to-color":[{"mask-y-to":te()}],"mask-image-radial":[{"mask-radial":[xe,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":Pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Pe()}],"mask-image-radial-from-color":[{"mask-radial-from":te()}],"mask-image-radial-to-color":[{"mask-radial-to":te()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":Pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Pe()}],"mask-image-conic-from-color":[{"mask-conic-from":te()}],"mask-image-conic-to-color":[{"mask-conic-to":te()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:Se()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,ke]}],filter:[{filter:["","none",xe,ke]}],blur:[{blur:Ue()}],brightness:[{brightness:[Be,xe,ke]}],contrast:[{contrast:[Be,xe,ke]}],"drop-shadow":[{"drop-shadow":["","none",g,Qr,Xr]}],"drop-shadow-color":[{"drop-shadow":te()}],grayscale:[{grayscale:["",Be,xe,ke]}],"hue-rotate":[{"hue-rotate":[Be,xe,ke]}],invert:[{invert:["",Be,xe,ke]}],saturate:[{saturate:[Be,xe,ke]}],sepia:[{sepia:["",Be,xe,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,ke]}],"backdrop-blur":[{"backdrop-blur":Ue()}],"backdrop-brightness":[{"backdrop-brightness":[Be,xe,ke]}],"backdrop-contrast":[{"backdrop-contrast":[Be,xe,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,xe,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,xe,ke]}],"backdrop-invert":[{"backdrop-invert":["",Be,xe,ke]}],"backdrop-opacity":[{"backdrop-opacity":[Be,xe,ke]}],"backdrop-saturate":[{"backdrop-saturate":[Be,xe,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,xe,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",xe,ke]}],ease:[{ease:["linear","initial",S,xe,ke]}],delay:[{delay:[Be,xe,ke]}],animate:[{animate:["none",T,xe,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,xe,ke]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:Ke()}],"rotate-x":[{"rotate-x":Ke()}],"rotate-y":[{"rotate-y":Ke()}],"rotate-z":[{"rotate-z":Ke()}],scale:[{scale:_()}],"scale-x":[{"scale-x":_()}],"scale-y":[{"scale-y":_()}],"scale-z":[{"scale-z":_()}],"scale-3d":["scale-3d"],skew:[{skew:x()}],"skew-x":[{"skew-x":x()}],"skew-y":[{"skew-y":x()}],transform:[{transform:[xe,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:E()}],"translate-x":[{"translate-x":E()}],"translate-y":[{"translate-y":E()}],"translate-z":[{"translate-z":E()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,ke]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[Be,xr,En,ci]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mh=Yd(ph);function Ve(...t){return mh(Fl(t))}function Qt(t){return-t*(Math.PI/180)}function ra(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx(of,{"data-slot":"resizable-panel-group",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function es(t){const e=Te.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=v.jsx(rf,{"data-slot":"resizable-panel",...n}),e[2]=n,e[3]=r):r=e[3],r}function sa(t){const e=Te.c(12);let n,r,s;e[0]!==t?({withHandle:s,className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s):(n=e[1],r=e[2],s=e[3]);let i;e[4]!==n?(i=Ve("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90 hover:bg-primary",n),e[4]=n,e[5]=i):i=e[5];let o;e[6]!==s?(o=s&&v.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:v.jsx(af,{className:"size-2.5"})}),e[6]=s,e[7]=o):o=e[7];let a;return e[8]!==r||e[9]!==i||e[10]!==o?(a=v.jsx(sf,{"data-slot":"resizable-handle",className:i,...r,children:o}),e[8]=r,e[9]=i,e[10]=o,e[11]=a):a=e[11],a}function gh(t){const e=Te.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=v.jsx(ff,{"data-slot":"dialog",...n}),e[2]=n,e[3]=r):r=e[3],r}function yh(t){const e=Te.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=v.jsx(df,{"data-slot":"dialog-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function bh(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx(pf,{"data-slot":"dialog-overlay",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function wh(t){const e=Te.c(15);let n,r,s,i;e[0]!==t?({className:r,children:n,showCloseButton:i,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?!0:i;let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=v.jsx(bh,{}),e[5]=a):a=e[5];let l;e[6]!==r?(l=Ve("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),e[6]=r,e[7]=l):l=e[7];let u;e[8]!==o?(u=o&&v.jsxs(hf,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[v.jsx(Dl,{}),v.jsx("span",{className:"sr-only",children:"Close"})]}),e[8]=o,e[9]=u):u=e[9];let d;return e[10]!==n||e[11]!==s||e[12]!==l||e[13]!==u?(d=v.jsxs(yh,{"data-slot":"dialog-portal",children:[a,v.jsxs(cf,{"data-slot":"dialog-content",className:l,...s,children:[n,u]})]}),e[10]=n,e[11]=s,e[12]=l,e[13]=u,e[14]=d):d=e[14],d}function _h(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx("div",{"data-slot":"dialog-header",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function vh(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("text-lg leading-none font-semibold",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx(lf,{"data-slot":"dialog-title",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function kh(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("text-muted-foreground text-sm",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx(uf,{"data-slot":"dialog-description",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function xh(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx(_f,{"data-slot":"menubar",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function ia(t){const e=Te.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=v.jsx(bf,{"data-slot":"menubar-menu",...n}),e[2]=n,e[3]=r):r=e[3],r}function Sh(t){const e=Te.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=v.jsx(vf,{"data-slot":"menubar-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function Ah(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx(mf,{"data-slot":"menubar-trigger",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Nh(t){const e=Te.c(14);let n,r,s,i,o;e[0]!==t?({className:n,align:s,alignOffset:i,sideOffset:o,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=o):(n=e[1],r=e[2],s=e[3],i=e[4],o=e[5]);const a=s===void 0?"start":s,l=i===void 0?-4:i,u=o===void 0?8:o;let d;e[6]!==n?(d=Ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-md",n),e[6]=n,e[7]=d):d=e[7];let f;return e[8]!==a||e[9]!==l||e[10]!==r||e[11]!==u||e[12]!==d?(f=v.jsx(Sh,{children:v.jsx(wf,{"data-slot":"menubar-content",align:a,alignOffset:l,sideOffset:u,className:d,...r})}),e[8]=a,e[9]=l,e[10]=r,e[11]=u,e[12]=d,e[13]=f):f=e[13],f}function Kn(t){const e=Te.c(12);let n,r,s,i;e[0]!==t?({className:n,inset:r,variant:i,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?"default":i;let a;e[5]!==n?(a=Ve("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[5]=n,e[6]=a):a=e[6];let l;return e[7]!==r||e[8]!==s||e[9]!==a||e[10]!==o?(l=v.jsx(gf,{"data-slot":"menubar-item","data-inset":r,"data-variant":o,className:a,...s}),e[7]=r,e[8]=s,e[9]=a,e[10]=o,e[11]=l):l=e[11],l}function ui(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("bg-border -mx-1 my-1 h-px",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx(yf,{"data-slot":"menubar-separator",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function oa(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("text-muted-foreground ml-auto text-xs tracking-widest",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx("span",{"data-slot":"menubar-shortcut",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Di(t){const e=Te.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=v.jsx(Nf,{"data-slot":"select",...n}),e[2]=n,e[3]=r):r=e[3],r}function Li(t){const e=Te.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=v.jsx(zf,{"data-slot":"select-group",...n}),e[2]=n,e[3]=r):r=e[3],r}function Ri(t){const e=Te.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=v.jsx(Ef,{"data-slot":"select-value",...n}),e[2]=n,e[3]=r):r=e[3],r}function Bi(t){const e=Te.c(13);let n,r,s,i;e[0]!==t?({className:r,size:i,children:n,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?"default":i;let a;e[5]!==r?(a=Ve("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 mt-2",r),e[5]=r,e[6]=a):a=e[6];let l;e[7]===Symbol.for("react.memo_cache_sentinel")?(l=v.jsx(Cf,{asChild:!0,children:v.jsx(Ll,{className:"size-4 opacity-50"})}),e[7]=l):l=e[7];let u;return e[8]!==n||e[9]!==s||e[10]!==o||e[11]!==a?(u=v.jsxs(Tf,{"data-slot":"select-trigger","data-size":o,className:a,...s,children:[n,l]}),e[8]=n,e[9]=s,e[10]=o,e[11]=a,e[12]=u):u=e[12],u}function Mi(t){const e=Te.c(20);let n,r,s,i;e[0]!==t?({className:r,children:n,position:i,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?"popper":i,a=o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let l;e[5]!==r||e[6]!==a?(l=Ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",a,r),e[5]=r,e[6]=a,e[7]=l):l=e[7];let u;e[8]===Symbol.for("react.memo_cache_sentinel")?(u=v.jsx(Th,{}),e[8]=u):u=e[8];const d=o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1";let f;e[9]!==d?(f=Ve("p-1",d),e[9]=d,e[10]=f):f=e[10];let h;e[11]!==n||e[12]!==f?(h=v.jsx(Pf,{className:f,children:n}),e[11]=n,e[12]=f,e[13]=h):h=e[13];let g;e[14]===Symbol.for("react.memo_cache_sentinel")?(g=v.jsx(Eh,{}),e[14]=g):g=e[14];let y;return e[15]!==o||e[16]!==s||e[17]!==l||e[18]!==h?(y=v.jsx(If,{children:v.jsxs(Of,{"data-slot":"select-content",className:l,position:o,...s,children:[u,h,g]})}),e[15]=o,e[16]=s,e[17]=l,e[18]=h,e[19]=y):y=e[19],y}function Fi(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("text-muted-foreground px-2 py-1.5 text-xs",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx(jf,{"data-slot":"select-label",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Bs(t){const e=Te.c(13);let n,r,s;e[0]!==t?({className:r,children:n,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s):(n=e[1],r=e[2],s=e[3]);let i;e[4]!==r?(i=Ve("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),e[4]=r,e[5]=i):i=e[5];let o;e[6]===Symbol.for("react.memo_cache_sentinel")?(o=v.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:v.jsx(xf,{children:v.jsx(Sf,{className:"size-4"})})}),e[6]=o):o=e[6];let a;e[7]!==n?(a=v.jsx(Af,{children:n}),e[7]=n,e[8]=a):a=e[8];let l;return e[9]!==s||e[10]!==i||e[11]!==a?(l=v.jsxs(kf,{"data-slot":"select-item",className:i,...s,children:[o,a]}),e[9]=s,e[10]=i,e[11]=a,e[12]=l):l=e[12],l}function Th(t){const e=Te.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("flex cursor-default items-center justify-center py-1",n),e[3]=n,e[4]=s):s=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=v.jsx(Lf,{className:"size-4"}),e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==s?(o=v.jsx($f,{"data-slot":"select-scroll-up-button",className:s,...r,children:i}),e[6]=r,e[7]=s,e[8]=o):o=e[8],o}function Eh(t){const e=Te.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("flex cursor-default items-center justify-center py-1",n),e[3]=n,e[4]=s):s=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=v.jsx(Ll,{className:"size-4"}),e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==s?(o=v.jsx(Df,{"data-slot":"select-scroll-down-button",className:s,...r,children:i}),e[6]=r,e[7]=s,e[8]=o):o=e[8],o}function Ih(t){const e=Te.c(6);let n,r;e[0]!==t?({delayDuration:r,...n}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);const s=r===void 0?0:r;let i;return e[3]!==s||e[4]!==n?(i=v.jsx(Uf,{"data-slot":"tooltip-provider",delayDuration:s,...n}),e[3]=s,e[4]=n,e[5]=i):i=e[5],i}function Yn(t){const e=Te.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=v.jsx(Ih,{children:v.jsx(Bf,{"data-slot":"tooltip",...n})}),e[2]=n,e[3]=r):r=e[3],r}function Wn(t){const e=Te.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=v.jsx(Rf,{"data-slot":"tooltip-trigger",...n}),e[2]=n,e[3]=r):r=e[3],r}function Jn(t){const e=Te.c(13);let n,r,s,i;e[0]!==t?({className:r,sideOffset:i,children:n,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?0:i;let a;e[5]!==r?(a=Ve("bg-secondary text-secondary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",r),e[5]=r,e[6]=a):a=e[6];let l;e[7]===Symbol.for("react.memo_cache_sentinel")?(l=v.jsx(Zf,{className:"bg-secondary fill-secondary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"}),e[7]=l):l=e[7];let u;return e[8]!==n||e[9]!==s||e[10]!==o||e[11]!==a?(u=v.jsx(Mf,{children:v.jsxs(Ff,{"data-slot":"tooltip-content",sideOffset:o,className:a,...s,children:[n,l]})}),e[8]=n,e[9]=s,e[10]=o,e[11]=a,e[12]=u):u=e[12],u}const aa=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,la=Fl,Xl=(t,e)=>n=>{var r;if(e?.variants==null)return la(t,n?.class,n?.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n?.[u],f=i?.[u];if(d===null)return null;const h=aa(d)||aa(f);return s[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(y=>{let[m,b]=y;return Array.isArray(b)?b.includes({...i,...a}[m]):{...i,...a}[m]===b})?[...u,f,h]:u},[]);return la(t,o,l,n?.class,n?.className)},Ql=Xl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Bn(t){const e=Te.c(14);let n,r,s,i,o;e[0]!==t?({className:n,variant:o,size:s,asChild:i,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=o):(n=e[1],r=e[2],s=e[3],i=e[4],o=e[5]);const l=(i===void 0?!1:i)?Vf:"button";let u;e[6]!==n||e[7]!==s||e[8]!==o?(u=Ve(Ql({variant:o,size:s,className:n})),e[6]=n,e[7]=s,e[8]=o,e[9]=u):u=e[9];let d;return e[10]!==l||e[11]!==r||e[12]!==u?(d=v.jsx(l,{"data-slot":"button",className:u,...r}),e[10]=l,e[11]=r,e[12]=u,e[13]=d):d=e[13],d}const ec={r:146,g:163,b:187,a:1},Oh=t=>{if(typeof t=="string"){const e=t.match(/^#([0-9a-f]{3,8})$/i);if(e){const n=e[1],r=parseInt(n.slice(0,2),16),s=parseInt(n.slice(2,4),16),i=parseInt(n.slice(4,6),16),o=n.length>6?parseInt(n.slice(6,8),16)/255:1;return{r,g:s,b:i,a:o}}}return ec},zh=t=>{const e=Te.c(24),{defaultColor:n,onChangeComplete:r}=t,s=n===void 0?ec:n,[i,o]=Re.useState(!1);let a;e[0]!==s?(a=typeof s=="string"?Oh(s):s,e[0]=s,e[1]=a):a=e[1];const[l,u]=Re.useState(a);let d;e[2]!==r?(d=qf(ae=>r(ae),{wait:500}),e[2]=r,e[3]=d):d=e[3];const f=d;let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=()=>o(jh),e[4]=h):h=e[4];const g=h;let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=()=>o(!1),e[5]=y):y=e[5];const m=y;let b;e[6]!==f?(b=ae=>{u(ae.rgb),f(ae)},e[6]=f,e[7]=b):b=e[7];const S=b,T=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`;let N;e[8]!==T?(N={width:"100%",height:"100%",background:T,borderRadius:"1px",border:"1px solid #ccc"},e[8]=T,e[9]=N):N=e[9];const k=N;let z;e[10]===Symbol.for("react.memo_cache_sentinel")?(z={position:"absolute",zIndex:2,left:"50%",transform:"translateX(-50%)"},e[10]=z):z=e[10];const I=z;let j;e[11]===Symbol.for("react.memo_cache_sentinel")?(j={position:"fixed",top:0,right:0,bottom:0,left:0},e[11]=j):j=e[11];const O=j;let D,M;e[12]!==i?(D=()=>{const ae=ce=>{i&&!ce.target.closest(".color-picker")&&m()};return document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},M=[i],e[12]=i,e[13]=D,e[14]=M):(D=e[13],M=e[14]),Re.useEffect(D,M);let W;e[15]!==k?(W=v.jsx(Bn,{onClick:g,variant:"secondary",className:"w-full",children:v.jsx("div",{style:k})}),e[15]=k,e[16]=W):W=e[16];let K;e[17]!==l||e[18]!==i||e[19]!==S?(K=i&&v.jsxs("div",{style:I,className:"color-picker",children:[v.jsx("div",{style:O,onClick:m}),v.jsx(Kf,{color:l,onChange:S,presetColors:["#92A3BB","#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],disableAlpha:!0})]}),e[17]=l,e[18]=i,e[19]=S,e[20]=K):K=e[20];let Q;return e[21]!==W||e[22]!==K?(Q=v.jsxs("div",{children:[W,K]}),e[21]=W,e[22]=K,e[23]=Q):Q=e[23],Q};function jh(t){return!t}function go(t){const e=Te.c(10);let n,r,s;e[0]!==t?({className:n,type:s,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s):(n=e[1],r=e[2],s=e[3]);let i;e[4]!==n?(i=Ve("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm mt-2","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),e[4]=n,e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==i||e[8]!==s?(o=v.jsx("input",{type:s,"data-slot":"input",className:i,...r}),e[6]=r,e[7]=i,e[8]=s,e[9]=o):o=e[9],o}function qt(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx(Gf,{"data-slot":"label",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function ts(t){const e=Te.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),e[3]=n,e[4]=s):s=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=v.jsx(Hf,{"data-slot":"switch-thumb",className:Ve("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==s?(o=v.jsx(Yf,{"data-slot":"switch",className:s,...r,children:i}),e[6]=r,e[7]=s,e[8]=o):o=e[8],o}const Gt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},tc=Object.create(null);for(const t in Gt)Object.hasOwn(Gt,t)&&(tc[Gt[t]]=t);const pt={to:{},get:{}};pt.get=function(t){const e=t.slice(0,3).toLowerCase();let n,r;switch(e){case"hsl":{n=pt.get.hsl(t),r="hsl";break}case"hwb":{n=pt.get.hwb(t),r="hwb";break}default:{n=pt.get.rgb(t),r="rgb";break}}return n?{model:r,value:n}:null};pt.get.rgb=function(t){if(!t)return null;const e=/^#([a-f\d]{3,4})$/i,n=/^#([a-f\d]{6})([a-f\d]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,s=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,i=/^(\w+)$/;let o=[0,0,0,1],a,l,u;if(a=t.match(n)){for(u=a[2],a=a[1],l=0;l<3;l++){const d=l*2;o[l]=Number.parseInt(a.slice(d,d+2),16)}u&&(o[3]=Number.parseInt(u,16)/255)}else if(a=t.match(e)){for(a=a[1],u=a[3],l=0;l<3;l++)o[l]=Number.parseInt(a[l]+a[l],16);u&&(o[3]=Number.parseInt(u+u,16)/255)}else if(a=t.match(r)){for(l=0;l<3;l++)o[l]=Number.parseInt(a[l+1],10);a[4]&&(o[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else if(a=t.match(s)){for(l=0;l<3;l++)o[l]=Math.round(Number.parseFloat(a[l+1])*2.55);a[4]&&(o[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else return(a=t.match(i))?a[1]==="transparent"?[0,0,0,0]:Object.hasOwn(Gt,a[1])?(o=Gt[a[1]],o[3]=1,o):null:null;for(l=0;l<3;l++)o[l]=yn(o[l],0,255);return o[3]=yn(o[3],0,1),o};pt.get.hsl=function(t){if(!t)return null;const e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){const r=Number.parseFloat(n[4]),s=(Number.parseFloat(n[1])%360+360)%360,i=yn(Number.parseFloat(n[2]),0,100),o=yn(Number.parseFloat(n[3]),0,100),a=yn(Number.isNaN(r)?1:r,0,1);return[s,i,o,a]}return null};pt.get.hwb=function(t){if(!t)return null;const e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*[\s,]\s*([+-]?[\d.]+)%\s*[\s,]\s*([+-]?[\d.]+)%\s*(?:[\s,]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){const r=Number.parseFloat(n[4]),s=(Number.parseFloat(n[1])%360+360)%360,i=yn(Number.parseFloat(n[2]),0,100),o=yn(Number.parseFloat(n[3]),0,100),a=yn(Number.isNaN(r)?1:r,0,1);return[s,i,o,a]}return null};pt.to.hex=function(...t){return"#"+ns(t[0])+ns(t[1])+ns(t[2])+(t[3]<1?ns(Math.round(t[3]*255)):"")};pt.to.rgb=function(...t){return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};pt.to.rgb.percent=function(...t){const e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"};pt.to.hsl=function(...t){return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};pt.to.hwb=function(...t){let e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};pt.to.keyword=function(...t){return tc[t.slice(0,3)]};function yn(t,e,n){return Math.min(Math.max(e,t),n)}function ns(t){const e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}const nc={};for(const t of Object.keys(Gt))nc[Gt[t]]=t;const pe={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},en=(6/29)**3;function rr(t){const e=t>.0031308?1.055*t**.4166666666666667-.055:t*12.92;return Math.min(Math.max(0,e),1)}function sr(t){return t>.04045?((t+.055)/1.055)**2.4:t/12.92}for(const t of Object.keys(pe)){if(!("channels"in pe[t]))throw new Error("missing channels property: "+t);if(!("labels"in pe[t]))throw new Error("missing channel labels property: "+t);if(pe[t].labels.length!==pe[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=pe[t];delete pe[t].channels,delete pe[t].labels,Object.defineProperty(pe[t],"channels",{value:e}),Object.defineProperty(pe[t],"labels",{value:n})}pe.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.min(e,n,r),i=Math.max(e,n,r),o=i-s;let a,l;switch(i){case s:{a=0;break}case e:{a=(n-r)/o;break}case n:{a=2+(r-e)/o;break}case r:{a=4+(e-n)/o;break}}a=Math.min(a*60,360),a<0&&(a+=360);const u=(s+i)/2;return i===s?l=0:u<=.5?l=o/(i+s):l=o/(2-i-s),[a,l*100,u*100]};pe.rgb.hsv=function(t){let e,n,r,s,i;const o=t[0]/255,a=t[1]/255,l=t[2]/255,u=Math.max(o,a,l),d=u-Math.min(o,a,l),f=function(h){return(u-h)/6/d+1/2};if(d===0)s=0,i=0;else{switch(i=d/u,e=f(o),n=f(a),r=f(l),u){case o:{s=r-n;break}case a:{s=1/3+e-r;break}case l:{s=2/3+n-e;break}}s<0?s+=1:s>1&&(s-=1)}return[s*360,i*100,u*100]};pe.rgb.hwb=function(t){const e=t[0],n=t[1];let r=t[2];const s=pe.rgb.hsl(t)[0],i=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[s,i*100,r*100]};pe.rgb.oklab=function(t){const e=sr(t[0]/255),n=sr(t[1]/255),r=sr(t[2]/255),s=Math.cbrt(.4122214708*e+.5363325363*n+.0514459929*r),i=Math.cbrt(.2119034982*e+.6806995451*n+.1073969566*r),o=Math.cbrt(.0883024619*e+.2817188376*n+.6299787005*r),a=.2104542553*s+.793617785*i-.0040720468*o,l=1.9779984951*s-2.428592205*i+.4505937099*o,u=.0259040371*s+.7827717662*i-.808675766*o;return[a*100,l*100,u*100]};pe.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.min(1-e,1-n,1-r),i=(1-e-s)/(1-s)||0,o=(1-n-s)/(1-s)||0,a=(1-r-s)/(1-s)||0;return[i*100,o*100,a*100,s*100]};function Ch(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}pe.rgb.keyword=function(t){const e=nc[t];if(e)return e;let n=Number.POSITIVE_INFINITY,r;for(const s of Object.keys(Gt)){const i=Gt[s],o=Ch(t,i);o<n&&(n=o,r=s)}return r};pe.keyword.rgb=function(t){return Gt[t]};pe.rgb.xyz=function(t){const e=sr(t[0]/255),n=sr(t[1]/255),r=sr(t[2]/255),s=e*.4124564+n*.3575761+r*.1804375,i=e*.2126729+n*.7151522+r*.072175,o=e*.0193339+n*.119192+r*.9503041;return[s*100,i*100,o*100]};pe.rgb.lab=function(t){const e=pe.rgb.xyz(t);let n=e[0],r=e[1],s=e[2];n/=95.047,r/=100,s/=108.883,n=n>en?n**(1/3):7.787*n+16/116,r=r>en?r**(1/3):7.787*r+16/116,s=s>en?s**(1/3):7.787*s+16/116;const i=116*r-16,o=500*(n-r),a=200*(r-s);return[i,o,a]};pe.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;let s,i;if(n===0)return i=r*255,[i,i,i];const o=r<.5?r*(1+n):r+n-r*n,a=2*r-o,l=[0,0,0];for(let u=0;u<3;u++)s=e+1/3*-(u-1),s<0&&s++,s>1&&s--,6*s<1?i=a+(o-a)*6*s:2*s<1?i=o:3*s<2?i=a+(o-a)*(2/3-s)*6:i=a,l[u]=i*255;return l};pe.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,r=t[2]/100,s=n;const i=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,s*=i<=1?i:2-i;const o=(r+n)/2,a=r===0?2*s/(i+s):2*n/(r+n);return[e,a*100,o*100]};pe.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let r=t[2]/100;const s=Math.floor(e)%6,i=e-Math.floor(e),o=255*r*(1-n),a=255*r*(1-n*i),l=255*r*(1-n*(1-i));switch(r*=255,s){case 0:return[r,l,o];case 1:return[a,r,o];case 2:return[o,r,l];case 3:return[o,a,r];case 4:return[l,o,r];case 5:return[r,o,a]}};pe.hsv.hsl=function(t){const e=t[0],n=t[1]/100,r=t[2]/100,s=Math.max(r,.01);let i,o;o=(2-n)*r;const a=(2-n)*s;return i=n*s,i/=a<=1?a:2-a,i=i||0,o/=2,[e,i*100,o*100]};pe.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,r=t[2]/100;const s=n+r;let i;s>1&&(n/=s,r/=s);const o=Math.floor(6*e),a=1-r;i=6*e-o,(o&1)!==0&&(i=1-i);const l=n+i*(a-n);let u,d,f;switch(o){default:case 6:case 0:{u=a,d=l,f=n;break}case 1:{u=l,d=a,f=n;break}case 2:{u=n,d=a,f=l;break}case 3:{u=n,d=l,f=a;break}case 4:{u=l,d=n,f=a;break}case 5:{u=a,d=n,f=l;break}}return[u*255,d*255,f*255]};pe.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=t[3]/100,i=1-Math.min(1,e*(1-s)+s),o=1-Math.min(1,n*(1-s)+s),a=1-Math.min(1,r*(1-s)+s);return[i*255,o*255,a*255]};pe.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100;let s,i,o;return s=e*3.2404542+n*-1.5371385+r*-.4985314,i=e*-.969266+n*1.8760108+r*.041556,o=e*.0556434+n*-.2040259+r*1.0572252,s=rr(s),i=rr(i),o=rr(o),[s*255,i*255,o*255]};pe.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>en?e**(1/3):7.787*e+16/116,n=n>en?n**(1/3):7.787*n+16/116,r=r>en?r**(1/3):7.787*r+16/116;const s=116*n-16,i=500*(e-n),o=200*(n-r);return[s,i,o]};pe.xyz.oklab=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=Math.cbrt(.8189330101*e+.3618667424*n-.1288597137*r),i=Math.cbrt(.0329845436*e+.9293118715*n+.0361456387*r),o=Math.cbrt(.0482003018*e+.2643662691*n+.633851707*r),a=.2104542553*s+.793617785*i-.0040720468*o,l=1.9779984951*s-2.428592205*i+.4505937099*o,u=.0259040371*s+.7827717662*i-.808675766*o;return[a*100,l*100,u*100]};pe.oklab.oklch=function(t){return pe.lab.lch(t)};pe.oklab.xyz=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=(.999999998*e+.396337792*n+.215803758*r)**3,i=(1.000000008*e-.105561342*n-.063854175*r)**3,o=(1.000000055*e-.089484182*n-1.291485538*r)**3,a=1.227013851*s-.55779998*i+.281256149*o,l=-.040580178*s+1.11225687*i-.071676679*o,u=-.076381285*s-.421481978*i+1.58616322*o;return[a*100,l*100,u*100]};pe.oklab.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=(e+.3963377774*n+.2158037573*r)**3,i=(e-.1055613458*n-.0638541728*r)**3,o=(e-.0894841775*n-1.291485548*r)**3,a=rr(4.0767416621*s-3.3077115913*i+.2309699292*o),l=rr(-1.2684380046*s+2.6097574011*i-.3413193965*o),u=rr(-.0041960863*s-.7034186147*i+1.707614701*o);return[a*255,l*255,u*255]};pe.oklch.oklab=function(t){return pe.lch.lab(t)};pe.lab.xyz=function(t){const e=t[0],n=t[1],r=t[2];let s,i,o;i=(e+16)/116,s=n/500+i,o=i-r/200;const a=i**3,l=s**3,u=o**3;return i=a>en?a:(i-16/116)/7.787,s=l>en?l:(s-16/116)/7.787,o=u>en?u:(o-16/116)/7.787,s*=95.047,i*=100,o*=108.883,[s,i,o]};pe.lab.lch=function(t){const e=t[0],n=t[1],r=t[2];let s;s=Math.atan2(r,n)*360/2/Math.PI,s<0&&(s+=360);const o=Math.sqrt(n*n+r*r);return[e,o,s]};pe.lch.lab=function(t){const e=t[0],n=t[1],s=t[2]/360*2*Math.PI,i=n*Math.cos(s),o=n*Math.sin(s);return[e,i,o]};pe.rgb.ansi16=function(t,e=null){const[n,r,s]=t;let i=e===null?pe.rgb.hsv(t)[2]:e;if(i=Math.round(i/50),i===0)return 30;let o=30+(Math.round(s/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return i===2&&(o+=60),o};pe.hsv.ansi16=function(t){return pe.rgb.ansi16(pe.hsv.rgb(t),t[2])};pe.rgb.ansi256=function(t){const e=t[0],n=t[1],r=t[2];return e>>4===n>>4&&n>>4===r>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};pe.ansi16.rgb=function(t){t=t[0];let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=(Math.trunc(t>50)+1)*.5,r=(e&1)*n*255,s=(e>>1&1)*n*255,i=(e>>2&1)*n*255;return[r,s,i]};pe.ansi256.rgb=function(t){if(t=t[0],t>=232){const i=(t-232)*10+8;return[i,i,i]}t-=16;let e;const n=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,s=e%6/5*255;return[n,r,s]};pe.rgb.hex=function(t){const n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".slice(n.length)+n};pe.hex.rgb=function(t){const e=t.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=[...n].map(a=>a+a).join(""));const r=Number.parseInt(n,16),s=r>>16&255,i=r>>8&255,o=r&255;return[s,i,o]};pe.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.max(Math.max(e,n),r),i=Math.min(Math.min(e,n),r),o=s-i;let a;const l=o<1?i/(1-o):0;return o<=0?a=0:s===e?a=(n-r)/o%6:s===n?a=2+(r-e)/o:a=4+(e-n)/o,a/=6,a%=1,[a*360,o*100,l*100]};pe.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n);let s=0;return r<1&&(s=(n-.5*r)/(1-r)),[t[0],r*100,s*100]};pe.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=e*n;let s=0;return r<1&&(s=(n-r)/(1-r)),[t[0],r*100,s*100]};pe.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];const s=[0,0,0],i=e%1*6,o=i%1,a=1-o;let l=0;switch(Math.floor(i)){case 0:{s[0]=1,s[1]=o,s[2]=0;break}case 1:{s[0]=a,s[1]=1,s[2]=0;break}case 2:{s[0]=0,s[1]=1,s[2]=o;break}case 3:{s[0]=0,s[1]=a,s[2]=1;break}case 4:{s[0]=o,s[1]=0,s[2]=1;break}default:s[0]=1,s[1]=0,s[2]=a}return l=(1-n)*r,[(n*s[0]+l)*255,(n*s[1]+l)*255,(n*s[2]+l)*255]};pe.hcg.hsv=function(t){const e=t[1]/100,n=t[2]/100,r=e+n*(1-e);let s=0;return r>0&&(s=e/r),[t[0],s*100,r*100]};pe.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let s=0;return r>0&&r<.5?s=e/(2*r):r>=.5&&r<1&&(s=e/(2*(1-r))),[t[0],s*100,r*100]};pe.hcg.hwb=function(t){const e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};pe.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,s=r-e;let i=0;return s<1&&(i=(r-s)/(1-s)),[t[0],s*100,i*100]};pe.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};pe.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};pe.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};pe.gray.hsl=function(t){return[0,0,t[0]]};pe.gray.hsv=pe.gray.hsl;pe.gray.hwb=function(t){return[0,100,t[0]]};pe.gray.cmyk=function(t){return[0,0,0,t[0]]};pe.gray.lab=function(t){return[t[0],0,0]};pe.gray.hex=function(t){const e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(r.length)+r};pe.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};function Ph(){const t={},e=Object.keys(pe);for(let{length:n}=e,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function $h(t){const e=Ph(),n=[t];for(e[t].distance=0;n.length>0;){const r=n.pop(),s=Object.keys(pe[r]);for(let{length:i}=s,o=0;o<i;o++){const a=s[o],l=e[a];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,n.unshift(a))}}return e}function Dh(t,e){return function(n){return e(t(n))}}function Lh(t,e){const n=[e[t].parent,t];let r=pe[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)n.unshift(e[s].parent),r=Dh(pe[e[s].parent][s],r),s=e[s].parent;return r.conversion=n,r}function Rh(t){const e=$h(t),n={},r=Object.keys(e);for(let{length:s}=r,i=0;i<s;i++){const o=r[i];e[o].parent!==null&&(n[o]=Lh(o,e))}return n}const gt={},Bh=Object.keys(pe);function Mh(t){const e=function(...n){const r=n[0];return r==null?r:(r.length>1&&(n=r),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function Fh(t){const e=function(...n){const r=n[0];if(r==null)return r;r.length>1&&(n=r);const s=t(n);if(typeof s=="object")for(let{length:i}=s,o=0;o<i;o++)s[o]=Math.round(s[o]);return s};return"conversion"in t&&(e.conversion=t.conversion),e}for(const t of Bh){gt[t]={},Object.defineProperty(gt[t],"channels",{value:pe[t].channels}),Object.defineProperty(gt[t],"labels",{value:pe[t].labels});const e=Rh(t),n=Object.keys(e);for(const r of n){const s=e[r];gt[t][r]=Fh(s),gt[t][r].raw=Mh(s)}}const rc=["keyword","gray","hex"],Ui={};for(const t of Object.keys(gt))Ui[[...gt[t].labels].sort().join("")]=t;const Zi={};function mt(t,e){if(!(this instanceof mt))return new mt(t,e);if(e&&e in rc&&(e=null),e&&!(e in gt))throw new Error("Unknown model: "+e);let n,r;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof mt)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){const s=pt.get(t);if(s===null)throw new Error("Unable to parse color from string: "+t);this.model=s.model,r=gt[this.model].channels,this.color=s.value.slice(0,r),this.valpha=typeof s.value[r]=="number"?s.value[r]:1}else if(t.length>0){this.model=e||"rgb",r=gt[this.model].channels;const s=Array.prototype.slice.call(t,0,r);this.color=Vi(s,r),this.valpha=typeof t[r]=="number"?t[r]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;const s=Object.keys(t);"alpha"in t&&(s.splice(s.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);const i=s.sort().join("");if(!(i in Ui))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=Ui[i];const{labels:o}=gt[this.model],a=[];for(n=0;n<o.length;n++)a.push(t[o[n]]);this.color=Vi(a)}if(Zi[this.model])for(r=gt[this.model].channels,n=0;n<r;n++){const s=Zi[this.model][n];s&&(this.color[n]=s(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}mt.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in pt.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);const n=e.valpha===1?e.color:[...e.color,this.valpha];return pt.to[e.model](...n)},percentString(t){const e=this.rgb().round(typeof t=="number"?t:1),n=e.valpha===1?e.color:[...e.color,this.valpha];return pt.to.rgb.percent(...n)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=gt[this.model],{labels:n}=gt[this.model];for(let r=0;r<e;r++)t[n[r]]=this.color[r];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new mt([...this.color.map(Zh(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new mt([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:ot("rgb",0,ht(255)),green:ot("rgb",1,ht(255)),blue:ot("rgb",2,ht(255)),hue:ot(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:ot("hsl",1,ht(100)),lightness:ot("hsl",2,ht(100)),saturationv:ot("hsv",1,ht(100)),value:ot("hsv",2,ht(100)),chroma:ot("hcg",1,ht(100)),gray:ot("hcg",2,ht(100)),white:ot("hwb",1,ht(100)),wblack:ot("hwb",2,ht(100)),cyan:ot("cmyk",0,ht(100)),magenta:ot("cmyk",1,ht(100)),yellow:ot("cmyk",2,ht(100)),black:ot("cmyk",3,ht(100)),x:ot("xyz",0,ht(95.047)),y:ot("xyz",1,ht(100)),z:ot("xyz",2,ht(108.833)),l:ot("lab",0,ht(100)),a:ot("lab",1),b:ot("lab",2),keyword(t){return t!==void 0?new mt(t):gt[this.model].keyword(this.color)},hex(t){return t!==void 0?new mt(t):pt.to.hex(...this.rgb().round().color)},hexa(t){if(t!==void 0)return new mt(t);const e=this.rgb().round().color;let n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),pt.to.hex(...e)+n},rgbNumber(){const t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){const t=this.rgb().color,e=[];for(const[n,r]of t.entries()){const s=r/255;e[n]=s<=.04045?s/12.92:((s+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return mt.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const n=t.rgb(),r=this.rgb(),s=e===void 0?.5:e,i=2*s-1,o=n.alpha()-r.alpha(),a=((i*o===-1?i:(i+o)/(1+i*o))+1)/2,l=1-a;return mt.rgb(a*n.red()+l*r.red(),a*n.green()+l*r.green(),a*n.blue()+l*r.blue(),n.alpha()*s+r.alpha()*(1-s))}};for(const t of Object.keys(gt)){if(rc.includes(t))continue;const{channels:e}=gt[t];mt.prototype[t]=function(...n){return this.model===t?new mt(this):n.length>0?new mt(n,t):new mt([...Vh(gt[this.model][t].raw(this.color)),this.valpha],t)},mt[t]=function(...n){let r=n[0];return typeof r=="number"&&(r=Vi(n,e)),new mt(r,t)}}function Uh(t,e){return Number(t.toFixed(e))}function Zh(t){return function(e){return Uh(e,t)}}function ot(t,e,n){t=Array.isArray(t)?t:[t];for(const r of t)(Zi[r]||=[])[e]=n;return t=t[0],function(r){let s;return r!==void 0?(n&&(r=n(r)),s=this[t](),s.color[e]=r,s):(s=this[t]().color[e],n&&(s=n(s)),s)}}function ht(t){return function(e){return Math.max(0,Math.min(t,e))}}function Vh(t){return Array.isArray(t)?t:[t]}function Vi(t,e){for(let n=0;n<e;n++)typeof t[n]!="number"&&(t[n]=0);return t}const Vr=fo()(Wf((t,e)=>({theme:"dark",saveInterval:300,debugText:!1,gridColor:"#92a3bb",SSAOEnabled:!0,DOFEnabled:!0,controlDamping:!1,setTheme:n=>t({theme:n}),setSaveInterval:n=>t({saveInterval:n}),setDebugText:n=>t({debugText:n}),setGridColor:n=>t({gridColor:n}),setSSAOEnabled:n=>t({SSAOEnabled:n}),setDOFEnabled:n=>t({DOFEnabled:n}),setControlDamping:n=>t({controlDamping:n}),getComplementaryGridColor:()=>mt(e().gridColor).darken(.5).hex()}),{version:0,name:"preferences",storage:Jf(()=>localStorage)})),ir=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),qh=ir?Promise.resolve().then(function(){return Wh}):Promise.resolve().then(function(){return np});async function sc(...t){return(await qh).default(...t)}ir?Promise.resolve().then(function(){return Xh}):Promise.resolve().then(function(){return sp});const Kh=ir?Promise.resolve().then(function(){return ep}):Promise.resolve().then(function(){return op});async function Gh(...t){return(await Kh).default(...t)}const Hh=async t=>{const e=await t.getFile();return e.handle=t,e};var Yh=async(t=[{}])=>{Array.isArray(t)||(t=[t]);const e=[];t.forEach((s,i)=>{e[i]={description:s.description||"Files",accept:{}},s.mimeTypes?s.mimeTypes.map(o=>{e[i].accept[o]=s.extensions||[]}):e[i].accept["*/*"]=s.extensions||[]});const n=await window.showOpenFilePicker({id:t[0].id,startIn:t[0].startIn,types:e,multiple:t[0].multiple||!1,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(Hh));return t[0].multiple?r:r[0]},Wh={__proto__:null,default:Yh};function Is(t){function e(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var r=n.done;return Promise.resolve(n.value).then(function(s){return{value:s,done:r}})}return Is=function(n){this.s=n,this.n=n.next},Is.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(n){var r=this.s.return;return r===void 0?Promise.resolve({value:n,done:!0}):e(r.apply(this.s,arguments))},throw:function(n){var r=this.s.return;return r===void 0?Promise.reject(n):e(r.apply(this.s,arguments))}},new Is(t)}const ic=async(t,e,n=t.name,r)=>{const s=[],i=[];var o,a=!1,l=!1;try{for(var u,d=(function(f){var h,g,y,m=2;for(typeof Symbol<"u"&&(g=Symbol.asyncIterator,y=Symbol.iterator);m--;){if(g&&(h=f[g])!=null)return h.call(f);if(y&&(h=f[y])!=null)return new Is(h.call(f));g="@@asyncIterator",y="@@iterator"}throw new TypeError("Object is not async iterable")})(t.values());a=!(u=await d.next()).done;a=!1){const f=u.value,h=`${n}/${f.name}`;f.kind==="file"?i.push(f.getFile().then(g=>(g.directoryHandle=t,g.handle=f,Object.defineProperty(g,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>h})))):f.kind!=="directory"||!e||r&&r(f)||s.push(ic(f,e,h,r))}}catch(f){l=!0,o=f}finally{try{a&&d.return!=null&&await d.return()}finally{if(l)throw o}}return[...(await Promise.all(s)).flat(),...await Promise.all(i)]};var Jh=async(t={})=>{t.recursive=t.recursive||!1,t.mode=t.mode||"read";const e=await window.showDirectoryPicker({id:t.id,startIn:t.startIn,mode:t.mode});return(await(await e.values()).next()).done?[e]:ic(e,t.recursive,void 0,t.skipDirectory)},Xh={__proto__:null,default:Jh},Qh=async(t,e=[{}],n=null,r=!1,s=null)=>{Array.isArray(e)||(e=[e]),e[0].fileName=e[0].fileName||"Untitled";const i=[];let o=null;if(t instanceof Blob&&t.type?o=t.type:t.headers&&t.headers.get("content-type")&&(o=t.headers.get("content-type")),e.forEach((u,d)=>{i[d]={description:u.description||"Files",accept:{}},u.mimeTypes?(d===0&&o&&u.mimeTypes.push(o),u.mimeTypes.map(f=>{i[d].accept[f]=u.extensions||[]})):o?i[d].accept[o]=u.extensions||[]:i[d].accept["*/*"]=u.extensions||[]}),n)try{await n.getFile()}catch(u){if(n=null,r)throw u}const a=n||await window.showSaveFilePicker({suggestedName:e[0].fileName,id:e[0].id,startIn:e[0].startIn,types:i,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1});!n&&s&&s(a);const l=await a.createWritable();return"stream"in t?(await t.stream().pipeTo(l),a):"body"in t?(await t.body.pipeTo(l),a):(await l.write(await t),await l.close(),a)},ep={__proto__:null,default:Qh},tp=async(t=[{}])=>(Array.isArray(t)||(t=[t]),new Promise((e,n)=>{const r=document.createElement("input");r.type="file";const s=[...t.map(i=>i.mimeTypes||[]),...t.map(i=>i.extensions||[])].join();r.multiple=t[0].multiple||!1,r.accept=s||"",r.style.display="none",document.body.append(r),r.addEventListener("cancel",()=>{r.remove(),n(new DOMException("The user aborted a request.","AbortError"))}),r.addEventListener("change",()=>{r.remove(),e(r.multiple?Array.from(r.files):r.files[0])}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),np={__proto__:null,default:tp},rp=async(t=[{}])=>(Array.isArray(t)||(t=[t]),t[0].recursive=t[0].recursive||!1,new Promise((e,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0,r.style.display="none",document.body.append(r),r.addEventListener("cancel",()=>{r.remove(),n(new DOMException("The user aborted a request.","AbortError"))}),r.addEventListener("change",()=>{r.remove();let s=Array.from(r.files);t[0].recursive?t[0].recursive&&t[0].skipDirectory&&(s=s.filter(i=>i.webkitRelativePath.split("/").every(o=>!t[0].skipDirectory({name:o,kind:"directory"})))):s=s.filter(i=>i.webkitRelativePath.split("/").length===2),e(s)}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),sp={__proto__:null,default:rp},ip=async(t,e={})=>{Array.isArray(e)&&(e=e[0]);const n=document.createElement("a");let r=t;"body"in t&&(r=await(async function(o,a){const l=o.getReader(),u=new ReadableStream({start:h=>(async function g(){return l.read().then(({done:y,value:m})=>{if(!y)return h.enqueue(m),g();h.close()})})()}),d=new Response(u),f=await d.blob();return l.releaseLock(),new Blob([f],{type:a})})(t.body,t.headers.get("content-type"))),n.download=e.fileName||"Untitled",n.href=URL.createObjectURL(await r);const s=()=>{typeof i=="function"&&i()},i=e.legacySetup&&e.legacySetup(s,()=>i(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),s()}),n.click(),null},op={__proto__:null,default:ip},at=Uint8Array,Tt=Uint16Array,yo=Int32Array,Ks=new at([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Gs=new at([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qi=new at([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oc=function(t,e){for(var n=new Tt(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new yo(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},ac=oc(Ks,2),lc=ac.b,Ki=ac.r;lc[28]=258,Ki[258]=28;var cc=oc(Gs,0),ap=cc.b,ca=cc.r,Gi=new Tt(32768);for(var tt=0;tt<32768;++tt){var sn=(tt&43690)>>1|(tt&21845)<<1;sn=(sn&52428)>>2|(sn&13107)<<2,sn=(sn&61680)>>4|(sn&3855)<<4,Gi[tt]=((sn&65280)>>8|(sn&255)<<8)>>1}var Ht=(function(t,e,n){for(var r=t.length,s=0,i=new Tt(e);s<r;++s)t[s]&&++i[t[s]-1];var o=new Tt(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(n){a=new Tt(1<<e);var l=15-e;for(s=0;s<r;++s)if(t[s])for(var u=s<<4|t[s],d=e-t[s],f=o[t[s]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)a[Gi[f]>>l]=u}else for(a=new Tt(r),s=0;s<r;++s)t[s]&&(a[s]=Gi[o[t[s]-1]++]>>15-t[s]);return a}),_n=new at(288);for(var tt=0;tt<144;++tt)_n[tt]=8;for(var tt=144;tt<256;++tt)_n[tt]=9;for(var tt=256;tt<280;++tt)_n[tt]=7;for(var tt=280;tt<288;++tt)_n[tt]=8;var Dr=new at(32);for(var tt=0;tt<32;++tt)Dr[tt]=5;var lp=Ht(_n,9,0),cp=Ht(_n,9,1),up=Ht(Dr,5,0),fp=Ht(Dr,5,1),fi=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Dt=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},di=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},bo=function(t){return(t+7)/8|0},qr=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new at(t.subarray(e,n))},dp=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],_t=function(t,e,n){var r=new Error(e||dp[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,_t),!n)throw r;return r},hp=function(t,e,n,r){var s=t.length,i=r?r.length:0;if(!s||e.f&&!e.l)return n||new at(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new at(s*3));var u=function(x){var E=n.length;if(x>E){var R=new at(Math.max(E*2,x));R.set(n),n=R}},d=e.f||0,f=e.p||0,h=e.b||0,g=e.l,y=e.d,m=e.m,b=e.n,S=s*8;do{if(!g){d=Dt(t,f,1);var T=Dt(t,f+1,3);if(f+=3,T)if(T==1)g=cp,y=fp,m=9,b=5;else if(T==2){var I=Dt(t,f,31)+257,j=Dt(t,f+10,15)+4,O=I+Dt(t,f+5,31)+1;f+=14;for(var D=new at(O),M=new at(19),W=0;W<j;++W)M[qi[W]]=Dt(t,f+W*3,7);f+=j*3;for(var K=fi(M),Q=(1<<K)-1,ae=Ht(M,K,1),W=0;W<O;){var ce=ae[Dt(t,f,Q)];f+=ce&15;var N=ce>>4;if(N<16)D[W++]=N;else{var ge=0,ue=0;for(N==16?(ue=3+Dt(t,f,3),f+=2,ge=D[W-1]):N==17?(ue=3+Dt(t,f,7),f+=3):N==18&&(ue=11+Dt(t,f,127),f+=7);ue--;)D[W++]=ge}}var te=D.subarray(0,I),de=D.subarray(I);m=fi(te),b=fi(de),g=Ht(te,m,1),y=Ht(de,b,1)}else _t(1);else{var N=bo(f)+4,k=t[N-4]|t[N-3]<<8,z=N+k;if(z>s){l&&_t(0);break}a&&u(h+k),n.set(t.subarray(N,z),h),e.b=h+=k,e.p=f=z*8,e.f=d;continue}if(f>S){l&&_t(0);break}}a&&u(h+131072);for(var ie=(1<<m)-1,Se=(1<<b)-1,Ne=f;;Ne=f){var ge=g[di(t,f)&ie],ve=ge>>4;if(f+=ge&15,f>S){l&&_t(0);break}if(ge||_t(2),ve<256)n[h++]=ve;else if(ve==256){Ne=f,g=null;break}else{var q=ve-254;if(ve>264){var W=ve-257,Ae=Ks[W];q=Dt(t,f,(1<<Ae)-1)+lc[W],f+=Ae}var Ce=y[di(t,f)&Se],Pe=Ce>>4;Ce||_t(3),f+=Ce&15;var de=ap[Pe];if(Pe>3){var Ae=Gs[Pe];de+=di(t,f)&(1<<Ae)-1,f+=Ae}if(f>S){l&&_t(0);break}a&&u(h+131072);var Ue=h+q;if(h<de){var Ke=i-de,_=Math.min(de,Ue);for(Ke+h<0&&_t(3);h<_;++h)n[h]=r[Ke+h]}for(;h<Ue;++h)n[h]=n[h-de]}}e.l=g,e.p=Ne,e.b=h,e.f=d,g&&(d=1,e.m=m,e.d=y,e.n=b)}while(!d);return h!=n.length&&o?qr(n,0,h):n.subarray(0,h)},Jt=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Sr=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},hi=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:fc,l:0};if(s==1){var o=new at(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(z,I){return z.f-I.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,d=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=s-1;)a=n[n[u].f<n[f].f?u++:f++],l=n[u!=d&&n[u].f<n[f].f?u++:f++],n[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=i[0].s,r=1;r<s;++r)i[r].s>h&&(h=i[r].s);var g=new Tt(h+1),y=Hi(n[d-1],g,0);if(y>e){var r=0,m=0,b=y-e,S=1<<b;for(i.sort(function(I,j){return g[j.s]-g[I.s]||I.f-j.f});r<s;++r){var T=i[r].s;if(g[T]>e)m+=S-(1<<y-g[T]),g[T]=e;else break}for(m>>=b;m>0;){var N=i[r].s;g[N]<e?m-=1<<e-g[N]++-1:++r}for(;r>=0&&m;--r){var k=i[r].s;g[k]==e&&(--g[k],++m)}y=e}return{t:new at(g),l:y}},Hi=function(t,e,n){return t.s==-1?Math.max(Hi(t.l,e,n+1),Hi(t.r,e,n+1)):e[t.s]=n},ua=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Tt(++e),r=0,s=t[0],i=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return{c:n.subarray(0,r),n:e}},Ar=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},uc=function(t,e,n){var r=n.length,s=bo(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<r;++i)t[s+i+4]=n[i];return(s+4+r)*8},fa=function(t,e,n,r,s,i,o,a,l,u,d){Jt(e,d++,n),++s[256];for(var f=hi(s,15),h=f.t,g=f.l,y=hi(i,15),m=y.t,b=y.l,S=ua(h),T=S.c,N=S.n,k=ua(m),z=k.c,I=k.n,j=new Tt(19),O=0;O<T.length;++O)++j[T[O]&31];for(var O=0;O<z.length;++O)++j[z[O]&31];for(var D=hi(j,7),M=D.t,W=D.l,K=19;K>4&&!M[qi[K-1]];--K);var Q=u+5<<3,ae=Ar(s,_n)+Ar(i,Dr)+o,ce=Ar(s,h)+Ar(i,m)+o+14+3*K+Ar(j,M)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&Q<=ae&&Q<=ce)return uc(e,d,t.subarray(l,l+u));var ge,ue,te,de;if(Jt(e,d,1+(ce<ae)),d+=2,ce<ae){ge=Ht(h,g,0),ue=h,te=Ht(m,b,0),de=m;var ie=Ht(M,W,0);Jt(e,d,N-257),Jt(e,d+5,I-1),Jt(e,d+10,K-4),d+=14;for(var O=0;O<K;++O)Jt(e,d+3*O,M[qi[O]]);d+=3*K;for(var Se=[T,z],Ne=0;Ne<2;++Ne)for(var ve=Se[Ne],O=0;O<ve.length;++O){var q=ve[O]&31;Jt(e,d,ie[q]),d+=M[q],q>15&&(Jt(e,d,ve[O]>>5&127),d+=ve[O]>>12)}}else ge=lp,ue=_n,te=up,de=Dr;for(var O=0;O<a;++O){var Ae=r[O];if(Ae>255){var q=Ae>>18&31;Sr(e,d,ge[q+257]),d+=ue[q+257],q>7&&(Jt(e,d,Ae>>23&31),d+=Ks[q]);var Ce=Ae&31;Sr(e,d,te[Ce]),d+=de[Ce],Ce>3&&(Sr(e,d,Ae>>5&8191),d+=Gs[Ce])}else Sr(e,d,ge[Ae]),d+=ue[Ae]}return Sr(e,d,ge[256]),d+ue[256]},pp=new yo([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fc=new at(0),mp=function(t,e,n,r,s,i){var o=i.z||t.length,a=new at(r+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(r,a.length-s),u=i.l,d=(i.r||0)&7;if(e){d&&(l[0]=i.r>>3);for(var f=pp[e-1],h=f>>13,g=f&8191,y=(1<<n)-1,m=i.p||new Tt(32768),b=i.h||new Tt(y+1),S=Math.ceil(n/3),T=2*S,N=function($){return(t[$]^t[$+1]<<S^t[$+2]<<T)&y},k=new yo(25e3),z=new Tt(288),I=new Tt(32),j=0,O=0,D=i.i||0,M=0,W=i.w||0,K=0;D+2<o;++D){var Q=N(D),ae=D&32767,ce=b[Q];if(m[ae]=ce,b[Q]=ae,W<=D){var ge=o-D;if((j>7e3||M>24576)&&(ge>423||!u)){d=fa(t,l,0,k,z,I,O,M,K,D-K,d),M=j=O=0,K=D;for(var ue=0;ue<286;++ue)z[ue]=0;for(var ue=0;ue<30;++ue)I[ue]=0}var te=2,de=0,ie=g,Se=ae-ce&32767;if(ge>2&&Q==N(D-Se))for(var Ne=Math.min(h,ge)-1,ve=Math.min(32767,D),q=Math.min(258,ge);Se<=ve&&--ie&&ae!=ce;){if(t[D+te]==t[D+te-Se]){for(var Ae=0;Ae<q&&t[D+Ae]==t[D+Ae-Se];++Ae);if(Ae>te){if(te=Ae,de=Se,Ae>Ne)break;for(var Ce=Math.min(Se,Ae-2),Pe=0,ue=0;ue<Ce;++ue){var Ue=D-Se+ue&32767,Ke=m[Ue],_=Ue-Ke&32767;_>Pe&&(Pe=_,ce=Ue)}}}ae=ce,ce=m[ae],Se+=ae-ce&32767}if(de){k[M++]=268435456|Ki[te]<<18|ca[de];var x=Ki[te]&31,E=ca[de]&31;O+=Ks[x]+Gs[E],++z[257+x],++I[E],W=D+te,++j}else k[M++]=t[D],++z[t[D]]}}for(D=Math.max(D,W);D<o;++D)k[M++]=t[D],++z[t[D]];d=fa(t,l,u,k,z,I,O,M,K,D-K,d),u||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=b,i.p=m,i.i=D,i.w=W)}else{for(var D=i.w||0;D<o+u;D+=65535){var R=D+65535;R>=o&&(l[d/8|0]=u,R=o),d=uc(l,d+1,t.subarray(D,R))}i.i=o}return qr(a,0,r+bo(d)+s)},gp=(function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(n&1&&-306674912)^n>>>1;t[e]=n}return t})(),yp=function(){var t=-1;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=gp[n&255^e[r]]^n>>>8;t=n},d:function(){return~t}}},bp=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new at(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return mp(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},dc=function(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n},Kt=function(t,e){return t[e]|t[e+1]<<8},Mt=function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},pi=function(t,e){return Mt(t,e)+Mt(t,e+4)*4294967296},bt=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function wp(t,e){return bp(t,e||{},0,0)}function _p(t,e){return hp(t,{i:2},e&&e.out,e&&e.dictionary)}var hc=function(t,e,n,r){for(var s in t){var i=t[s],o=e+s,a=r;Array.isArray(i)&&(a=dc(r,i[1]),i=i[0]),i instanceof at?n[o]=[i,a]:(n[o+="/"]=[new at(0),a],hc(i,o,n,r))}},da=typeof TextEncoder<"u"&&new TextEncoder,Yi=typeof TextDecoder<"u"&&new TextDecoder,vp=0;try{Yi.decode(fc,{stream:!0}),vp=1}catch{}var kp=function(t){for(var e="",n=0;;){var r=t[n++],s=(r>127)+(r>223)+(r>239);if(n+s>t.length)return{s:e,r:qr(t,n-1)};s?s==3?(r=((r&15)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):s&1?e+=String.fromCharCode((r&31)<<6|t[n++]&63):e+=String.fromCharCode((r&15)<<12|(t[n++]&63)<<6|t[n++]&63):e+=String.fromCharCode(r)}};function Lr(t,e){var n;if(da)return da.encode(t);for(var r=t.length,s=new at(t.length+(t.length>>1)),i=0,o=function(u){s[i++]=u},n=0;n<r;++n){if(i+5>s.length){var a=new at(i+8+(r-n<<1));a.set(s),s=a}var l=t.charCodeAt(n);l<128||e?o(l):l<2048?(o(192|l>>6),o(128|l&63)):l>55295&&l<57344?(l=65536+(l&1047552)|t.charCodeAt(++n)&1023,o(240|l>>18),o(128|l>>12&63),o(128|l>>6&63),o(128|l&63)):(o(224|l>>12),o(128|l>>6&63),o(128|l&63))}return qr(s,0,i)}function Wi(t,e){if(e){for(var n="",r=0;r<t.length;r+=16384)n+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return n}else{if(Yi)return Yi.decode(t);var s=kp(t),i=s.s,n=s.r;return n.length&&_t(8),i}}var xp=function(t,e){return e+30+Kt(t,e+26)+Kt(t,e+28)},Sp=function(t,e,n){var r=Kt(t,e+28),s=Wi(t.subarray(e+46,e+46+r),!(Kt(t,e+8)&2048)),i=e+46+r,o=Mt(t,e+20),a=n&&o==4294967295?Ap(t,i):[o,Mt(t,e+24),Mt(t,e+42)],l=a[0],u=a[1],d=a[2];return[Kt(t,e+10),l,u,s,i+Kt(t,e+30)+Kt(t,e+32),d]},Ap=function(t,e){for(;Kt(t,e)!=1;e+=4+Kt(t,e+2));return[pi(t,e+12),pi(t,e+4),pi(t,e+20)]},Ji=function(t){var e=0;if(t)for(var n in t){var r=t[n].length;r>65535&&_t(9),e+=r+4}return e},ha=function(t,e,n,r,s,i,o,a){var l=r.length,u=n.extra,d=a&&a.length,f=Ji(u);bt(t,e,o!=null?33639248:67324752),e+=4,o!=null&&(t[e++]=20,t[e++]=n.os),t[e]=20,e+=2,t[e++]=n.flag<<1|(i<0&&8),t[e++]=s&&8,t[e++]=n.compression&255,t[e++]=n.compression>>8;var h=new Date(n.mtime==null?Date.now():n.mtime),g=h.getFullYear()-1980;if((g<0||g>119)&&_t(10),bt(t,e,g<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>1),e+=4,i!=-1&&(bt(t,e,n.crc),bt(t,e+4,i<0?-i-2:i),bt(t,e+8,n.size)),bt(t,e+12,l),bt(t,e+14,f),e+=16,o!=null&&(bt(t,e,d),bt(t,e+6,n.attrs),bt(t,e+10,o),e+=14),t.set(r,e),e+=l,f)for(var y in u){var m=u[y],b=m.length;bt(t,e,+y),bt(t,e+2,b),t.set(m,e+4),e+=4+b}return d&&(t.set(a,e),e+=d),e},Np=function(t,e,n,r,s){bt(t,e,101010256),bt(t,e+8,n),bt(t,e+10,n),bt(t,e+12,r),bt(t,e+16,s)};function Tp(t,e){e||(e={});var n={},r=[];hc(t,"",n,e);var s=0,i=0;for(var o in n){var a=n[o],l=a[0],u=a[1],d=u.level==0?0:8,f=Lr(o),h=f.length,g=u.comment,y=g&&Lr(g),m=y&&y.length,b=Ji(u.extra);h>65535&&_t(11);var S=d?wp(l,u):l,T=S.length,N=yp();N.p(l),r.push(dc(u,{size:l.length,crc:N.d(),c:S,f,m:y,u:h!=o.length||y&&g.length!=m,o:s,compression:d})),s+=30+h+b+T,i+=76+2*(h+b)+(m||0)+T}for(var k=new at(i+22),z=s,I=i-s,j=0;j<r.length;++j){var f=r[j];ha(k,f.o,f,f.f,f.u,f.c.length);var O=30+f.f.length+Ji(f.extra);k.set(f.c,f.o+O),ha(k,s,f,f.f,f.u,f.c.length,f.o,f.m),s+=16+O+(f.m?f.m.length:0)}return Np(k,s,r.length,I,z),k}function Ep(t,e){for(var n={},r=t.length-22;Mt(t,r)!=101010256;--r)(!r||t.length-r>65558)&&_t(13);var s=Kt(t,r+8);if(!s)return{};var i=Mt(t,r+16),o=i==4294967295||s==65535;if(o){var a=Mt(t,r-12);o=Mt(t,a)==101075792,o&&(s=Mt(t,a+32),i=Mt(t,a+48))}for(var l=0;l<s;++l){var u=Sp(t,i,o),d=u[0],f=u[1],h=u[2],g=u[3],y=u[4],m=u[5],b=xp(t,m);i=y,d?d==8?n[g]=_p(t.subarray(b,b+f),{out:new at(h)}):_t(14,"unknown compression type "+d):n[g]=qr(t,b,b+f)}return n}var rs={},Nr={},ss={},pa;function xt(){if(pa)return ss;pa=1,Object.defineProperty(ss,"__esModule",{value:!0});let t=class extends Error{constructor(n){super(n),this.name="NBTError"}};return ss.default=t,ss}var Tr={},ma;function Pt(){if(ma)return Tr;ma=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.concatUint8Arrays=t,Tr.isLittleEndian=e;function t(...n){let r=0;for(let o of n)r+=o.length;let s=new Uint8Array(r),i=0;for(let o of n)s.set(o,i),i+=o.length;return s}function e(n){return n==="bedrock"}return Tr}var mi={},is={},os={},ga;function wo(){if(ga)return os;ga=1,Object.defineProperty(os,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt();let r=class on{constructor(i){this.value=i&0xffffffffffffffffn}static fromSNBTValue(i){if(i=i.trim(),!/[-+]?(?:0|[1-9][0-9]*)[lL]?/.test(i))throw new e.default("Invalid long SNBT value");return new on(BigInt(i.replace(/[lL]/,"").trim()))}static fromUint8Array(i,o){return new on(new DataView(i.buffer).getBigInt64(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return on.fromSNBTValue(i)}fromUint8Array(i,o){return on.fromUint8Array(i,o)}copy(){return new on(this.value)}equals(i){return i instanceof on&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return on.getTagId()}setValue(i){this.value=i&0xffffffffffffffffn}toSNBTValue(i){return this.value+"l"}toUint8Array(i){const o=new ArrayBuffer(8);return new DataView(o).setBigInt64(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.LONG}};return os.default=r,os}var as={},ya;function yr(){if(ya)return as;ya=1,Object.defineProperty(as,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt();let r=class an{constructor(i){this.value=i&4294967295}static fromSNBTValue(i){if(i=i.trim(),!/[-+]?(?:0|[1-9][0-9]*)/.test(i))throw new e.default("Invalid int SNBT value");return new an(Number(i.trim()))}static fromUint8Array(i,o){return new an(new DataView(i.buffer).getInt32(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return an.fromSNBTValue(i)}fromUint8Array(i,o){return an.fromUint8Array(i,o)}copy(){return new an(this.value)}equals(i){return i instanceof an&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return an.getTagId()}setValue(i){this.value=i&4294967295}toSNBTValue(i){return this.value.toString()}toUint8Array(i){const o=new ArrayBuffer(4);return new DataView(o).setInt32(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.INT}};return as.default=r,as}var ba;function Ip(){if(ba)return is;ba=1,Object.defineProperty(is,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt(),r=wo(),s=yr();let i=class ln{constructor(a){if(a.length>=2**31)throw new e.default("Long array is too long");this.value=a}static fromSNBTValue(a){a=a.replace(" ","").trim();const l=a.replace("[L;","").replace("]","").split(","),u=[];return l.forEach((d,f)=>u[f]=r.default.fromSNBTValue(d)),new ln(u)}static fromUint8Array(a,l){const u=[],d=s.default.fromUint8Array(a.slice(0,4),l).getValue();let f=4;for(let h=0;h<d;h++)u.push(r.default.fromUint8Array(a.slice(f,f+8),l)),f+=8;return new ln(u)}fromSNBTValue(a){return ln.fromSNBTValue(a)}fromUint8Array(a,l){return ln.fromUint8Array(a,l)}copy(){return new ln(this.value)}equals(a){return a instanceof ln&&this.value.every((l,u)=>l.equals(this.value[u]))}getValue(){return this.value}getValueDeep(){return this.value.map(a=>a.getValueDeep())}getTagId(){return ln.getTagId()}setValue(a){if(a.length>=2**31)throw new e.default("Long array is too long");this.value=a}toSNBTValue(a){let l="[L;"+(a==="formated"?" ":"");if(this.value.length>0){l+=a==="formated"?" ":"";for(let u=0;u<this.value.length-1;u++)l+=this.value[u].toSNBTValue(a)+","+(a==="formated"?" ":"");l+=this.value[this.value.length-1].toSNBTValue(a)}return l+="]",l}toUint8Array(a){return(0,n.concatUint8Arrays)(new s.default(this.value.length).toUint8Array(a),...this.value.map(l=>l.toUint8Array(a)))}static getTagId(){return t.default.LONG_ARRAY}};return is.default=i,is}var ls={},wa;function Op(){if(wa)return ls;wa=1,Object.defineProperty(ls,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt(),r=yr();let s=class cn{constructor(o){if(o.length>=2**31)throw new e.default("Int array is too long");this.value=o}static fromSNBTValue(o){o=o.replace(" ","");const a=o.replace("[I;","").replace("]","").split(","),l=[];return a.forEach((u,d)=>l[d]=r.default.fromSNBTValue(u)),new cn(l)}static fromUint8Array(o,a){const l=[],u=r.default.fromUint8Array(o.slice(0,4),a).getValue();let d=4;for(let f=0;f<u;f++)l.push(r.default.fromUint8Array(o.slice(d,d+4),a)),d+=4;return new cn(l)}fromSNBTValue(o){return cn.fromSNBTValue(o)}fromUint8Array(o,a){return cn.fromUint8Array(o,a)}copy(){return new cn(this.value)}equals(o){return o instanceof cn&&this.value.every((a,l)=>a.equals(this.value[l]))}getValue(){return this.value}getValueDeep(){return this.value.map(o=>o.getValueDeep())}getTagId(){return cn.getTagId()}setValue(o){if(o.length>=2**31)throw new e.default("Int array is too long");this.value=o}toSNBTValue(o){let a="[I;";if(this.value.length>0){a+=o==="formated"?" ":"";for(let l=0;l<this.value.length-1;l++)a+=this.value[l].toSNBTValue(o)+","+(o==="formated"?" ":"");a+=this.value[this.value.length-1].toSNBTValue(o)}return a+="]",a}toUint8Array(o){return(0,n.concatUint8Arrays)(new r.default(this.value.length).toUint8Array(o),...this.value.map(a=>a.toUint8Array(o)))}static getTagId(){return t.default.INT_ARRAY}};return ls.default=s,ls}var cs={},_a;function pc(){if(_a)return cs;_a=1,Object.defineProperty(cs,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt(),r=yr();let s=class un{constructor(o){if(o.length>=2**31)throw new e.default("List is too long");if(o.length>0&&o.some(a=>a.getTagId()!==o[0].getTagId()))throw new e.default("List contains different types");this.value=o}static fromSNBTValue(o){if(o=o.trim(),!o.startsWith("[")||!o.endsWith("]"))throw new Error("Invalid compound SNBT value");const a=[];let l=[],u="";for(let d=1;d<o.length-1;d++){const f=o.charAt(d),h=d-1<1?"":o.charAt(d-1),g=d+1>=o.length-1?"":o.charAt(d+1);switch(f){case"{":(!l[l.length-1]||!l[l.length-1].includes("string"))&&l.push("compound");break;case"[":(!l[l.length-1]||!l[l.length-1].includes("string"))&&l.push("list");break;case'"':l[l.length-1]==='"string"'?h!=="\\"&&l.pop():l[l.length-1]!=='"string"'&&l.push('"string"');break;case"'":l[l.length-1]==="'string'"?h!=="\\"&&l.pop():l[l.length-1]!=="'string'"&&l.push("'string'");break;case"]":l[l.length-1]==="list"&&l.pop();break;case"}":l[l.length-1]==="compound"&&l.pop();break}if(l.length>0)u+=f;else{const y=()=>{const m=(0,t.getPayloadTypeBySNBTValue)(u);a.push(m.fromSNBTValue(u)),u=""};if(f===" ")continue;f===","?y():(u+=f,g===""&&y())}}return new un(a)}static fromUint8Array(o,a){const l=[],u=r.default.fromUint8Array(o.slice(1,5),a).getValue();if(u>0){const d=(0,t.getPayloadType)(o[0]);let f=5;for(let h=0;h<u;h++){const g=d.fromUint8Array(o.slice(f),a);l.push(g),f+=g.toUint8Array(a).length}}return new un(l)}fromSNBTValue(o){return un.fromSNBTValue(o)}fromUint8Array(o,a){return un.fromUint8Array(o,a)}copy(){return new un(this.value)}equals(o){return o instanceof un&&this.value.every((a,l)=>a.equals(this.value[l]))}getValue(){return this.value}getValueDeep(){return this.value.map(o=>o.getValueDeep())}getTagId(){return un.getTagId()}setValue(o){if(o.length>=2**31)throw new e.default("List is too long");if(o.length>0&&o.some(a=>a.getTagId()!==o[0].getTagId()))throw new e.default("List contains different types");this.value=o}toSNBTValue(o){let a="[";if(this.value.length>0){for(let l=0;l<this.value.length-1;l++)a+=this.value[l].toSNBTValue(o)+","+(o==="formated"?" ":"");a+=this.value[this.value.length-1].toSNBTValue(o)}return a+="]",a}toUint8Array(o){return(0,n.concatUint8Arrays)(this.value.length===0?new Uint8Array([0]):new Uint8Array([this.value[0].getTagId()]),new r.default(this.value.length).toUint8Array(o),...this.value.map(a=>a.toUint8Array(o)))}static getTagId(){return t.default.LIST}};return cs.default=s,cs}var us={},va;function _o(){if(va)return us;va=1,Object.defineProperty(us,"__esModule",{value:!0});const t=Et(),e=xt();let n=class Zt{constructor(s){this.value=s&255}static fromSNBTValue(s){if(s=s.trim(),s==="true")return new Zt(1);if(s==="false")return new Zt(0);if(!/[-+]?(?:0|[1-9][0-9]*)[bB]?/.test(s))throw new e.default("Invalid byte SNBT value");return new Zt(Number(s.replace(/[bB]/,"").trim()))}static fromUint8Array(s,i){return new Zt(new DataView(s.buffer).getInt8(0))}fromSNBTValue(s){return Zt.fromSNBTValue(s)}fromUint8Array(s,i){return Zt.fromUint8Array(s,i)}copy(){return new Zt(this.value)}equals(s){return s instanceof Zt&&this.value===s.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return Zt.getTagId()}setValue(s){this.value=s&255}toSNBTValue(s){return this.value+"b"}toUint8Array(s){const i=new ArrayBuffer(1);return new DataView(i).setInt8(0,this.value),new Uint8Array(i)}static getTagId(){return t.default.BYTE}};return us.default=n,us}var fs={},ka;function mc(){if(ka)return fs;ka=1,Object.defineProperty(fs,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt();let r=class fn{constructor(i){this.value=i&65535}static fromSNBTValue(i){if(i=i=i.replace(" ","").trim(),!/[-+]?(?:0|[1-9][0-9]*)[sS]?/.test(i))throw new e.default("Invalid short SNBT value");return new fn(Number(i.replace(/[sS]/,"").trim()))}static fromUint8Array(i,o){return new fn(new DataView(i.buffer).getInt32(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return fn.fromSNBTValue(i)}fromUint8Array(i,o){return fn.fromUint8Array(i,o)}copy(){return new fn(this.value)}equals(i){return i instanceof fn&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return fn.getTagId()}setValue(i){this.value=i&65535}toSNBTValue(i){return this.value+"s"}toUint8Array(i){const o=new ArrayBuffer(2);return new DataView(o).setInt16(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.SHORT}};return fs.default=r,fs}var ds={},xa;function gc(){if(xa)return ds;xa=1,Object.defineProperty(ds,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt();let r=class Vt{constructor(i){this.value=Vt.numToFloat(i)}static fromSNBTValue(i){if(i=i.trim(),!/[-+]?(?:[0-9]+[.]?|[0-9]*[.][0-9]+)(?:e[-+]?[0-9]+)?[fF]?/.test(i))throw new e.default("Invalid float SNBT value");return new Vt(Number(i.replace(/[fF]/,"").trim()))}static fromUint8Array(i,o){return new Vt(new DataView(i.buffer).getFloat32(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return Vt.fromSNBTValue(i)}fromUint8Array(i,o){return Vt.fromUint8Array(i,o)}copy(){return new Vt(this.value)}equals(i){return i instanceof Vt&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return Vt.getTagId()}setValue(i){this.value=Vt.numToFloat(i)}toSNBTValue(i){return this.value+"f"}toUint8Array(i){const o=new ArrayBuffer(4);return new DataView(o).setFloat32(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.FLOAT}static numToFloat(i){return new Float32Array([i])[0]}};return ds.default=r,ds}var hs={},Sa;function yc(){if(Sa)return hs;Sa=1,Object.defineProperty(hs,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt();let r=class dn{constructor(i){this.value=i}static fromSNBTValue(i){if(i=i.trim(),/![-+]?(?:[0-9]+[.]?|[0-9]*[.][0-9]+)(?:e[-+]?[0-9]+)?[dD]?/.test(i))throw new e.default("Invalid double SNBT value");return new dn(Number(i.replace(/[dD]/,"").trim()))}static fromUint8Array(i,o){return new dn(new DataView(i.buffer).getFloat64(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return dn.fromSNBTValue(i)}fromUint8Array(i,o){return dn.fromUint8Array(i,o)}copy(){return new dn(this.value)}equals(i){return i instanceof dn&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return dn.getTagId()}setValue(i){this.value=i}toSNBTValue(i){return this.value+"d"}toUint8Array(i){const o=new ArrayBuffer(8);return new DataView(o).setFloat64(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.DOUBLE}};return hs.default=r,hs}var ps={},Aa;function bc(){if(Aa)return ps;Aa=1,Object.defineProperty(ps,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt();let r=class hn{constructor(i){this.value=i}static fromSNBTValue(i){if(i=i.trim(),new TextEncoder().encode(i).length>65535)throw new e.default("String is too long");if(/([a-zA-Z0-9_\-.+]+)|('.+')|(".+")/.test(i))i.startsWith("'")&&i.endsWith("'")?i=i.substring(1,i.length-1).replace("\\'","'"):i.startsWith('"')&&i.endsWith('"')&&(i=i.substring(1,i.length-1).replace('\\"','"'));else throw new e.default("Invalid string SNBT value");return new hn(i)}static fromUint8Array(i,o){const a=new DataView(i.slice(0,2).buffer).getUint16(0);return new hn(new TextDecoder().decode(i.slice(2,a+2)))}fromSNBTValue(i){return hn.fromSNBTValue(i)}fromUint8Array(i,o){return hn.fromUint8Array(i,o)}copy(){return new hn(this.value)}equals(i){return i instanceof hn&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return hn.getTagId()}setValue(i){this.value=i}toSNBTValue(i){return'"'+this.value.replace('"','\\"')+'"'}toUint8Array(i){const o=new TextEncoder().encode(this.value),a=new ArrayBuffer(2);return new DataView(a).setUint16(0,o.length),(0,n.concatUint8Arrays)(new Uint8Array(a),o)}static getTagId(){return t.default.STRING}};return ps.default=r,ps}var ms={},Na;function zp(){if(Na)return ms;Na=1,Object.defineProperty(ms,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt(),r=_o(),s=yr();let i=class pn{constructor(a){if(a.length>=2**31)throw new e.default("Byte array is too long");this.value=a}static fromSNBTValue(a){a=a.replace(" ","").trim();const l=a.replace("[B;","").replace("]","").split(","),u=[];return l.forEach((d,f)=>u[f]=r.default.fromSNBTValue(d)),new pn(u)}static fromUint8Array(a,l){const u=[],d=s.default.fromUint8Array(a.slice(0,4),l).getValue();for(let f=0;f<d;f++)u.push(r.default.fromUint8Array(a.slice(f+4,f+5),l));return new pn(u)}fromSNBTValue(a){return pn.fromSNBTValue(a)}fromUint8Array(a,l){return pn.fromUint8Array(a,l)}copy(){return new pn(this.value)}equals(a){return a instanceof pn&&this.value.every((l,u)=>l.equals(this.value[u]))}getValue(){return this.value}getValueDeep(){return this.value.map(a=>a.getValueDeep())}getTagId(){return pn.getTagId()}setValue(a){if(a.length>=2**31)throw new e.default("Byte array is too long");this.value=a}toSNBTValue(a){let l="[B;";if(this.value.length>0){l+=a==="formated"?" ":"";for(let u=0;u<this.value.length-1;u++)l+=this.value[u].toSNBTValue(a)+","+(a==="formated"?" ":"");l+=this.value[this.value.length-1].toSNBTValue(a)}return l+="]",l}toUint8Array(a){return(0,n.concatUint8Arrays)(new s.default(this.value.length).toUint8Array(a),...this.value.map(l=>l.toUint8Array(a)))}static getTagId(){return t.default.BYTE_ARRAY}};return ms.default=i,ms}var gs={},Ta;function vo(){if(Ta)return gs;Ta=1,Object.defineProperty(gs,"__esModule",{value:!0});const t=Et(),e=Pt(),n=wc(),r=xt();let s=class mn{constructor(o){this.value=o}static fromSNBTValue(o){if(o=o.trim(),!o.startsWith("{")||!o.endsWith("}"))throw new Error("Invalid compound SNBT value");const a=[];let l="name",u="?",d=[],f="",h="";for(let g=1;g<o.length-1;g++){const y=o.charAt(g),m=g-1<1?"":o.charAt(g-1),b=g+1>=o.length-1?"":o.charAt(g+1);switch(l){case"name":switch(u){case"?":if(y==="'")u="'";else if(y==='"')u='"';else{if(y===" ")continue;if(/[a-zA-Z0-9_\-.+]/.test(y))u="",f+=y;else throw new r.default("Wrong SNBT format")}break;case'"':if(y==='"')m==="\\"?f+=y:(u="?",l="after-name");else if(y==="\\"){if(b==='"')continue;f+=y}else f+=y;break;case"'":if(y==="'")m==="\\"?f+=y:(u="?",l="after-name");else if(y==="\\"){if(b==="'")continue;f+=y}else f+=y;break;case"":/[a-zA-Z0-9_\-.+]/.test(y)?f+=y:(u="?",l="after-name",g--)}break;case"after-name":if(y===":")l="payload";else{if(y===" ")continue;throw new r.default("Wrong SNBT format")}break;case"payload":switch(y){case"{":(!d[d.length-1]||!d[d.length-1].includes("string"))&&d.push("compound");break;case"[":(!d[d.length-1]||!d[d.length-1].includes("string"))&&d.push("list");break;case'"':d[d.length-1]==='"string"'?m!=="\\"&&d.pop():d[d.length-1]!=='"string"'&&d.push('"string"');break;case"'":d[d.length-1]==="'string'"?m!=="\\"&&d.pop():d[d.length-1]!=="'string'"&&d.push("'string'");break;case"]":d[d.length-1]==="list"&&d.pop();break;case"}":d[d.length-1]==="compound"&&d.pop();break}if(d.length>0)h+=y;else{const S=()=>{const T=(0,t.getPayloadTypeBySNBTValue)(h);a.push(new n.Tag(f,T.fromSNBTValue(h))),h="",l="name",f=""};if(y===" ")continue;y===","?S():(h+=y,b===""&&S())}}}return new mn(a)}static fromUint8Array(o,a){const l=[];for(let u=0;u<o.length;){const d=o.slice(u);if(d[0]===t.default.END)break;const f=n.Tag.fromUint8Array(d,a);l.push(f),u+=f.toUint8Array(a).length}return new mn(l)}hasTagName(o){return this.value.some(a=>a.getTagName()===o)}hasTag(o){return this.value.some(a=>a.equals(o))}fromSNBTValue(o){return mn.fromSNBTValue(o)}fromUint8Array(o,a){return mn.fromUint8Array(o,a)}copy(){return new mn(this.value)}equals(o){return o instanceof mn&&this.value.every((a,l)=>a.equals(this.value[l]))}getValue(){return this.value}getValueDeep(){const o={};return this.value.forEach(a=>o[a.getTagName()]=a.getPayload().getValueDeep()),o}getTagId(){return mn.getTagId()}setValue(o){this.value=o}toSNBTValue(o){let a="{";if(this.value.length>0){for(let l=0;l<this.value.length-1;l++)a+=this.value[l].toSNBT(o)+","+(o==="formated"?" ":"");a+=this.value[this.value.length-1].toSNBT(o)}return a+="}",a}toUint8Array(o){return(0,e.concatUint8Arrays)(...this.value.map(a=>a.toUint8Array(o)),new Uint8Array([0]))}static getTagId(){return t.default.COMPOUND}};return gs.default=s,gs}var Ea;function Et(){return Ea||(Ea=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.payloadTypes=void 0,t.getPayloadType=m,t.getPayloadTypeBySNBTValue=b;const e=Ip(),n=Op(),r=pc(),s=_o(),i=mc(),o=yr(),a=wo(),l=gc(),u=yc(),d=bc(),f=zp(),h=vo(),g=xt();var y;(function(S){S[S.END=0]="END",S[S.BYTE=1]="BYTE",S[S.SHORT=2]="SHORT",S[S.INT=3]="INT",S[S.LONG=4]="LONG",S[S.FLOAT=5]="FLOAT",S[S.DOUBLE=6]="DOUBLE",S[S.BYTE_ARRAY=7]="BYTE_ARRAY",S[S.STRING=8]="STRING",S[S.LIST=9]="LIST",S[S.COMPOUND=10]="COMPOUND",S[S.INT_ARRAY=11]="INT_ARRAY",S[S.LONG_ARRAY=12]="LONG_ARRAY"})(y||(y={})),t.payloadTypes=[s.default,i.default,o.default,a.default,l.default,u.default,f.default,d.default,r.default,h.default,n.default,e.default];function m(S){const T=t.payloadTypes.find(N=>N.getTagId()===S);if(!T)throw new g.default("Unknown payload type");return T}function b(S){if(S=S.trim(),S.startsWith("{")&&S.endsWith("}"))return m(y.COMPOUND);if(S.startsWith("[")&&S.endsWith("]"))return S=S.replace(" ",""),S.startsWith("[B;")?m(y.BYTE_ARRAY):S.startsWith("[I;")?m(y.INT_ARRAY):S.startsWith("[L;")?m(y.LONG_ARRAY):m(y.LIST);if(S==="false"||S==="true")return m(y.BYTE);const T=S[S.length-1];return T==="b"||T==="B"?m(y.BYTE):T==="s"||T==="S"?m(y.SHORT):T==="l"||T==="L"?m(y.LONG):T==="f"||T==="F"?m(y.FLOAT):T==="d"||T==="D"||/[-+]?(?:[0-9]+[.]|[0-9]*[.][0-9]+)(?:e[-+]?[0-9]+)?/.test(S)?m(y.DOUBLE):/[-+]?(?:0|[1-9][0-9]*)/.test(S)&&-2147483648<Number(S)&&Number(S)<2**31-1?m(y.INT):m(y.STRING)}t.default=y})(mi)),mi}var Ia;function wc(){if(Ia)return Nr;Ia=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.Tag=void 0;const t=xt(),e=Pt(),n=Et(),r=_o(),s=mc(),i=wo(),o=yr(),a=gc(),l=yc(),u=bc(),d=pc(),f=vo();let h=class yt{constructor(y,m,b=!1){if(y.length>65535)throw new t.default("Tag name is too long");if(b&&(m.getTagId()!==n.default.COMPOUND||y!==""))throw new t.default("Root tag must be a compound and its name must by empty");this.name=y,this.payload=m,this.root=b}copy(){return new yt(this.name,this.payload.copy())}equals(y){return this.name===y.name&&this.payload.equals(y.payload)}getTagId(){return this.payload.getTagId()}getTagName(){return this.name}isRoot(){return this.root}setTagName(y){if(y.length>65535)throw new t.default("Tag name is too long");this.name=y}getPayload(){return this.payload}setPayload(y){this.payload=y}toSNBT(y){return this.root?this.payload.toSNBTValue(y):`"${this.name.replace('"','\\"')}":${y==="formated"?" ":""}${this.payload.toSNBTValue(y)}`}toJSON(){return this.root?this.payload.getValueDeep():{[this.name]:this.payload.getValueDeep()}}toUint8Array(y){const m=new TextEncoder().encode(this.name),b=new ArrayBuffer(2);return new DataView(b).setUint16(0,m.length,!1),(0,e.concatUint8Arrays)(new Uint8Array([this.payload.getTagId()]),new Uint8Array(b),m,this.payload.toUint8Array(y))}static fromJSON(y,m=!1){const b=Object.keys(y);if(b.length!==1)return yt.fromJSON({"":y},m);switch(typeof y[b[0]]){case"string":return new yt(b[0],new u.default(y[b[0]]),m);case"boolean":return new yt(b[0],new r.default(y[b[0]]?1:0),m);case"bigint":case"number":const S=y[b[0]],T=Number(S);if(typeof S=="bigint"||Number.isInteger(S)){if(S<=127&&S>=-128)return new yt(b[0],new r.default(T),m);if(S<=32767&&S>=-32768)return new yt(b[0],new s.default(T),m);if(S<=2**31&&S>=-2147483648)return new yt(b[0],new o.default(T));if(S<=2n**63n-1n&&S>=-(2n**63n))return new yt(b[0],new i.default(BigInt(S)),m)}return new Float32Array([T])[0]==S?new yt(b[0],new a.default(T),m):new yt(b[0],new l.default(Number(T)),m);case"object":if(Array.isArray(y[b[0]]))return new yt(b[0],new d.default(y[b[0]].map(N=>yt.fromJSON({"":N}).getPayload())),m);{const N=[];for(const k in y[b[0]])N.push(yt.fromJSON({[k]:y[b[0]][k]}));return new yt(b[0],new f.default(N),m)}}throw new t.default("Invalid value format")}static fromUint8Array(y,m,b=!1){const S=(0,n.getPayloadType)(y[0]),T=new DataView(y.slice(1,5).buffer).getUint16(0,!1);return new yt(new TextDecoder().decode(y.slice(3,3+T)),S.fromUint8Array(y.slice(3+T),m),b)}static fromSNBTTag(y,m=!1){return y=y.trim(),new yt("",new f.default([]),m)}};return Nr.Tag=h,Nr}var Lt={},In={},Rt={},On={},Oa;function jp(){if(Oa)return On;Oa=1;const t=4,e=0,n=1,r=2;function s(w){let re=w.length;for(;--re>=0;)w[re]=0}const i=0,o=1,a=2,l=3,u=258,d=29,f=256,h=f+1+d,g=30,y=19,m=2*h+1,b=15,S=16,T=7,N=256,k=16,z=17,I=18,j=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),O=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),D=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),W=512,K=new Array((h+2)*2);s(K);const Q=new Array(g*2);s(Q);const ae=new Array(W);s(ae);const ce=new Array(u-l+1);s(ce);const ge=new Array(d);s(ge);const ue=new Array(g);s(ue);function te(w,re,se,he,_e){this.static_tree=w,this.extra_bits=re,this.extra_base=se,this.elems=he,this.max_length=_e,this.has_stree=w&&w.length}let de,ie,Se;function Ne(w,re){this.dyn_tree=w,this.max_code=0,this.stat_desc=re}const ve=w=>w<256?ae[w]:ae[256+(w>>>7)],q=(w,re)=>{w.pending_buf[w.pending++]=re&255,w.pending_buf[w.pending++]=re>>>8&255},Ae=(w,re,se)=>{w.bi_valid>S-se?(w.bi_buf|=re<<w.bi_valid&65535,q(w,w.bi_buf),w.bi_buf=re>>S-w.bi_valid,w.bi_valid+=se-S):(w.bi_buf|=re<<w.bi_valid&65535,w.bi_valid+=se)},Ce=(w,re,se)=>{Ae(w,se[re*2],se[re*2+1])},Pe=(w,re)=>{let se=0;do se|=w&1,w>>>=1,se<<=1;while(--re>0);return se>>>1},Ue=w=>{w.bi_valid===16?(q(w,w.bi_buf),w.bi_buf=0,w.bi_valid=0):w.bi_valid>=8&&(w.pending_buf[w.pending++]=w.bi_buf&255,w.bi_buf>>=8,w.bi_valid-=8)},Ke=(w,re)=>{const se=re.dyn_tree,he=re.max_code,_e=re.stat_desc.static_tree,Ie=re.stat_desc.has_stree,C=re.stat_desc.extra_bits,Y=re.stat_desc.extra_base,p=re.stat_desc.max_length;let oe,Le,le,Me,ye,Xe,X=0;for(Me=0;Me<=b;Me++)w.bl_count[Me]=0;for(se[w.heap[w.heap_max]*2+1]=0,oe=w.heap_max+1;oe<m;oe++)Le=w.heap[oe],Me=se[se[Le*2+1]*2+1]+1,Me>p&&(Me=p,X++),se[Le*2+1]=Me,!(Le>he)&&(w.bl_count[Me]++,ye=0,Le>=Y&&(ye=C[Le-Y]),Xe=se[Le*2],w.opt_len+=Xe*(Me+ye),Ie&&(w.static_len+=Xe*(_e[Le*2+1]+ye)));if(X!==0){do{for(Me=p-1;w.bl_count[Me]===0;)Me--;w.bl_count[Me]--,w.bl_count[Me+1]+=2,w.bl_count[p]--,X-=2}while(X>0);for(Me=p;Me!==0;Me--)for(Le=w.bl_count[Me];Le!==0;)le=w.heap[--oe],!(le>he)&&(se[le*2+1]!==Me&&(w.opt_len+=(Me-se[le*2+1])*se[le*2],se[le*2+1]=Me),Le--)}},_=(w,re,se)=>{const he=new Array(b+1);let _e=0,Ie,C;for(Ie=1;Ie<=b;Ie++)_e=_e+se[Ie-1]<<1,he[Ie]=_e;for(C=0;C<=re;C++){let Y=w[C*2+1];Y!==0&&(w[C*2]=Pe(he[Y]++,Y))}},x=()=>{let w,re,se,he,_e;const Ie=new Array(b+1);for(se=0,he=0;he<d-1;he++)for(ge[he]=se,w=0;w<1<<j[he];w++)ce[se++]=he;for(ce[se-1]=he,_e=0,he=0;he<16;he++)for(ue[he]=_e,w=0;w<1<<O[he];w++)ae[_e++]=he;for(_e>>=7;he<g;he++)for(ue[he]=_e<<7,w=0;w<1<<O[he]-7;w++)ae[256+_e++]=he;for(re=0;re<=b;re++)Ie[re]=0;for(w=0;w<=143;)K[w*2+1]=8,w++,Ie[8]++;for(;w<=255;)K[w*2+1]=9,w++,Ie[9]++;for(;w<=279;)K[w*2+1]=7,w++,Ie[7]++;for(;w<=287;)K[w*2+1]=8,w++,Ie[8]++;for(_(K,h+1,Ie),w=0;w<g;w++)Q[w*2+1]=5,Q[w*2]=Pe(w,5);de=new te(K,j,f+1,h,b),ie=new te(Q,O,0,g,b),Se=new te(new Array(0),D,0,y,T)},E=w=>{let re;for(re=0;re<h;re++)w.dyn_ltree[re*2]=0;for(re=0;re<g;re++)w.dyn_dtree[re*2]=0;for(re=0;re<y;re++)w.bl_tree[re*2]=0;w.dyn_ltree[N*2]=1,w.opt_len=w.static_len=0,w.sym_next=w.matches=0},R=w=>{w.bi_valid>8?q(w,w.bi_buf):w.bi_valid>0&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0},$=(w,re,se,he)=>{const _e=re*2,Ie=se*2;return w[_e]<w[Ie]||w[_e]===w[Ie]&&he[re]<=he[se]},L=(w,re,se)=>{const he=w.heap[se];let _e=se<<1;for(;_e<=w.heap_len&&(_e<w.heap_len&&$(re,w.heap[_e+1],w.heap[_e],w.depth)&&_e++,!$(re,he,w.heap[_e],w.depth));)w.heap[se]=w.heap[_e],se=_e,_e<<=1;w.heap[se]=he},G=(w,re,se)=>{let he,_e,Ie=0,C,Y;if(w.sym_next!==0)do he=w.pending_buf[w.sym_buf+Ie++]&255,he+=(w.pending_buf[w.sym_buf+Ie++]&255)<<8,_e=w.pending_buf[w.sym_buf+Ie++],he===0?Ce(w,_e,re):(C=ce[_e],Ce(w,C+f+1,re),Y=j[C],Y!==0&&(_e-=ge[C],Ae(w,_e,Y)),he--,C=ve(he),Ce(w,C,se),Y=O[C],Y!==0&&(he-=ue[C],Ae(w,he,Y)));while(Ie<w.sym_next);Ce(w,N,re)},P=(w,re)=>{const se=re.dyn_tree,he=re.stat_desc.static_tree,_e=re.stat_desc.has_stree,Ie=re.stat_desc.elems;let C,Y,p=-1,oe;for(w.heap_len=0,w.heap_max=m,C=0;C<Ie;C++)se[C*2]!==0?(w.heap[++w.heap_len]=p=C,w.depth[C]=0):se[C*2+1]=0;for(;w.heap_len<2;)oe=w.heap[++w.heap_len]=p<2?++p:0,se[oe*2]=1,w.depth[oe]=0,w.opt_len--,_e&&(w.static_len-=he[oe*2+1]);for(re.max_code=p,C=w.heap_len>>1;C>=1;C--)L(w,se,C);oe=Ie;do C=w.heap[1],w.heap[1]=w.heap[w.heap_len--],L(w,se,1),Y=w.heap[1],w.heap[--w.heap_max]=C,w.heap[--w.heap_max]=Y,se[oe*2]=se[C*2]+se[Y*2],w.depth[oe]=(w.depth[C]>=w.depth[Y]?w.depth[C]:w.depth[Y])+1,se[C*2+1]=se[Y*2+1]=oe,w.heap[1]=oe++,L(w,se,1);while(w.heap_len>=2);w.heap[--w.heap_max]=w.heap[1],Ke(w,re),_(se,p,w.bl_count)},B=(w,re,se)=>{let he,_e=-1,Ie,C=re[1],Y=0,p=7,oe=4;for(C===0&&(p=138,oe=3),re[(se+1)*2+1]=65535,he=0;he<=se;he++)Ie=C,C=re[(he+1)*2+1],!(++Y<p&&Ie===C)&&(Y<oe?w.bl_tree[Ie*2]+=Y:Ie!==0?(Ie!==_e&&w.bl_tree[Ie*2]++,w.bl_tree[k*2]++):Y<=10?w.bl_tree[z*2]++:w.bl_tree[I*2]++,Y=0,_e=Ie,C===0?(p=138,oe=3):Ie===C?(p=6,oe=3):(p=7,oe=4))},V=(w,re,se)=>{let he,_e=-1,Ie,C=re[1],Y=0,p=7,oe=4;for(C===0&&(p=138,oe=3),he=0;he<=se;he++)if(Ie=C,C=re[(he+1)*2+1],!(++Y<p&&Ie===C)){if(Y<oe)do Ce(w,Ie,w.bl_tree);while(--Y!==0);else Ie!==0?(Ie!==_e&&(Ce(w,Ie,w.bl_tree),Y--),Ce(w,k,w.bl_tree),Ae(w,Y-3,2)):Y<=10?(Ce(w,z,w.bl_tree),Ae(w,Y-3,3)):(Ce(w,I,w.bl_tree),Ae(w,Y-11,7));Y=0,_e=Ie,C===0?(p=138,oe=3):Ie===C?(p=6,oe=3):(p=7,oe=4)}},F=w=>{let re;for(B(w,w.dyn_ltree,w.l_desc.max_code),B(w,w.dyn_dtree,w.d_desc.max_code),P(w,w.bl_desc),re=y-1;re>=3&&w.bl_tree[M[re]*2+1]===0;re--);return w.opt_len+=3*(re+1)+5+5+4,re},ne=(w,re,se,he)=>{let _e;for(Ae(w,re-257,5),Ae(w,se-1,5),Ae(w,he-4,4),_e=0;_e<he;_e++)Ae(w,w.bl_tree[M[_e]*2+1],3);V(w,w.dyn_ltree,re-1),V(w,w.dyn_dtree,se-1)},be=w=>{let re=4093624447,se;for(se=0;se<=31;se++,re>>>=1)if(re&1&&w.dyn_ltree[se*2]!==0)return e;if(w.dyn_ltree[18]!==0||w.dyn_ltree[20]!==0||w.dyn_ltree[26]!==0)return n;for(se=32;se<f;se++)if(w.dyn_ltree[se*2]!==0)return n;return e};let me=!1;const je=w=>{me||(x(),me=!0),w.l_desc=new Ne(w.dyn_ltree,de),w.d_desc=new Ne(w.dyn_dtree,ie),w.bl_desc=new Ne(w.bl_tree,Se),w.bi_buf=0,w.bi_valid=0,E(w)},Ee=(w,re,se,he)=>{Ae(w,(i<<1)+(he?1:0),3),R(w),q(w,se),q(w,~se),se&&w.pending_buf.set(w.window.subarray(re,re+se),w.pending),w.pending+=se},We=w=>{Ae(w,o<<1,3),Ce(w,N,K),Ue(w)},$e=(w,re,se,he)=>{let _e,Ie,C=0;w.level>0?(w.strm.data_type===r&&(w.strm.data_type=be(w)),P(w,w.l_desc),P(w,w.d_desc),C=F(w),_e=w.opt_len+3+7>>>3,Ie=w.static_len+3+7>>>3,Ie<=_e&&(_e=Ie)):_e=Ie=se+5,se+4<=_e&&re!==-1?Ee(w,re,se,he):w.strategy===t||Ie===_e?(Ae(w,(o<<1)+(he?1:0),3),G(w,K,Q)):(Ae(w,(a<<1)+(he?1:0),3),ne(w,w.l_desc.max_code+1,w.d_desc.max_code+1,C+1),G(w,w.dyn_ltree,w.dyn_dtree)),E(w),he&&R(w)},Ze=(w,re,se)=>(w.pending_buf[w.sym_buf+w.sym_next++]=re,w.pending_buf[w.sym_buf+w.sym_next++]=re>>8,w.pending_buf[w.sym_buf+w.sym_next++]=se,re===0?w.dyn_ltree[se*2]++:(w.matches++,re--,w.dyn_ltree[(ce[se]+f+1)*2]++,w.dyn_dtree[ve(re)*2]++),w.sym_next===w.sym_end);return On._tr_init=je,On._tr_stored_block=Ee,On._tr_flush_block=$e,On._tr_tally=Ze,On._tr_align=We,On}var gi,za;function _c(){return za||(za=1,gi=(e,n,r,s)=>{let i=e&65535|0,o=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+n[s++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0}),gi}var yi,ja;function vc(){if(ja)return yi;ja=1;const t=()=>{let r,s=[];for(var i=0;i<256;i++){r=i;for(var o=0;o<8;o++)r=r&1?3988292384^r>>>1:r>>>1;s[i]=r}return s},e=new Uint32Array(t());return yi=(r,s,i,o)=>{const a=e,l=o+i;r^=-1;for(let u=o;u<l;u++)r=r>>>8^a[(r^s[u])&255];return r^-1},yi}var bi,Ca;function ko(){return Ca||(Ca=1,bi={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),bi}var wi,Pa;function Mn(){return Pa||(Pa=1,wi={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),wi}var $a;function Cp(){if($a)return Rt;$a=1;const{_tr_init:t,_tr_stored_block:e,_tr_flush_block:n,_tr_tally:r,_tr_align:s}=jp(),i=_c(),o=vc(),a=ko(),{Z_NO_FLUSH:l,Z_PARTIAL_FLUSH:u,Z_FULL_FLUSH:d,Z_FINISH:f,Z_BLOCK:h,Z_OK:g,Z_STREAM_END:y,Z_STREAM_ERROR:m,Z_DATA_ERROR:b,Z_BUF_ERROR:S,Z_DEFAULT_COMPRESSION:T,Z_FILTERED:N,Z_HUFFMAN_ONLY:k,Z_RLE:z,Z_FIXED:I,Z_DEFAULT_STRATEGY:j,Z_UNKNOWN:O,Z_DEFLATED:D}=Mn(),M=9,W=15,K=8,ce=256+1+29,ge=30,ue=19,te=2*ce+1,de=15,ie=3,Se=258,Ne=Se+ie+1,ve=32,q=42,Ae=57,Ce=69,Pe=73,Ue=91,Ke=103,_=113,x=666,E=1,R=2,$=3,L=4,G=3,P=(c,H)=>(c.msg=a[H],H),B=c=>c*2-(c>4?9:0),V=c=>{let H=c.length;for(;--H>=0;)c[H]=0},F=c=>{let H,A,U,Z=c.w_size;H=c.hash_size,U=H;do A=c.head[--U],c.head[U]=A>=Z?A-Z:0;while(--H);H=Z,U=H;do A=c.prev[--U],c.prev[U]=A>=Z?A-Z:0;while(--H)};let be=(c,H,A)=>(H<<c.hash_shift^A)&c.hash_mask;const me=c=>{const H=c.state;let A=H.pending;A>c.avail_out&&(A=c.avail_out),A!==0&&(c.output.set(H.pending_buf.subarray(H.pending_out,H.pending_out+A),c.next_out),c.next_out+=A,H.pending_out+=A,c.total_out+=A,c.avail_out-=A,H.pending-=A,H.pending===0&&(H.pending_out=0))},je=(c,H)=>{n(c,c.block_start>=0?c.block_start:-1,c.strstart-c.block_start,H),c.block_start=c.strstart,me(c.strm)},Ee=(c,H)=>{c.pending_buf[c.pending++]=H},We=(c,H)=>{c.pending_buf[c.pending++]=H>>>8&255,c.pending_buf[c.pending++]=H&255},$e=(c,H,A,U)=>{let Z=c.avail_in;return Z>U&&(Z=U),Z===0?0:(c.avail_in-=Z,H.set(c.input.subarray(c.next_in,c.next_in+Z),A),c.state.wrap===1?c.adler=i(c.adler,H,Z,A):c.state.wrap===2&&(c.adler=o(c.adler,H,Z,A)),c.next_in+=Z,c.total_in+=Z,Z)},Ze=(c,H)=>{let A=c.max_chain_length,U=c.strstart,Z,fe,ze=c.prev_length,we=c.nice_match;const wt=c.strstart>c.w_size-Ne?c.strstart-(c.w_size-Ne):0,Ge=c.window,it=c.w_mask,St=c.prev,lt=c.strstart+Se;let It=Ge[U+ze-1],Nt=Ge[U+ze];c.prev_length>=c.good_match&&(A>>=2),we>c.lookahead&&(we=c.lookahead);do if(Z=H,!(Ge[Z+ze]!==Nt||Ge[Z+ze-1]!==It||Ge[Z]!==Ge[U]||Ge[++Z]!==Ge[U+1])){U+=2,Z++;do;while(Ge[++U]===Ge[++Z]&&Ge[++U]===Ge[++Z]&&Ge[++U]===Ge[++Z]&&Ge[++U]===Ge[++Z]&&Ge[++U]===Ge[++Z]&&Ge[++U]===Ge[++Z]&&Ge[++U]===Ge[++Z]&&Ge[++U]===Ge[++Z]&&U<lt);if(fe=Se-(lt-U),U=lt-Se,fe>ze){if(c.match_start=H,ze=fe,fe>=we)break;It=Ge[U+ze-1],Nt=Ge[U+ze]}}while((H=St[H&it])>wt&&--A!==0);return ze<=c.lookahead?ze:c.lookahead},w=c=>{const H=c.w_size;let A,U,Z;do{if(U=c.window_size-c.lookahead-c.strstart,c.strstart>=H+(H-Ne)&&(c.window.set(c.window.subarray(H,H+H-U),0),c.match_start-=H,c.strstart-=H,c.block_start-=H,c.insert>c.strstart&&(c.insert=c.strstart),F(c),U+=H),c.strm.avail_in===0)break;if(A=$e(c.strm,c.window,c.strstart+c.lookahead,U),c.lookahead+=A,c.lookahead+c.insert>=ie)for(Z=c.strstart-c.insert,c.ins_h=c.window[Z],c.ins_h=be(c,c.ins_h,c.window[Z+1]);c.insert&&(c.ins_h=be(c,c.ins_h,c.window[Z+ie-1]),c.prev[Z&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=Z,Z++,c.insert--,!(c.lookahead+c.insert<ie)););}while(c.lookahead<Ne&&c.strm.avail_in!==0)},re=(c,H)=>{let A=c.pending_buf_size-5>c.w_size?c.w_size:c.pending_buf_size-5,U,Z,fe,ze=0,we=c.strm.avail_in;do{if(U=65535,fe=c.bi_valid+42>>3,c.strm.avail_out<fe||(fe=c.strm.avail_out-fe,Z=c.strstart-c.block_start,U>Z+c.strm.avail_in&&(U=Z+c.strm.avail_in),U>fe&&(U=fe),U<A&&(U===0&&H!==f||H===l||U!==Z+c.strm.avail_in)))break;ze=H===f&&U===Z+c.strm.avail_in?1:0,e(c,0,0,ze),c.pending_buf[c.pending-4]=U,c.pending_buf[c.pending-3]=U>>8,c.pending_buf[c.pending-2]=~U,c.pending_buf[c.pending-1]=~U>>8,me(c.strm),Z&&(Z>U&&(Z=U),c.strm.output.set(c.window.subarray(c.block_start,c.block_start+Z),c.strm.next_out),c.strm.next_out+=Z,c.strm.avail_out-=Z,c.strm.total_out+=Z,c.block_start+=Z,U-=Z),U&&($e(c.strm,c.strm.output,c.strm.next_out,U),c.strm.next_out+=U,c.strm.avail_out-=U,c.strm.total_out+=U)}while(ze===0);return we-=c.strm.avail_in,we&&(we>=c.w_size?(c.matches=2,c.window.set(c.strm.input.subarray(c.strm.next_in-c.w_size,c.strm.next_in),0),c.strstart=c.w_size,c.insert=c.strstart):(c.window_size-c.strstart<=we&&(c.strstart-=c.w_size,c.window.set(c.window.subarray(c.w_size,c.w_size+c.strstart),0),c.matches<2&&c.matches++,c.insert>c.strstart&&(c.insert=c.strstart)),c.window.set(c.strm.input.subarray(c.strm.next_in-we,c.strm.next_in),c.strstart),c.strstart+=we,c.insert+=we>c.w_size-c.insert?c.w_size-c.insert:we),c.block_start=c.strstart),c.high_water<c.strstart&&(c.high_water=c.strstart),ze?L:H!==l&&H!==f&&c.strm.avail_in===0&&c.strstart===c.block_start?R:(fe=c.window_size-c.strstart,c.strm.avail_in>fe&&c.block_start>=c.w_size&&(c.block_start-=c.w_size,c.strstart-=c.w_size,c.window.set(c.window.subarray(c.w_size,c.w_size+c.strstart),0),c.matches<2&&c.matches++,fe+=c.w_size,c.insert>c.strstart&&(c.insert=c.strstart)),fe>c.strm.avail_in&&(fe=c.strm.avail_in),fe&&($e(c.strm,c.window,c.strstart,fe),c.strstart+=fe,c.insert+=fe>c.w_size-c.insert?c.w_size-c.insert:fe),c.high_water<c.strstart&&(c.high_water=c.strstart),fe=c.bi_valid+42>>3,fe=c.pending_buf_size-fe>65535?65535:c.pending_buf_size-fe,A=fe>c.w_size?c.w_size:fe,Z=c.strstart-c.block_start,(Z>=A||(Z||H===f)&&H!==l&&c.strm.avail_in===0&&Z<=fe)&&(U=Z>fe?fe:Z,ze=H===f&&c.strm.avail_in===0&&U===Z?1:0,e(c,c.block_start,U,ze),c.block_start+=U,me(c.strm)),ze?$:E)},se=(c,H)=>{let A,U;for(;;){if(c.lookahead<Ne){if(w(c),c.lookahead<Ne&&H===l)return E;if(c.lookahead===0)break}if(A=0,c.lookahead>=ie&&(c.ins_h=be(c,c.ins_h,c.window[c.strstart+ie-1]),A=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),A!==0&&c.strstart-A<=c.w_size-Ne&&(c.match_length=Ze(c,A)),c.match_length>=ie)if(U=r(c,c.strstart-c.match_start,c.match_length-ie),c.lookahead-=c.match_length,c.match_length<=c.max_lazy_match&&c.lookahead>=ie){c.match_length--;do c.strstart++,c.ins_h=be(c,c.ins_h,c.window[c.strstart+ie-1]),A=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart;while(--c.match_length!==0);c.strstart++}else c.strstart+=c.match_length,c.match_length=0,c.ins_h=c.window[c.strstart],c.ins_h=be(c,c.ins_h,c.window[c.strstart+1]);else U=r(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++;if(U&&(je(c,!1),c.strm.avail_out===0))return E}return c.insert=c.strstart<ie-1?c.strstart:ie-1,H===f?(je(c,!0),c.strm.avail_out===0?$:L):c.sym_next&&(je(c,!1),c.strm.avail_out===0)?E:R},he=(c,H)=>{let A,U,Z;for(;;){if(c.lookahead<Ne){if(w(c),c.lookahead<Ne&&H===l)return E;if(c.lookahead===0)break}if(A=0,c.lookahead>=ie&&(c.ins_h=be(c,c.ins_h,c.window[c.strstart+ie-1]),A=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),c.prev_length=c.match_length,c.prev_match=c.match_start,c.match_length=ie-1,A!==0&&c.prev_length<c.max_lazy_match&&c.strstart-A<=c.w_size-Ne&&(c.match_length=Ze(c,A),c.match_length<=5&&(c.strategy===N||c.match_length===ie&&c.strstart-c.match_start>4096)&&(c.match_length=ie-1)),c.prev_length>=ie&&c.match_length<=c.prev_length){Z=c.strstart+c.lookahead-ie,U=r(c,c.strstart-1-c.prev_match,c.prev_length-ie),c.lookahead-=c.prev_length-1,c.prev_length-=2;do++c.strstart<=Z&&(c.ins_h=be(c,c.ins_h,c.window[c.strstart+ie-1]),A=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart);while(--c.prev_length!==0);if(c.match_available=0,c.match_length=ie-1,c.strstart++,U&&(je(c,!1),c.strm.avail_out===0))return E}else if(c.match_available){if(U=r(c,0,c.window[c.strstart-1]),U&&je(c,!1),c.strstart++,c.lookahead--,c.strm.avail_out===0)return E}else c.match_available=1,c.strstart++,c.lookahead--}return c.match_available&&(U=r(c,0,c.window[c.strstart-1]),c.match_available=0),c.insert=c.strstart<ie-1?c.strstart:ie-1,H===f?(je(c,!0),c.strm.avail_out===0?$:L):c.sym_next&&(je(c,!1),c.strm.avail_out===0)?E:R},_e=(c,H)=>{let A,U,Z,fe;const ze=c.window;for(;;){if(c.lookahead<=Se){if(w(c),c.lookahead<=Se&&H===l)return E;if(c.lookahead===0)break}if(c.match_length=0,c.lookahead>=ie&&c.strstart>0&&(Z=c.strstart-1,U=ze[Z],U===ze[++Z]&&U===ze[++Z]&&U===ze[++Z])){fe=c.strstart+Se;do;while(U===ze[++Z]&&U===ze[++Z]&&U===ze[++Z]&&U===ze[++Z]&&U===ze[++Z]&&U===ze[++Z]&&U===ze[++Z]&&U===ze[++Z]&&Z<fe);c.match_length=Se-(fe-Z),c.match_length>c.lookahead&&(c.match_length=c.lookahead)}if(c.match_length>=ie?(A=r(c,1,c.match_length-ie),c.lookahead-=c.match_length,c.strstart+=c.match_length,c.match_length=0):(A=r(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++),A&&(je(c,!1),c.strm.avail_out===0))return E}return c.insert=0,H===f?(je(c,!0),c.strm.avail_out===0?$:L):c.sym_next&&(je(c,!1),c.strm.avail_out===0)?E:R},Ie=(c,H)=>{let A;for(;;){if(c.lookahead===0&&(w(c),c.lookahead===0)){if(H===l)return E;break}if(c.match_length=0,A=r(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++,A&&(je(c,!1),c.strm.avail_out===0))return E}return c.insert=0,H===f?(je(c,!0),c.strm.avail_out===0?$:L):c.sym_next&&(je(c,!1),c.strm.avail_out===0)?E:R};function C(c,H,A,U,Z){this.good_length=c,this.max_lazy=H,this.nice_length=A,this.max_chain=U,this.func=Z}const Y=[new C(0,0,0,0,re),new C(4,4,8,4,se),new C(4,5,16,8,se),new C(4,6,32,32,se),new C(4,4,16,16,he),new C(8,16,32,32,he),new C(8,16,128,128,he),new C(8,32,128,256,he),new C(32,128,258,1024,he),new C(32,258,258,4096,he)],p=c=>{c.window_size=2*c.w_size,V(c.head),c.max_lazy_match=Y[c.level].max_lazy,c.good_match=Y[c.level].good_length,c.nice_match=Y[c.level].nice_length,c.max_chain_length=Y[c.level].max_chain,c.strstart=0,c.block_start=0,c.lookahead=0,c.insert=0,c.match_length=c.prev_length=ie-1,c.match_available=0,c.ins_h=0};function oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(te*2),this.dyn_dtree=new Uint16Array((2*ge+1)*2),this.bl_tree=new Uint16Array((2*ue+1)*2),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(de+1),this.heap=new Uint16Array(2*ce+1),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ce+1),V(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Le=c=>{if(!c)return 1;const H=c.state;return!H||H.strm!==c||H.status!==q&&H.status!==Ae&&H.status!==Ce&&H.status!==Pe&&H.status!==Ue&&H.status!==Ke&&H.status!==_&&H.status!==x?1:0},le=c=>{if(Le(c))return P(c,m);c.total_in=c.total_out=0,c.data_type=O;const H=c.state;return H.pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap===2?Ae:H.wrap?q:_,c.adler=H.wrap===2?0:1,H.last_flush=-2,t(H),g},Me=c=>{const H=le(c);return H===g&&p(c.state),H},ye=(c,H)=>Le(c)||c.state.wrap!==2?m:(c.state.gzhead=H,g),Xe=(c,H,A,U,Z,fe)=>{if(!c)return m;let ze=1;if(H===T&&(H=6),U<0?(ze=0,U=-U):U>15&&(ze=2,U-=16),Z<1||Z>M||A!==D||U<8||U>15||H<0||H>9||fe<0||fe>I||U===8&&ze!==1)return P(c,m);U===8&&(U=9);const we=new oe;return c.state=we,we.strm=c,we.status=q,we.wrap=ze,we.gzhead=null,we.w_bits=U,we.w_size=1<<we.w_bits,we.w_mask=we.w_size-1,we.hash_bits=Z+7,we.hash_size=1<<we.hash_bits,we.hash_mask=we.hash_size-1,we.hash_shift=~~((we.hash_bits+ie-1)/ie),we.window=new Uint8Array(we.w_size*2),we.head=new Uint16Array(we.hash_size),we.prev=new Uint16Array(we.w_size),we.lit_bufsize=1<<Z+6,we.pending_buf_size=we.lit_bufsize*4,we.pending_buf=new Uint8Array(we.pending_buf_size),we.sym_buf=we.lit_bufsize,we.sym_end=(we.lit_bufsize-1)*3,we.level=H,we.strategy=fe,we.method=A,Me(c)},X=(c,H)=>Xe(c,H,D,W,K,j),ee=(c,H)=>{if(Le(c)||H>h||H<0)return c?P(c,m):m;const A=c.state;if(!c.output||c.avail_in!==0&&!c.input||A.status===x&&H!==f)return P(c,c.avail_out===0?S:m);const U=A.last_flush;if(A.last_flush=H,A.pending!==0){if(me(c),c.avail_out===0)return A.last_flush=-1,g}else if(c.avail_in===0&&B(H)<=B(U)&&H!==f)return P(c,S);if(A.status===x&&c.avail_in!==0)return P(c,S);if(A.status===q&&A.wrap===0&&(A.status=_),A.status===q){let Z=D+(A.w_bits-8<<4)<<8,fe=-1;if(A.strategy>=k||A.level<2?fe=0:A.level<6?fe=1:A.level===6?fe=2:fe=3,Z|=fe<<6,A.strstart!==0&&(Z|=ve),Z+=31-Z%31,We(A,Z),A.strstart!==0&&(We(A,c.adler>>>16),We(A,c.adler&65535)),c.adler=1,A.status=_,me(c),A.pending!==0)return A.last_flush=-1,g}if(A.status===Ae){if(c.adler=0,Ee(A,31),Ee(A,139),Ee(A,8),A.gzhead)Ee(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),Ee(A,A.gzhead.time&255),Ee(A,A.gzhead.time>>8&255),Ee(A,A.gzhead.time>>16&255),Ee(A,A.gzhead.time>>24&255),Ee(A,A.level===9?2:A.strategy>=k||A.level<2?4:0),Ee(A,A.gzhead.os&255),A.gzhead.extra&&A.gzhead.extra.length&&(Ee(A,A.gzhead.extra.length&255),Ee(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(c.adler=o(c.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=Ce;else if(Ee(A,0),Ee(A,0),Ee(A,0),Ee(A,0),Ee(A,0),Ee(A,A.level===9?2:A.strategy>=k||A.level<2?4:0),Ee(A,G),A.status=_,me(c),A.pending!==0)return A.last_flush=-1,g}if(A.status===Ce){if(A.gzhead.extra){let Z=A.pending,fe=(A.gzhead.extra.length&65535)-A.gzindex;for(;A.pending+fe>A.pending_buf_size;){let we=A.pending_buf_size-A.pending;if(A.pending_buf.set(A.gzhead.extra.subarray(A.gzindex,A.gzindex+we),A.pending),A.pending=A.pending_buf_size,A.gzhead.hcrc&&A.pending>Z&&(c.adler=o(c.adler,A.pending_buf,A.pending-Z,Z)),A.gzindex+=we,me(c),A.pending!==0)return A.last_flush=-1,g;Z=0,fe-=we}let ze=new Uint8Array(A.gzhead.extra);A.pending_buf.set(ze.subarray(A.gzindex,A.gzindex+fe),A.pending),A.pending+=fe,A.gzhead.hcrc&&A.pending>Z&&(c.adler=o(c.adler,A.pending_buf,A.pending-Z,Z)),A.gzindex=0}A.status=Pe}if(A.status===Pe){if(A.gzhead.name){let Z=A.pending,fe;do{if(A.pending===A.pending_buf_size){if(A.gzhead.hcrc&&A.pending>Z&&(c.adler=o(c.adler,A.pending_buf,A.pending-Z,Z)),me(c),A.pending!==0)return A.last_flush=-1,g;Z=0}A.gzindex<A.gzhead.name.length?fe=A.gzhead.name.charCodeAt(A.gzindex++)&255:fe=0,Ee(A,fe)}while(fe!==0);A.gzhead.hcrc&&A.pending>Z&&(c.adler=o(c.adler,A.pending_buf,A.pending-Z,Z)),A.gzindex=0}A.status=Ue}if(A.status===Ue){if(A.gzhead.comment){let Z=A.pending,fe;do{if(A.pending===A.pending_buf_size){if(A.gzhead.hcrc&&A.pending>Z&&(c.adler=o(c.adler,A.pending_buf,A.pending-Z,Z)),me(c),A.pending!==0)return A.last_flush=-1,g;Z=0}A.gzindex<A.gzhead.comment.length?fe=A.gzhead.comment.charCodeAt(A.gzindex++)&255:fe=0,Ee(A,fe)}while(fe!==0);A.gzhead.hcrc&&A.pending>Z&&(c.adler=o(c.adler,A.pending_buf,A.pending-Z,Z))}A.status=Ke}if(A.status===Ke){if(A.gzhead.hcrc){if(A.pending+2>A.pending_buf_size&&(me(c),A.pending!==0))return A.last_flush=-1,g;Ee(A,c.adler&255),Ee(A,c.adler>>8&255),c.adler=0}if(A.status=_,me(c),A.pending!==0)return A.last_flush=-1,g}if(c.avail_in!==0||A.lookahead!==0||H!==l&&A.status!==x){let Z=A.level===0?re(A,H):A.strategy===k?Ie(A,H):A.strategy===z?_e(A,H):Y[A.level].func(A,H);if((Z===$||Z===L)&&(A.status=x),Z===E||Z===$)return c.avail_out===0&&(A.last_flush=-1),g;if(Z===R&&(H===u?s(A):H!==h&&(e(A,0,0,!1),H===d&&(V(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),me(c),c.avail_out===0))return A.last_flush=-1,g}return H!==f?g:A.wrap<=0?y:(A.wrap===2?(Ee(A,c.adler&255),Ee(A,c.adler>>8&255),Ee(A,c.adler>>16&255),Ee(A,c.adler>>24&255),Ee(A,c.total_in&255),Ee(A,c.total_in>>8&255),Ee(A,c.total_in>>16&255),Ee(A,c.total_in>>24&255)):(We(A,c.adler>>>16),We(A,c.adler&65535)),me(c),A.wrap>0&&(A.wrap=-A.wrap),A.pending!==0?g:y)},Vn=c=>{if(Le(c))return m;const H=c.state.status;return c.state=null,H===_?P(c,b):g},et=(c,H)=>{let A=H.length;if(Le(c))return m;const U=c.state,Z=U.wrap;if(Z===2||Z===1&&U.status!==q||U.lookahead)return m;if(Z===1&&(c.adler=i(c.adler,H,A,0)),U.wrap=0,A>=U.w_size){Z===0&&(V(U.head),U.strstart=0,U.block_start=0,U.insert=0);let wt=new Uint8Array(U.w_size);wt.set(H.subarray(A-U.w_size,A),0),H=wt,A=U.w_size}const fe=c.avail_in,ze=c.next_in,we=c.input;for(c.avail_in=A,c.next_in=0,c.input=H,w(U);U.lookahead>=ie;){let wt=U.strstart,Ge=U.lookahead-(ie-1);do U.ins_h=be(U,U.ins_h,U.window[wt+ie-1]),U.prev[wt&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=wt,wt++;while(--Ge);U.strstart=wt,U.lookahead=ie-1,w(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=ie-1,U.match_available=0,c.next_in=ze,c.input=we,c.avail_in=fe,U.wrap=Z,g};return Rt.deflateInit=X,Rt.deflateInit2=Xe,Rt.deflateReset=Me,Rt.deflateResetKeep=le,Rt.deflateSetHeader=ye,Rt.deflate=ee,Rt.deflateEnd=Vn,Rt.deflateSetDictionary=et,Rt.deflateInfo="pako deflate (from Nodeca project)",Rt}var ys={},Da;function kc(){if(Da)return ys;Da=1;const t=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);return ys.assign=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const r=n.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const s in r)t(r,s)&&(e[s]=r[s])}}return e},ys.flattenChunks=e=>{let n=0;for(let s=0,i=e.length;s<i;s++)n+=e[s].length;const r=new Uint8Array(n);for(let s=0,i=0,o=e.length;s<o;s++){let a=e[s];r.set(a,i),i+=a.length}return r},ys}var Er={},La;function xc(){if(La)return Er;La=1;let t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t=!1}const e=new Uint8Array(256);for(let r=0;r<256;r++)e[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;e[254]=e[254]=1,Er.string2buf=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let s,i,o,a,l,u=r.length,d=0;for(a=0;a<u;a++)i=r.charCodeAt(a),(i&64512)===55296&&a+1<u&&(o=r.charCodeAt(a+1),(o&64512)===56320&&(i=65536+(i-55296<<10)+(o-56320),a++)),d+=i<128?1:i<2048?2:i<65536?3:4;for(s=new Uint8Array(d),l=0,a=0;l<d;a++)i=r.charCodeAt(a),(i&64512)===55296&&a+1<u&&(o=r.charCodeAt(a+1),(o&64512)===56320&&(i=65536+(i-55296<<10)+(o-56320),a++)),i<128?s[l++]=i:i<2048?(s[l++]=192|i>>>6,s[l++]=128|i&63):i<65536?(s[l++]=224|i>>>12,s[l++]=128|i>>>6&63,s[l++]=128|i&63):(s[l++]=240|i>>>18,s[l++]=128|i>>>12&63,s[l++]=128|i>>>6&63,s[l++]=128|i&63);return s};const n=(r,s)=>{if(s<65534&&r.subarray&&t)return String.fromCharCode.apply(null,r.length===s?r:r.subarray(0,s));let i="";for(let o=0;o<s;o++)i+=String.fromCharCode(r[o]);return i};return Er.buf2string=(r,s)=>{const i=s||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,s));let o,a;const l=new Array(i*2);for(a=0,o=0;o<i;){let u=r[o++];if(u<128){l[a++]=u;continue}let d=e[u];if(d>4){l[a++]=65533,o+=d-1;continue}for(u&=d===2?31:d===3?15:7;d>1&&o<i;)u=u<<6|r[o++]&63,d--;if(d>1){l[a++]=65533;continue}u<65536?l[a++]=u:(u-=65536,l[a++]=55296|u>>10&1023,l[a++]=56320|u&1023)}return n(l,a)},Er.utf8border=(r,s)=>{s=s||r.length,s>r.length&&(s=r.length);let i=s-1;for(;i>=0&&(r[i]&192)===128;)i--;return i<0||i===0?s:i+e[r[i]]>s?i:s},Er}var _i,Ra;function Sc(){if(Ra)return _i;Ra=1;function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return _i=t,_i}var Ba;function Pp(){if(Ba)return In;Ba=1;const t=Cp(),e=kc(),n=xc(),r=ko(),s=Sc(),i=Object.prototype.toString,{Z_NO_FLUSH:o,Z_SYNC_FLUSH:a,Z_FULL_FLUSH:l,Z_FINISH:u,Z_OK:d,Z_STREAM_END:f,Z_DEFAULT_COMPRESSION:h,Z_DEFAULT_STRATEGY:g,Z_DEFLATED:y}=Mn();function m(N){this.options=e.assign({level:h,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:g},N||{});let k=this.options;k.raw&&k.windowBits>0?k.windowBits=-k.windowBits:k.gzip&&k.windowBits>0&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let z=t.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(z!==d)throw new Error(r[z]);if(k.header&&t.deflateSetHeader(this.strm,k.header),k.dictionary){let I;if(typeof k.dictionary=="string"?I=n.string2buf(k.dictionary):i.call(k.dictionary)==="[object ArrayBuffer]"?I=new Uint8Array(k.dictionary):I=k.dictionary,z=t.deflateSetDictionary(this.strm,I),z!==d)throw new Error(r[z]);this._dict_set=!0}}m.prototype.push=function(N,k){const z=this.strm,I=this.options.chunkSize;let j,O;if(this.ended)return!1;for(k===~~k?O=k:O=k===!0?u:o,typeof N=="string"?z.input=n.string2buf(N):i.call(N)==="[object ArrayBuffer]"?z.input=new Uint8Array(N):z.input=N,z.next_in=0,z.avail_in=z.input.length;;){if(z.avail_out===0&&(z.output=new Uint8Array(I),z.next_out=0,z.avail_out=I),(O===a||O===l)&&z.avail_out<=6){this.onData(z.output.subarray(0,z.next_out)),z.avail_out=0;continue}if(j=t.deflate(z,O),j===f)return z.next_out>0&&this.onData(z.output.subarray(0,z.next_out)),j=t.deflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===d;if(z.avail_out===0){this.onData(z.output);continue}if(O>0&&z.next_out>0){this.onData(z.output.subarray(0,z.next_out)),z.avail_out=0;continue}if(z.avail_in===0)break}return!0},m.prototype.onData=function(N){this.chunks.push(N)},m.prototype.onEnd=function(N){N===d&&(this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg};function b(N,k){const z=new m(k);if(z.push(N,!0),z.err)throw z.msg||r[z.err];return z.result}function S(N,k){return k=k||{},k.raw=!0,b(N,k)}function T(N,k){return k=k||{},k.gzip=!0,b(N,k)}return In.Deflate=m,In.deflate=b,In.deflateRaw=S,In.gzip=T,In.constants=Mn(),In}var zn={},Ot={},vi,Ma;function $p(){if(Ma)return vi;Ma=1;const t=16209,e=16191;return vi=function(r,s){let i,o,a,l,u,d,f,h,g,y,m,b,S,T,N,k,z,I,j,O,D,M,W,K;const Q=r.state;i=r.next_in,W=r.input,o=i+(r.avail_in-5),a=r.next_out,K=r.output,l=a-(s-r.avail_out),u=a+(r.avail_out-257),d=Q.dmax,f=Q.wsize,h=Q.whave,g=Q.wnext,y=Q.window,m=Q.hold,b=Q.bits,S=Q.lencode,T=Q.distcode,N=(1<<Q.lenbits)-1,k=(1<<Q.distbits)-1;e:do{b<15&&(m+=W[i++]<<b,b+=8,m+=W[i++]<<b,b+=8),z=S[m&N];t:for(;;){if(I=z>>>24,m>>>=I,b-=I,I=z>>>16&255,I===0)K[a++]=z&65535;else if(I&16){j=z&65535,I&=15,I&&(b<I&&(m+=W[i++]<<b,b+=8),j+=m&(1<<I)-1,m>>>=I,b-=I),b<15&&(m+=W[i++]<<b,b+=8,m+=W[i++]<<b,b+=8),z=T[m&k];n:for(;;){if(I=z>>>24,m>>>=I,b-=I,I=z>>>16&255,I&16){if(O=z&65535,I&=15,b<I&&(m+=W[i++]<<b,b+=8,b<I&&(m+=W[i++]<<b,b+=8)),O+=m&(1<<I)-1,O>d){r.msg="invalid distance too far back",Q.mode=t;break e}if(m>>>=I,b-=I,I=a-l,O>I){if(I=O-I,I>h&&Q.sane){r.msg="invalid distance too far back",Q.mode=t;break e}if(D=0,M=y,g===0){if(D+=f-I,I<j){j-=I;do K[a++]=y[D++];while(--I);D=a-O,M=K}}else if(g<I){if(D+=f+g-I,I-=g,I<j){j-=I;do K[a++]=y[D++];while(--I);if(D=0,g<j){I=g,j-=I;do K[a++]=y[D++];while(--I);D=a-O,M=K}}}else if(D+=g-I,I<j){j-=I;do K[a++]=y[D++];while(--I);D=a-O,M=K}for(;j>2;)K[a++]=M[D++],K[a++]=M[D++],K[a++]=M[D++],j-=3;j&&(K[a++]=M[D++],j>1&&(K[a++]=M[D++]))}else{D=a-O;do K[a++]=K[D++],K[a++]=K[D++],K[a++]=K[D++],j-=3;while(j>2);j&&(K[a++]=K[D++],j>1&&(K[a++]=K[D++]))}}else if((I&64)===0){z=T[(z&65535)+(m&(1<<I)-1)];continue n}else{r.msg="invalid distance code",Q.mode=t;break e}break}}else if((I&64)===0){z=S[(z&65535)+(m&(1<<I)-1)];continue t}else if(I&32){Q.mode=e;break e}else{r.msg="invalid literal/length code",Q.mode=t;break e}break}}while(i<o&&a<u);j=b>>3,i-=j,b-=j<<3,m&=(1<<b)-1,r.next_in=i,r.next_out=a,r.avail_in=i<o?5+(o-i):5-(i-o),r.avail_out=a<u?257+(u-a):257-(a-u),Q.hold=m,Q.bits=b},vi}var ki,Fa;function Dp(){if(Fa)return ki;Fa=1;const t=15,e=852,n=592,r=0,s=1,i=2,o=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),a=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),l=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),u=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);return ki=(f,h,g,y,m,b,S,T)=>{const N=T.bits;let k=0,z=0,I=0,j=0,O=0,D=0,M=0,W=0,K=0,Q=0,ae,ce,ge,ue,te,de=null,ie;const Se=new Uint16Array(t+1),Ne=new Uint16Array(t+1);let ve=null,q,Ae,Ce;for(k=0;k<=t;k++)Se[k]=0;for(z=0;z<y;z++)Se[h[g+z]]++;for(O=N,j=t;j>=1&&Se[j]===0;j--);if(O>j&&(O=j),j===0)return m[b++]=1<<24|64<<16|0,m[b++]=1<<24|64<<16|0,T.bits=1,0;for(I=1;I<j&&Se[I]===0;I++);for(O<I&&(O=I),W=1,k=1;k<=t;k++)if(W<<=1,W-=Se[k],W<0)return-1;if(W>0&&(f===r||j!==1))return-1;for(Ne[1]=0,k=1;k<t;k++)Ne[k+1]=Ne[k]+Se[k];for(z=0;z<y;z++)h[g+z]!==0&&(S[Ne[h[g+z]]++]=z);if(f===r?(de=ve=S,ie=20):f===s?(de=o,ve=a,ie=257):(de=l,ve=u,ie=0),Q=0,z=0,k=I,te=b,D=O,M=0,ge=-1,K=1<<O,ue=K-1,f===s&&K>e||f===i&&K>n)return 1;for(;;){q=k-M,S[z]+1<ie?(Ae=0,Ce=S[z]):S[z]>=ie?(Ae=ve[S[z]-ie],Ce=de[S[z]-ie]):(Ae=96,Ce=0),ae=1<<k-M,ce=1<<D,I=ce;do ce-=ae,m[te+(Q>>M)+ce]=q<<24|Ae<<16|Ce|0;while(ce!==0);for(ae=1<<k-1;Q&ae;)ae>>=1;if(ae!==0?(Q&=ae-1,Q+=ae):Q=0,z++,--Se[k]===0){if(k===j)break;k=h[g+S[z]]}if(k>O&&(Q&ue)!==ge){for(M===0&&(M=O),te+=I,D=k-M,W=1<<D;D+M<j&&(W-=Se[D+M],!(W<=0));)D++,W<<=1;if(K+=1<<D,f===s&&K>e||f===i&&K>n)return 1;ge=Q&ue,m[ge]=O<<24|D<<16|te-b|0}}return Q!==0&&(m[te+Q]=k-M<<24|64<<16|0),T.bits=O,0},ki}var Ua;function Lp(){if(Ua)return Ot;Ua=1;const t=_c(),e=vc(),n=$p(),r=Dp(),s=0,i=1,o=2,{Z_FINISH:a,Z_BLOCK:l,Z_TREES:u,Z_OK:d,Z_STREAM_END:f,Z_NEED_DICT:h,Z_STREAM_ERROR:g,Z_DATA_ERROR:y,Z_MEM_ERROR:m,Z_BUF_ERROR:b,Z_DEFLATED:S}=Mn(),T=16180,N=16181,k=16182,z=16183,I=16184,j=16185,O=16186,D=16187,M=16188,W=16189,K=16190,Q=16191,ae=16192,ce=16193,ge=16194,ue=16195,te=16196,de=16197,ie=16198,Se=16199,Ne=16200,ve=16201,q=16202,Ae=16203,Ce=16204,Pe=16205,Ue=16206,Ke=16207,_=16208,x=16209,E=16210,R=16211,$=852,L=592,P=15,B=C=>(C>>>24&255)+(C>>>8&65280)+((C&65280)<<8)+((C&255)<<24);function V(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const F=C=>{if(!C)return 1;const Y=C.state;return!Y||Y.strm!==C||Y.mode<T||Y.mode>R?1:0},ne=C=>{if(F(C))return g;const Y=C.state;return C.total_in=C.total_out=Y.total=0,C.msg="",Y.wrap&&(C.adler=Y.wrap&1),Y.mode=T,Y.last=0,Y.havedict=0,Y.flags=-1,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new Int32Array($),Y.distcode=Y.distdyn=new Int32Array(L),Y.sane=1,Y.back=-1,d},be=C=>{if(F(C))return g;const Y=C.state;return Y.wsize=0,Y.whave=0,Y.wnext=0,ne(C)},me=(C,Y)=>{let p;if(F(C))return g;const oe=C.state;return Y<0?(p=0,Y=-Y):(p=(Y>>4)+5,Y<48&&(Y&=15)),Y&&(Y<8||Y>15)?g:(oe.window!==null&&oe.wbits!==Y&&(oe.window=null),oe.wrap=p,oe.wbits=Y,be(C))},je=(C,Y)=>{if(!C)return g;const p=new V;C.state=p,p.strm=C,p.window=null,p.mode=T;const oe=me(C,Y);return oe!==d&&(C.state=null),oe},Ee=C=>je(C,P);let We=!0,$e,Ze;const w=C=>{if(We){$e=new Int32Array(512),Ze=new Int32Array(32);let Y=0;for(;Y<144;)C.lens[Y++]=8;for(;Y<256;)C.lens[Y++]=9;for(;Y<280;)C.lens[Y++]=7;for(;Y<288;)C.lens[Y++]=8;for(r(i,C.lens,0,288,$e,0,C.work,{bits:9}),Y=0;Y<32;)C.lens[Y++]=5;r(o,C.lens,0,32,Ze,0,C.work,{bits:5}),We=!1}C.lencode=$e,C.lenbits=9,C.distcode=Ze,C.distbits=5},re=(C,Y,p,oe)=>{let Le;const le=C.state;return le.window===null&&(le.wsize=1<<le.wbits,le.wnext=0,le.whave=0,le.window=new Uint8Array(le.wsize)),oe>=le.wsize?(le.window.set(Y.subarray(p-le.wsize,p),0),le.wnext=0,le.whave=le.wsize):(Le=le.wsize-le.wnext,Le>oe&&(Le=oe),le.window.set(Y.subarray(p-oe,p-oe+Le),le.wnext),oe-=Le,oe?(le.window.set(Y.subarray(p-oe,p),0),le.wnext=oe,le.whave=le.wsize):(le.wnext+=Le,le.wnext===le.wsize&&(le.wnext=0),le.whave<le.wsize&&(le.whave+=Le))),0},se=(C,Y)=>{let p,oe,Le,le,Me,ye,Xe,X,ee,Vn,et,c,H,A,U=0,Z,fe,ze,we,wt,Ge,it,St;const lt=new Uint8Array(4);let It,Nt;const Jo=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(F(C)||!C.output||!C.input&&C.avail_in!==0)return g;p=C.state,p.mode===Q&&(p.mode=ae),Me=C.next_out,Le=C.output,Xe=C.avail_out,le=C.next_in,oe=C.input,ye=C.avail_in,X=p.hold,ee=p.bits,Vn=ye,et=Xe,St=d;e:for(;;)switch(p.mode){case T:if(p.wrap===0){p.mode=ae;break}for(;ee<16;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}if(p.wrap&2&&X===35615){p.wbits===0&&(p.wbits=15),p.check=0,lt[0]=X&255,lt[1]=X>>>8&255,p.check=e(p.check,lt,2,0),X=0,ee=0,p.mode=N;break}if(p.head&&(p.head.done=!1),!(p.wrap&1)||(((X&255)<<8)+(X>>8))%31){C.msg="incorrect header check",p.mode=x;break}if((X&15)!==S){C.msg="unknown compression method",p.mode=x;break}if(X>>>=4,ee-=4,it=(X&15)+8,p.wbits===0&&(p.wbits=it),it>15||it>p.wbits){C.msg="invalid window size",p.mode=x;break}p.dmax=1<<p.wbits,p.flags=0,C.adler=p.check=1,p.mode=X&512?W:Q,X=0,ee=0;break;case N:for(;ee<16;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}if(p.flags=X,(p.flags&255)!==S){C.msg="unknown compression method",p.mode=x;break}if(p.flags&57344){C.msg="unknown header flags set",p.mode=x;break}p.head&&(p.head.text=X>>8&1),p.flags&512&&p.wrap&4&&(lt[0]=X&255,lt[1]=X>>>8&255,p.check=e(p.check,lt,2,0)),X=0,ee=0,p.mode=k;case k:for(;ee<32;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}p.head&&(p.head.time=X),p.flags&512&&p.wrap&4&&(lt[0]=X&255,lt[1]=X>>>8&255,lt[2]=X>>>16&255,lt[3]=X>>>24&255,p.check=e(p.check,lt,4,0)),X=0,ee=0,p.mode=z;case z:for(;ee<16;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}p.head&&(p.head.xflags=X&255,p.head.os=X>>8),p.flags&512&&p.wrap&4&&(lt[0]=X&255,lt[1]=X>>>8&255,p.check=e(p.check,lt,2,0)),X=0,ee=0,p.mode=I;case I:if(p.flags&1024){for(;ee<16;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}p.length=X,p.head&&(p.head.extra_len=X),p.flags&512&&p.wrap&4&&(lt[0]=X&255,lt[1]=X>>>8&255,p.check=e(p.check,lt,2,0)),X=0,ee=0}else p.head&&(p.head.extra=null);p.mode=j;case j:if(p.flags&1024&&(c=p.length,c>ye&&(c=ye),c&&(p.head&&(it=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Uint8Array(p.head.extra_len)),p.head.extra.set(oe.subarray(le,le+c),it)),p.flags&512&&p.wrap&4&&(p.check=e(p.check,oe,c,le)),ye-=c,le+=c,p.length-=c),p.length))break e;p.length=0,p.mode=O;case O:if(p.flags&2048){if(ye===0)break e;c=0;do it=oe[le+c++],p.head&&it&&p.length<65536&&(p.head.name+=String.fromCharCode(it));while(it&&c<ye);if(p.flags&512&&p.wrap&4&&(p.check=e(p.check,oe,c,le)),ye-=c,le+=c,it)break e}else p.head&&(p.head.name=null);p.length=0,p.mode=D;case D:if(p.flags&4096){if(ye===0)break e;c=0;do it=oe[le+c++],p.head&&it&&p.length<65536&&(p.head.comment+=String.fromCharCode(it));while(it&&c<ye);if(p.flags&512&&p.wrap&4&&(p.check=e(p.check,oe,c,le)),ye-=c,le+=c,it)break e}else p.head&&(p.head.comment=null);p.mode=M;case M:if(p.flags&512){for(;ee<16;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}if(p.wrap&4&&X!==(p.check&65535)){C.msg="header crc mismatch",p.mode=x;break}X=0,ee=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),C.adler=p.check=0,p.mode=Q;break;case W:for(;ee<32;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}C.adler=p.check=B(X),X=0,ee=0,p.mode=K;case K:if(p.havedict===0)return C.next_out=Me,C.avail_out=Xe,C.next_in=le,C.avail_in=ye,p.hold=X,p.bits=ee,h;C.adler=p.check=1,p.mode=Q;case Q:if(Y===l||Y===u)break e;case ae:if(p.last){X>>>=ee&7,ee-=ee&7,p.mode=Ue;break}for(;ee<3;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}switch(p.last=X&1,X>>>=1,ee-=1,X&3){case 0:p.mode=ce;break;case 1:if(w(p),p.mode=Se,Y===u){X>>>=2,ee-=2;break e}break;case 2:p.mode=te;break;case 3:C.msg="invalid block type",p.mode=x}X>>>=2,ee-=2;break;case ce:for(X>>>=ee&7,ee-=ee&7;ee<32;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}if((X&65535)!==(X>>>16^65535)){C.msg="invalid stored block lengths",p.mode=x;break}if(p.length=X&65535,X=0,ee=0,p.mode=ge,Y===u)break e;case ge:p.mode=ue;case ue:if(c=p.length,c){if(c>ye&&(c=ye),c>Xe&&(c=Xe),c===0)break e;Le.set(oe.subarray(le,le+c),Me),ye-=c,le+=c,Xe-=c,Me+=c,p.length-=c;break}p.mode=Q;break;case te:for(;ee<14;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}if(p.nlen=(X&31)+257,X>>>=5,ee-=5,p.ndist=(X&31)+1,X>>>=5,ee-=5,p.ncode=(X&15)+4,X>>>=4,ee-=4,p.nlen>286||p.ndist>30){C.msg="too many length or distance symbols",p.mode=x;break}p.have=0,p.mode=de;case de:for(;p.have<p.ncode;){for(;ee<3;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}p.lens[Jo[p.have++]]=X&7,X>>>=3,ee-=3}for(;p.have<19;)p.lens[Jo[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,It={bits:p.lenbits},St=r(s,p.lens,0,19,p.lencode,0,p.work,It),p.lenbits=It.bits,St){C.msg="invalid code lengths set",p.mode=x;break}p.have=0,p.mode=ie;case ie:for(;p.have<p.nlen+p.ndist;){for(;U=p.lencode[X&(1<<p.lenbits)-1],Z=U>>>24,fe=U>>>16&255,ze=U&65535,!(Z<=ee);){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}if(ze<16)X>>>=Z,ee-=Z,p.lens[p.have++]=ze;else{if(ze===16){for(Nt=Z+2;ee<Nt;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}if(X>>>=Z,ee-=Z,p.have===0){C.msg="invalid bit length repeat",p.mode=x;break}it=p.lens[p.have-1],c=3+(X&3),X>>>=2,ee-=2}else if(ze===17){for(Nt=Z+3;ee<Nt;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}X>>>=Z,ee-=Z,it=0,c=3+(X&7),X>>>=3,ee-=3}else{for(Nt=Z+7;ee<Nt;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}X>>>=Z,ee-=Z,it=0,c=11+(X&127),X>>>=7,ee-=7}if(p.have+c>p.nlen+p.ndist){C.msg="invalid bit length repeat",p.mode=x;break}for(;c--;)p.lens[p.have++]=it}}if(p.mode===x)break;if(p.lens[256]===0){C.msg="invalid code -- missing end-of-block",p.mode=x;break}if(p.lenbits=9,It={bits:p.lenbits},St=r(i,p.lens,0,p.nlen,p.lencode,0,p.work,It),p.lenbits=It.bits,St){C.msg="invalid literal/lengths set",p.mode=x;break}if(p.distbits=6,p.distcode=p.distdyn,It={bits:p.distbits},St=r(o,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,It),p.distbits=It.bits,St){C.msg="invalid distances set",p.mode=x;break}if(p.mode=Se,Y===u)break e;case Se:p.mode=Ne;case Ne:if(ye>=6&&Xe>=258){C.next_out=Me,C.avail_out=Xe,C.next_in=le,C.avail_in=ye,p.hold=X,p.bits=ee,n(C,et),Me=C.next_out,Le=C.output,Xe=C.avail_out,le=C.next_in,oe=C.input,ye=C.avail_in,X=p.hold,ee=p.bits,p.mode===Q&&(p.back=-1);break}for(p.back=0;U=p.lencode[X&(1<<p.lenbits)-1],Z=U>>>24,fe=U>>>16&255,ze=U&65535,!(Z<=ee);){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}if(fe&&(fe&240)===0){for(we=Z,wt=fe,Ge=ze;U=p.lencode[Ge+((X&(1<<we+wt)-1)>>we)],Z=U>>>24,fe=U>>>16&255,ze=U&65535,!(we+Z<=ee);){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}X>>>=we,ee-=we,p.back+=we}if(X>>>=Z,ee-=Z,p.back+=Z,p.length=ze,fe===0){p.mode=Pe;break}if(fe&32){p.back=-1,p.mode=Q;break}if(fe&64){C.msg="invalid literal/length code",p.mode=x;break}p.extra=fe&15,p.mode=ve;case ve:if(p.extra){for(Nt=p.extra;ee<Nt;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}p.length+=X&(1<<p.extra)-1,X>>>=p.extra,ee-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=q;case q:for(;U=p.distcode[X&(1<<p.distbits)-1],Z=U>>>24,fe=U>>>16&255,ze=U&65535,!(Z<=ee);){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}if((fe&240)===0){for(we=Z,wt=fe,Ge=ze;U=p.distcode[Ge+((X&(1<<we+wt)-1)>>we)],Z=U>>>24,fe=U>>>16&255,ze=U&65535,!(we+Z<=ee);){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}X>>>=we,ee-=we,p.back+=we}if(X>>>=Z,ee-=Z,p.back+=Z,fe&64){C.msg="invalid distance code",p.mode=x;break}p.offset=ze,p.extra=fe&15,p.mode=Ae;case Ae:if(p.extra){for(Nt=p.extra;ee<Nt;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}p.offset+=X&(1<<p.extra)-1,X>>>=p.extra,ee-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){C.msg="invalid distance too far back",p.mode=x;break}p.mode=Ce;case Ce:if(Xe===0)break e;if(c=et-Xe,p.offset>c){if(c=p.offset-c,c>p.whave&&p.sane){C.msg="invalid distance too far back",p.mode=x;break}c>p.wnext?(c-=p.wnext,H=p.wsize-c):H=p.wnext-c,c>p.length&&(c=p.length),A=p.window}else A=Le,H=Me-p.offset,c=p.length;c>Xe&&(c=Xe),Xe-=c,p.length-=c;do Le[Me++]=A[H++];while(--c);p.length===0&&(p.mode=Ne);break;case Pe:if(Xe===0)break e;Le[Me++]=p.length,Xe--,p.mode=Ne;break;case Ue:if(p.wrap){for(;ee<32;){if(ye===0)break e;ye--,X|=oe[le++]<<ee,ee+=8}if(et-=Xe,C.total_out+=et,p.total+=et,p.wrap&4&&et&&(C.adler=p.check=p.flags?e(p.check,Le,et,Me-et):t(p.check,Le,et,Me-et)),et=Xe,p.wrap&4&&(p.flags?X:B(X))!==p.check){C.msg="incorrect data check",p.mode=x;break}X=0,ee=0}p.mode=Ke;case Ke:if(p.wrap&&p.flags){for(;ee<32;){if(ye===0)break e;ye--,X+=oe[le++]<<ee,ee+=8}if(p.wrap&4&&X!==(p.total&4294967295)){C.msg="incorrect length check",p.mode=x;break}X=0,ee=0}p.mode=_;case _:St=f;break e;case x:St=y;break e;case E:return m;case R:default:return g}return C.next_out=Me,C.avail_out=Xe,C.next_in=le,C.avail_in=ye,p.hold=X,p.bits=ee,(p.wsize||et!==C.avail_out&&p.mode<x&&(p.mode<Ue||Y!==a))&&re(C,C.output,C.next_out,et-C.avail_out),Vn-=C.avail_in,et-=C.avail_out,C.total_in+=Vn,C.total_out+=et,p.total+=et,p.wrap&4&&et&&(C.adler=p.check=p.flags?e(p.check,Le,et,C.next_out-et):t(p.check,Le,et,C.next_out-et)),C.data_type=p.bits+(p.last?64:0)+(p.mode===Q?128:0)+(p.mode===Se||p.mode===ge?256:0),(Vn===0&&et===0||Y===a)&&St===d&&(St=b),St},he=C=>{if(F(C))return g;let Y=C.state;return Y.window&&(Y.window=null),C.state=null,d},_e=(C,Y)=>{if(F(C))return g;const p=C.state;return(p.wrap&2)===0?g:(p.head=Y,Y.done=!1,d)},Ie=(C,Y)=>{const p=Y.length;let oe,Le,le;return F(C)||(oe=C.state,oe.wrap!==0&&oe.mode!==K)?g:oe.mode===K&&(Le=1,Le=t(Le,Y,p,0),Le!==oe.check)?y:(le=re(C,Y,p,p),le?(oe.mode=E,m):(oe.havedict=1,d))};return Ot.inflateReset=be,Ot.inflateReset2=me,Ot.inflateResetKeep=ne,Ot.inflateInit=Ee,Ot.inflateInit2=je,Ot.inflate=se,Ot.inflateEnd=he,Ot.inflateGetHeader=_e,Ot.inflateSetDictionary=Ie,Ot.inflateInfo="pako inflate (from Nodeca project)",Ot}var xi,Za;function Rp(){if(Za)return xi;Za=1;function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return xi=t,xi}var Va;function Bp(){if(Va)return zn;Va=1;const t=Lp(),e=kc(),n=xc(),r=ko(),s=Sc(),i=Rp(),o=Object.prototype.toString,{Z_NO_FLUSH:a,Z_FINISH:l,Z_OK:u,Z_STREAM_END:d,Z_NEED_DICT:f,Z_STREAM_ERROR:h,Z_DATA_ERROR:g,Z_MEM_ERROR:y}=Mn();function m(T){this.options=e.assign({chunkSize:1024*64,windowBits:15,to:""},T||{});const N=this.options;N.raw&&N.windowBits>=0&&N.windowBits<16&&(N.windowBits=-N.windowBits,N.windowBits===0&&(N.windowBits=-15)),N.windowBits>=0&&N.windowBits<16&&!(T&&T.windowBits)&&(N.windowBits+=32),N.windowBits>15&&N.windowBits<48&&(N.windowBits&15)===0&&(N.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let k=t.inflateInit2(this.strm,N.windowBits);if(k!==u)throw new Error(r[k]);if(this.header=new i,t.inflateGetHeader(this.strm,this.header),N.dictionary&&(typeof N.dictionary=="string"?N.dictionary=n.string2buf(N.dictionary):o.call(N.dictionary)==="[object ArrayBuffer]"&&(N.dictionary=new Uint8Array(N.dictionary)),N.raw&&(k=t.inflateSetDictionary(this.strm,N.dictionary),k!==u)))throw new Error(r[k])}m.prototype.push=function(T,N){const k=this.strm,z=this.options.chunkSize,I=this.options.dictionary;let j,O,D;if(this.ended)return!1;for(N===~~N?O=N:O=N===!0?l:a,o.call(T)==="[object ArrayBuffer]"?k.input=new Uint8Array(T):k.input=T,k.next_in=0,k.avail_in=k.input.length;;){for(k.avail_out===0&&(k.output=new Uint8Array(z),k.next_out=0,k.avail_out=z),j=t.inflate(k,O),j===f&&I&&(j=t.inflateSetDictionary(k,I),j===u?j=t.inflate(k,O):j===g&&(j=f));k.avail_in>0&&j===d&&k.state.wrap>0&&T[k.next_in]!==0;)t.inflateReset(k),j=t.inflate(k,O);switch(j){case h:case g:case f:case y:return this.onEnd(j),this.ended=!0,!1}if(D=k.avail_out,k.next_out&&(k.avail_out===0||j===d))if(this.options.to==="string"){let M=n.utf8border(k.output,k.next_out),W=k.next_out-M,K=n.buf2string(k.output,M);k.next_out=W,k.avail_out=z-W,W&&k.output.set(k.output.subarray(M,M+W),0),this.onData(K)}else this.onData(k.output.length===k.next_out?k.output:k.output.subarray(0,k.next_out));if(!(j===u&&D===0)){if(j===d)return j=t.inflateEnd(this.strm),this.onEnd(j),this.ended=!0,!0;if(k.avail_in===0)break}}return!0},m.prototype.onData=function(T){this.chunks.push(T)},m.prototype.onEnd=function(T){T===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function b(T,N){const k=new m(N);if(k.push(T),k.err)throw k.msg||r[k.err];return k.result}function S(T,N){return N=N||{},N.raw=!0,b(T,N)}return zn.Inflate=m,zn.inflate=b,zn.inflateRaw=S,zn.ungzip=b,zn.constants=Mn(),zn}var qa;function Mp(){if(qa)return Lt;qa=1;const{Deflate:t,deflate:e,deflateRaw:n,gzip:r}=Pp(),{Inflate:s,inflate:i,inflateRaw:o,ungzip:a}=Bp(),l=Mn();return Lt.Deflate=t,Lt.deflate=e,Lt.deflateRaw=n,Lt.gzip=r,Lt.Inflate=s,Lt.inflate=i,Lt.inflateRaw=o,Lt.ungzip=a,Lt.constants=l,Lt}var Ir={exports:{}},Si={exports:{}},Os={exports:{}},Fp=Os.exports,Ka;function Ac(){return Ka||(Ka=1,(function(t){(function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,i=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",l=1e14,u=14,d=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,g=1e9;function y(I){var j,O,D,M=q.prototype={constructor:q,toString:null,valueOf:null},W=new q(1),K=20,Q=4,ae=-7,ce=21,ge=-1e7,ue=1e7,te=!1,de=1,ie=0,Se={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Ne="0123456789abcdefghijklmnopqrstuvwxyz",ve=!0;function q(_,x){var E,R,$,L,G,P,B,V,F=this;if(!(F instanceof q))return new q(_,x);if(x==null){if(_&&_._isBigNumber===!0){F.s=_.s,!_.c||_.e>ue?F.c=F.e=null:_.e<ge?F.c=[F.e=0]:(F.e=_.e,F.c=_.c.slice());return}if((P=typeof _=="number")&&_*0==0){if(F.s=1/_<0?(_=-_,-1):1,_===~~_){for(L=0,G=_;G>=10;G/=10,L++);L>ue?F.c=F.e=null:(F.e=L,F.c=[_]);return}V=String(_)}else{if(!r.test(V=String(_)))return D(F,V,P);F.s=V.charCodeAt(0)==45?(V=V.slice(1),-1):1}(L=V.indexOf("."))>-1&&(V=V.replace(".","")),(G=V.search(/e/i))>0?(L<0&&(L=G),L+=+V.slice(G+1),V=V.substring(0,G)):L<0&&(L=V.length)}else{if(T(x,2,Ne.length,"Base"),x==10&&ve)return F=new q(_),Ue(F,K+F.e+1,Q);if(V=String(_),P=typeof _=="number"){if(_*0!=0)return D(F,V,P,x);if(F.s=1/_<0?(V=V.slice(1),-1):1,q.DEBUG&&V.replace(/^0\.0*|\./,"").length>15)throw Error(a+_)}else F.s=V.charCodeAt(0)===45?(V=V.slice(1),-1):1;for(E=Ne.slice(0,x),L=G=0,B=V.length;G<B;G++)if(E.indexOf(R=V.charAt(G))<0){if(R=="."){if(G>L){L=B;continue}}else if(!$&&(V==V.toUpperCase()&&(V=V.toLowerCase())||V==V.toLowerCase()&&(V=V.toUpperCase()))){$=!0,G=-1,L=0;continue}return D(F,String(_),P,x)}P=!1,V=O(V,x,10,F.s),(L=V.indexOf("."))>-1?V=V.replace(".",""):L=V.length}for(G=0;V.charCodeAt(G)===48;G++);for(B=V.length;V.charCodeAt(--B)===48;);if(V=V.slice(G,++B)){if(B-=G,P&&q.DEBUG&&B>15&&(_>d||_!==i(_)))throw Error(a+F.s*_);if((L=L-G-1)>ue)F.c=F.e=null;else if(L<ge)F.c=[F.e=0];else{if(F.e=L,F.c=[],G=(L+1)%u,L<0&&(G+=u),G<B){for(G&&F.c.push(+V.slice(0,G)),B-=u;G<B;)F.c.push(+V.slice(G,G+=u));G=u-(V=V.slice(G)).length}else G-=B;for(;G--;V+="0");F.c.push(+V)}}else F.c=[F.e=0]}q.clone=y,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(_){var x,E;if(_!=null)if(typeof _=="object"){if(_.hasOwnProperty(x="DECIMAL_PLACES")&&(E=_[x],T(E,0,g,x),K=E),_.hasOwnProperty(x="ROUNDING_MODE")&&(E=_[x],T(E,0,8,x),Q=E),_.hasOwnProperty(x="EXPONENTIAL_AT")&&(E=_[x],E&&E.pop?(T(E[0],-g,0,x),T(E[1],0,g,x),ae=E[0],ce=E[1]):(T(E,-g,g,x),ae=-(ce=E<0?-E:E))),_.hasOwnProperty(x="RANGE"))if(E=_[x],E&&E.pop)T(E[0],-g,-1,x),T(E[1],1,g,x),ge=E[0],ue=E[1];else if(T(E,-g,g,x),E)ge=-(ue=E<0?-E:E);else throw Error(o+x+" cannot be zero: "+E);if(_.hasOwnProperty(x="CRYPTO"))if(E=_[x],E===!!E)if(E)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))te=E;else throw te=!E,Error(o+"crypto unavailable");else te=E;else throw Error(o+x+" not true or false: "+E);if(_.hasOwnProperty(x="MODULO_MODE")&&(E=_[x],T(E,0,9,x),de=E),_.hasOwnProperty(x="POW_PRECISION")&&(E=_[x],T(E,0,g,x),ie=E),_.hasOwnProperty(x="FORMAT"))if(E=_[x],typeof E=="object")Se=E;else throw Error(o+x+" not an object: "+E);if(_.hasOwnProperty(x="ALPHABET"))if(E=_[x],typeof E=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(E))ve=E.slice(0,10)=="0123456789",Ne=E;else throw Error(o+x+" invalid: "+E)}else throw Error(o+"Object expected: "+_);return{DECIMAL_PLACES:K,ROUNDING_MODE:Q,EXPONENTIAL_AT:[ae,ce],RANGE:[ge,ue],CRYPTO:te,MODULO_MODE:de,POW_PRECISION:ie,FORMAT:Se,ALPHABET:Ne}},q.isBigNumber=function(_){if(!_||_._isBigNumber!==!0)return!1;if(!q.DEBUG)return!0;var x,E,R=_.c,$=_.e,L=_.s;e:if({}.toString.call(R)=="[object Array]"){if((L===1||L===-1)&&$>=-g&&$<=g&&$===i($)){if(R[0]===0){if($===0&&R.length===1)return!0;break e}if(x=($+1)%u,x<1&&(x+=u),String(R[0]).length==x){for(x=0;x<R.length;x++)if(E=R[x],E<0||E>=l||E!==i(E))break e;if(E!==0)return!0}}}else if(R===null&&$===null&&(L===null||L===1||L===-1))return!0;throw Error(o+"Invalid BigNumber: "+_)},q.maximum=q.max=function(){return Ce(arguments,-1)},q.minimum=q.min=function(){return Ce(arguments,1)},q.random=(function(){var _=9007199254740992,x=Math.random()*_&2097151?function(){return i(Math.random()*_)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(E){var R,$,L,G,P,B=0,V=[],F=new q(W);if(E==null?E=K:T(E,0,g),G=s(E/u),te)if(crypto.getRandomValues){for(R=crypto.getRandomValues(new Uint32Array(G*=2));B<G;)P=R[B]*131072+(R[B+1]>>>11),P>=9e15?($=crypto.getRandomValues(new Uint32Array(2)),R[B]=$[0],R[B+1]=$[1]):(V.push(P%1e14),B+=2);B=G/2}else if(crypto.randomBytes){for(R=crypto.randomBytes(G*=7);B<G;)P=(R[B]&31)*281474976710656+R[B+1]*1099511627776+R[B+2]*4294967296+R[B+3]*16777216+(R[B+4]<<16)+(R[B+5]<<8)+R[B+6],P>=9e15?crypto.randomBytes(7).copy(R,B):(V.push(P%1e14),B+=7);B=G/7}else throw te=!1,Error(o+"crypto unavailable");if(!te)for(;B<G;)P=x(),P<9e15&&(V[B++]=P%1e14);for(G=V[--B],E%=u,G&&E&&(P=f[u-E],V[B]=i(G/P)*P);V[B]===0;V.pop(),B--);if(B<0)V=[L=0];else{for(L=-1;V[0]===0;V.splice(0,1),L-=u);for(B=1,P=V[0];P>=10;P/=10,B++);B<u&&(L-=u-B)}return F.e=L,F.c=V,F}})(),q.sum=function(){for(var _=1,x=arguments,E=new q(x[0]);_<x.length;)E=E.plus(x[_++]);return E},O=(function(){var _="0123456789";function x(E,R,$,L){for(var G,P=[0],B,V=0,F=E.length;V<F;){for(B=P.length;B--;P[B]*=R);for(P[0]+=L.indexOf(E.charAt(V++)),G=0;G<P.length;G++)P[G]>$-1&&(P[G+1]==null&&(P[G+1]=0),P[G+1]+=P[G]/$|0,P[G]%=$)}return P.reverse()}return function(E,R,$,L,G){var P,B,V,F,ne,be,me,je,Ee=E.indexOf("."),We=K,$e=Q;for(Ee>=0&&(F=ie,ie=0,E=E.replace(".",""),je=new q(R),be=je.pow(E.length-Ee),ie=F,je.c=x(z(b(be.c),be.e,"0"),10,$,_),je.e=je.c.length),me=x(E,R,$,G?(P=Ne,_):(P=_,Ne)),V=F=me.length;me[--F]==0;me.pop());if(!me[0])return P.charAt(0);if(Ee<0?--V:(be.c=me,be.e=V,be.s=L,be=j(be,je,We,$e,$),me=be.c,ne=be.r,V=be.e),B=V+We+1,Ee=me[B],F=$/2,ne=ne||B<0||me[B+1]!=null,ne=$e<4?(Ee!=null||ne)&&($e==0||$e==(be.s<0?3:2)):Ee>F||Ee==F&&($e==4||ne||$e==6&&me[B-1]&1||$e==(be.s<0?8:7)),B<1||!me[0])E=ne?z(P.charAt(1),-We,P.charAt(0)):P.charAt(0);else{if(me.length=B,ne)for(--$;++me[--B]>$;)me[B]=0,B||(++V,me=[1].concat(me));for(F=me.length;!me[--F];);for(Ee=0,E="";Ee<=F;E+=P.charAt(me[Ee++]));E=z(E,V,P.charAt(0))}return E}})(),j=(function(){function _(R,$,L){var G,P,B,V,F=0,ne=R.length,be=$%h,me=$/h|0;for(R=R.slice();ne--;)B=R[ne]%h,V=R[ne]/h|0,G=me*B+V*be,P=be*B+G%h*h+F,F=(P/L|0)+(G/h|0)+me*V,R[ne]=P%L;return F&&(R=[F].concat(R)),R}function x(R,$,L,G){var P,B;if(L!=G)B=L>G?1:-1;else for(P=B=0;P<L;P++)if(R[P]!=$[P]){B=R[P]>$[P]?1:-1;break}return B}function E(R,$,L,G){for(var P=0;L--;)R[L]-=P,P=R[L]<$[L]?1:0,R[L]=P*G+R[L]-$[L];for(;!R[0]&&R.length>1;R.splice(0,1));}return function(R,$,L,G,P){var B,V,F,ne,be,me,je,Ee,We,$e,Ze,w,re,se,he,_e,Ie,C=R.s==$.s?1:-1,Y=R.c,p=$.c;if(!Y||!Y[0]||!p||!p[0])return new q(!R.s||!$.s||(Y?p&&Y[0]==p[0]:!p)?NaN:Y&&Y[0]==0||!p?C*0:C/0);for(Ee=new q(C),We=Ee.c=[],V=R.e-$.e,C=L+V+1,P||(P=l,V=m(R.e/u)-m($.e/u),C=C/u|0),F=0;p[F]==(Y[F]||0);F++);if(p[F]>(Y[F]||0)&&V--,C<0)We.push(1),ne=!0;else{for(se=Y.length,_e=p.length,F=0,C+=2,be=i(P/(p[0]+1)),be>1&&(p=_(p,be,P),Y=_(Y,be,P),_e=p.length,se=Y.length),re=_e,$e=Y.slice(0,_e),Ze=$e.length;Ze<_e;$e[Ze++]=0);Ie=p.slice(),Ie=[0].concat(Ie),he=p[0],p[1]>=P/2&&he++;do{if(be=0,B=x(p,$e,_e,Ze),B<0){if(w=$e[0],_e!=Ze&&(w=w*P+($e[1]||0)),be=i(w/he),be>1)for(be>=P&&(be=P-1),me=_(p,be,P),je=me.length,Ze=$e.length;x(me,$e,je,Ze)==1;)be--,E(me,_e<je?Ie:p,je,P),je=me.length,B=1;else be==0&&(B=be=1),me=p.slice(),je=me.length;if(je<Ze&&(me=[0].concat(me)),E($e,me,Ze,P),Ze=$e.length,B==-1)for(;x(p,$e,_e,Ze)<1;)be++,E($e,_e<Ze?Ie:p,Ze,P),Ze=$e.length}else B===0&&(be++,$e=[0]);We[F++]=be,$e[0]?$e[Ze++]=Y[re]||0:($e=[Y[re]],Ze=1)}while((re++<se||$e[0]!=null)&&C--);ne=$e[0]!=null,We[0]||We.splice(0,1)}if(P==l){for(F=1,C=We[0];C>=10;C/=10,F++);Ue(Ee,L+(Ee.e=F+V*u-1)+1,G,ne)}else Ee.e=V,Ee.r=+ne;return Ee}})();function Ae(_,x,E,R){var $,L,G,P,B;if(E==null?E=Q:T(E,0,8),!_.c)return _.toString();if($=_.c[0],G=_.e,x==null)B=b(_.c),B=R==1||R==2&&(G<=ae||G>=ce)?k(B,G):z(B,G,"0");else if(_=Ue(new q(_),x,E),L=_.e,B=b(_.c),P=B.length,R==1||R==2&&(x<=L||L<=ae)){for(;P<x;B+="0",P++);B=k(B,L)}else if(x-=G+(R===2&&L>G),B=z(B,L,"0"),L+1>P){if(--x>0)for(B+=".";x--;B+="0");}else if(x+=L-P,x>0)for(L+1==P&&(B+=".");x--;B+="0");return _.s<0&&$?"-"+B:B}function Ce(_,x){for(var E,R,$=1,L=new q(_[0]);$<_.length;$++)R=new q(_[$]),(!R.s||(E=S(L,R))===x||E===0&&L.s===x)&&(L=R);return L}function Pe(_,x,E){for(var R=1,$=x.length;!x[--$];x.pop());for($=x[0];$>=10;$/=10,R++);return(E=R+E*u-1)>ue?_.c=_.e=null:E<ge?_.c=[_.e=0]:(_.e=E,_.c=x),_}D=(function(){var _=/^(-?)0([xbo])(?=\w[\w.]*$)/i,x=/^([^.]+)\.$/,E=/^\.([^.]+)$/,R=/^-?(Infinity|NaN)$/,$=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(L,G,P,B){var V,F=P?G:G.replace($,"");if(R.test(F))L.s=isNaN(F)?null:F<0?-1:1;else{if(!P&&(F=F.replace(_,function(ne,be,me){return V=(me=me.toLowerCase())=="x"?16:me=="b"?2:8,!B||B==V?be:ne}),B&&(V=B,F=F.replace(x,"$1").replace(E,"0.$1")),G!=F))return new q(F,V);if(q.DEBUG)throw Error(o+"Not a"+(B?" base "+B:"")+" number: "+G);L.s=null}L.c=L.e=null}})();function Ue(_,x,E,R){var $,L,G,P,B,V,F,ne=_.c,be=f;if(ne){e:{for($=1,P=ne[0];P>=10;P/=10,$++);if(L=x-$,L<0)L+=u,G=x,B=ne[V=0],F=i(B/be[$-G-1]%10);else if(V=s((L+1)/u),V>=ne.length)if(R){for(;ne.length<=V;ne.push(0));B=F=0,$=1,L%=u,G=L-u+1}else break e;else{for(B=P=ne[V],$=1;P>=10;P/=10,$++);L%=u,G=L-u+$,F=G<0?0:i(B/be[$-G-1]%10)}if(R=R||x<0||ne[V+1]!=null||(G<0?B:B%be[$-G-1]),R=E<4?(F||R)&&(E==0||E==(_.s<0?3:2)):F>5||F==5&&(E==4||R||E==6&&(L>0?G>0?B/be[$-G]:0:ne[V-1])%10&1||E==(_.s<0?8:7)),x<1||!ne[0])return ne.length=0,R?(x-=_.e+1,ne[0]=be[(u-x%u)%u],_.e=-x||0):ne[0]=_.e=0,_;if(L==0?(ne.length=V,P=1,V--):(ne.length=V+1,P=be[u-L],ne[V]=G>0?i(B/be[$-G]%be[G])*P:0),R)for(;;)if(V==0){for(L=1,G=ne[0];G>=10;G/=10,L++);for(G=ne[0]+=P,P=1;G>=10;G/=10,P++);L!=P&&(_.e++,ne[0]==l&&(ne[0]=1));break}else{if(ne[V]+=P,ne[V]!=l)break;ne[V--]=0,P=1}for(L=ne.length;ne[--L]===0;ne.pop());}_.e>ue?_.c=_.e=null:_.e<ge&&(_.c=[_.e=0])}return _}function Ke(_){var x,E=_.e;return E===null?_.toString():(x=b(_.c),x=E<=ae||E>=ce?k(x,E):z(x,E,"0"),_.s<0?"-"+x:x)}return M.absoluteValue=M.abs=function(){var _=new q(this);return _.s<0&&(_.s=1),_},M.comparedTo=function(_,x){return S(this,new q(_,x))},M.decimalPlaces=M.dp=function(_,x){var E,R,$,L=this;if(_!=null)return T(_,0,g),x==null?x=Q:T(x,0,8),Ue(new q(L),_+L.e+1,x);if(!(E=L.c))return null;if(R=(($=E.length-1)-m(this.e/u))*u,$=E[$])for(;$%10==0;$/=10,R--);return R<0&&(R=0),R},M.dividedBy=M.div=function(_,x){return j(this,new q(_,x),K,Q)},M.dividedToIntegerBy=M.idiv=function(_,x){return j(this,new q(_,x),0,1)},M.exponentiatedBy=M.pow=function(_,x){var E,R,$,L,G,P,B,V,F,ne=this;if(_=new q(_),_.c&&!_.isInteger())throw Error(o+"Exponent not an integer: "+Ke(_));if(x!=null&&(x=new q(x)),P=_.e>14,!ne.c||!ne.c[0]||ne.c[0]==1&&!ne.e&&ne.c.length==1||!_.c||!_.c[0])return F=new q(Math.pow(+Ke(ne),P?_.s*(2-N(_)):+Ke(_))),x?F.mod(x):F;if(B=_.s<0,x){if(x.c?!x.c[0]:!x.s)return new q(NaN);R=!B&&ne.isInteger()&&x.isInteger(),R&&(ne=ne.mod(x))}else{if(_.e>9&&(ne.e>0||ne.e<-1||(ne.e==0?ne.c[0]>1||P&&ne.c[1]>=24e7:ne.c[0]<8e13||P&&ne.c[0]<=9999975e7)))return L=ne.s<0&&N(_)?-0:0,ne.e>-1&&(L=1/L),new q(B?1/L:L);ie&&(L=s(ie/u+2))}for(P?(E=new q(.5),B&&(_.s=1),V=N(_)):($=Math.abs(+Ke(_)),V=$%2),F=new q(W);;){if(V){if(F=F.times(ne),!F.c)break;L?F.c.length>L&&(F.c.length=L):R&&(F=F.mod(x))}if($){if($=i($/2),$===0)break;V=$%2}else if(_=_.times(E),Ue(_,_.e+1,1),_.e>14)V=N(_);else{if($=+Ke(_),$===0)break;V=$%2}ne=ne.times(ne),L?ne.c&&ne.c.length>L&&(ne.c.length=L):R&&(ne=ne.mod(x))}return R?F:(B&&(F=W.div(F)),x?F.mod(x):L?Ue(F,ie,Q,G):F)},M.integerValue=function(_){var x=new q(this);return _==null?_=Q:T(_,0,8),Ue(x,x.e+1,_)},M.isEqualTo=M.eq=function(_,x){return S(this,new q(_,x))===0},M.isFinite=function(){return!!this.c},M.isGreaterThan=M.gt=function(_,x){return S(this,new q(_,x))>0},M.isGreaterThanOrEqualTo=M.gte=function(_,x){return(x=S(this,new q(_,x)))===1||x===0},M.isInteger=function(){return!!this.c&&m(this.e/u)>this.c.length-2},M.isLessThan=M.lt=function(_,x){return S(this,new q(_,x))<0},M.isLessThanOrEqualTo=M.lte=function(_,x){return(x=S(this,new q(_,x)))===-1||x===0},M.isNaN=function(){return!this.s},M.isNegative=function(){return this.s<0},M.isPositive=function(){return this.s>0},M.isZero=function(){return!!this.c&&this.c[0]==0},M.minus=function(_,x){var E,R,$,L,G=this,P=G.s;if(_=new q(_,x),x=_.s,!P||!x)return new q(NaN);if(P!=x)return _.s=-x,G.plus(_);var B=G.e/u,V=_.e/u,F=G.c,ne=_.c;if(!B||!V){if(!F||!ne)return F?(_.s=-x,_):new q(ne?G:NaN);if(!F[0]||!ne[0])return ne[0]?(_.s=-x,_):new q(F[0]?G:Q==3?-0:0)}if(B=m(B),V=m(V),F=F.slice(),P=B-V){for((L=P<0)?(P=-P,$=F):(V=B,$=ne),$.reverse(),x=P;x--;$.push(0));$.reverse()}else for(R=(L=(P=F.length)<(x=ne.length))?P:x,P=x=0;x<R;x++)if(F[x]!=ne[x]){L=F[x]<ne[x];break}if(L&&($=F,F=ne,ne=$,_.s=-_.s),x=(R=ne.length)-(E=F.length),x>0)for(;x--;F[E++]=0);for(x=l-1;R>P;){if(F[--R]<ne[R]){for(E=R;E&&!F[--E];F[E]=x);--F[E],F[R]+=l}F[R]-=ne[R]}for(;F[0]==0;F.splice(0,1),--V);return F[0]?Pe(_,F,V):(_.s=Q==3?-1:1,_.c=[_.e=0],_)},M.modulo=M.mod=function(_,x){var E,R,$=this;return _=new q(_,x),!$.c||!_.s||_.c&&!_.c[0]?new q(NaN):!_.c||$.c&&!$.c[0]?new q($):(de==9?(R=_.s,_.s=1,E=j($,_,0,3),_.s=R,E.s*=R):E=j($,_,0,de),_=$.minus(E.times(_)),!_.c[0]&&de==1&&(_.s=$.s),_)},M.multipliedBy=M.times=function(_,x){var E,R,$,L,G,P,B,V,F,ne,be,me,je,Ee,We,$e=this,Ze=$e.c,w=(_=new q(_,x)).c;if(!Ze||!w||!Ze[0]||!w[0])return!$e.s||!_.s||Ze&&!Ze[0]&&!w||w&&!w[0]&&!Ze?_.c=_.e=_.s=null:(_.s*=$e.s,!Ze||!w?_.c=_.e=null:(_.c=[0],_.e=0)),_;for(R=m($e.e/u)+m(_.e/u),_.s*=$e.s,B=Ze.length,ne=w.length,B<ne&&(je=Ze,Ze=w,w=je,$=B,B=ne,ne=$),$=B+ne,je=[];$--;je.push(0));for(Ee=l,We=h,$=ne;--$>=0;){for(E=0,be=w[$]%We,me=w[$]/We|0,G=B,L=$+G;L>$;)V=Ze[--G]%We,F=Ze[G]/We|0,P=me*V+F*be,V=be*V+P%We*We+je[L]+E,E=(V/Ee|0)+(P/We|0)+me*F,je[L--]=V%Ee;je[L]=E}return E?++R:je.splice(0,1),Pe(_,je,R)},M.negated=function(){var _=new q(this);return _.s=-_.s||null,_},M.plus=function(_,x){var E,R=this,$=R.s;if(_=new q(_,x),x=_.s,!$||!x)return new q(NaN);if($!=x)return _.s=-x,R.minus(_);var L=R.e/u,G=_.e/u,P=R.c,B=_.c;if(!L||!G){if(!P||!B)return new q($/0);if(!P[0]||!B[0])return B[0]?_:new q(P[0]?R:$*0)}if(L=m(L),G=m(G),P=P.slice(),$=L-G){for($>0?(G=L,E=B):($=-$,E=P),E.reverse();$--;E.push(0));E.reverse()}for($=P.length,x=B.length,$-x<0&&(E=B,B=P,P=E,x=$),$=0;x;)$=(P[--x]=P[x]+B[x]+$)/l|0,P[x]=l===P[x]?0:P[x]%l;return $&&(P=[$].concat(P),++G),Pe(_,P,G)},M.precision=M.sd=function(_,x){var E,R,$,L=this;if(_!=null&&_!==!!_)return T(_,1,g),x==null?x=Q:T(x,0,8),Ue(new q(L),_,x);if(!(E=L.c))return null;if($=E.length-1,R=$*u+1,$=E[$]){for(;$%10==0;$/=10,R--);for($=E[0];$>=10;$/=10,R++);}return _&&L.e+1>R&&(R=L.e+1),R},M.shiftedBy=function(_){return T(_,-d,d),this.times("1e"+_)},M.squareRoot=M.sqrt=function(){var _,x,E,R,$,L=this,G=L.c,P=L.s,B=L.e,V=K+4,F=new q("0.5");if(P!==1||!G||!G[0])return new q(!P||P<0&&(!G||G[0])?NaN:G?L:1/0);if(P=Math.sqrt(+Ke(L)),P==0||P==1/0?(x=b(G),(x.length+B)%2==0&&(x+="0"),P=Math.sqrt(+x),B=m((B+1)/2)-(B<0||B%2),P==1/0?x="5e"+B:(x=P.toExponential(),x=x.slice(0,x.indexOf("e")+1)+B),E=new q(x)):E=new q(P+""),E.c[0]){for(B=E.e,P=B+V,P<3&&(P=0);;)if($=E,E=F.times($.plus(j(L,$,V,1))),b($.c).slice(0,P)===(x=b(E.c)).slice(0,P))if(E.e<B&&--P,x=x.slice(P-3,P+1),x=="9999"||!R&&x=="4999"){if(!R&&(Ue($,$.e+K+2,0),$.times($).eq(L))){E=$;break}V+=4,P+=4,R=1}else{(!+x||!+x.slice(1)&&x.charAt(0)=="5")&&(Ue(E,E.e+K+2,1),_=!E.times(E).eq(L));break}}return Ue(E,E.e+K+1,Q,_)},M.toExponential=function(_,x){return _!=null&&(T(_,0,g),_++),Ae(this,_,x,1)},M.toFixed=function(_,x){return _!=null&&(T(_,0,g),_=_+this.e+1),Ae(this,_,x)},M.toFormat=function(_,x,E){var R,$=this;if(E==null)_!=null&&x&&typeof x=="object"?(E=x,x=null):_&&typeof _=="object"?(E=_,_=x=null):E=Se;else if(typeof E!="object")throw Error(o+"Argument not an object: "+E);if(R=$.toFixed(_,x),$.c){var L,G=R.split("."),P=+E.groupSize,B=+E.secondaryGroupSize,V=E.groupSeparator||"",F=G[0],ne=G[1],be=$.s<0,me=be?F.slice(1):F,je=me.length;if(B&&(L=P,P=B,B=L,je-=L),P>0&&je>0){for(L=je%P||P,F=me.substr(0,L);L<je;L+=P)F+=V+me.substr(L,P);B>0&&(F+=V+me.slice(L)),be&&(F="-"+F)}R=ne?F+(E.decimalSeparator||"")+((B=+E.fractionGroupSize)?ne.replace(new RegExp("\\d{"+B+"}\\B","g"),"$&"+(E.fractionGroupSeparator||"")):ne):F}return(E.prefix||"")+R+(E.suffix||"")},M.toFraction=function(_){var x,E,R,$,L,G,P,B,V,F,ne,be,me=this,je=me.c;if(_!=null&&(P=new q(_),!P.isInteger()&&(P.c||P.s!==1)||P.lt(W)))throw Error(o+"Argument "+(P.isInteger()?"out of range: ":"not an integer: ")+Ke(P));if(!je)return new q(me);for(x=new q(W),V=E=new q(W),R=B=new q(W),be=b(je),L=x.e=be.length-me.e-1,x.c[0]=f[(G=L%u)<0?u+G:G],_=!_||P.comparedTo(x)>0?L>0?x:V:P,G=ue,ue=1/0,P=new q(be),B.c[0]=0;F=j(P,x,0,1),$=E.plus(F.times(R)),$.comparedTo(_)!=1;)E=R,R=$,V=B.plus(F.times($=V)),B=$,x=P.minus(F.times($=x)),P=$;return $=j(_.minus(E),R,0,1),B=B.plus($.times(V)),E=E.plus($.times(R)),B.s=V.s=me.s,L=L*2,ne=j(V,R,L,Q).minus(me).abs().comparedTo(j(B,E,L,Q).minus(me).abs())<1?[V,R]:[B,E],ue=G,ne},M.toNumber=function(){return+Ke(this)},M.toPrecision=function(_,x){return _!=null&&T(_,1,g),Ae(this,_,x,2)},M.toString=function(_){var x,E=this,R=E.s,$=E.e;return $===null?R?(x="Infinity",R<0&&(x="-"+x)):x="NaN":(_==null?x=$<=ae||$>=ce?k(b(E.c),$):z(b(E.c),$,"0"):_===10&&ve?(E=Ue(new q(E),K+$+1,Q),x=z(b(E.c),E.e,"0")):(T(_,2,Ne.length,"Base"),x=O(z(b(E.c),$,"0"),10,_,R,!0)),R<0&&E.c[0]&&(x="-"+x)),x},M.valueOf=M.toJSON=function(){return Ke(this)},M._isBigNumber=!0,I!=null&&q.set(I),q}function m(I){var j=I|0;return I>0||I===j?j:j-1}function b(I){for(var j,O,D=1,M=I.length,W=I[0]+"";D<M;){for(j=I[D++]+"",O=u-j.length;O--;j="0"+j);W+=j}for(M=W.length;W.charCodeAt(--M)===48;);return W.slice(0,M+1||1)}function S(I,j){var O,D,M=I.c,W=j.c,K=I.s,Q=j.s,ae=I.e,ce=j.e;if(!K||!Q)return null;if(O=M&&!M[0],D=W&&!W[0],O||D)return O?D?0:-Q:K;if(K!=Q)return K;if(O=K<0,D=ae==ce,!M||!W)return D?0:!M^O?1:-1;if(!D)return ae>ce^O?1:-1;for(Q=(ae=M.length)<(ce=W.length)?ae:ce,K=0;K<Q;K++)if(M[K]!=W[K])return M[K]>W[K]^O?1:-1;return ae==ce?0:ae>ce^O?1:-1}function T(I,j,O,D){if(I<j||I>O||I!==i(I))throw Error(o+(D||"Argument")+(typeof I=="number"?I<j||I>O?" out of range: ":" not an integer: ":" not a primitive number: ")+String(I))}function N(I){var j=I.c.length-1;return m(I.e/u)==j&&I.c[j]%2!=0}function k(I,j){return(I.length>1?I.charAt(0)+"."+I.slice(1):I)+(j<0?"e":"e+")+j}function z(I,j,O){var D,M;if(j<0){for(M=O+".";++j;M+=O);I=M+I}else if(D=I.length,++j>D){for(M=O,j-=D;--j;M+=O);I+=M}else j<D&&(I=I.slice(0,j)+"."+I.slice(j));return I}n=y(),n.default=n.BigNumber=n,t.exports?t.exports=n:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=n)})(Fp)})(Os)),Os.exports}var Ga;function Up(){return Ga||(Ga=1,(function(t){var e=Ac(),n=t.exports;(function(){var r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s,i,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a;function l(d){return r.lastIndex=0,r.test(d)?'"'+d.replace(r,function(f){var h=o[f];return typeof h=="string"?h:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+d+'"'}function u(d,f){var h,g,y,m,b=s,S,T=f[d],N=T!=null&&(T instanceof e||e.isBigNumber(T));switch(T&&typeof T=="object"&&typeof T.toJSON=="function"&&(T=T.toJSON(d)),typeof a=="function"&&(T=a.call(f,d,T)),typeof T){case"string":return N?T:l(T);case"number":return isFinite(T)?String(T):"null";case"boolean":case"null":case"bigint":return String(T);case"object":if(!T)return"null";if(s+=i,S=[],Object.prototype.toString.apply(T)==="[object Array]"){for(m=T.length,h=0;h<m;h+=1)S[h]=u(h,T)||"null";return y=S.length===0?"[]":s?`[
`+s+S.join(`,
`+s)+`
`+b+"]":"["+S.join(",")+"]",s=b,y}if(a&&typeof a=="object")for(m=a.length,h=0;h<m;h+=1)typeof a[h]=="string"&&(g=a[h],y=u(g,T),y&&S.push(l(g)+(s?": ":":")+y));else Object.keys(T).forEach(function(k){var z=u(k,T);z&&S.push(l(k)+(s?": ":":")+z)});return y=S.length===0?"{}":s?`{
`+s+S.join(`,
`+s)+`
`+b+"}":"{"+S.join(",")+"}",s=b,y}}typeof n.stringify!="function"&&(n.stringify=function(d,f,h){var g;if(s="",i="",typeof h=="number")for(g=0;g<h;g+=1)i+=" ";else typeof h=="string"&&(i=h);if(a=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return u("",{"":d})})})()})(Si)),Si.exports}var Ai,Ha;function Zp(){if(Ha)return Ai;Ha=1;var t=null;const e=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,n=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var r=function(s){var i={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(s!=null){if(s.strict===!0&&(i.strict=!0),s.storeAsString===!0&&(i.storeAsString=!0),i.alwaysParseAsBig=s.alwaysParseAsBig===!0?s.alwaysParseAsBig:!1,i.useNativeBigInt=s.useNativeBigInt===!0?s.useNativeBigInt:!1,typeof s.constructorAction<"u")if(s.constructorAction==="error"||s.constructorAction==="ignore"||s.constructorAction==="preserve")i.constructorAction=s.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${s.constructorAction}`);if(typeof s.protoAction<"u")if(s.protoAction==="error"||s.protoAction==="ignore"||s.protoAction==="preserve")i.protoAction=s.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${s.protoAction}`)}var o,a,l={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,d=function(N){throw{name:"SyntaxError",message:N,at:o,text:u}},f=function(N){return N&&N!==a&&d("Expected '"+N+"' instead of '"+a+"'"),a=u.charAt(o),o+=1,a},h=function(){var N,k="";for(a==="-"&&(k="-",f("-"));a>="0"&&a<="9";)k+=a,f();if(a===".")for(k+=".";f()&&a>="0"&&a<="9";)k+=a;if(a==="e"||a==="E")for(k+=a,f(),(a==="-"||a==="+")&&(k+=a,f());a>="0"&&a<="9";)k+=a,f();if(N=+k,!isFinite(N))d("Bad number");else return t==null&&(t=Ac()),k.length>15?i.storeAsString?k:i.useNativeBigInt?BigInt(k):new t(k):i.alwaysParseAsBig?i.useNativeBigInt?BigInt(N):new t(N):N},g=function(){var N,k,z="",I;if(a==='"')for(var j=o;f();){if(a==='"')return o-1>j&&(z+=u.substring(j,o-1)),f(),z;if(a==="\\"){if(o-1>j&&(z+=u.substring(j,o-1)),f(),a==="u"){for(I=0,k=0;k<4&&(N=parseInt(f(),16),!!isFinite(N));k+=1)I=I*16+N;z+=String.fromCharCode(I)}else if(typeof l[a]=="string")z+=l[a];else break;j=o}}d("Bad string")},y=function(){for(;a&&a<=" ";)f()},m=function(){switch(a){case"t":return f("t"),f("r"),f("u"),f("e"),!0;case"f":return f("f"),f("a"),f("l"),f("s"),f("e"),!1;case"n":return f("n"),f("u"),f("l"),f("l"),null}d("Unexpected '"+a+"'")},b,S=function(){var N=[];if(a==="["){if(f("["),y(),a==="]")return f("]"),N;for(;a;){if(N.push(b()),y(),a==="]")return f("]"),N;f(","),y()}}d("Bad array")},T=function(){var N,k=Object.create(null);if(a==="{"){if(f("{"),y(),a==="}")return f("}"),k;for(;a;){if(N=g(),y(),f(":"),i.strict===!0&&Object.hasOwnProperty.call(k,N)&&d('Duplicate key "'+N+'"'),e.test(N)===!0?i.protoAction==="error"?d("Object contains forbidden prototype property"):i.protoAction==="ignore"?b():k[N]=b():n.test(N)===!0?i.constructorAction==="error"?d("Object contains forbidden constructor property"):i.constructorAction==="ignore"?b():k[N]=b():k[N]=b(),y(),a==="}")return f("}"),k;f(","),y()}}d("Bad object")};return b=function(){switch(y(),a){case"{":return T();case"[":return S();case'"':return g();case"-":return h();default:return a>="0"&&a<="9"?h():m()}},function(N,k){var z;return u=N+"",o=0,a=" ",z=b(),y(),a&&d("Syntax error"),typeof k=="function"?(function I(j,O){var D,M=j[O];return M&&typeof M=="object"&&Object.keys(M).forEach(function(W){D=I(M,W),D!==void 0?M[W]=D:delete M[W]}),k.call(j,O,M)})({"":z},""):z}};return Ai=r,Ai}var Ya;function Vp(){if(Ya)return Ir.exports;Ya=1;var t=Up().stringify,e=Zp();return Ir.exports=function(n){return{parse:e(n),stringify:t}},Ir.exports.parse=e(),Ir.exports.stringify=t,Ir.exports}var Wa;function qp(){if(Wa)return rs;Wa=1,Object.defineProperty(rs,"__esModule",{value:!0});const t=wc(),e=xt(),n=Mp(),r=vo(),s=Vp();class i{constructor(a){if(!a.isRoot())throw new e.default("Must be a root tag");this.rootTag=a}static parseJSON(a){return new i(t.Tag.fromJSON({"":a},!0))}static parseSNBT(a){return new i(new t.Tag("",r.default.fromSNBTValue(a),!0))}static parseNBT(a,l,u){if(!u)if(a[0]===31&&a[1]===139)u="gzip";else if(a[0]<=12)u="none";else throw new e.default("Unknown compression type");return u==="gzip"&&(a=(0,n.inflate)(a)),new i(t.Tag.fromUint8Array(a,l,!0))}toJSON(){return this.rootTag.toJSON()}toJSONString(){return s.stringify(this.toJSON())}toSNBT(a){return this.rootTag.toSNBT(a)}toNBT(a="none",l){return a==="gzip"?(0,n.gzip)(this.rootTag.toUint8Array(l)):this.rootTag.toUint8Array(l)}getRootTag(){return this.rootTag}setRootTag(a){if(!a.isRoot())throw new e.default("Must be a root tag");this.rootTag=a}}return rs.default=i,rs}var Kp=qp();const Gp=Xf(Kp);function J(t,e,n){function r(a,l){var u;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(u=a._zod).traits??(u.traits=new Set),a._zod.traits.add(t),e(a,l);for(const d in o.prototype)d in a||Object.defineProperty(a,d,{value:o.prototype[d].bind(a)});a._zod.constr=o,a._zod.def=l}const s=n?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:t});function o(a){var l;const u=n?.Parent?new i:this;r(u,a),(l=u._zod).deferred??(l.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}class or extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Nc extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Tc={};function vn(t){return Tc}function Hp(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function Xi(t,e){return typeof e=="bigint"?e.toString():e}function xo(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function So(t){return t==null}function Ao(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function Yp(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const l=r.match(/\d?e-(\d?)/);l?.[1]&&(s=Number.parseInt(l[1]))}const i=n>s?n:s,o=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return o%a/10**i}const Ja=Symbol("evaluating");function Ye(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==Ja)return r===void 0&&(r=Ja,r=n()),r},set(s){Object.defineProperty(t,e,{value:s})},configurable:!0})}function Ec(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function nn(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function br(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function Xa(t){return JSON.stringify(t)}const Ic="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Ms(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Wp=xo(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function cr(t){if(Ms(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(Ms(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Oc(t){return cr(t)?{...t}:Array.isArray(t)?[...t]:t}const Jp=new Set(["string","number","symbol"]);function ur(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Nn(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Oe(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Xp(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const Qp={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function em(t,e){const n=t._zod.def,r=br(t._zod.def,{get shape(){const s={};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=n.shape[i])}return nn(this,"shape",s),s},checks:[]});return Nn(t,r)}function tm(t,e){const n=t._zod.def,r=br(t._zod.def,{get shape(){const s={...t._zod.def.shape};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return nn(this,"shape",s),s},checks:[]});return Nn(t,r)}function nm(t,e){if(!cr(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=br(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return nn(this,"shape",i),i},checks:[]});return Nn(t,s)}function rm(t,e){if(!cr(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return nn(this,"shape",r),r},checks:t._zod.def.checks};return Nn(t,n)}function sm(t,e){const n=br(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return nn(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Nn(t,n)}function im(t,e,n){const r=br(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=t?new t({type:"optional",innerType:s[o]}):s[o])}else for(const o in s)i[o]=t?new t({type:"optional",innerType:s[o]}):s[o];return nn(this,"shape",i),i},checks:[]});return Nn(e,r)}function om(t,e,n){const r=br(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=new t({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new t({type:"nonoptional",innerType:s[o]});return nn(this,"shape",i),i},checks:[]});return Nn(e,r)}function Xn(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function $n(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function bs(t){return typeof t=="string"?t:t?.message}function kn(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const s=bs(t.inst?._zod.def?.error?.(t))??bs(e?.error?.(t))??bs(n.customError?.(t))??bs(n.localeError?.(t))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function No(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Rr(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const zc=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Xi,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},jc=J("$ZodError",zc),Cc=J("$ZodError",zc,{Parent:Error});function am(t,e=n=>n.message){const n={},r=[];for(const s of t.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}function lm(t,e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(a=>s({issues:a}));else if(o.code==="invalid_key")s({issues:o.issues});else if(o.code==="invalid_element")s({issues:o.issues});else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(t),r}const To=t=>(e,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new or;if(o.issues.length){const a=new(s?.Err??t)(o.issues.map(l=>kn(l,i,vn())));throw Ic(a,s?.callee),a}return o.value},Eo=t=>async(e,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new(s?.Err??t)(o.issues.map(l=>kn(l,i,vn())));throw Ic(a,s?.callee),a}return o.value},Hs=t=>(e,n,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new or;return i.issues.length?{success:!1,error:new(t??jc)(i.issues.map(o=>kn(o,s,vn())))}:{success:!0,data:i.value}},cm=Hs(Cc),Ys=t=>async(e,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(o=>kn(o,s,vn())))}:{success:!0,data:i.value}},um=Ys(Cc),fm=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return To(t)(e,n,s)},dm=t=>(e,n,r)=>To(t)(e,n,r),hm=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Eo(t)(e,n,s)},pm=t=>async(e,n,r)=>Eo(t)(e,n,r),mm=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Hs(t)(e,n,s)},gm=t=>(e,n,r)=>Hs(t)(e,n,r),ym=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ys(t)(e,n,s)},bm=t=>async(e,n,r)=>Ys(t)(e,n,r),wm=/^[cC][^\s-]{8,}$/,_m=/^[0-9a-z]+$/,vm=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,km=/^[0-9a-vA-V]{20}$/,xm=/^[A-Za-z0-9]{27}$/,Sm=/^[a-zA-Z0-9_-]{21}$/,Am=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Nm=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Qa=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Tm=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Em="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Im(){return new RegExp(Em,"u")}const Om=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zm=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,jm=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Cm=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Pm=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Pc=/^[A-Za-z0-9_-]*$/,$m=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Dm=/^\+(?:[0-9]){6,14}[0-9]$/,$c="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Lm=new RegExp(`^${$c}$`);function Dc(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Rm(t){return new RegExp(`^${Dc(t)}$`)}function Bm(t){const e=Dc({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${$c}T(?:${r})$`)}const Mm=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Fm=/^-?\d+$/,Um=/^-?\d+(?:\.\d+)?/,Zm=/^(?:true|false)$/i,Vm=/^[^A-Z]*$/,qm=/^[^a-z]*$/,At=J("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),Lc={number:"number",bigint:"bigint",object:"date"},Rc=J("$ZodCheckLessThan",(t,e)=>{At.init(t,e);const n=Lc[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Bc=J("$ZodCheckGreaterThan",(t,e)=>{At.init(t,e);const n=Lc[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Km=J("$ZodCheckMultipleOf",(t,e)=>{At.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):Yp(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),Gm=J("$ZodCheckNumberFormat",(t,e)=>{At.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[s,i]=Qp[e.format];t._zod.onattach.push(o=>{const a=o._zod.bag;a.format=e.format,a.minimum=s,a.maximum=i,n&&(a.pattern=Fm)}),t._zod.check=o=>{const a=o.value;if(n){if(!Number.isInteger(a)){o.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?o.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):o.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}a<s&&o.issues.push({origin:"number",input:a,code:"too_small",minimum:s,inclusive:!0,inst:t,continue:!e.abort}),a>i&&o.issues.push({origin:"number",input:a,code:"too_big",maximum:i,inst:t})}}),Hm=J("$ZodCheckMaxLength",(t,e)=>{var n;At.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!So(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const o=No(s);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),Ym=J("$ZodCheckMinLength",(t,e)=>{var n;At.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!So(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const o=No(s);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),Wm=J("$ZodCheckLengthEquals",(t,e)=>{var n;At.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!So(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),t._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const o=No(s),a=i>e.length;r.issues.push({origin:o,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Ws=J("$ZodCheckStringFormat",(t,e)=>{var n,r;At.init(t,e),t._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),Jm=J("$ZodCheckRegex",(t,e)=>{Ws.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),Xm=J("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=Vm),Ws.init(t,e)}),Qm=J("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=qm),Ws.init(t,e)}),e0=J("$ZodCheckIncludes",(t,e)=>{At.init(t,e);const n=ur(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:t,continue:!e.abort})}}),t0=J("$ZodCheckStartsWith",(t,e)=>{At.init(t,e);const n=new RegExp(`^${ur(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),n0=J("$ZodCheckEndsWith",(t,e)=>{At.init(t,e);const n=new RegExp(`.*${ur(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),r0=J("$ZodCheckOverwrite",(t,e)=>{At.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class s0{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(o=>o),s=Math.min(...r.map(o=>o.length-o.trimStart().length)),i=r.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const e=Function,n=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...n,s.join(`
`))}}const i0={major:4,minor:1,patch:8},Je=J("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=i0;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const s of r)for(const i of s._zod.onattach)i(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const s=(o,a,l)=>{let u=Xn(o),d;for(const f of a){if(f._zod.def.when){if(!f._zod.def.when(o))continue}else if(u)continue;const h=o.issues.length,g=f._zod.check(o);if(g instanceof Promise&&l?.async===!1)throw new or;if(d||g instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await g,o.issues.length!==h&&(u||(u=Xn(o,h)))});else{if(o.issues.length===h)continue;u||(u=Xn(o,h))}}return d?d.then(()=>o):o},i=(o,a,l)=>{if(Xn(o))return o.aborted=!0,o;const u=s(a,r,l);if(u instanceof Promise){if(l.async===!1)throw new or;return u.then(d=>t._zod.parse(d,l))}return t._zod.parse(u,l)};t._zod.run=(o,a)=>{if(a.skipChecks)return t._zod.parse(o,a);if(a.direction==="backward"){const u=t._zod.parse({value:o.value,issues:[]},{...a,skipChecks:!0});return u instanceof Promise?u.then(d=>i(d,o,a)):i(u,o,a)}const l=t._zod.parse(o,a);if(l instanceof Promise){if(a.async===!1)throw new or;return l.then(u=>s(u,r,a))}return s(l,r,a)}}t["~standard"]={validate:s=>{try{const i=cm(t,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return um(t,s).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),Io=J("$ZodString",(t,e)=>{Je.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??Mm(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),rt=J("$ZodStringFormat",(t,e)=>{Ws.init(t,e),Io.init(t,e)}),o0=J("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=Nm),rt.init(t,e)}),a0=J("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Qa(r))}else e.pattern??(e.pattern=Qa());rt.init(t,e)}),l0=J("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Tm),rt.init(t,e)}),c0=J("$ZodURL",(t,e)=>{rt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:$m.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),u0=J("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=Im()),rt.init(t,e)}),f0=J("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Sm),rt.init(t,e)}),d0=J("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=wm),rt.init(t,e)}),h0=J("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=_m),rt.init(t,e)}),p0=J("$ZodULID",(t,e)=>{e.pattern??(e.pattern=vm),rt.init(t,e)}),m0=J("$ZodXID",(t,e)=>{e.pattern??(e.pattern=km),rt.init(t,e)}),g0=J("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=xm),rt.init(t,e)}),y0=J("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Bm(e)),rt.init(t,e)}),b0=J("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=Lm),rt.init(t,e)}),w0=J("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=Rm(e)),rt.init(t,e)}),_0=J("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Am),rt.init(t,e)}),v0=J("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Om),rt.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),k0=J("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=zm),rt.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),x0=J("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=jm),rt.init(t,e)}),S0=J("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=Cm),rt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function Mc(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const A0=J("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=Pm),rt.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{Mc(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function N0(t){if(!Pc.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return Mc(n)}const T0=J("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Pc),rt.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{N0(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),E0=J("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Dm),rt.init(t,e)});function I0(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const O0=J("$ZodJWT",(t,e)=>{rt.init(t,e),t._zod.check=n=>{I0(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),Fc=J("$ZodNumber",(t,e)=>{Je.init(t,e),t._zod.pattern=t._zod.bag.pattern??Um,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:t,...i?{received:i}:{}}),n}}),z0=J("$ZodNumber",(t,e)=>{Gm.init(t,e),Fc.init(t,e)}),j0=J("$ZodBoolean",(t,e)=>{Je.init(t,e),t._zod.pattern=Zm,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:t}),n}}),C0=J("$ZodUnknown",(t,e)=>{Je.init(t,e),t._zod.parse=n=>n}),P0=J("$ZodNever",(t,e)=>{Je.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),$0=J("$ZodDate",(t,e)=>{Je.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const s=n.value,i=s instanceof Date;return i&&!Number.isNaN(s.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:s,...i?{received:"Invalid Date"}:{},inst:t}),n}});function el(t,e,n){t.issues.length&&e.issues.push(...$n(n,t.issues)),e.value[n]=t.value}const D0=J("$ZodArray",(t,e)=>{Je.init(t,e),t._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:t}),n;n.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const a=s[o],l=e.element._zod.run({value:a,issues:[]},r);l instanceof Promise?i.push(l.then(u=>el(u,n,o))):el(l,n,o)}return i.length?Promise.all(i).then(()=>n):n}});function Fs(t,e,n,r){t.issues.length&&e.issues.push(...$n(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function Uc(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=Xp(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function Zc(t,e,n,r,s,i){const o=[],a=s.keySet,l=s.catchall._zod,u=l.def.type;for(const d of Object.keys(e)){if(a.has(d))continue;if(u==="never"){o.push(d);continue}const f=l.run({value:e[d],issues:[]},r);f instanceof Promise?t.push(f.then(h=>Fs(h,n,d,e))):Fs(f,n,d,e)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const L0=J("$ZodObject",(t,e)=>{Je.init(t,e);const n=xo(()=>Uc(e));Ye(t._zod,"propValues",()=>{const o=e.shape,a={};for(const l in o){const u=o[l]._zod;if(u.values){a[l]??(a[l]=new Set);for(const d of u.values)a[l].add(d)}}return a});const r=Ms,s=e.catchall;let i;t._zod.parse=(o,a)=>{i??(i=n.value);const l=o.value;if(!r(l))return o.issues.push({expected:"object",code:"invalid_type",input:l,inst:t}),o;o.value={};const u=[],d=i.shape;for(const f of i.keys){const g=d[f]._zod.run({value:l[f],issues:[]},a);g instanceof Promise?u.push(g.then(y=>Fs(y,o,f,l))):Fs(g,o,f,l)}return s?Zc(u,l,o,a,n.value,t):u.length?Promise.all(u).then(()=>o):o}}),R0=J("$ZodObjectJIT",(t,e)=>{L0.init(t,e);const n=t._zod.parse,r=xo(()=>Uc(e)),s=h=>{const g=new s0(["shape","payload","ctx"]),y=r.value,m=N=>{const k=Xa(N);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};g.write("const input = payload.value;");const b=Object.create(null);let S=0;for(const N of y.keys)b[N]=`key_${S++}`;g.write("const newResult = {};");for(const N of y.keys){const k=b[N],z=Xa(N);g.write(`const ${k} = ${m(N)};`),g.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${z}, ...iss.path] : [${z}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${z} in input) {
            newResult[${z}] = undefined;
          }
        } else {
          newResult[${z}] = ${k}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const T=g.compile();return(N,k)=>T(h,N,k)};let i;const o=Ms,a=!Tc.jitless,u=a&&Wp.value,d=e.catchall;let f;t._zod.parse=(h,g)=>{f??(f=r.value);const y=h.value;return o(y)?a&&u&&g?.async===!1&&g.jitless!==!0?(i||(i=s(e.shape)),h=i(h,g),d?Zc([],y,h,g,f,t):h):n(h,g):(h.issues.push({expected:"object",code:"invalid_type",input:y,inst:t}),h)}});function tl(t,e,n,r){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const s=t.filter(i=>!Xn(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(o=>kn(o,r,vn())))}),e)}const B0=J("$ZodUnion",(t,e)=>{Je.init(t,e),Ye(t._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Ye(t._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Ye(t._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),Ye(t._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>Ao(i.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(s,i)=>{if(n)return r(s,i);let o=!1;const a=[];for(const l of e.options){const u=l._zod.run({value:s.value,issues:[]},i);if(u instanceof Promise)a.push(u),o=!0;else{if(u.issues.length===0)return u;a.push(u)}}return o?Promise.all(a).then(l=>tl(l,s,t,i)):tl(a,s,t,i)}}),M0=J("$ZodIntersection",(t,e)=>{Je.init(t,e),t._zod.parse=(n,r)=>{const s=n.value,i=e.left._zod.run({value:s,issues:[]},r),o=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([l,u])=>nl(n,l,u)):nl(n,i,o)}});function Qi(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(cr(t)&&cr(e)){const n=Object.keys(e),r=Object.keys(t).filter(i=>n.indexOf(i)!==-1),s={...t,...e};for(const i of r){const o=Qi(t[i],e[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r],o=Qi(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function nl(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Xn(t))return t;const r=Qi(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const F0=J("$ZodTuple",(t,e)=>{Je.init(t,e);const n=e.items,r=n.length-[...n].reverse().findIndex(s=>s._zod.optin!=="optional");t._zod.parse=(s,i)=>{const o=s.value;if(!Array.isArray(o))return s.issues.push({input:o,inst:t,expected:"tuple",code:"invalid_type"}),s;s.value=[];const a=[];if(!e.rest){const u=o.length>n.length,d=o.length<r-1;if(u||d)return s.issues.push({...u?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},input:o,inst:t,origin:"array"}),s}let l=-1;for(const u of n){if(l++,l>=o.length&&l>=r)continue;const d=u._zod.run({value:o[l],issues:[]},i);d instanceof Promise?a.push(d.then(f=>ws(f,s,l))):ws(d,s,l)}if(e.rest){const u=o.slice(n.length);for(const d of u){l++;const f=e.rest._zod.run({value:d,issues:[]},i);f instanceof Promise?a.push(f.then(h=>ws(h,s,l))):ws(f,s,l)}}return a.length?Promise.all(a).then(()=>s):s}});function ws(t,e,n){t.issues.length&&e.issues.push(...$n(n,t.issues)),e.value[n]=t.value}const U0=J("$ZodRecord",(t,e)=>{Je.init(t,e),t._zod.parse=(n,r)=>{const s=n.value;if(!cr(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:t}),n;const i=[];if(e.keyType._zod.values){const o=e.keyType._zod.values;n.value={};for(const l of o)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const u=e.valueType._zod.run({value:s[l],issues:[]},r);u instanceof Promise?i.push(u.then(d=>{d.issues.length&&n.issues.push(...$n(l,d.issues)),n.value[l]=d.value})):(u.issues.length&&n.issues.push(...$n(l,u.issues)),n.value[l]=u.value)}let a;for(const l in s)o.has(l)||(a=a??[],a.push(l));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:t,keys:a})}else{n.value={};for(const o of Reflect.ownKeys(s)){if(o==="__proto__")continue;const a=e.keyType._zod.run({value:o,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:a.issues.map(u=>kn(u,r,vn())),input:o,path:[o],inst:t}),n.value[a.value]=a.value;continue}const l=e.valueType._zod.run({value:s[o],issues:[]},r);l instanceof Promise?i.push(l.then(u=>{u.issues.length&&n.issues.push(...$n(o,u.issues)),n.value[a.value]=u.value})):(l.issues.length&&n.issues.push(...$n(o,l.issues)),n.value[a.value]=l.value)}}return i.length?Promise.all(i).then(()=>n):n}}),Z0=J("$ZodEnum",(t,e)=>{Je.init(t,e);const n=Hp(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(s=>Jp.has(typeof s)).map(s=>typeof s=="string"?ur(s):s.toString()).join("|")})$`),t._zod.parse=(s,i)=>{const o=s.value;return r.has(o)||s.issues.push({code:"invalid_value",values:n,input:o,inst:t}),s}}),V0=J("$ZodLiteral",(t,e)=>{if(Je.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(n=>typeof n=="string"?ur(n):n?ur(n.toString()):String(n)).join("|")})$`),t._zod.parse=(n,r)=>{const s=n.value;return t._zod.values.has(s)||n.issues.push({code:"invalid_value",values:e.values,input:s,inst:t}),n}}),q0=J("$ZodTransform",(t,e)=>{Je.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Nc(t.constructor.name);const s=e.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(n.value=o,n));if(s instanceof Promise)throw new or;return n.value=s,n}});function rl(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const K0=J("$ZodOptional",(t,e)=>{Je.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Ye(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Ye(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ao(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>rl(i,n.value)):rl(s,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),G0=J("$ZodNullable",(t,e)=>{Je.init(t,e),Ye(t._zod,"optin",()=>e.innerType._zod.optin),Ye(t._zod,"optout",()=>e.innerType._zod.optout),Ye(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ao(n.source)}|null)$`):void 0}),Ye(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),H0=J("$ZodDefault",(t,e)=>{Je.init(t,e),t._zod.optin="optional",Ye(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>sl(i,e)):sl(s,e)}});function sl(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const Y0=J("$ZodPrefault",(t,e)=>{Je.init(t,e),t._zod.optin="optional",Ye(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),W0=J("$ZodNonOptional",(t,e)=>{Je.init(t,e),Ye(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>il(i,t)):il(s,t)}});function il(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const J0=J("$ZodCatch",(t,e)=>{Je.init(t,e),Ye(t._zod,"optin",()=>e.innerType._zod.optin),Ye(t._zod,"optout",()=>e.innerType._zod.optout),Ye(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(o=>kn(o,r,vn()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(i=>kn(i,r,vn()))},input:n.value}),n.issues=[]),n)}}),X0=J("$ZodPipe",(t,e)=>{Je.init(t,e),Ye(t._zod,"values",()=>e.in._zod.values),Ye(t._zod,"optin",()=>e.in._zod.optin),Ye(t._zod,"optout",()=>e.out._zod.optout),Ye(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(n,r);return i instanceof Promise?i.then(o=>_s(o,e.in,r)):_s(i,e.in,r)}const s=e.in._zod.run(n,r);return s instanceof Promise?s.then(i=>_s(i,e.out,r)):_s(s,e.out,r)}});function _s(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const Q0=J("$ZodReadonly",(t,e)=>{Je.init(t,e),Ye(t._zod,"propValues",()=>e.innerType._zod.propValues),Ye(t._zod,"values",()=>e.innerType._zod.values),Ye(t._zod,"optin",()=>e.innerType._zod.optin),Ye(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(ol):ol(s)}});function ol(t){return t.value=Object.freeze(t.value),t}const eg=J("$ZodLazy",(t,e)=>{Je.init(t,e),Ye(t._zod,"innerType",()=>e.getter()),Ye(t._zod,"pattern",()=>t._zod.innerType._zod.pattern),Ye(t._zod,"propValues",()=>t._zod.innerType._zod.propValues),Ye(t._zod,"optin",()=>t._zod.innerType._zod.optin??void 0),Ye(t._zod,"optout",()=>t._zod.innerType._zod.optout??void 0),t._zod.parse=(n,r)=>t._zod.innerType._zod.run(n,r)}),tg=J("$ZodCustom",(t,e)=>{At.init(t,e),Je.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>al(i,n,r,t));al(s,n,r,t)}});function al(t,e,n,r){if(!t){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(Rr(s))}}class ng{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function rg(){return new ng}const vs=rg();function sg(t,e){return new t({type:"string",...Oe(e)})}function ig(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Oe(e)})}function ll(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Oe(e)})}function og(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Oe(e)})}function ag(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Oe(e)})}function lg(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Oe(e)})}function cg(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Oe(e)})}function ug(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Oe(e)})}function fg(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Oe(e)})}function dg(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Oe(e)})}function hg(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Oe(e)})}function pg(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Oe(e)})}function mg(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Oe(e)})}function gg(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Oe(e)})}function yg(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Oe(e)})}function bg(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Oe(e)})}function wg(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Oe(e)})}function _g(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Oe(e)})}function vg(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Oe(e)})}function kg(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Oe(e)})}function xg(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Oe(e)})}function Sg(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Oe(e)})}function Ag(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Oe(e)})}function Ng(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Oe(e)})}function Tg(t,e){return new t({type:"string",format:"date",check:"string_format",...Oe(e)})}function Eg(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Oe(e)})}function Ig(t,e){return new t({type:"string",format:"duration",check:"string_format",...Oe(e)})}function Og(t,e){return new t({type:"number",checks:[],...Oe(e)})}function zg(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Oe(e)})}function jg(t,e){return new t({type:"boolean",...Oe(e)})}function Cg(t){return new t({type:"unknown"})}function Pg(t,e){return new t({type:"never",...Oe(e)})}function $g(t,e){return new t({type:"date",...Oe(e)})}function cl(t,e){return new Rc({check:"less_than",...Oe(e),value:t,inclusive:!1})}function zs(t,e){return new Rc({check:"less_than",...Oe(e),value:t,inclusive:!0})}function ul(t,e){return new Bc({check:"greater_than",...Oe(e),value:t,inclusive:!1})}function js(t,e){return new Bc({check:"greater_than",...Oe(e),value:t,inclusive:!0})}function fl(t,e){return new Km({check:"multiple_of",...Oe(e),value:t})}function Vc(t,e){return new Hm({check:"max_length",...Oe(e),maximum:t})}function Us(t,e){return new Ym({check:"min_length",...Oe(e),minimum:t})}function qc(t,e){return new Wm({check:"length_equals",...Oe(e),length:t})}function Dg(t,e){return new Jm({check:"string_format",format:"regex",...Oe(e),pattern:t})}function Lg(t){return new Xm({check:"string_format",format:"lowercase",...Oe(t)})}function Rg(t){return new Qm({check:"string_format",format:"uppercase",...Oe(t)})}function Bg(t,e){return new e0({check:"string_format",format:"includes",...Oe(e),includes:t})}function Mg(t,e){return new t0({check:"string_format",format:"starts_with",...Oe(e),prefix:t})}function Fg(t,e){return new n0({check:"string_format",format:"ends_with",...Oe(e),suffix:t})}function Kr(t){return new r0({check:"overwrite",tx:t})}function Ug(t){return Kr(e=>e.normalize(t))}function Zg(){return Kr(t=>t.trim())}function Vg(){return Kr(t=>t.toLowerCase())}function qg(){return Kr(t=>t.toUpperCase())}function Kg(t,e,n){return new t({type:"array",element:e,...Oe(n)})}function Gg(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Oe(n)})}function Hg(t){const e=Yg(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Rr(r,n.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),n.issues.push(Rr(s))}},t(n.value,n)));return e}function Yg(t,e){const n=new At({check:"custom",...Oe(e)});return n._zod.check=t,n}const Wg=J("ZodISODateTime",(t,e)=>{y0.init(t,e),st.init(t,e)});function Jg(t){return Ng(Wg,t)}const Xg=J("ZodISODate",(t,e)=>{b0.init(t,e),st.init(t,e)});function Qg(t){return Tg(Xg,t)}const e1=J("ZodISOTime",(t,e)=>{w0.init(t,e),st.init(t,e)});function t1(t){return Eg(e1,t)}const n1=J("ZodISODuration",(t,e)=>{_0.init(t,e),st.init(t,e)});function r1(t){return Ig(n1,t)}const s1=(t,e)=>{jc.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>lm(t,n)},flatten:{value:n=>am(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Xi,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Xi,2)}},isEmpty:{get(){return t.issues.length===0}}})},$t=J("ZodError",s1,{Parent:Error}),i1=To($t),o1=Eo($t),a1=Hs($t),l1=Ys($t),c1=fm($t),u1=dm($t),f1=hm($t),d1=pm($t),h1=mm($t),p1=gm($t),m1=ym($t),g1=bm($t),nt=J("ZodType",(t,e)=>(Je.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone({...e,checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),t.clone=(n,r)=>Nn(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>i1(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>a1(t,n,r),t.parseAsync=async(n,r)=>o1(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>l1(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>c1(t,n,r),t.decode=(n,r)=>u1(t,n,r),t.encodeAsync=async(n,r)=>f1(t,n,r),t.decodeAsync=async(n,r)=>d1(t,n,r),t.safeEncode=(n,r)=>h1(t,n,r),t.safeDecode=(n,r)=>p1(t,n,r),t.safeEncodeAsync=async(n,r)=>m1(t,n,r),t.safeDecodeAsync=async(n,r)=>g1(t,n,r),t.refine=(n,r)=>t.check(dy(n,r)),t.superRefine=n=>t.check(hy(n)),t.overwrite=n=>t.check(Kr(n)),t.optional=()=>gl(t),t.nullable=()=>yl(t),t.nullish=()=>gl(yl(t)),t.nonoptional=n=>ry(t,n),t.array=()=>fr(t),t.or=n=>Yc([t,n]),t.and=n=>q1(t,n),t.transform=n=>bl(t,J1(n)),t.default=n=>ey(t,n),t.prefault=n=>ny(t,n),t.catch=n=>iy(t,n),t.pipe=n=>bl(t,n),t.readonly=()=>ly(t),t.describe=n=>{const r=t.clone();return vs.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return vs.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return vs.get(t);const r=t.clone();return vs.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),Kc=J("_ZodString",(t,e)=>{Io.init(t,e),nt.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(Dg(...r)),t.includes=(...r)=>t.check(Bg(...r)),t.startsWith=(...r)=>t.check(Mg(...r)),t.endsWith=(...r)=>t.check(Fg(...r)),t.min=(...r)=>t.check(Us(...r)),t.max=(...r)=>t.check(Vc(...r)),t.length=(...r)=>t.check(qc(...r)),t.nonempty=(...r)=>t.check(Us(1,...r)),t.lowercase=r=>t.check(Lg(r)),t.uppercase=r=>t.check(Rg(r)),t.trim=()=>t.check(Zg()),t.normalize=(...r)=>t.check(Ug(...r)),t.toLowerCase=()=>t.check(Vg()),t.toUpperCase=()=>t.check(qg())}),y1=J("ZodString",(t,e)=>{Io.init(t,e),Kc.init(t,e),t.email=n=>t.check(ig(b1,n)),t.url=n=>t.check(ug(w1,n)),t.jwt=n=>t.check(Ag(P1,n)),t.emoji=n=>t.check(fg(_1,n)),t.guid=n=>t.check(ll(dl,n)),t.uuid=n=>t.check(og(ks,n)),t.uuidv4=n=>t.check(ag(ks,n)),t.uuidv6=n=>t.check(lg(ks,n)),t.uuidv7=n=>t.check(cg(ks,n)),t.nanoid=n=>t.check(dg(v1,n)),t.guid=n=>t.check(ll(dl,n)),t.cuid=n=>t.check(hg(k1,n)),t.cuid2=n=>t.check(pg(x1,n)),t.ulid=n=>t.check(mg(S1,n)),t.base64=n=>t.check(kg(z1,n)),t.base64url=n=>t.check(xg(j1,n)),t.xid=n=>t.check(gg(A1,n)),t.ksuid=n=>t.check(yg(N1,n)),t.ipv4=n=>t.check(bg(T1,n)),t.ipv6=n=>t.check(wg(E1,n)),t.cidrv4=n=>t.check(_g(I1,n)),t.cidrv6=n=>t.check(vg(O1,n)),t.e164=n=>t.check(Sg(C1,n)),t.datetime=n=>t.check(Jg(n)),t.date=n=>t.check(Qg(n)),t.time=n=>t.check(t1(n)),t.duration=n=>t.check(r1(n))});function He(t){return sg(y1,t)}const st=J("ZodStringFormat",(t,e)=>{rt.init(t,e),Kc.init(t,e)}),b1=J("ZodEmail",(t,e)=>{l0.init(t,e),st.init(t,e)}),dl=J("ZodGUID",(t,e)=>{o0.init(t,e),st.init(t,e)}),ks=J("ZodUUID",(t,e)=>{a0.init(t,e),st.init(t,e)}),w1=J("ZodURL",(t,e)=>{c0.init(t,e),st.init(t,e)}),_1=J("ZodEmoji",(t,e)=>{u0.init(t,e),st.init(t,e)}),v1=J("ZodNanoID",(t,e)=>{f0.init(t,e),st.init(t,e)}),k1=J("ZodCUID",(t,e)=>{d0.init(t,e),st.init(t,e)}),x1=J("ZodCUID2",(t,e)=>{h0.init(t,e),st.init(t,e)}),S1=J("ZodULID",(t,e)=>{p0.init(t,e),st.init(t,e)}),A1=J("ZodXID",(t,e)=>{m0.init(t,e),st.init(t,e)}),N1=J("ZodKSUID",(t,e)=>{g0.init(t,e),st.init(t,e)}),T1=J("ZodIPv4",(t,e)=>{v0.init(t,e),st.init(t,e)}),E1=J("ZodIPv6",(t,e)=>{k0.init(t,e),st.init(t,e)}),I1=J("ZodCIDRv4",(t,e)=>{x0.init(t,e),st.init(t,e)}),O1=J("ZodCIDRv6",(t,e)=>{S0.init(t,e),st.init(t,e)}),z1=J("ZodBase64",(t,e)=>{A0.init(t,e),st.init(t,e)}),j1=J("ZodBase64URL",(t,e)=>{T0.init(t,e),st.init(t,e)}),C1=J("ZodE164",(t,e)=>{E0.init(t,e),st.init(t,e)}),P1=J("ZodJWT",(t,e)=>{O0.init(t,e),st.init(t,e)}),Gc=J("ZodNumber",(t,e)=>{Fc.init(t,e),nt.init(t,e),t.gt=(r,s)=>t.check(ul(r,s)),t.gte=(r,s)=>t.check(js(r,s)),t.min=(r,s)=>t.check(js(r,s)),t.lt=(r,s)=>t.check(cl(r,s)),t.lte=(r,s)=>t.check(zs(r,s)),t.max=(r,s)=>t.check(zs(r,s)),t.int=r=>t.check(hl(r)),t.safe=r=>t.check(hl(r)),t.positive=r=>t.check(ul(0,r)),t.nonnegative=r=>t.check(js(0,r)),t.negative=r=>t.check(cl(0,r)),t.nonpositive=r=>t.check(zs(0,r)),t.multipleOf=(r,s)=>t.check(fl(r,s)),t.step=(r,s)=>t.check(fl(r,s)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function qe(t){return Og(Gc,t)}const $1=J("ZodNumberFormat",(t,e)=>{z0.init(t,e),Gc.init(t,e)});function hl(t){return zg($1,t)}const D1=J("ZodBoolean",(t,e)=>{j0.init(t,e),nt.init(t,e)});function Fn(t){return jg(D1,t)}const L1=J("ZodUnknown",(t,e)=>{C0.init(t,e),nt.init(t,e)});function Zs(){return Cg(L1)}const R1=J("ZodNever",(t,e)=>{P0.init(t,e),nt.init(t,e)});function B1(t){return Pg(R1,t)}const M1=J("ZodDate",(t,e)=>{$0.init(t,e),nt.init(t,e),t.min=(r,s)=>t.check(js(r,s)),t.max=(r,s)=>t.check(zs(r,s));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function F1(t){return $g(M1,t)}const U1=J("ZodArray",(t,e)=>{D0.init(t,e),nt.init(t,e),t.element=e.element,t.min=(n,r)=>t.check(Us(n,r)),t.nonempty=n=>t.check(Us(1,n)),t.max=(n,r)=>t.check(Vc(n,r)),t.length=(n,r)=>t.check(qc(n,r)),t.unwrap=()=>t.element});function fr(t,e){return Kg(U1,t,e)}const Hc=J("ZodObject",(t,e)=>{R0.init(t,e),nt.init(t,e),Ye(t,"shape",()=>e.shape),t.keyof=()=>H1(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Zs()}),t.loose=()=>t.clone({...t._zod.def,catchall:Zs()}),t.strict=()=>t.clone({...t._zod.def,catchall:B1()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>nm(t,n),t.safeExtend=n=>rm(t,n),t.merge=n=>sm(t,n),t.pick=n=>em(t,n),t.omit=n=>tm(t,n),t.partial=(...n)=>im(Wc,t,n[0]),t.required=(...n)=>om(Jc,t,n[0])});function Rn(t,e){const n={type:"object",get shape(){return nn(this,"shape",t?Ec(t):{}),this.shape},...Oe(e)};return new Hc(n)}function xn(t,e){return new Hc({type:"object",get shape(){return nn(this,"shape",Ec(t)),this.shape},catchall:Zs(),...Oe(e)})}const Z1=J("ZodUnion",(t,e)=>{B0.init(t,e),nt.init(t,e),t.options=e.options});function Yc(t,e){return new Z1({type:"union",options:t,...Oe(e)})}const V1=J("ZodIntersection",(t,e)=>{M0.init(t,e),nt.init(t,e)});function q1(t,e){return new V1({type:"intersection",left:t,right:e})}const K1=J("ZodTuple",(t,e)=>{F0.init(t,e),nt.init(t,e),t.rest=n=>t.clone({...t._zod.def,rest:n})});function pl(t,e,n){const r=e instanceof Je,s=r?n:e,i=r?e:null;return new K1({type:"tuple",items:t,rest:i,...Oe(s)})}const G1=J("ZodRecord",(t,e)=>{U0.init(t,e),nt.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function Sn(t,e,n){return new G1({type:"record",keyType:t,valueType:e,...Oe(n)})}const eo=J("ZodEnum",(t,e)=>{Z0.init(t,e),nt.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,s)=>{const i={};for(const o of r)if(n.has(o))i[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new eo({...e,checks:[],...Oe(s),entries:i})},t.exclude=(r,s)=>{const i={...e.entries};for(const o of r)if(n.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new eo({...e,checks:[],...Oe(s),entries:i})}});function H1(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new eo({type:"enum",entries:n,...Oe(e)})}const Y1=J("ZodLiteral",(t,e)=>{V0.init(t,e),nt.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function ml(t,e){return new Y1({type:"literal",values:Array.isArray(t)?t:[t],...Oe(e)})}const W1=J("ZodTransform",(t,e)=>{q0.init(t,e),nt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Nc(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Rr(i,n.value,e));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),n.issues.push(Rr(o))}};const s=e.transform(n.value,n);return s instanceof Promise?s.then(i=>(n.value=i,n)):(n.value=s,n)}});function J1(t){return new W1({type:"transform",transform:t})}const Wc=J("ZodOptional",(t,e)=>{K0.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function gl(t){return new Wc({type:"optional",innerType:t})}const X1=J("ZodNullable",(t,e)=>{G0.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function yl(t){return new X1({type:"nullable",innerType:t})}const Q1=J("ZodDefault",(t,e)=>{H0.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function ey(t,e){return new Q1({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Oc(e)}})}const ty=J("ZodPrefault",(t,e)=>{Y0.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function ny(t,e){return new ty({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Oc(e)}})}const Jc=J("ZodNonOptional",(t,e)=>{W0.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function ry(t,e){return new Jc({type:"nonoptional",innerType:t,...Oe(e)})}const sy=J("ZodCatch",(t,e)=>{J0.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function iy(t,e){return new sy({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const oy=J("ZodPipe",(t,e)=>{X0.init(t,e),nt.init(t,e),t.in=e.in,t.out=e.out});function bl(t,e){return new oy({type:"pipe",in:t,out:e})}const ay=J("ZodReadonly",(t,e)=>{Q0.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function ly(t){return new ay({type:"readonly",innerType:t})}const cy=J("ZodLazy",(t,e)=>{eg.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.getter()});function uy(t){return new cy({type:"lazy",getter:t})}const fy=J("ZodCustom",(t,e)=>{tg.init(t,e),nt.init(t,e)});function dy(t,e={}){return Gg(fy,t,e)}function hy(t){return Hg(t)}const Xc=xn({transform:He().optional(),posX:qe(),posY:qe(),posZ:qe(),rotX:qe(),rotY:qe(),rotZ:qe(),sizeX:qe().optional(),sizeY:qe().optional(),sizeZ:qe().optional(),anchor:He().optional()}),py=xn({enabled:Fn()}),Qc=Yc([xn({"==":ml("org.bukkit.inventory.ItemStack"),DataVersion:qe(),id:He(),count:qe(),components:Sn(He(),He()).transform(t=>{const e={};for(const[n,r]of Object.entries(t))try{e[n]=Gp.parseSNBT(r).toJSON()}catch{e[n]=r}return e}).optional(),schema_version:qe()}),xn({"==":ml("org.bukkit.inventory.ItemStack"),DataVersion:qe(),id:He(),count:qe(),components:Sn(He(),Zs()).optional(),schema_version:qe()})]),eu=uy(()=>Rn({type:He(),item:Qc.optional(),position:Xc,attachments:Sn(He(),eu).optional(),displayItem:py.optional(),shulkerColor:He().optional(),schematic:He().optional(),displayMode:He().optional(),firstPersonViewMode:He().optional(),firstPersonViewLockMode:He().optional(),lockRotation:Fn().optional(),names:fr(He()).optional(),text:He().optional(),animations:Sn(He(),xn({nodes:fr(He()),looped:Fn().optional(),speed:qe().optional()})).optional(),brightness:Rn({block:qe(),sky:qe()}).optional()})),my=xn({type:He(),entityType:He(),attachments:Sn(He(),eu),position:Xc.optional(),item:Qc.optional(),shulkerColor:He().optional(),editor:Rn({selectedIndex:qe().optional(),animNodeSelectedOption:qe().optional(),scrollOffset:qe().optional(),expanded:Fn().optional()}).passthrough().optional(),animations:Sn(He(),Rn({nodes:fr(He()),looped:Fn().optional(),speed:qe().optional()}).passthrough()).optional(),physical:Rn({cartLength:qe().optional(),wheelCenter:qe().optional(),wheelDistance:qe().optional(),cartCouplerLength:qe().optional()}).passthrough().optional()}),tu=xn({model:my.optional(),entityType:He(),flipped:Fn().optional()}),gy=xn({savedName:He(),name:He().optional(),carts:Sn(He(),tu).optional(),claims:fr(He()).optional(),spawnPattern:He().optional(),flipped:Fn().optional(),spawnLimit:qe().optional(),usedModels:fr(He()).optional()}),nu=Sn(He(),gy);function yy(t){const e=nu.safeParse(t);return e.success?{valid:!0}:{valid:!1,errors:e.error.issues.map(n=>`${n.path.join(".")}: ${n.message}`)}}const by=Rn({projectName:He(),createdAt:F1().nullable(),orbitControls:Rn({position:pl([qe(),qe(),qe()]),target:pl([qe(),qe(),qe()]),zoom:qe().optional()}).optional()});class wy{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,n){this.keyToValue.set(e,n),this.valueToKey.set(n,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class ru{constructor(e){this.generateIdentifier=e,this.kv=new wy}register(e,n){this.kv.getByValue(e)||(n||(n=this.generateIdentifier(e)),this.kv.set(n,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}}class _y extends ru{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,n){typeof n=="object"?(n.allowProps&&this.classToAllowedProps.set(e,n.allowProps),super.register(e,n.identifier)):super.register(e,n)}getAllowedProps(e){return this.classToAllowedProps.get(e)}}function vy(t){if("values"in Object)return Object.values(t);const e=[];for(const n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}function ky(t,e){const n=vy(t);if("find"in n)return n.find(e);const r=n;for(let s=0;s<r.length;s++){const i=r[s];if(e(i))return i}}function dr(t,e){Object.entries(t).forEach(([n,r])=>e(r,n))}function Cs(t,e){return t.indexOf(e)!==-1}function wl(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(e(r))return r}}class xy{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return ky(this.transfomers,n=>n.isApplicable(e))}findByName(e){return this.transfomers[e]}}const Sy=t=>Object.prototype.toString.call(t).slice(8,-1),su=t=>typeof t>"u",Ay=t=>t===null,Br=t=>typeof t!="object"||t===null||t===Object.prototype?!1:Object.getPrototypeOf(t)===null?!0:Object.getPrototypeOf(t)===Object.prototype,to=t=>Br(t)&&Object.keys(t).length===0,An=t=>Array.isArray(t),Ny=t=>typeof t=="string",Ty=t=>typeof t=="number"&&!isNaN(t),Ey=t=>typeof t=="boolean",Iy=t=>t instanceof RegExp,Mr=t=>t instanceof Map,Fr=t=>t instanceof Set,iu=t=>Sy(t)==="Symbol",Oy=t=>t instanceof Date&&!isNaN(t.valueOf()),zy=t=>t instanceof Error,_l=t=>typeof t=="number"&&isNaN(t),jy=t=>Ey(t)||Ay(t)||su(t)||Ty(t)||Ny(t)||iu(t),Cy=t=>typeof t=="bigint",Py=t=>t===1/0||t===-1/0,$y=t=>ArrayBuffer.isView(t)&&!(t instanceof DataView),Dy=t=>t instanceof URL,ou=t=>t.replace(/\./g,"\\."),Ni=t=>t.map(String).map(ou).join("."),Cr=t=>{const e=[];let n="";for(let s=0;s<t.length;s++){let i=t.charAt(s);if(i==="\\"&&t.charAt(s+1)==="."){n+=".",s++;continue}if(i==="."){e.push(n),n="";continue}n+=i}const r=n;return e.push(r),e};function Ut(t,e,n,r){return{isApplicable:t,annotation:e,transform:n,untransform:r}}const au=[Ut(su,"undefined",()=>null,()=>{}),Ut(Cy,"bigint",t=>t.toString(),t=>typeof BigInt<"u"?BigInt(t):(console.error("Please add a BigInt polyfill."),t)),Ut(Oy,"Date",t=>t.toISOString(),t=>new Date(t)),Ut(zy,"Error",(t,e)=>{const n={name:t.name,message:t.message};return e.allowedErrorProps.forEach(r=>{n[r]=t[r]}),n},(t,e)=>{const n=new Error(t.message);return n.name=t.name,n.stack=t.stack,e.allowedErrorProps.forEach(r=>{n[r]=t[r]}),n}),Ut(Iy,"regexp",t=>""+t,t=>{const e=t.slice(1,t.lastIndexOf("/")),n=t.slice(t.lastIndexOf("/")+1);return new RegExp(e,n)}),Ut(Fr,"set",t=>[...t.values()],t=>new Set(t)),Ut(Mr,"map",t=>[...t.entries()],t=>new Map(t)),Ut(t=>_l(t)||Py(t),"number",t=>_l(t)?"NaN":t>0?"Infinity":"-Infinity",Number),Ut(t=>t===0&&1/t===-1/0,"number",()=>"-0",Number),Ut(Dy,"URL",t=>t.toString(),t=>new URL(t))];function Js(t,e,n,r){return{isApplicable:t,annotation:e,transform:n,untransform:r}}const lu=Js((t,e)=>iu(t)?!!e.symbolRegistry.getIdentifier(t):!1,(t,e)=>["symbol",e.symbolRegistry.getIdentifier(t)],t=>t.description,(t,e,n)=>{const r=n.symbolRegistry.getValue(e[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r}),Ly=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((t,e)=>(t[e.name]=e,t),{}),cu=Js($y,t=>["typed-array",t.constructor.name],t=>[...t],(t,e)=>{const n=Ly[e[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(t)});function uu(t,e){return t?.constructor?!!e.classRegistry.getIdentifier(t.constructor):!1}const fu=Js(uu,(t,e)=>["class",e.classRegistry.getIdentifier(t.constructor)],(t,e)=>{const n=e.classRegistry.getAllowedProps(t.constructor);if(!n)return{...t};const r={};return n.forEach(s=>{r[s]=t[s]}),r},(t,e,n)=>{const r=n.classRegistry.getValue(e[1]);if(!r)throw new Error(`Trying to deserialize unknown class '${e[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(r.prototype),t)}),du=Js((t,e)=>!!e.customTransformerRegistry.findApplicable(t),(t,e)=>["custom",e.customTransformerRegistry.findApplicable(t).name],(t,e)=>e.customTransformerRegistry.findApplicable(t).serialize(t),(t,e,n)=>{const r=n.customTransformerRegistry.findByName(e[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(t)}),Ry=[fu,lu,du,cu],vl=(t,e)=>{const n=wl(Ry,s=>s.isApplicable(t,e));if(n)return{value:n.transform(t,e),type:n.annotation(t,e)};const r=wl(au,s=>s.isApplicable(t,e));if(r)return{value:r.transform(t,e),type:r.annotation}},hu={};au.forEach(t=>{hu[t.annotation]=t});const By=(t,e,n)=>{if(An(e))switch(e[0]){case"symbol":return lu.untransform(t,e,n);case"class":return fu.untransform(t,e,n);case"custom":return du.untransform(t,e,n);case"typed-array":return cu.untransform(t,e,n);default:throw new Error("Unknown transformation: "+e)}else{const r=hu[e];if(!r)throw new Error("Unknown transformation: "+e);return r.untransform(t,n)}},Qn=(t,e)=>{if(e>t.size)throw new Error("index out of bounds");const n=t.keys();for(;e>0;)n.next(),e--;return n.next().value};function pu(t){if(Cs(t,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(Cs(t,"prototype"))throw new Error("prototype is not allowed as a property");if(Cs(t,"constructor"))throw new Error("constructor is not allowed as a property")}const My=(t,e)=>{pu(e);for(let n=0;n<e.length;n++){const r=e[n];if(Fr(t))t=Qn(t,+r);else if(Mr(t)){const s=+r,i=+e[++n]==0?"key":"value",o=Qn(t,s);switch(i){case"key":t=o;break;case"value":t=t.get(o);break}}else t=t[r]}return t},no=(t,e,n)=>{if(pu(e),e.length===0)return n(t);let r=t;for(let i=0;i<e.length-1;i++){const o=e[i];if(An(r)){const a=+o;r=r[a]}else if(Br(r))r=r[o];else if(Fr(r)){const a=+o;r=Qn(r,a)}else if(Mr(r)){if(i===e.length-2)break;const l=+o,u=+e[++i]==0?"key":"value",d=Qn(r,l);switch(u){case"key":r=d;break;case"value":r=r.get(d);break}}}const s=e[e.length-1];if(An(r)?r[+s]=n(r[+s]):Br(r)&&(r[s]=n(r[s])),Fr(r)){const i=Qn(r,+s),o=n(i);i!==o&&(r.delete(i),r.add(o))}if(Mr(r)){const i=+e[e.length-2],o=Qn(r,i);switch(+s==0?"key":"value"){case"key":{const l=n(o);r.set(l,r.get(o)),l!==o&&r.delete(o);break}case"value":{r.set(o,n(r.get(o)));break}}}return t};function ro(t,e,n=[]){if(!t)return;if(!An(t)){dr(t,(i,o)=>ro(i,e,[...n,...Cr(o)]));return}const[r,s]=t;s&&dr(s,(i,o)=>{ro(i,e,[...n,...Cr(o)])}),e(r,n)}function Fy(t,e,n){return ro(e,(r,s)=>{t=no(t,s,i=>By(i,r,n))}),t}function Uy(t,e){function n(r,s){const i=My(t,Cr(s));r.map(Cr).forEach(o=>{t=no(t,o,()=>i)})}if(An(e)){const[r,s]=e;r.forEach(i=>{t=no(t,Cr(i),()=>t)}),s&&dr(s,n)}else dr(e,n);return t}const Zy=(t,e)=>Br(t)||An(t)||Mr(t)||Fr(t)||uu(t,e);function Vy(t,e,n){const r=n.get(t);r?r.push(e):n.set(t,[e])}function qy(t,e){const n={};let r;return t.forEach(s=>{if(s.length<=1)return;e||(s=s.map(a=>a.map(String)).sort((a,l)=>a.length-l.length));const[i,...o]=s;i.length===0?r=o.map(Ni):n[Ni(i)]=o.map(Ni)}),r?to(n)?[r]:[r,n]:to(n)?void 0:n}const mu=(t,e,n,r,s=[],i=[],o=new Map)=>{const a=jy(t);if(!a){Vy(t,s,e);const g=o.get(t);if(g)return r?{transformedValue:null}:g}if(!Zy(t,n)){const g=vl(t,n),y=g?{transformedValue:g.value,annotations:[g.type]}:{transformedValue:t};return a||o.set(t,y),y}if(Cs(i,t))return{transformedValue:null};const l=vl(t,n),u=l?.value??t,d=An(u)?[]:{},f={};dr(u,(g,y)=>{if(y==="__proto__"||y==="constructor"||y==="prototype")throw new Error(`Detected property ${y}. This is a prototype pollution risk, please remove it from your object.`);const m=mu(g,e,n,r,[...s,y],[...i,t],o);d[y]=m.transformedValue,An(m.annotations)?f[y]=m.annotations:Br(m.annotations)&&dr(m.annotations,(b,S)=>{f[ou(y)+"."+S]=b})});const h=to(f)?{transformedValue:d,annotations:l?[l.type]:void 0}:{transformedValue:d,annotations:l?[l.type,f]:f};return a||o.set(t,h),h};function gu(t){return Object.prototype.toString.call(t).slice(8,-1)}function kl(t){return gu(t)==="Array"}function Ky(t){if(gu(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return!!e&&e.constructor===Object&&e===Object.prototype}function Gy(t,e,n,r,s){const i={}.propertyIsEnumerable.call(r,e)?"enumerable":"nonenumerable";i==="enumerable"&&(t[e]=n),s&&i==="nonenumerable"&&Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!0,configurable:!0})}function so(t,e={}){if(kl(t))return t.map(s=>so(s,e));if(!Ky(t))return t;const n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertySymbols(t);return[...n,...r].reduce((s,i)=>{if(kl(e.props)&&!e.props.includes(i))return s;const o=t[i],a=so(o,e);return Gy(s,i,a,t,e.nonenumerable),s},{})}class Fe{constructor({dedupe:e=!1}={}){this.classRegistry=new _y,this.symbolRegistry=new ru(n=>n.description??""),this.customTransformerRegistry=new xy,this.allowedErrorProps=[],this.dedupe=e}serialize(e){const n=new Map,r=mu(e,n,this,this.dedupe),s={json:r.transformedValue};r.annotations&&(s.meta={...s.meta,values:r.annotations});const i=qy(n,this.dedupe);return i&&(s.meta={...s.meta,referentialEqualities:i}),s}deserialize(e){const{json:n,meta:r}=e;let s=so(n);return r?.values&&(s=Fy(s,r.values,this)),r?.referentialEqualities&&(s=Uy(s,r.referentialEqualities)),s}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,n){this.classRegistry.register(e,n)}registerSymbol(e,n){this.symbolRegistry.register(e,n)}registerCustom(e,n){this.customTransformerRegistry.register({name:n,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}}Fe.defaultInstance=new Fe;Fe.serialize=Fe.defaultInstance.serialize.bind(Fe.defaultInstance);Fe.deserialize=Fe.defaultInstance.deserialize.bind(Fe.defaultInstance);Fe.stringify=Fe.defaultInstance.stringify.bind(Fe.defaultInstance);Fe.parse=Fe.defaultInstance.parse.bind(Fe.defaultInstance);Fe.registerClass=Fe.defaultInstance.registerClass.bind(Fe.defaultInstance);Fe.registerSymbol=Fe.defaultInstance.registerSymbol.bind(Fe.defaultInstance);Fe.registerCustom=Fe.defaultInstance.registerCustom.bind(Fe.defaultInstance);Fe.allowErrorProps=Fe.defaultInstance.allowErrorProps.bind(Fe.defaultInstance);Fe.serialize;Fe.deserialize;Fe.stringify;Fe.parse;Fe.registerClass;Fe.registerCustom;Fe.registerSymbol;Fe.allowErrorProps;const jn=Lr(""),Tn=fo((t,e)=>{const n=r=>{const i={...typeof r=="function"?r(e()):r};return"saved"in i&&i.saved===!0?i.saved=!0:i.metadata?.orbitControls||(i.saved=!1),t(i)};return{saved:!1,metadata:{projectName:"",createdAt:null,orbitControls:void 0},cart:null,setMetadata:r=>n({metadata:r}),setProjectName:r=>n(s=>({metadata:{...s.metadata,projectName:r}})),setCart:r=>n({cart:r}),clearCart:()=>n({cart:null}),saveProject:async r=>{const s=Tn.getState();if(!s.cart)throw new Error("No cart data to save.");const i=`${s.metadata.projectName||"TCA-Project"}.tcaproj`,o={...s.metadata,createdAt:s.metadata.createdAt||new Date},a=Tp({"metadata.json":Lr(Fe.stringify(o)),"cart.json":Lr(Fe.stringify(s.cart))},{level:9}),l=new Uint8Array(jn.length+a.length);l.set(jn),l.set(a,jn.length);const u=new Uint8Array(l.length);u.set(l);const d=new Blob([u],{type:"application/binary"}),f=s.fileHandle;if(!f||r){const h=await Pn.promise(Gh(d,{fileName:i,extensions:[".tcaproj"],mimeTypes:["application/binary"],id:"tca-project"}),{loading:"Saving project...",success:"Project saved successfully!",error:"Failed to save the project."}).unwrap();h&&(n({saved:!0,fileHandle:h,metadata:{...o}}),h.name!==i&&n({metadata:{...o,projectName:h.name.replace(/\.tcaproj$/,"")}}))}else await Pn.promise(f.createWritable().then(async g=>(await g.write(u),await g.close(),!0)).catch(()=>!1),{loading:"Saving project...",success:"Project saved successfully!",error:"Failed to save the project."}).unwrap()&&n({saved:!0,fileHandle:f,metadata:{...o}})},loadProjectFromFile:async()=>{const r=await sc({description:"Select a TCA-Project file",extensions:[".tcaproj"],mimeTypes:["application/binary"],id:"tca-project",startIn:"documents"}).catch(()=>null);if(!r)throw new Error("No file selected.");const s=await r.arrayBuffer(),i=new Uint8Array(jn.length);if(i.set(jn),!new Uint8Array(s.slice(0,jn.length)).every((u,d)=>u===i[d]))throw new Error("Invalid TCA-Project file format.");const a=new Uint8Array(s.slice(jn.length)),l=await Ep(a);for(const[u,d]of Object.entries(l))switch(u){case"metadata.json":{const f=Fe.parse(Wi(d)),h=by.safeParse(f);if(!h.success){console.error("Invalid metadata in project:",h.error),Pn.error("We couldn't load your project. The metadata is invalid. See the browser console for more details.",{duration:1e4}),n({metadata:{projectName:"",createdAt:null},cart:null,fileHandle:void 0});continue}n({metadata:h.data});break}case"cart.json":{const f=Fe.parse(Wi(d)),h=tu.safeParse(f);if(!h.success){console.error("Invalid cart data in project:",h.error),Pn.error("We couldn't load your project. The cart data is invalid. See the browser console for more details.",{duration:1e4}),n({metadata:{projectName:"",createdAt:null},cart:null,fileHandle:void 0});continue}n({cart:h.data});break}default:console.warn(`Unknown file in TCA-Project: ${u}`);break}n({saved:!0,fileHandle:r.handle})},reset:()=>n({metadata:{projectName:"",createdAt:null},cart:null,fileHandle:void 0})}});function Hy(){const t=Te.c(57),e=Tn(),[n,r]=Re.useState(document.fullscreenElement),[s,i]=Re.useState(!1),[o,a]=Re.useState(!1),l=Wy;let u,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{const ve=()=>{r(document.fullscreenElement)};return document.addEventListener("fullscreenchange",ve),()=>{document.removeEventListener("fullscreenchange",ve)}},d=[],t[0]=u,t[1]=d):(u=t[0],d=t[1]),Re.useEffect(u,d);let f;t[2]!==e?(f=async()=>{i(!0),await e.saveProject(),e.reset(),i(!1)},t[2]=e,t[3]=f):f=t[3];const h=f;let g,y;t[4]!==e?(g=()=>{const ve=q=>{q.key==="s"&&(q.ctrlKey||q.metaKey)&&e.cart?(q.preventDefault(),e.saveProject().catch(Yy)):q.key===","&&(q.ctrlKey||q.metaKey)&&(q.preventDefault(),a(!0))};return window.addEventListener("keydown",ve),()=>{window.removeEventListener("keydown",ve)}},y=[e],t[4]=e,t[5]=g,t[6]=y):(g=t[5],y=t[6]),Re.useEffect(g,y);let m;t[7]===Symbol.for("react.memo_cache_sentinel")?(m={padding:"-1em",margin:"-1em"},t[7]=m):m=t[7];const b=e.metadata.projectName||"Untitled Project";let S;t[8]!==e.saved?(S=e.saved?v.jsx(Dl,{}):v.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:"currentColor",marginRight:4,aspectRatio:"1 / 1"}}),t[8]=e.saved,t[9]=S):S=t[9];let T;t[10]!==h||t[11]!==s||t[12]!==S?(T=v.jsx(Bn,{className:"h-4 w-4",variant:"ghost",size:"icon",disabled:s,onClick:h,children:S}),t[10]=h,t[11]=s,t[12]=S,t[13]=T):T=t[13];let N;t[14]!==b||t[15]!==T?(N=v.jsxs("div",{className:"bg-card flex items-center gap-2 px-2",children:[b,T]}),t[14]=b,t[15]=T,t[16]=N):N=t[16];let k;t[17]===Symbol.for("react.memo_cache_sentinel")?(k=v.jsx(Ah,{children:"File"}),t[17]=k):k=t[17];let z;t[18]!==e?(z=async()=>e.saveProject(),t[18]=e,t[19]=z):z=t[19];let I;t[20]===Symbol.for("react.memo_cache_sentinel")?(I=v.jsx(oa,{children:"CTRL + S"}),t[20]=I):I=t[20];let j;t[21]!==s||t[22]!==z?(j=v.jsxs(Kn,{disabled:s,onClick:z,children:["Save Project ",I]}),t[21]=s,t[22]=z,t[23]=j):j=t[23];let O;t[24]!==e?(O=async()=>e.saveProject(!0),t[24]=e,t[25]=O):O=t[25];let D;t[26]!==s||t[27]!==O?(D=v.jsx(Kn,{disabled:s,onClick:O,children:"Save Project As"}),t[26]=s,t[27]=O,t[28]=D):D=t[28];let M;t[29]===Symbol.for("react.memo_cache_sentinel")?(M=v.jsx(ui,{}),t[29]=M):M=t[29];let W;t[30]!==e?(W=async()=>e.loadProjectFromFile(),t[30]=e,t[31]=W):W=t[31];let K;t[32]!==s||t[33]!==W?(K=v.jsx(Kn,{disabled:s,onClick:W,children:"Load Project"}),t[32]=s,t[33]=W,t[34]=K):K=t[34];let Q;t[35]!==h||t[36]!==s?(Q=v.jsx(Kn,{disabled:s,onClick:h,children:"New Project"}),t[35]=h,t[36]=s,t[37]=Q):Q=t[37];let ae;t[38]===Symbol.for("react.memo_cache_sentinel")?(ae=v.jsx(ui,{}),t[38]=ae):ae=t[38];let ce;t[39]===Symbol.for("react.memo_cache_sentinel")?(ce=()=>a(!0),t[39]=ce):ce=t[39];let ge,ue,te;t[40]===Symbol.for("react.memo_cache_sentinel")?(ge=v.jsxs(Kn,{onClick:ce,children:["Preferences",v.jsx(oa,{children:"CTRL + ,"})]}),ue=v.jsx(ui,{}),te=v.jsx(Kn,{children:"Print"}),t[40]=ge,t[41]=ue,t[42]=te):(ge=t[40],ue=t[41],te=t[42]);let de;t[43]!==j||t[44]!==D||t[45]!==K||t[46]!==Q?(de=v.jsxs(ia,{children:[k,v.jsxs(Nh,{children:[j,D,M,K,Q,ae,ge,ue,te]})]}),t[43]=j,t[44]=D,t[45]=K,t[46]=Q,t[47]=de):de=t[47];let ie;t[48]!==n?(ie=v.jsx(ia,{children:v.jsx(Bn,{className:"ml-auto",variant:"ghost",size:"icon",onClick:l,children:n?v.jsx(ed,{}):v.jsx(Qf,{})})}),t[48]=n,t[49]=ie):ie=t[49];let Se;t[50]!==o?(Se=v.jsx(Qy,{open:o,setOpen:a}),t[50]=o,t[51]=Se):Se=t[51];let Ne;return t[52]!==de||t[53]!==ie||t[54]!==Se||t[55]!==N?(Ne=v.jsxs(xh,{style:m,className:"rounded-none",children:[N,de,ie,Se]}),t[52]=de,t[53]=ie,t[54]=Se,t[55]=N,t[56]=Ne):Ne=t[56],Ne}function Yy(t){console.error("Save failed:",t)}function Wy(){document.fullscreenElement?document.exitFullscreen().catch(Jy):document.documentElement.requestFullscreen().catch(Xy)}function Jy(t){console.error("Error exiting fullscreen mode:",t)}function Xy(t){console.error("Error entering fullscreen mode:",t)}function Qy(t){const e=Te.c(61),{open:n,setOpen:r}=t,s=Vr();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=v.jsx(vh,{children:"Preferences"}),e[0]=i):i=e[0];let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=v.jsx(qt,{htmlFor:"theme-select",children:"Theme:"}),e[1]=o):o=e[1];let a;e[2]!==s?(a=de=>{if(de!=="light"&&de!=="dark"){console.warn("Invalid theme selected:",de);return}s.setTheme(de)},e[2]=s,e[3]=a):a=e[3];let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=v.jsx(Bi,{className:"h-10 w-full",id:"theme-select",children:v.jsx(Ri,{placeholder:"Select theme"})}),e[4]=l):l=e[4];let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=v.jsx(Mi,{children:v.jsxs(Li,{children:[v.jsx(Fi,{children:"Available Themes"}),v.jsx(Bs,{value:"light",children:"Light"}),v.jsx(Bs,{value:"dark",children:"Dark"})]})}),e[5]=u):u=e[5];let d;e[6]!==s.theme||e[7]!==a?(d=v.jsxs("div",{className:"flex flex-col",children:[o,v.jsxs(Di,{value:s.theme,onValueChange:a,children:[l,u]})]}),e[6]=s.theme,e[7]=a,e[8]=d):d=e[8];let f;e[9]===Symbol.for("react.memo_cache_sentinel")?(f=v.jsx(qt,{htmlFor:"save-interval",children:"Auto-save Interval (seconds):"}),e[9]=f):f=e[9];let h;e[10]!==s?(h=de=>{const ie=parseInt(de.target.value,10);if(isNaN(ie)||ie<1){console.warn("Invalid save interval:",de.target.value);return}s.setSaveInterval(ie)},e[10]=s,e[11]=h):h=e[11];let g;e[12]!==s.saveInterval||e[13]!==h?(g=v.jsxs("div",{className:"flex flex-col",children:[f,v.jsx(go,{id:"save-interval",type:"number",min:1,value:s.saveInterval,onChange:h,className:"h-10 w-full"})]}),e[12]=s.saveInterval,e[13]=h,e[14]=g):g=e[14];let y;e[15]===Symbol.for("react.memo_cache_sentinel")?(y=v.jsx(qt,{htmlFor:"grid-color",className:"mb-2 block",children:"Grid Color:"}),e[15]=y):y=e[15];let m;e[16]!==s?(m=de=>{s.setGridColor(de.hex)},e[16]=s,e[17]=m):m=e[17];let b;e[18]!==s.gridColor||e[19]!==m?(b=v.jsxs("div",{className:"flex flex-col",children:[y,v.jsx(zh,{defaultColor:s.gridColor,onChangeComplete:m})]}),e[18]=s.gridColor,e[19]=m,e[20]=b):b=e[20];let S;e[21]===Symbol.for("react.memo_cache_sentinel")?(S=v.jsx(Wn,{asChild:!0,children:v.jsx(Jr,{className:"mr-[0.5] inline h-3"})}),e[21]=S):S=e[21];let T;e[22]===Symbol.for("react.memo_cache_sentinel")?(T=v.jsxs(qt,{htmlFor:"debug-text",className:"mb-2 block",children:[v.jsxs(Yn,{children:[S,v.jsx(Jn,{children:v.jsx("p",{children:"Debug text displays additional information about the 3D scene, such as object coordinates and rendering details. It can be useful for troubleshooting but may clutter the view."})})]}),"Debug Text:"]}),e[22]=T):T=e[22];let N;e[23]!==s?(N=de=>s.setDebugText(de),e[23]=s,e[24]=N):N=e[24];let k;e[25]!==s.debugText||e[26]!==N?(k=v.jsxs("div",{className:"flex flex-row gap-2",children:[T,v.jsx(ts,{id:"debug-text",checked:s.debugText,onCheckedChange:N})]}),e[25]=s.debugText,e[26]=N,e[27]=k):k=e[27];let z;e[28]===Symbol.for("react.memo_cache_sentinel")?(z=v.jsx(Wn,{asChild:!0,children:v.jsx(Jr,{className:"mr-[0.5] inline h-3"})}),e[28]=z):z=e[28];let I;e[29]===Symbol.for("react.memo_cache_sentinel")?(I=v.jsxs(qt,{htmlFor:"ssao-enabled",className:"mb-2 block",children:[v.jsxs(Yn,{children:[z,v.jsx(Jn,{children:v.jsx("p",{children:"Screen Space Ambient Occlusion (SSAO) is a shading method that adds soft shadows to enhance depth perception in 3D scenes. It can improve visual realism but may impact performance."})})]}),"SSAO Enabled:"]}),e[29]=I):I=e[29];let j;e[30]!==s?(j=de=>s.setSSAOEnabled(de),e[30]=s,e[31]=j):j=e[31];let O;e[32]!==s.SSAOEnabled||e[33]!==j?(O=v.jsxs("div",{className:"flex flex-row gap-2",children:[I,v.jsx(ts,{id:"ssao-enabled",checked:s.SSAOEnabled,onCheckedChange:j})]}),e[32]=s.SSAOEnabled,e[33]=j,e[34]=O):O=e[34];let D;e[35]===Symbol.for("react.memo_cache_sentinel")?(D=v.jsx(Wn,{asChild:!0,children:v.jsx(Jr,{className:"mr-[0.5] inline h-3"})}),e[35]=D):D=e[35];let M;e[36]===Symbol.for("react.memo_cache_sentinel")?(M=v.jsxs(qt,{htmlFor:"dof-enabled",className:"mb-2 block",children:[v.jsxs(Yn,{children:[D,v.jsx(Jn,{children:v.jsx("p",{children:"Depth of Field (DOF) creates a blurred effect on objects outside the focus area, simulating camera lens behavior. It enhances realism but can be resource-intensive and may affect performance."})})]}),"Depth of Field Enabled:"]}),e[36]=M):M=e[36];let W;e[37]!==s?(W=de=>s.setDOFEnabled(de),e[37]=s,e[38]=W):W=e[38];let K;e[39]!==s.DOFEnabled||e[40]!==W?(K=v.jsxs("div",{className:"flex flex-row gap-2",children:[M,v.jsx(ts,{id:"dof-enabled",checked:s.DOFEnabled,onCheckedChange:W})]}),e[39]=s.DOFEnabled,e[40]=W,e[41]=K):K=e[41];let Q;e[42]===Symbol.for("react.memo_cache_sentinel")?(Q=v.jsx(Wn,{asChild:!0,children:v.jsx(Jr,{className:"mr-[0.5] inline h-3"})}),e[42]=Q):Q=e[42];let ae;e[43]===Symbol.for("react.memo_cache_sentinel")?(ae=v.jsxs(qt,{htmlFor:"control-damping-enabled",className:"mb-2 block",children:[v.jsxs(Yn,{children:[Q,v.jsx(Jn,{children:v.jsx("p",{children:"Enabling control damping makes camera movements smoother by adding inertia. This results in a more natural feel when orbiting or panning the view, but may introduce a slight delay in responsiveness."})})]}),"Orbit Controls Damping:"]}),e[43]=ae):ae=e[43];let ce;e[44]!==s?(ce=de=>s.setControlDamping(de),e[44]=s,e[45]=ce):ce=e[45];let ge;e[46]!==s.controlDamping||e[47]!==ce?(ge=v.jsxs("div",{className:"flex flex-row gap-2",children:[ae,v.jsx(ts,{id:"control-damping",checked:s.controlDamping,onCheckedChange:ce})]}),e[46]=s.controlDamping,e[47]=ce,e[48]=ge):ge=e[48];let ue;e[49]!==b||e[50]!==k||e[51]!==O||e[52]!==K||e[53]!==ge||e[54]!==d||e[55]!==g?(ue=v.jsx(wh,{children:v.jsxs(_h,{children:[i,v.jsx(kh,{asChild:!0,children:v.jsxs("div",{children:["Here you can adjust your preferences for the application.",v.jsxs("div",{className:"mt-4 flex flex-col gap-4",children:[d,g,b,k,O,K,ge]})]})})]})}),e[49]=b,e[50]=k,e[51]=O,e[52]=K,e[53]=ge,e[54]=d,e[55]=g,e[56]=ue):ue=e[56];let te;return e[57]!==n||e[58]!==r||e[59]!==ue?(te=v.jsx(gh,{open:n,onOpenChange:r,children:ue}),e[57]=n,e[58]=r,e[59]=ue,e[60]=te):te=e[60],te}let Ps=[],$s=[];function eb(t){return Ps.push(t),()=>{Ps=Ps.filter(e=>e!==t)}}function tb(t){return $s.push(t),()=>{$s=$s.filter(e=>e!==t)}}function nb(){const t=Te.c(3),e=Re.useRef(0);let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=performance.now(),t[0]=n):n=t[0];const r=Re.useRef(n),{gl:s}=ho();let i;return t[1]!==s?(i=()=>{e.current=e.current+1;const o=performance.now(),a=o-r.current;if(a>500){const l=Math.round(e.current*1e3/a);e.current=0,r.current=o,Ps.forEach(d=>d(l));const u=s.info;$s.forEach(d=>d(u.render))}},t[1]=s,t[2]=i):i=t[2],Rl(i),null}function rb(t){const e=Te.c(24),{position:n}=t,r=n===void 0?"top-right":n,s=Vr(),[i,o]=Re.useState(0);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={calls:0,frame:0,lines:0,points:0,triangles:0},e[0]=a):a=e[0];const[l,u]=Re.useState(a);let d,f;e[1]===Symbol.for("react.memo_cache_sentinel")?(d=()=>eb(o),f=[],e[1]=d,e[2]=f):(d=e[1],f=e[2]),Re.useEffect(d,f);let h,g;e[3]===Symbol.for("react.memo_cache_sentinel")?(h=()=>tb(u),g=[],e[3]=h,e[4]=g):(h=e[3],g=e[4]),Re.useEffect(h,g);const y=r.includes("top")?8:void 0,m=r.includes("bottom")?8:void 0,b=r.includes("left")?8:void 0,S=r.includes("right")?8:void 0;let T;e[5]!==S||e[6]!==y||e[7]!==m||e[8]!==b?(T={top:y,bottom:m,left:b,right:S},e[5]=S,e[6]=y,e[7]=m,e[8]=b,e[9]=T):T=e[9];const N=T;let k;e[10]!==N?(k={...N},e[10]=N,e[11]=k):k=e[11];let z;e[12]!==i?(z=v.jsxs("p",{children:[i," FPS"]}),e[12]=i,e[13]=z):z=e[13];let I;e[14]!==s.DOFEnabled||e[15]!==s.SSAOEnabled||e[16]!==s.controlDamping||e[17]!==s.debugText||e[18]!==l?(I=s.debugText&&v.jsxs(v.Fragment,{children:[v.jsx("hr",{className:"border-border my-1 border-t"}),v.jsxs("p",{children:["Draw Calls: ",l.calls]}),v.jsxs("p",{children:["Frame: ",l.frame]}),v.jsxs("p",{children:["Triangles: ",l.triangles]}),v.jsxs("p",{children:["Lines: ",l.lines]}),v.jsxs("p",{children:["Points: ",l.points]}),v.jsx("hr",{className:"border-border my-1 border-t"}),v.jsxs("p",{children:["Debug Text: ",s.debugText?"On":"Off"]}),v.jsxs("p",{children:["SSAO: ",s.SSAOEnabled?"On":"Off"]}),v.jsxs("p",{children:["Depth of Field: ",s.DOFEnabled?"On":"Off"]}),v.jsxs("p",{children:["Control Damping:"," ",s.controlDamping?"On":"Off"]})]}),e[14]=s.DOFEnabled,e[15]=s.SSAOEnabled,e[16]=s.controlDamping,e[17]=s.debugText,e[18]=l,e[19]=I):I=e[19];let j;return e[20]!==k||e[21]!==z||e[22]!==I?(j=v.jsxs("div",{className:"text-muted-foreground pointer-events-none absolute z-10 text-right font-mono text-sm",style:k,children:[z,I]}),e[20]=k,e[21]=z,e[22]=I,e[23]=j):j=e[23],j}const xs=[],sb=5;function ib(){const t=Math.floor(Math.random()*360),e=70+Math.random()*10,n=80+Math.random()*10;return`hsl(${t}, ${e}%, ${n}%)`}function ob(){let t="",e=0;do t=ib(),e++;while(xs.includes(t)&&e<10);return xs.push(t),xs.length>sb&&xs.shift(),t}const yu=Re.forwardRef((t,e)=>{const n=Te.c(14),r=wd("/tc-animator/textures/missing.png");let s,i;n[0]!==r?(i=r.clone(),i.magFilter=Xo,i.minFilter=Xo,n[0]=r,n[1]=i):i=n[1],s=i;const o=s;let a,l;n[2]===Symbol.for("react.memo_cache_sentinel")?(l=ob(),n[2]=l):l=n[2],a=l;const u=a,[d,f]=Re.useState(!1);let h,g,y;n[3]===Symbol.for("react.memo_cache_sentinel")?(h=N=>{N.stopPropagation(),f(!0)},g=()=>f(!1),y=v.jsx("boxGeometry",{args:[1,1,1]}),n[3]=h,n[4]=g,n[5]=y):(h=n[3],g=n[4],y=n[5]);const m=d?u:"#000",b=d?.5:0;let S;n[6]!==m||n[7]!==b||n[8]!==o?(S=v.jsx("meshStandardMaterial",{map:o,color:u,emissive:m,emissiveIntensity:b}),n[6]=m,n[7]=b,n[8]=o,n[9]=S):S=n[9];let T;return n[10]!==t||n[11]!==e||n[12]!==S?(T=v.jsxs("mesh",{ref:e,...t,castShadow:!0,receiveShadow:!0,onPointerOver:h,onPointerOut:g,children:[y,S]}),n[10]=t,n[11]=e,n[12]=S,n[13]=T):T=n[13],T}),ab="/tc-animator/models/dummy.glb";Bl.preload(ab);function lb({scale:t=1,position:e=new wn(0,0,0)}){const{scene:n}=Bl("/tc-animator/models/dummy.glb"),r=Cd(n);return v.jsx("primitive",{object:r,scale:t,position:e,castShadow:!0,receiveShadow:!0,rotation:[0,Qt(180),0]})}function cb(t){const e=Te.c(26),{onSelect:n}=t,{cart:r}=Tn(),s=Re.useRef(null);if(!r?.model)return null;const{position:i}=r.model,o=i?.posX||0,a=i?.posY||0,l=i?.posZ||0;let u;e[0]!==o||e[1]!==a||e[2]!==l?(u=new wn(o,a,l),e[0]=o,e[1]=a,e[2]=l,e[3]=u):u=e[3];const d=u,f=i?.rotX||0;let h;e[4]!==i?.rotY||e[5]!==i?.rotZ||e[6]!==f?(h=new po(Qt(f),Qt(i?.rotY||0),Qt(i?.rotZ||0)),e[4]=i?.rotY,e[5]=i?.rotZ,e[6]=f,e[7]=h):h=e[7];const g=h,y=i?.sizeX||1,m=i?.sizeY||1,b=i?.sizeZ||1;let S;e[8]!==y||e[9]!==m||e[10]!==b?(S=new wn(y,m,b),e[8]=y,e[9]=m,e[10]=b,e[11]=S):S=e[11];const T=S;let N;e[12]!==n?(N=O=>{O.stopPropagation(),s.current&&n(s.current)},e[12]=n,e[13]=N):N=e[13];let k;e[14]===Symbol.for("react.memo_cache_sentinel")?(k=v.jsx(yu,{}),e[14]=k):k=e[14];let z;e[15]!==T?(z=v.jsx("group",{scale:T,children:k}),e[15]=T,e[16]=z):z=e[16];let I;e[17]!==r.model||e[18]!==n?(I=v.jsx(bu,{attachments:r.model,onSelect:n}),e[17]=r.model,e[18]=n,e[19]=I):I=e[19];let j;return e[20]!==d||e[21]!==g||e[22]!==N||e[23]!==z||e[24]!==I?(j=v.jsxs("group",{ref:s,position:d,rotation:g,onClick:N,children:[z,I]}),e[20]=d,e[21]=g,e[22]=N,e[23]=z,e[24]=I,e[25]=j):j=e[25],j}function ub(t){const e=Te.c(44),{attachment:n,onSelect:r}=t,s=Vr(),i=Re.useRef(null),o=n.position?.posX||0,a=n.position?.posY||0,l=n.position?.posZ||0;let u,d,f,h,g,y;if(e[0]!==n.names||e[1]!==n.position?.rotX||e[2]!==n.position?.rotY||e[3]!==n.position?.rotZ||e[4]!==n.position?.sizeX||e[5]!==n.position?.sizeY||e[6]!==n.position?.sizeZ||e[7]!==n.type||e[8]!==r||e[9]!==s.debugText||e[10]!==o||e[11]!==a||e[12]!==l){const S=new wn(o,a,l),T=new po(Qt(n.position?.rotX||0),Qt(n.position?.rotY||0),Qt(n.position?.rotZ||0)),N=n.position?.sizeX||1,k=n.position?.sizeY||1,z=n.position?.sizeZ||1;let I;e[19]!==N||e[20]!==k||e[21]!==z?(I=new wn(N,k,z),e[19]=N,e[20]=k,e[21]=z,e[22]=I):I=e[22];const j=I;u=i,d=S,f=T,e[23]!==n.type||e[24]!==r?(h=D=>{i.current&&!["SEAT","HITBOX"].includes(n.type)&&(D.stopPropagation(),r(i.current))},e[23]=n.type,e[24]=r,e[25]=h):h=e[25];let O;e:switch(n.type){case"SEAT":{const D=s.debugText&&v.jsx(xl,{fontSize:.3,color:"white",anchorX:"center",anchorY:"middle",outlineWidth:.05,outlineColor:"black",position:[0,3.5,0],children:`${n.names&&Array.isArray(n.names)&&n.names.length>0?n.names[0]:"Seat"}
Pos:${S.toArray().map(mb)}`});let M;e[26]===Symbol.for("react.memo_cache_sentinel")?(M=v.jsx(lb,{}),e[26]=M):M=e[26];let W;e[27]!==D?(W=v.jsxs(v.Fragment,{children:[D,M]}),e[27]=D,e[28]=W):W=e[28],O=W;break e}case"HITBOX":{O=null;break e}default:{let D;e[29]===Symbol.for("react.memo_cache_sentinel")?(D=v.jsx(yu,{}),e[29]=D):D=e[29],O=D}}e[30]!==j||e[31]!==O?(g=v.jsx("group",{scale:j,children:O}),e[30]=j,e[31]=O,e[32]=g):g=e[32],y=s.debugText&&!["SEAT","HITBOX"].includes(n.type)&&v.jsx(xl,{position:[0,1.5,0],fontSize:.3,color:"yellow",anchorX:"center",anchorY:"middle",scale:[1,1,1],outlineWidth:.05,outlineColor:"black",children:`${n.names&&Array.isArray(n.names)&&n.names.length>0?n.names[0]:""}
Pos:${S.toArray().map(pb)}
rot:${T.toArray().filter(hb).map(db)}
scale:${j.toArray().map(fb)}`}),e[0]=n.names,e[1]=n.position?.rotX,e[2]=n.position?.rotY,e[3]=n.position?.rotZ,e[4]=n.position?.sizeX,e[5]=n.position?.sizeY,e[6]=n.position?.sizeZ,e[7]=n.type,e[8]=r,e[9]=s.debugText,e[10]=o,e[11]=a,e[12]=l,e[13]=u,e[14]=d,e[15]=f,e[16]=h,e[17]=g,e[18]=y}else u=e[13],d=e[14],f=e[15],h=e[16],g=e[17],y=e[18];let m;e[33]!==n||e[34]!==r?(m=n.attachments&&v.jsx(bu,{attachments:n,onSelect:r}),e[33]=n,e[34]=r,e[35]=m):m=e[35];let b;return e[36]!==m||e[37]!==u||e[38]!==d||e[39]!==f||e[40]!==h||e[41]!==g||e[42]!==y?(b=v.jsxs("group",{ref:u,position:d,rotation:f,onClick:h,children:[g,y,m]}),e[36]=m,e[37]=u,e[38]=d,e[39]=f,e[40]=h,e[41]=g,e[42]=y,e[43]=b):b=e[43],b}function fb(t){return t.toFixed(2)}function db(t){return t.toFixed(2)}function hb(t){return typeof t=="number"}function pb(t){return t.toFixed(2)}function mb(t){return`
${t.toFixed(2)}`}function bu({attachments:t,onSelect:e}){return Object.entries(t.attachments||{}).map(([n,r])=>v.jsx(ub,{attachment:r,onSelect:e},n))}function xl(t){const e=Te.c(4),n=Re.useRef(null),{camera:r}=ho();let s;e[0]!==r?(s=()=>{if(!n.current)return;const o=n.current.getWorldPosition(new wn),a=r.position.clone();a.y=o.y;const l=a.sub(o).normalize();let u=Math.atan2(l.x,l.z);if(n.current.parent){const d=new Pd;n.current.parent.getWorldQuaternion(d);const h=new po().setFromQuaternion(d,"YXZ").y;u=u-h+Math.PI}else u=u+Math.PI;n.current.rotation.set(0,u+Qt(180),0)},e[0]=r,e[1]=s):s=e[1],Rl(s);let i;return e[2]!==t?(i=v.jsx(_d,{ref:n,...t,children:t.children}),e[2]=t,e[3]=i):i=e[3],i}const gb=Xl("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-card",outline:"border border-input bg-card shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function Sl(t){const e=Te.c(12);let n,r,s,i;e[0]!==t?({className:n,variant:i,size:s,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);let o;e[5]!==n||e[6]!==s||e[7]!==i?(o=Ve(gb({variant:i,size:s,className:n})),e[5]=n,e[6]=s,e[7]=i,e[8]=o):o=e[8];let a;return e[9]!==r||e[10]!==o?(a=v.jsx(td,{"data-slot":"toggle",className:o,...r}),e[9]=r,e[10]=o,e[11]=a):a=e[11],a}function yb({controlsRef:t}){const e=Tn(),{camera:n}=ho();return Re.useEffect(()=>{const r=t.current,s=e.metadata.orbitControls;!r||!s||(n.position.copy(new wn(...s.position)),r.target.copy(new wn(...s.target)),s.zoom&&"zoom"in n&&(n.zoom=s.zoom,n.updateProjectionMatrix()),r.update())},[e.metadata.orbitControls,n,t]),Re.useEffect(()=>{const r=t.current;if(!r)return;const s=()=>{e.setMetadata({...e.metadata,orbitControls:{position:n.position.toArray(),target:r.target.toArray(),zoom:n.zoom}})};return r.addEventListener("change",s),()=>r.removeEventListener("change",s)},[n,e,t]),null}function bb(){const t=Te.c(66),e=Vr(),n=Tn(),r=Re.useRef(null),[s,i]=Re.useState(null),[o,a]=Re.useState("translate");let l,u;if(t[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{const L=G=>{G.target&&G.target.isContentEditable||(G.key==="v"||G.key==="V"?a("translate"):(G.key==="r"||G.key==="R")&&a("rotate"))};return window.addEventListener("keydown",L),()=>{window.removeEventListener("keydown",L)}},u=[],t[0]=l,t[1]=u):(l=t[0],u=t[1]),Re.useEffect(l,u),!n.cart){let L;return t[2]===Symbol.for("react.memo_cache_sentinel")?(L=v.jsx("div",{className:"flex h-full w-full items-center justify-center bg-black",children:v.jsx("p",{className:"text-muted-foreground",children:"No cart selected. Please create or open a project."})}),t[2]=L):L=t[2],L}let d;t[3]!==e.SSAOEnabled?(d=e.SSAOEnabled&&v.jsx(vd,{},"ssao"),t[3]=e.SSAOEnabled,t[4]=d):d=t[4];let f;t[5]!==e.DOFEnabled?(f=e.DOFEnabled&&v.jsx(kd,{focusDistance:2,focalLength:5,bokehScale:2},"dof"),t[5]=e.DOFEnabled,t[6]=f):f=t[6];let h;t[7]===Symbol.for("react.memo_cache_sentinel")?(h=v.jsx(Sd,{},"smaa"),t[7]=h):h=t[7];let g;t[8]!==s?(g=s&&v.jsx(Ad,{selection:[s],edgeStrength:4,blur:!0},"outline"),t[8]=s,t[9]=g):g=t[9];let y;t[10]!==d||t[11]!==f||t[12]!==g?(y=[d,f,h,g].filter(Boolean),t[10]=d,t[11]=f,t[12]=g,t[13]=y):y=t[13];const m=y;let b;t[14]===Symbol.for("react.memo_cache_sentinel")?(b={position:[3,3,3],fov:45},t[14]=b):b=t[14];let S,T;t[15]===Symbol.for("react.memo_cache_sentinel")?(S=[1,2],T={powerPreference:"high-performance",antialias:!1},t[15]=S,t[16]=T):(S=t[15],T=t[16]);let N;t[17]!==m?(N=v.jsx(Nd,{enableNormalPass:!0,depthBuffer:!0,stencilBuffer:!0,children:m}),t[17]=m,t[18]=N):N=t[18];let k,z,I,j;t[19]===Symbol.for("react.memo_cache_sentinel")?(k=v.jsx(nb,{}),z=v.jsx(Td,{all:!0}),I=v.jsx("ambientLight",{intensity:2}),j=v.jsx("directionalLight",{position:[5,5,5],intensity:3,castShadow:!0}),t[19]=k,t[20]=z,t[21]=I,t[22]=j):(k=t[19],z=t[20],I=t[21],j=t[22]);let O;t[23]===Symbol.for("react.memo_cache_sentinel")?(O=v.jsx(cb,{onSelect:i}),t[23]=O):O=t[23];let D;t[24]===Symbol.for("react.memo_cache_sentinel")?(D=[.5,-.501,.5],t[24]=D):D=t[24];const M=e.gridColor;let W;t[25]!==e?(W=e.getComplementaryGridColor(),t[25]=e,t[26]=W):W=t[26];let K;t[27]!==e.gridColor||t[28]!==W?(K=v.jsx(Ed,{position:D,cellSize:.0625,sectionSize:1,cellThickness:.5,sectionThickness:1.5,cellColor:M,sectionColor:W,infiniteGrid:!0,side:$d}),t[27]=e.gridColor,t[28]=W,t[29]=K):K=t[29];let Q;t[30]!==s||t[31]!==o?(Q=s&&v.jsx(Id,{object:s,mode:o,rotationSnap:Qt(11.25),translationSnap:.25,onMouseDown:()=>r.current.enabled=!1,onMouseUp:()=>r.current.enabled=!0}),t[30]=s,t[31]=o,t[32]=Q):Q=t[32];let ae;t[33]!==e.controlDamping?(ae=v.jsx(xd,{ref:r,makeDefault:!0,enableDamping:e.controlDamping}),t[33]=e.controlDamping,t[34]=ae):ae=t[34];let ce;t[35]===Symbol.for("react.memo_cache_sentinel")?(ce=[80,80],t[35]=ce):ce=t[35];let ge,ue;t[36]===Symbol.for("react.memo_cache_sentinel")?(ge=v.jsx(Od,{alignment:"bottom-right",margin:ce,children:v.jsx(zd,{axisColors:["#9d4b4b","#2f7f4f","#3b5b9d"],labelColor:"white"})}),ue=v.jsx(yb,{controlsRef:r}),t[36]=ge,t[37]=ue):(ge=t[36],ue=t[37]);let te;t[38]!==K||t[39]!==Q||t[40]!==ae?(te=v.jsxs(Re.Suspense,{fallback:null,children:[O,K,Q,ae,ge,ue]}),t[38]=K,t[39]=Q,t[40]=ae,t[41]=te):te=t[41];let de;t[42]!==N||t[43]!==te?(de=v.jsxs(jd,{className:"three-bg",camera:b,shadows:!0,dpr:S,gl:T,children:[N,k,z,I,j,te]}),t[42]=N,t[43]=te,t[44]=de):de=t[44];let ie;t[45]===Symbol.for("react.memo_cache_sentinel")?(ie=v.jsx(rb,{}),t[45]=ie):ie=t[45];const Se=o==="translate";let Ne,ve;t[46]===Symbol.for("react.memo_cache_sentinel")?(Ne=()=>a("translate"),ve=v.jsx(nd,{}),t[46]=Ne,t[47]=ve):(Ne=t[46],ve=t[47]);let q;t[48]!==Se?(q=v.jsx(Wn,{children:v.jsx(Sl,{pressed:Se,onClick:Ne,children:ve})}),t[48]=Se,t[49]=q):q=t[49];let Ae;t[50]===Symbol.for("react.memo_cache_sentinel")?(Ae=v.jsxs(Jn,{children:["Translate Mode",v.jsx("kbd",{className:"text-muted-foreground ml-1",children:"V"})]}),t[50]=Ae):Ae=t[50];let Ce;t[51]!==q?(Ce=v.jsxs(Yn,{children:[q,Ae]}),t[51]=q,t[52]=Ce):Ce=t[52];const Pe=o==="rotate";let Ue,Ke;t[53]===Symbol.for("react.memo_cache_sentinel")?(Ue=()=>a("rotate"),Ke=v.jsx(rd,{}),t[53]=Ue,t[54]=Ke):(Ue=t[53],Ke=t[54]);let _;t[55]!==Pe?(_=v.jsx(Wn,{children:v.jsx(Sl,{pressed:Pe,onClick:Ue,children:Ke})}),t[55]=Pe,t[56]=_):_=t[56];let x;t[57]===Symbol.for("react.memo_cache_sentinel")?(x=v.jsxs(Jn,{children:["Rotate Mode",v.jsx("kbd",{className:"text-muted-foreground ml-1",children:"R"})]}),t[57]=x):x=t[57];let E;t[58]!==_?(E=v.jsxs(Yn,{children:[_,x]}),t[58]=_,t[59]=E):E=t[59];let R;t[60]!==Ce||t[61]!==E?(R=v.jsxs("div",{className:"absolute top-[8px] left-[8px] flex flex-row gap-[8px]",children:[Ce,E]}),t[60]=Ce,t[61]=E,t[62]=R):R=t[62];let $;return t[63]!==de||t[64]!==R?($=v.jsxs("div",{className:"relative h-full w-full",children:[de,ie,R]}),t[63]=de,t[64]=R,t[65]=$):$=t[65],$}function wb(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("bg-accent animate-pulse rounded-md",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx("div",{"data-slot":"skeleton",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function _b(){const t=Te.c(16),[e,n]=Re.useState(null),[r,s]=Re.useState(null),[i,o]=Re.useState(!1);let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=N=>{s(N),o(!1)},t[0]=a):a=t[0];const l=a;let u;t[1]!==r?(u=()=>{r&&r.playPause()},t[1]=r,t[2]=u):u=t[2];const d=u;let f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f=v.jsx(go,{type:"file",accept:"audio/*",onChange:N=>{if(N.target.files&&N.target.files.length>0){const k=N.target.files[0];n(k)}}}),t[3]=f):f=t[3];let h;t[4]!==e?(h=e?URL.createObjectURL(e):"",t[4]=e,t[5]=h):h=t[5];let g,y;t[6]===Symbol.for("react.memo_cache_sentinel")?(g=()=>o(!0),y=()=>o(!1),t[6]=g,t[7]=y):(g=t[6],y=t[7]);let m;t[8]!==h?(m=v.jsx(sd,{url:h,waveColor:"#3a81f6",onReady:l,onPlay:g,onPause:y}),t[8]=h,t[9]=m):m=t[9];const b=i?"Pause":"Play";let S;t[10]!==d||t[11]!==b?(S=v.jsx("button",{onClick:d,children:b}),t[10]=d,t[11]=b,t[12]=S):S=t[12];let T;return t[13]!==m||t[14]!==S?(T=v.jsxs("div",{children:[f,m,S]}),t[13]=m,t[14]=S,t[15]=T):T=t[15],T}function vb(){const t=Te.c(30),e=Vr(),n=Tn();let r,s;t[0]!==e.theme?(r=()=>{const z=window.document.documentElement;z.classList.remove("light","dark"),z.classList.add(e.theme)},s=[e.theme],t[0]=e.theme,t[1]=r,t[2]=s):(r=t[1],s=t[2]),Re.useEffect(r,s);let i;t[3]!==n.cart||t[4]!==n.saved?(i=()=>{const z=I=>{n.saved||!n.cart||(I.preventDefault(),I.returnValue="")};return window.addEventListener("beforeunload",z),()=>{window.removeEventListener("beforeunload",z)}},t[3]=n.cart,t[4]=n.saved,t[5]=i):i=t[5];let o;t[6]!==n?(o=[n],t[6]=n,t[7]=o):o=t[7],Re.useEffect(i,o);let a,l;t[8]!==e.saveInterval||t[9]!==n?(a=()=>{const z=setInterval(()=>{!n.saved&&n.cart&&n.saveProject().catch(kb)},e.saveInterval*1e3);return()=>{clearInterval(z)}},l=[n,e.saveInterval],t[8]=e.saveInterval,t[9]=n,t[10]=a,t[11]=l):(a=t[10],l=t[11]),Re.useEffect(a,l);let u;t[12]===Symbol.for("react.memo_cache_sentinel")?(u=v.jsx(Hy,{}),t[12]=u):u=t[12];let d;t[13]===Symbol.for("react.memo_cache_sentinel")?(d=v.jsx(wb,{className:"h-full w-full"}),t[13]=d):d=t[13];let f;t[14]!==n.cart?(f=JSON.stringify(n.cart,null,2),t[14]=n.cart,t[15]=f):f=t[15];let h;t[16]===Symbol.for("react.memo_cache_sentinel")?(h={minimap:{enabled:!0},scrollbar:{alwaysConsumeMouseWheel:!1},wordWrap:"on",automaticLayout:!0},t[16]=h):h=t[16];let g;t[17]!==n?(g=z=>{if(z)try{const I=JSON.parse(z);n.setCart(I)}catch(I){console.error("Failed to parse JSON:",I)}},t[17]=n,t[18]=g):g=t[18];let y;t[19]!==g||t[20]!==f?(y=v.jsxs(es,{minSize:5,defaultSize:20,className:"bg-card flex flex-col gap-4 p-4",children:[u,v.jsx(Re.Suspense,{fallback:d,children:v.jsx(bd,{language:"json",theme:"vs-dark",value:f,options:h,onChange:g})})]}),t[19]=g,t[20]=f,t[21]=y):y=t[21];let m;t[22]===Symbol.for("react.memo_cache_sentinel")?(m=v.jsx(sa,{}),t[22]=m):m=t[22];let b;t[23]===Symbol.for("react.memo_cache_sentinel")?(b=v.jsx(es,{minSize:5,children:v.jsx(bb,{})}),t[23]=b):b=t[23];let S;t[24]!==y?(S=v.jsx(es,{children:v.jsxs(ra,{direction:"horizontal",autoSaveId:"tca-preview",autoSave:"true",children:[y,m,b]})}),t[24]=y,t[25]=S):S=t[25];let T;t[26]===Symbol.for("react.memo_cache_sentinel")?(T=v.jsx(sa,{}),t[26]=T):T=t[26];let N;t[27]===Symbol.for("react.memo_cache_sentinel")?(N=v.jsxs(es,{minSize:5,defaultSize:40,className:"bg-card p-4",children:["Timeline",v.jsx(_b,{})]}),t[27]=N):N=t[27];let k;return t[28]!==S?(k=v.jsx("div",{className:"h-screen w-screen",children:v.jsxs(ra,{direction:"vertical",autoSaveId:"tca-project",autoSave:"true",children:[S,T,N]})}),t[28]=S,t[29]=k):k=t[29],k}function kb(t){console.error("Auto-save failed:",t)}function Oo(t){const e=Te.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=v.jsx(cd,{"data-slot":"alert-dialog",...n}),e[2]=n,e[3]=r):r=e[3],r}function xb(t){const e=Te.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=v.jsx(ud,{"data-slot":"alert-dialog-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function Sb(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx(fd,{"data-slot":"alert-dialog-overlay",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function zo(t){const e=Te.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]===Symbol.for("react.memo_cache_sentinel")?(s=v.jsx(Sb,{}),e[3]=s):s=e[3];let i;e[4]!==n?(i=Ve("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),e[4]=n,e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==i?(o=v.jsxs(xb,{children:[s,v.jsx(ld,{"data-slot":"alert-dialog-content",className:i,...r})]}),e[6]=r,e[7]=i,e[8]=o):o=e[8],o}function jo(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx("div",{"data-slot":"alert-dialog-header",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Co(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx("div",{"data-slot":"alert-dialog-footer",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Po(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("text-lg font-semibold",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx(od,{"data-slot":"alert-dialog-title",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function $o(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve("text-muted-foreground text-sm",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx(ad,{"data-slot":"alert-dialog-description",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Ab(t){const e=Te.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Ve(Ql({variant:"outline"}),n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=v.jsx(id,{className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Nb(){const t=[],e=document.createElement("canvas");return!!(e.getContext("webgl")||e.getContext("experimental-webgl"))||t.push("WebGL / 3D Graphics"),"AudioContext"in window||"webkitAudioContext"in window||t.push("Web Audio API (AudioContext)"),"requestAnimationFrame"in window||t.push("Animation Frame API (requestAnimationFrame)"),t}const Tb=()=>{const t=Te.c(22);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0];const[n,r]=Re.useState(e),[s,i]=Re.useState(!1);let o,a;if(t[1]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{const N=Nb();(N.length>0||!ir)&&(r(N),setTimeout(()=>{i(!0)},10))},a=[],t[1]=o,t[2]=a):(o=t[1],a=t[2]),Re.useEffect(o,a),!s)return null;let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=v.jsx(Po,{children:"Missing Browser Capabilities"}),t[3]=l):l=t[3];let u;t[4]!==n?(u=n.map(Eb),t[4]=n,t[5]=u):u=t[5];let d;t[6]===Symbol.for("react.memo_cache_sentinel")?(d=!ir&&v.jsxs("li",{children:["File System Access API",v.jsx("br",{}),v.jsx("span",{className:"text-xs text-muted-foreground",children:"Used for autosave and loading files directly. Without it, you'll need to manually download and upload your files each time."})]}),t[6]=d):d=t[6];let f;t[7]!==u?(f=v.jsxs("ul",{className:"my-2 list-disc list-inside",children:[u,d]}),t[7]=u,t[8]=f):f=t[8];let h;t[9]===Symbol.for("react.memo_cache_sentinel")?(h=v.jsx("strong",{children:"Chrome"}),t[9]=h):h=t[9];let g;t[10]===Symbol.for("react.memo_cache_sentinel")?(g=v.jsx("strong",{children:"Edge"}),t[10]=g):g=t[10];let y;t[11]===Symbol.for("react.memo_cache_sentinel")?(y=v.jsx("strong",{children:"Brave"}),t[11]=y):y=t[11];let m;t[12]!==f?(m=v.jsxs(jo,{children:[l,v.jsxs($o,{children:["This app requires certain browser features to work correctly. Your current browser is missing the following capabilities:",f,"To use all features, switch to a modern Chromium-based browser like ",h,","," ",g,", or ",y,"."]})]}),t[12]=f,t[13]=m):m=t[13];let b;t[14]!==n.length?(b=!ir&&n.length===0&&v.jsx(Co,{children:v.jsx(Ab,{children:"Acknowledge"})}),t[14]=n.length,t[15]=b):b=t[15];let S;t[16]!==m||t[17]!==b?(S=v.jsxs(zo,{children:[m,b]}),t[16]=m,t[17]=b,t[18]=S):S=t[18];let T;return t[19]!==s||t[20]!==S?(T=v.jsx(Oo,{open:s,onOpenChange:i,children:S}),t[19]=s,t[20]=S,t[21]=T):T=t[21],T};function Eb(t){return v.jsx("li",{children:t},t)}const Do=Symbol.for("yaml.alias"),io=Symbol.for("yaml.document"),bn=Symbol.for("yaml.map"),wu=Symbol.for("yaml.pair"),Yt=Symbol.for("yaml.scalar"),wr=Symbol.for("yaml.seq"),Ct=Symbol.for("yaml.node.type"),Zn=t=>!!t&&typeof t=="object"&&t[Ct]===Do,Xs=t=>!!t&&typeof t=="object"&&t[Ct]===io,Gr=t=>!!t&&typeof t=="object"&&t[Ct]===bn,ft=t=>!!t&&typeof t=="object"&&t[Ct]===wu,Qe=t=>!!t&&typeof t=="object"&&t[Ct]===Yt,Hr=t=>!!t&&typeof t=="object"&&t[Ct]===wr;function ct(t){if(t&&typeof t=="object")switch(t[Ct]){case bn:case wr:return!0}return!1}function ut(t){if(t&&typeof t=="object")switch(t[Ct]){case Do:case bn:case Yt:case wr:return!0}return!1}const _u=t=>(Qe(t)||ct(t))&&!!t.anchor,Cn=Symbol("break visit"),Ib=Symbol("skip children"),Pr=Symbol("remove node");function _r(t,e){const n=Ob(e);Xs(t)?er(null,t.contents,n,Object.freeze([t]))===Pr&&(t.contents=null):er(null,t,n,Object.freeze([]))}_r.BREAK=Cn;_r.SKIP=Ib;_r.REMOVE=Pr;function er(t,e,n,r){const s=zb(t,e,n,r);if(ut(s)||ft(s))return jb(t,r,s),er(t,s,n,r);if(typeof s!="symbol"){if(ct(e)){r=Object.freeze(r.concat(e));for(let i=0;i<e.items.length;++i){const o=er(i,e.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===Cn)return Cn;o===Pr&&(e.items.splice(i,1),i-=1)}}}else if(ft(e)){r=Object.freeze(r.concat(e));const i=er("key",e.key,n,r);if(i===Cn)return Cn;i===Pr&&(e.key=null);const o=er("value",e.value,n,r);if(o===Cn)return Cn;o===Pr&&(e.value=null)}}return s}function Ob(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function zb(t,e,n,r){if(typeof n=="function")return n(t,e,r);if(Gr(e))return n.Map?.(t,e,r);if(Hr(e))return n.Seq?.(t,e,r);if(ft(e))return n.Pair?.(t,e,r);if(Qe(e))return n.Scalar?.(t,e,r);if(Zn(e))return n.Alias?.(t,e,r)}function jb(t,e,n){const r=e[e.length-1];if(ct(r))r.items[t]=n;else if(ft(r))t==="key"?r.key=n:r.value=n;else if(Xs(r))r.contents=n;else{const s=Zn(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const Cb={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Pb=t=>t.replace(/[!,[\]{}]/g,e=>Cb[e]);class vt{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},vt.defaultYaml,e),this.tags=Object.assign({},vt.defaultTags,n)}clone(){const e=new vt(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new vt(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:vt.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},vt.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:vt.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},vt.defaultTags),this.atNextDocument=!1);const r=e.trim().split(/[ \t]+/),s=r.shift();switch(s){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[i,o]=r;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=r;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,o),!1}}default:return n(0,`Unknown directive ${s}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,s]=e.match(/^(.*!)([^!]*)$/s);s||n(`The ${e} tag has no suffix`);const i=this.tags[r];if(i)try{return i+decodeURIComponent(s)}catch(o){return n(String(o)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+Pb(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let s;if(e&&r.length>0&&ut(e.contents)){const i={};_r(e.contents,(o,a)=>{ut(a)&&a.tag&&(i[a.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,o]of r)i==="!!"&&o==="tag:yaml.org,2002:"||(!e||s.some(a=>a.startsWith(o)))&&n.push(`%TAG ${i} ${o}`);return n.join(`
`)}}vt.defaultYaml={explicit:!1,version:"1.2"};vt.defaultTags={"!!":"tag:yaml.org,2002:"};function vu(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function ku(t){const e=new Set;return _r(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function xu(t,e){for(let n=1;;++n){const r=`${t}${n}`;if(!e.has(r))return r}}function $b(t,e){const n=[],r=new Map;let s=null;return{onAnchor:i=>{n.push(i),s??(s=ku(t));const o=xu(e,s);return s.add(o),o},setAnchors:()=>{for(const i of n){const o=r.get(i);if(typeof o=="object"&&o.anchor&&(Qe(o.node)||ct(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=i,a}}},sourceObjects:r}}function tr(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,i=r.length;s<i;++s){const o=r[s],a=tr(t,r,String(s),o);a===void 0?delete r[s]:a!==o&&(r[s]=a)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const i=r.get(s),o=tr(t,r,s,i);o===void 0?r.delete(s):o!==i&&r.set(s,o)}else if(r instanceof Set)for(const s of Array.from(r)){const i=tr(t,r,s,s);i===void 0?r.delete(s):i!==s&&(r.delete(s),r.add(i))}else for(const[s,i]of Object.entries(r)){const o=tr(t,r,s,i);o===void 0?delete r[s]:o!==i&&(r[s]=o)}return t.call(e,n,r)}function jt(t,e,n){if(Array.isArray(t))return t.map((r,s)=>jt(r,String(s),n));if(t&&typeof t.toJSON=="function"){if(!n||!_u(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=i=>{r.res=i,delete n.onCreate};const s=t.toJSON(e,n);return n.onCreate&&n.onCreate(s),s}return typeof t=="bigint"&&!n?.keep?Number(t):t}class Lo{constructor(e){Object.defineProperty(this,Ct,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){if(!Xs(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=jt(this,"",o);if(typeof s=="function")for(const{count:l,res:u}of o.anchors.values())s(u,l);return typeof i=="function"?tr(i,{"":a},"",a):a}}class Ro extends Lo{constructor(e){super(Do),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let r;n?.aliasResolveCache?r=n.aliasResolveCache:(r=[],_r(e,{Node:(i,o)=>{(Zn(o)||_u(o))&&r.push(o)}}),n&&(n.aliasResolveCache=r));let s;for(const i of r){if(i===this)break;i.anchor===this.source&&(s=i)}return s}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:s,maxAliasCount:i}=n,o=this.resolve(s,n);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=r.get(o);if(a||(jt(o,null,n),a=r.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Ds(s,o,r)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,r){const s=`*${this.source}`;if(e){if(vu(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${s} `}return s}}function Ds(t,e,n){if(Zn(e)){const r=e.resolve(t),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(ct(e)){let r=0;for(const s of e.items){const i=Ds(t,s,n);i>r&&(r=i)}return r}else if(ft(e)){const r=Ds(t,e.key,n),s=Ds(t,e.value,n);return Math.max(r,s)}return 1}const Su=t=>!t||typeof t!="function"&&typeof t!="object";class De extends Lo{constructor(e){super(Yt),this.value=e}toJSON(e,n){return n?.keep?this.value:jt(this.value,e,n)}toString(){return String(this.value)}}De.BLOCK_FOLDED="BLOCK_FOLDED";De.BLOCK_LITERAL="BLOCK_LITERAL";De.PLAIN="PLAIN";De.QUOTE_DOUBLE="QUOTE_DOUBLE";De.QUOTE_SINGLE="QUOTE_SINGLE";const Db="tag:yaml.org,2002:";function Lb(t,e,n){if(e){const r=n.filter(i=>i.tag===e),s=r.find(i=>!i.format)??r[0];if(!s)throw new Error(`Tag ${e} not found`);return s}return n.find(r=>r.identify?.(t)&&!r.format)}function Ur(t,e,n){if(Xs(t)&&(t=t.contents),ut(t))return t;if(ft(t)){const f=n.schema[bn].createNode?.(n.schema,null,n);return f.items.push(t),f}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:i,schema:o,sourceObjects:a}=n;let l;if(r&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor??(l.anchor=s(t)),new Ro(l.anchor);l={anchor:null,node:null},a.set(t,l)}e?.startsWith("!!")&&(e=Db+e.slice(2));let u=Lb(t,e,o.tags);if(!u){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const f=new De(t);return l&&(l.node=f),f}u=t instanceof Map?o[bn]:Symbol.iterator in Object(t)?o[wr]:o[bn]}i&&(i(u),delete n.onTagObj);const d=u?.createNode?u.createNode(n.schema,t,n):typeof u?.nodeClass?.from=="function"?u.nodeClass.from(n.schema,t,n):new De(t);return e?d.tag=e:u.default||(d.tag=u.tag),l&&(l.node=d),d}function Vs(t,e,n){let r=n;for(let s=e.length-1;s>=0;--s){const i=e[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=r,r=o}else r=new Map([[i,r]])}return Ur(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const zr=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class Au extends Lo{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>ut(r)||ft(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(zr(e))this.add(n);else{const[r,...s]=e,i=this.get(r,!0);if(ct(i))i.addIn(s,n);else if(i===void 0&&this.schema)this.set(r,Vs(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const s=this.get(n,!0);if(ct(s))return s.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...s]=e,i=this.get(r,!0);return s.length===0?!n&&Qe(i)?i.value:i:ct(i)?i.getIn(s,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!ft(n))return!1;const r=n.value;return r==null||e&&Qe(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const s=this.get(n,!0);return ct(s)?s.hasIn(r):!1}setIn(e,n){const[r,...s]=e;if(s.length===0)this.set(r,n);else{const i=this.get(r,!0);if(ct(i))i.setIn(s,n);else if(i===void 0&&this.schema)this.set(r,Vs(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}}const Rb=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Xt(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Dn=(t,e,n)=>t.endsWith(`
`)?Xt(n,e):n.includes(`
`)?`
`+Xt(n,e):(t.endsWith(" ")?"":" ")+n,Nu="flow",oo="block",Ls="quoted";function Qs(t,e,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!s||s<0)return t;s<i&&(i=0);const l=Math.max(1+i,1+s-e.length);if(t.length<=l)return t;const u=[],d={};let f=s-e.length;typeof r=="number"&&(r>s-Math.max(2,i)?u.push(0):f=s-r);let h,g,y=!1,m=-1,b=-1,S=-1;n===oo&&(m=Al(t,m,e.length),m!==-1&&(f=m+l));for(let N;N=t[m+=1];){if(n===Ls&&N==="\\"){switch(b=m,t[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}S=m}if(N===`
`)n===oo&&(m=Al(t,m,e.length)),f=m+e.length+l,h=void 0;else{if(N===" "&&g&&g!==" "&&g!==`
`&&g!=="	"){const k=t[m+1];k&&k!==" "&&k!==`
`&&k!=="	"&&(h=m)}if(m>=f)if(h)u.push(h),f=h+l,h=void 0;else if(n===Ls){for(;g===" "||g==="	";)g=N,N=t[m+=1],y=!0;const k=m>S+1?m-2:b-1;if(d[k])return t;u.push(k),d[k]=!0,f=k+l,h=void 0}else y=!0}g=N}if(y&&a&&a(),u.length===0)return t;o&&o();let T=t.slice(0,u[0]);for(let N=0;N<u.length;++N){const k=u[N],z=u[N+1]||t.length;k===0?T=`
${e}${t.slice(0,z)}`:(n===Ls&&d[k]&&(T+=`${t[k]}\\`),T+=`
${e}${t.slice(k+1,z)}`)}return T}function Al(t,e,n){let r=e,s=e+1,i=t[s];for(;i===" "||i==="	";)if(e<s+n)i=t[++e];else{do i=t[++e];while(i&&i!==`
`);r=e,s=e+1,i=t[s]}return r}const ei=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),ti=t=>/^(%|---|\.\.\.)/m.test(t);function Bb(t,e,n){if(!e||e<0)return!1;const r=e-n,s=t.length;if(s<=r)return!1;for(let i=0,o=0;i<s;++i)if(t[i]===`
`){if(i-o>r)return!0;if(o=i+1,s-o<=r)return!1}return!0}function $r(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,s=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(ti(t)?"  ":"");let o="",a=0;for(let l=0,u=n[l];u;u=n[++l])if(u===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,u="\\"),u==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const d=n.substr(l+2,4);switch(d){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:d.substr(0,2)==="00"?o+="\\x"+d.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<s)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=i,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,r?o:Qs(o,i,Ls,ei(e,!1))}function ao(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return $r(t,e);const n=e.indent||(ti(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:Qs(r,n,Nu,ei(e,!1))}function nr(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=$r;else{const s=t.includes('"'),i=t.includes("'");s&&!i?r=ao:i&&!s?r=$r:r=n?ao:$r}return r(t,e)}let lo;try{lo=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{lo=/\n+(?!\n|$)/g}function Rs({comment:t,type:e,value:n},r,s,i){const{blockQuote:o,commentString:a,lineWidth:l}=r.options;if(!o||/\n[\t ]+$/.test(n))return nr(n,r);const u=r.indent||(r.forceBlockIndent||ti(n)?"  ":""),d=o==="literal"?!0:o==="folded"||e===De.BLOCK_FOLDED?!1:e===De.BLOCK_LITERAL?!0:!Bb(n,l,u.length);if(!n)return d?`|
`:`>
`;let f,h;for(h=n.length;h>0;--h){const z=n[h-1];if(z!==`
`&&z!=="	"&&z!==" ")break}let g=n.substring(h);const y=g.indexOf(`
`);y===-1?f="-":n===g||y!==g.length-1?(f="+",i&&i()):f="",g&&(n=n.slice(0,-g.length),g[g.length-1]===`
`&&(g=g.slice(0,-1)),g=g.replace(lo,`$&${u}`));let m=!1,b,S=-1;for(b=0;b<n.length;++b){const z=n[b];if(z===" ")m=!0;else if(z===`
`)S=b;else break}let T=n.substring(0,S<b?S+1:b);T&&(n=n.substring(T.length),T=T.replace(/\n+/g,`$&${u}`));let k=(m?u?"2":"1":"")+f;if(t&&(k+=" "+a(t.replace(/ ?[\r\n]+/g," ")),s&&s()),!d){const z=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);let I=!1;const j=ei(r,!0);o!=="folded"&&e!==De.BLOCK_FOLDED&&(j.onOverflow=()=>{I=!0});const O=Qs(`${T}${z}${g}`,u,oo,j);if(!I)return`>${k}
${u}${O}`}return n=n.replace(/\n+/g,`$&${u}`),`|${k}
${u}${T}${n}${g}`}function Mb(t,e,n,r){const{type:s,value:i}=t,{actualString:o,implicitKey:a,indent:l,indentStep:u,inFlow:d}=e;if(a&&i.includes(`
`)||d&&/[[\]{},]/.test(i))return nr(i,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||d||!i.includes(`
`)?nr(i,e):Rs(t,e,n,r);if(!a&&!d&&s!==De.PLAIN&&i.includes(`
`))return Rs(t,e,n,r);if(ti(i)){if(l==="")return e.forceBlockIndent=!0,Rs(t,e,n,r);if(a&&l===u)return nr(i,e)}const f=i.replace(/\n+/g,`$&
${l}`);if(o){const h=m=>m.default&&m.tag!=="tag:yaml.org,2002:str"&&m.test?.test(f),{compat:g,tags:y}=e.doc.schema;if(y.some(h)||g?.some(h))return nr(i,e)}return a?f:Qs(f,l,Nu,ei(e,!1))}function Bo(t,e,n,r){const{implicitKey:s,inFlow:i}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==De.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=De.QUOTE_DOUBLE);const l=d=>{switch(d){case De.BLOCK_FOLDED:case De.BLOCK_LITERAL:return s||i?nr(o.value,e):Rs(o,e,n,r);case De.QUOTE_DOUBLE:return $r(o.value,e);case De.QUOTE_SINGLE:return ao(o.value,e);case De.PLAIN:return Mb(o,e,n,r);default:return null}};let u=l(a);if(u===null){const{defaultKeyType:d,defaultStringType:f}=e.options,h=s&&d||f;if(u=l(h),u===null)throw new Error(`Unsupported default string type ${h}`)}return u}function Tu(t,e){const n=Object.assign({blockQuote:!0,commentString:Rb,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function Fb(t,e){if(e.tag){const s=t.filter(i=>i.tag===e.tag);if(s.length>0)return s.find(i=>i.format===e.format)??s[0]}let n,r;if(Qe(e)){r=e.value;let s=t.filter(i=>i.identify?.(r));if(s.length>1){const i=s.filter(o=>o.test);i.length>0&&(s=i)}n=s.find(i=>i.format===e.format)??s.find(i=>!i.format)}else r=e,n=t.find(s=>s.nodeClass&&r instanceof s.nodeClass);if(!n){const s=r?.constructor?.name??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${s} value`)}return n}function Ub(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(Qe(t)||ct(t))&&t.anchor;i&&vu(i)&&(n.add(i),s.push(`&${i}`));const o=t.tag??(e.default?null:e.tag);return o&&s.push(r.directives.tagString(o)),s.join(" ")}function hr(t,e,n,r){if(ft(t))return t.toString(e,n,r);if(Zn(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let s;const i=ut(t)?t:e.doc.createNode(t,{onTagObj:l=>s=l});s??(s=Fb(e.doc.schema.tags,i));const o=Ub(i,s,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof s.stringify=="function"?s.stringify(i,e,n,r):Qe(i)?Bo(i,e,n,r):i.toString(e,n,r);return o?Qe(i)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}function Zb({key:t,value:e},n,r,s){const{allNullValues:i,doc:o,indent:a,indentStep:l,options:{commentString:u,indentSeq:d,simpleKeys:f}}=n;let h=ut(t)&&t.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(ct(t)||!ut(t)&&typeof t=="object"){const j="With simple keys, collection cannot be used as a key value";throw new Error(j)}}let g=!f&&(!t||h&&e==null&&!n.inFlow||ct(t)||(Qe(t)?t.type===De.BLOCK_FOLDED||t.type===De.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!g&&(f||!i),indent:a+l});let y=!1,m=!1,b=hr(t,n,()=>y=!0,()=>m=!0);if(!g&&!n.inFlow&&b.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");g=!0}if(n.inFlow){if(i||e==null)return y&&r&&r(),b===""?"?":g?`? ${b}`:b}else if(i&&!f||e==null&&g)return b=`? ${b}`,h&&!y?b+=Dn(b,n.indent,u(h)):m&&s&&s(),b;y&&(h=null),g?(h&&(b+=Dn(b,n.indent,u(h))),b=`? ${b}
${a}:`):(b=`${b}:`,h&&(b+=Dn(b,n.indent,u(h))));let S,T,N;ut(e)?(S=!!e.spaceBefore,T=e.commentBefore,N=e.comment):(S=!1,T=null,N=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!g&&!h&&Qe(e)&&(n.indentAtStart=b.length+1),m=!1,!d&&l.length>=2&&!n.inFlow&&!g&&Hr(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let k=!1;const z=hr(e,n,()=>k=!0,()=>m=!0);let I=" ";if(h||S||T){if(I=S?`
`:"",T){const j=u(T);I+=`
${Xt(j,n.indent)}`}z===""&&!n.inFlow?I===`
`&&(I=`

`):I+=`
${n.indent}`}else if(!g&&ct(e)){const j=z[0],O=z.indexOf(`
`),D=O!==-1,M=n.inFlow??e.flow??e.items.length===0;if(D||!M){let W=!1;if(D&&(j==="&"||j==="!")){let K=z.indexOf(" ");j==="&"&&K!==-1&&K<O&&z[K+1]==="!"&&(K=z.indexOf(" ",K+1)),(K===-1||O<K)&&(W=!0)}W||(I=`
${n.indent}`)}}else(z===""||z[0]===`
`)&&(I="");return b+=I+z,n.inFlow?k&&r&&r():N&&!k?b+=Dn(b,n.indent,u(N)):m&&s&&s(),b}function Eu(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const Ss="<<",tn={identify:t=>t===Ss||typeof t=="symbol"&&t.description===Ss,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new De(Symbol(Ss)),{addToJSMap:Iu}),stringify:()=>Ss},Vb=(t,e)=>(tn.identify(e)||Qe(e)&&(!e.type||e.type===De.PLAIN)&&tn.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===tn.tag&&n.default);function Iu(t,e,n){if(n=t&&Zn(n)?n.resolve(t.doc):n,Hr(n))for(const r of n.items)Ti(t,e,r);else if(Array.isArray(n))for(const r of n)Ti(t,e,r);else Ti(t,e,n)}function Ti(t,e,n){const r=t&&Zn(n)?n.resolve(t.doc):n;if(!Gr(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,t,Map);for(const[i,o]of s)e instanceof Map?e.has(i)||e.set(i,o):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Ou(t,e,{key:n,value:r}){if(ut(n)&&n.addToJSMap)n.addToJSMap(t,e,r);else if(Vb(t,n))Iu(t,e,r);else{const s=jt(n,"",t);if(e instanceof Map)e.set(s,jt(r,s,t));else if(e instanceof Set)e.add(s);else{const i=qb(n,s,t),o=jt(r,i,t);i in e?Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[i]=o}}return e}function qb(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(ut(t)&&n?.doc){const r=Tu(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;const s=t.toString(r);if(!n.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),Eu(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(e)}function Mo(t,e,n){const r=Ur(t,void 0,n),s=Ur(e,void 0,n);return new kt(r,s)}class kt{constructor(e,n=null){Object.defineProperty(this,Ct,{value:wu}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return ut(n)&&(n=n.clone(e)),ut(r)&&(r=r.clone(e)),new kt(n,r)}toJSON(e,n){const r=n?.mapAsMap?new Map:{};return Ou(n,r,this)}toString(e,n,r){return e?.doc?Zb(this,e,n,r):JSON.stringify(this)}}function zu(t,e,n){return(e.inFlow??t.flow?Gb:Kb)(t,e,n)}function Kb({comment:t,items:e},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:u}}=n,d=Object.assign({},n,{indent:i,type:null});let f=!1;const h=[];for(let y=0;y<e.length;++y){const m=e[y];let b=null;if(ut(m))!f&&m.spaceBefore&&h.push(""),qs(n,h,m.commentBefore,f),m.comment&&(b=m.comment);else if(ft(m)){const T=ut(m.key)?m.key:null;T&&(!f&&T.spaceBefore&&h.push(""),qs(n,h,T.commentBefore,f))}f=!1;let S=hr(m,d,()=>b=null,()=>f=!0);b&&(S+=Dn(S,i,u(b))),f&&b&&(f=!1),h.push(r+S)}let g;if(h.length===0)g=s.start+s.end;else{g=h[0];for(let y=1;y<h.length;++y){const m=h[y];g+=m?`
${l}${m}`:`
`}}return t?(g+=`
`+Xt(u(t),l),a&&a()):f&&o&&o(),g}function Gb({items:t},e,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:i,flowCollectionPadding:o,options:{commentString:a}}=e;r+=i;const l=Object.assign({},e,{indent:r,inFlow:!0,type:null});let u=!1,d=0;const f=[];for(let y=0;y<t.length;++y){const m=t[y];let b=null;if(ut(m))m.spaceBefore&&f.push(""),qs(e,f,m.commentBefore,!1),m.comment&&(b=m.comment);else if(ft(m)){const T=ut(m.key)?m.key:null;T&&(T.spaceBefore&&f.push(""),qs(e,f,T.commentBefore,!1),T.comment&&(u=!0));const N=ut(m.value)?m.value:null;N?(N.comment&&(b=N.comment),N.commentBefore&&(u=!0)):m.value==null&&T?.comment&&(b=T.comment)}b&&(u=!0);let S=hr(m,l,()=>b=null);y<t.length-1&&(S+=","),b&&(S+=Dn(S,r,a(b))),!u&&(f.length>d||S.includes(`
`))&&(u=!0),f.push(S),d=f.length}const{start:h,end:g}=n;if(f.length===0)return h+g;if(!u){const y=f.reduce((m,b)=>m+b.length+2,2);u=e.options.lineWidth>0&&y>e.options.lineWidth}if(u){let y=h;for(const m of f)y+=m?`
${i}${s}${m}`:`
`;return`${y}
${s}${g}`}else return`${h}${o}${f.join(" ")}${o}${g}`}function qs({indent:t,options:{commentString:e}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const i=Xt(e(r),t);n.push(i.trimStart())}}function Ln(t,e){const n=Qe(e)?e.value:e;for(const r of t)if(ft(r)&&(r.key===e||r.key===n||Qe(r.key)&&r.key.value===n))return r}class zt extends Au{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(bn,e),this.items=[]}static from(e,n,r){const{keepUndefined:s,replacer:i}=r,o=new this(e),a=(l,u)=>{if(typeof i=="function")u=i.call(n,l,u);else if(Array.isArray(i)&&!i.includes(l))return;(u!==void 0||s)&&o.items.push(Mo(l,u,r))};if(n instanceof Map)for(const[l,u]of n)a(l,u);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){let r;ft(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new kt(e,e?.value):r=new kt(e.key,e.value);const s=Ln(this.items,r.key),i=this.schema?.sortMapEntries;if(s){if(!n)throw new Error(`Key ${r.key} already set`);Qe(s.value)&&Su(r.value)?s.value.value=r.value:s.value=r.value}else if(i){const o=this.items.findIndex(a=>i(r,a)<0);o===-1?this.items.push(r):this.items.splice(o,0,r)}else this.items.push(r)}delete(e){const n=Ln(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const s=Ln(this.items,e)?.value;return(!n&&Qe(s)?s.value:s)??void 0}has(e){return!!Ln(this.items,e)}set(e,n){this.add(new kt(e,n),!0)}toJSON(e,n,r){const s=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(s);for(const i of this.items)Ou(n,s,i);return s}toString(e,n,r){if(!e)return JSON.stringify(this);for(const s of this.items)if(!ft(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),zu(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}const vr={collection:"map",default:!0,nodeClass:zt,tag:"tag:yaml.org,2002:map",resolve(t,e){return Gr(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>zt.from(t,e,n)};class Un extends Au{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(wr,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=As(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=As(e);if(typeof r!="number")return;const s=this.items[r];return!n&&Qe(s)?s.value:s}has(e){const n=As(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=As(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[r];Qe(s)&&Su(n)?s.value=n:this.items[r]=n}toJSON(e,n){const r=[];n?.onCreate&&n.onCreate(r);let s=0;for(const i of this.items)r.push(jt(i,String(s++),n));return r}toString(e,n,r){return e?zu(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof s=="function"){const l=n instanceof Set?a:String(o++);a=s.call(n,l,a)}i.items.push(Ur(a,void 0,r))}}return i}}function As(t){let e=Qe(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const kr={collection:"seq",default:!0,nodeClass:Un,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Hr(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>Un.from(t,e,n)},ni={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),Bo(t,e,n,r)}},ri={identify:t=>t==null,createNode:()=>new De(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new De(null),stringify:({source:t},e)=>typeof t=="string"&&ri.test.test(t)?t:e.options.nullStr},Fo={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new De(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&Fo.test.test(t)){const r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};function Ft({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);const s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let a=e-(i.length-o-1);for(;a-- >0;)i+="0"}return i}const ju={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ft},Cu={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Ft(t)}},Pu={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new De(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:Ft},si=t=>typeof t=="bigint"||Number.isInteger(t),Uo=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function $u(t,e,n){const{value:r}=t;return si(r)&&r>=0?n+r.toString(e):Ft(t)}const Du={identify:t=>si(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>Uo(t,2,8,n),stringify:t=>$u(t,8,"0o")},Lu={identify:si,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>Uo(t,0,10,n),stringify:Ft},Ru={identify:t=>si(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>Uo(t,2,16,n),stringify:t=>$u(t,16,"0x")},Hb=[vr,kr,ni,ri,Fo,Du,Lu,Ru,ju,Cu,Pu];function Nl(t){return typeof t=="bigint"||Number.isInteger(t)}const Ns=({value:t})=>JSON.stringify(t),Yb=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Ns},{identify:t=>t==null,createNode:()=>new De(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Ns},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:Ns},{identify:Nl,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>Nl(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Ns}],Wb={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},Jb=[vr,kr].concat(Yb,Wb),Zo={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,s,i){if(!n)return"";const o=n;let a;if(typeof btoa=="function"){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=De.BLOCK_LITERAL),e!==De.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(a.length/l),d=new Array(u);for(let f=0,h=0;f<u;++f,h+=l)d[f]=a.substr(h,l);a=d.join(e===De.BLOCK_LITERAL?`
`:" ")}return Bo({comment:t,type:e,value:a},r,s,i)}};function Bu(t,e){if(Hr(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!ft(r)){if(Gr(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");const s=r.items[0]||new kt(new De(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){const i=s.value??s.key;i.comment=i.comment?`${r.comment}
${i.comment}`:r.comment}r=s}t.items[n]=ft(r)?r:new kt(r)}}else e("Expected a sequence for this tag");return t}function Mu(t,e,n){const{replacer:r}=n,s=new Un(t);s.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof r=="function"&&(o=r.call(e,String(i++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)a=u[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=o;s.items.push(Mo(a,l,n))}return s}const Vo={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Bu,createNode:Mu};class ar extends Un{constructor(){super(),this.add=zt.prototype.add.bind(this),this.delete=zt.prototype.delete.bind(this),this.get=zt.prototype.get.bind(this),this.has=zt.prototype.has.bind(this),this.set=zt.prototype.set.bind(this),this.tag=ar.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n?.onCreate&&n.onCreate(r);for(const s of this.items){let i,o;if(ft(s)?(i=jt(s.key,"",n),o=jt(s.value,i,n)):i=jt(s,"",n),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,o)}return r}static from(e,n,r){const s=Mu(e,n,r),i=new this;return i.items=s.items,i}}ar.tag="tag:yaml.org,2002:omap";const qo={collection:"seq",identify:t=>t instanceof Map,nodeClass:ar,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=Bu(t,e),r=[];for(const{key:s}of n.items)Qe(s)&&(r.includes(s.value)?e(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new ar,n)},createNode:(t,e,n)=>ar.from(t,e,n)};function Fu({value:t,source:e},n){return e&&(t?Uu:Zu).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const Uu={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new De(!0),stringify:Fu},Zu={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new De(!1),stringify:Fu},Xb={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ft},Qb={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Ft(t)}},ew={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new De(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:Ft},Yr=t=>typeof t=="bigint"||Number.isInteger(t);function ii(t,e,n,{intAsBigInt:r}){const s=t[0];if((s==="-"||s==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return s==="-"?BigInt(-1)*o:o}const i=parseInt(t,n);return s==="-"?-1*i:i}function Ko(t,e,n){const{value:r}=t;if(Yr(r)){const s=r.toString(e);return r<0?"-"+n+s.substr(1):n+s}return Ft(t)}const tw={identify:Yr,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>ii(t,2,2,n),stringify:t=>Ko(t,2,"0b")},nw={identify:Yr,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>ii(t,1,8,n),stringify:t=>Ko(t,8,"0")},rw={identify:Yr,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>ii(t,0,10,n),stringify:Ft},sw={identify:Yr,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>ii(t,2,16,n),stringify:t=>Ko(t,16,"0x")};class lr extends zt{constructor(e){super(e),this.tag=lr.tag}add(e){let n;ft(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new kt(e.key,null):n=new kt(e,null),Ln(this.items,n.key)||this.items.push(n)}get(e,n){const r=Ln(this.items,e);return!n&&ft(r)?Qe(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Ln(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new kt(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof s=="function"&&(o=s.call(n,o,o)),i.items.push(Mo(o,null,r));return i}}lr.tag="tag:yaml.org,2002:set";const Go={collection:"map",identify:t=>t instanceof Set,nodeClass:lr,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>lr.from(t,e,n),resolve(t,e){if(Gr(t)){if(t.hasAllNullValues(!0))return Object.assign(new lr,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function Ho(t,e){const n=t[0],r=n==="-"||n==="+"?t.substring(1):t,s=o=>e?BigInt(o):Number(o),i=r.replace(/_/g,"").split(":").reduce((o,a)=>o*s(60)+s(a),s(0));return n==="-"?s(-1)*i:i}function Vu(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return Ft(t);let r="";e<0&&(r="-",e*=n(-1));const s=n(60),i=[e%s];return e<60?i.unshift(0):(e=(e-i[0])/s,i.unshift(e%s),e>=60&&(e=(e-i[0])/s,i.unshift(e))),r+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const qu={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>Ho(t,n),stringify:Vu},Ku={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>Ho(t,!1),stringify:Vu},oi={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(oi.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,s,i||0,o||0,a||0,l);const d=e[8];if(d&&d!=="Z"){let f=Ho(d,!1);Math.abs(f)<30&&(f*=60),u-=6e4*f}return new Date(u)},stringify:({value:t})=>t?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},Tl=[vr,kr,ni,ri,Uu,Zu,tw,nw,rw,sw,Xb,Qb,ew,Zo,tn,qo,Vo,Go,qu,Ku,oi],El=new Map([["core",Hb],["failsafe",[vr,kr,ni]],["json",Jb],["yaml11",Tl],["yaml-1.1",Tl]]),Il={binary:Zo,bool:Fo,float:Pu,floatExp:Cu,floatNaN:ju,floatTime:Ku,int:Lu,intHex:Ru,intOct:Du,intTime:qu,map:vr,merge:tn,null:ri,omap:qo,pairs:Vo,seq:kr,set:Go,timestamp:oi},iw={"tag:yaml.org,2002:binary":Zo,"tag:yaml.org,2002:merge":tn,"tag:yaml.org,2002:omap":qo,"tag:yaml.org,2002:pairs":Vo,"tag:yaml.org,2002:set":Go,"tag:yaml.org,2002:timestamp":oi};function Ei(t,e,n){const r=El.get(e);if(r&&!t)return n&&!r.includes(tn)?r.concat(tn):r.slice();let s=r;if(!s)if(Array.isArray(t))s=[];else{const i=Array.from(El.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${i} or define customTags array`)}if(Array.isArray(t))for(const i of t)s=s.concat(i);else typeof t=="function"&&(s=t(s.slice()));return n&&(s=s.concat(tn)),s.reduce((i,o)=>{const a=typeof o=="string"?Il[o]:o;if(!a){const l=JSON.stringify(o),u=Object.keys(Il).map(d=>JSON.stringify(d)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${u}`)}return i.includes(a)||i.push(a),i},[])}const ow=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class Yo{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:s,schema:i,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?Ei(e,"compat"):e?Ei(null,e):null,this.name=typeof i=="string"&&i||"core",this.knownTags=s?iw:{},this.tags=Ei(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,bn,{value:vr}),Object.defineProperty(this,Yt,{value:ni}),Object.defineProperty(this,wr,{value:kr}),this.sortMapEntries=typeof o=="function"?o:o===!0?ow:null}clone(){const e=Object.create(Yo.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function aw(t,e){const n=[];let r=e.directives===!0;if(e.directives!==!1&&t.directives){const l=t.directives.toString(t);l?(n.push(l),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");const s=Tu(t,e),{commentString:i}=s.options;if(t.commentBefore){n.length!==1&&n.unshift("");const l=i(t.commentBefore);n.unshift(Xt(l,""))}let o=!1,a=null;if(t.contents){if(ut(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){const d=i(t.contents.commentBefore);n.push(Xt(d,""))}s.forceBlockIndent=!!t.comment,a=t.contents.comment}const l=a?void 0:()=>o=!0;let u=hr(t.contents,s,()=>a=null,l);a&&(u+=Dn(u,"",i(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(hr(t.contents,s));if(t.directives?.docEnd)if(t.comment){const l=i(t.comment);l.includes(`
`)?(n.push("..."),n.push(Xt(l,""))):n.push(`... ${l}`)}else n.push("...");else{let l=t.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(Xt(i(l),"")))}return n.join(`
`)+`
`}class ai{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Ct,{value:io});let s=null;typeof n=="function"||Array.isArray(n)?s=n:r===void 0&&n&&(r=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:o}=i;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new vt({version:o}),this.setSchema(o,r),this.contents=e===void 0?null:this.createNode(e,s,r)}clone(){const e=Object.create(ai.prototype,{[Ct]:{value:io}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=ut(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Gn(this.contents)&&this.contents.add(e)}addIn(e,n){Gn(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const r=ku(this);e.anchor=!n||r.has(n)?xu(n||"a",r):n}return new Ro(e.anchor)}createNode(e,n,r){let s;if(typeof n=="function")e=n.call({"":e},"",e),s=n;else if(Array.isArray(n)){const b=T=>typeof T=="number"||T instanceof String||T instanceof Number,S=n.filter(b).map(String);S.length>0&&(n=n.concat(S)),s=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:u,tag:d}=r??{},{onAnchor:f,setAnchors:h,sourceObjects:g}=$b(this,o||"a"),y={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:u,replacer:s,schema:this.schema,sourceObjects:g},m=Ur(e,d,y);return a&&ct(m)&&(m.flow=!0),h(),m}createPair(e,n,r={}){const s=this.createNode(e,null,r),i=this.createNode(n,null,r);return new kt(s,i)}delete(e){return Gn(this.contents)?this.contents.delete(e):!1}deleteIn(e){return zr(e)?this.contents==null?!1:(this.contents=null,!0):Gn(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return ct(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return zr(e)?!n&&Qe(this.contents)?this.contents.value:this.contents:ct(this.contents)?this.contents.getIn(e,n):void 0}has(e){return ct(this.contents)?this.contents.has(e):!1}hasIn(e){return zr(e)?this.contents!==void 0:ct(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Vs(this.schema,[e],n):Gn(this.contents)&&this.contents.set(e,n)}setIn(e,n){zr(e)?this.contents=n:this.contents==null?this.contents=Vs(this.schema,Array.from(e),n):Gn(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new vt({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new vt({version:e}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const s=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new Yo(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:s,onAnchor:i,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},l=jt(this.contents,n??"",a);if(typeof i=="function")for(const{count:u,res:d}of a.anchors.values())i(d,u);return typeof o=="function"?tr(o,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return aw(this,e)}}function Gn(t){if(ct(t))return!0;throw new Error("Expected a YAML collection as document contents")}class Gu extends Error{constructor(e,n,r,s){super(),this.name=e,this.code=r,this.message=s,this.pos=n}}class jr extends Gu{constructor(e,n,r){super("YAMLParseError",e,n,r)}}class lw extends Gu{constructor(e,n,r){super("YAMLWarning",e,n,r)}}const Ol=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,o=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const a=Math.min(i-39,o.length-79);o=""+o.substring(a),i-=a-1}if(o.length>80&&(o=o.substring(0,79)+""),r>1&&/^ *$/.test(o.substring(0,i))){let a=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===r&&l.col>s&&(a=Math.max(1,Math.min(l.col-s,80-i)));const u=" ".repeat(i)+"^".repeat(a);n.message+=`:

${o}
${u}
`}};function pr(t,{flow:e,indicator:n,next:r,offset:s,onError:i,parentIndent:o,startOnNewline:a}){let l=!1,u=a,d=a,f="",h="",g=!1,y=!1,m=null,b=null,S=null,T=null,N=null,k=null,z=null;for(const O of t)switch(y&&(O.type!=="space"&&O.type!=="newline"&&O.type!=="comma"&&i(O.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y=!1),m&&(u&&O.type!=="comment"&&O.type!=="newline"&&i(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),O.type){case"space":!e&&(n!=="doc-start"||r?.type!=="flow-collection")&&O.source.includes("	")&&(m=O),d=!0;break;case"comment":{d||i(O,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const D=O.source.substring(1)||" ";f?f+=h+D:f=D,h="",u=!1;break}case"newline":u?f?f+=O.source:(!k||n!=="seq-item-ind")&&(l=!0):h+=O.source,u=!0,g=!0,(b||S)&&(T=O),d=!0;break;case"anchor":b&&i(O,"MULTIPLE_ANCHORS","A node can have at most one anchor"),O.source.endsWith(":")&&i(O.offset+O.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),b=O,z??(z=O.offset),u=!1,d=!1,y=!0;break;case"tag":{S&&i(O,"MULTIPLE_TAGS","A node can have at most one tag"),S=O,z??(z=O.offset),u=!1,d=!1,y=!0;break}case n:(b||S)&&i(O,"BAD_PROP_ORDER",`Anchors and tags must be after the ${O.source} indicator`),k&&i(O,"UNEXPECTED_TOKEN",`Unexpected ${O.source} in ${e??"collection"}`),k=O,u=n==="seq-item-ind"||n==="explicit-key-ind",d=!1;break;case"comma":if(e){N&&i(O,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),N=O,u=!1,d=!1;break}default:i(O,"UNEXPECTED_TOKEN",`Unexpected ${O.type} token`),u=!1,d=!1}const I=t[t.length-1],j=I?I.offset+I.source.length:s;return y&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(u&&m.indent<=o||r?.type==="block-map"||r?.type==="block-seq")&&i(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:N,found:k,spaceBefore:l,comment:f,hasNewline:g,anchor:b,tag:S,newlineAfterProp:T,end:j,start:z??j}}function Zr(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(Zr(e.key)||Zr(e.value))return!0}return!1;default:return!0}}function co(t,e,n){if(e?.type==="flow-collection"){const r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&Zr(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Hu(t,e,n){const{uniqueKeys:r}=t.options;if(r===!1)return!1;const s=typeof r=="function"?r:(i,o)=>i===o||Qe(i)&&Qe(o)&&i.value===o.value;return e.some(i=>s(i.key,n))}const zl="All mapping items must start at the same column";function cw({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=i?.nodeClass??zt,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,u=null;for(const d of r.items){const{start:f,key:h,sep:g,value:y}=d,m=pr(f,{indicator:"explicit-key-ind",next:h??g?.[0],offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0}),b=!m.found;if(b){if(h&&(h.type==="block-seq"?s(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==r.indent&&s(l,"BAD_INDENT",zl)),!m.anchor&&!m.tag&&!g){u=m.end,m.comment&&(a.comment?a.comment+=`
`+m.comment:a.comment=m.comment);continue}(m.newlineAfterProp||Zr(h))&&s(h??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else m.found?.indent!==r.indent&&s(l,"BAD_INDENT",zl);n.atKey=!0;const S=m.end,T=h?t(n,h,m,s):e(n,S,f,null,m,s);n.schema.compat&&co(r.indent,h,s),n.atKey=!1,Hu(n,a.items,T)&&s(S,"DUPLICATE_KEY","Map keys must be unique");const N=pr(g??[],{indicator:"map-value-ind",next:y,offset:T.range[2],onError:s,parentIndent:r.indent,startOnNewline:!h||h.type==="block-scalar"});if(l=N.end,N.found){b&&(y?.type==="block-map"&&!N.hasNewline&&s(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&m.start<N.found.offset-1024&&s(T.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const k=y?t(n,y,N,s):e(n,l,g,null,N,s);n.schema.compat&&co(r.indent,y,s),l=k.range[2];const z=new kt(T,k);n.options.keepSourceTokens&&(z.srcToken=d),a.items.push(z)}else{b&&s(T.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),N.comment&&(T.comment?T.comment+=`
`+N.comment:T.comment=N.comment);const k=new kt(T);n.options.keepSourceTokens&&(k.srcToken=d),a.items.push(k)}}return u&&u<l&&s(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,u??l],a}function uw({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=i?.nodeClass??Un,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,u=null;for(const{start:d,value:f}of r.items){const h=pr(d,{indicator:"seq-item-ind",next:f,offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||f)f&&f.type==="block-seq"?s(h.end,"BAD_INDENT","All sequence items must start at the same column"):s(l,"MISSING_CHAR","Sequence item without - indicator");else{u=h.end,h.comment&&(a.comment=h.comment);continue}const g=f?t(n,f,h,s):e(n,h.end,d,null,h,s);n.schema.compat&&co(r.indent,f,s),l=g.range[2],a.items.push(g)}return a.range=[r.offset,l,u??l],a}function Wr(t,e,n,r){let s="";if(t){let i=!1,o="";for(const a of t){const{source:l,type:u}=a;switch(u){case"space":i=!0;break;case"comment":{n&&!i&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const d=l.substring(1)||" ";s?s+=o+d:s=d,o="";break}case"newline":s&&(o+=l),i=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}e+=l.length}}return{comment:s,offset:e}}const Ii="Block collections are not allowed within flow collections",Oi=t=>t&&(t.type==="block-map"||t.type==="block-seq");function fw({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=r.start.source==="{",a=o?"flow map":"flow sequence",l=i?.nodeClass??(o?zt:Un),u=new l(n.schema);u.flow=!0;const d=n.atRoot;d&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let f=r.offset+r.start.source.length;for(let b=0;b<r.items.length;++b){const S=r.items[b],{start:T,key:N,sep:k,value:z}=S,I=pr(T,{flow:a,indicator:"explicit-key-ind",next:N??k?.[0],offset:f,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!I.found){if(!I.anchor&&!I.tag&&!k&&!z){b===0&&I.comma?s(I.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):b<r.items.length-1&&s(I.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),I.comment&&(u.comment?u.comment+=`
`+I.comment:u.comment=I.comment),f=I.end;continue}!o&&n.options.strict&&Zr(N)&&s(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(b===0)I.comma&&s(I.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(I.comma||s(I.start,"MISSING_CHAR",`Missing , between ${a} items`),I.comment){let j="";e:for(const O of T)switch(O.type){case"comma":case"space":break;case"comment":j=O.source.substring(1);break e;default:break e}if(j){let O=u.items[u.items.length-1];ft(O)&&(O=O.value??O.key),O.comment?O.comment+=`
`+j:O.comment=j,I.comment=I.comment.substring(j.length+1)}}if(!o&&!k&&!I.found){const j=z?t(n,z,I,s):e(n,I.end,k,null,I,s);u.items.push(j),f=j.range[2],Oi(z)&&s(j.range,"BLOCK_IN_FLOW",Ii)}else{n.atKey=!0;const j=I.end,O=N?t(n,N,I,s):e(n,j,T,null,I,s);Oi(N)&&s(O.range,"BLOCK_IN_FLOW",Ii),n.atKey=!1;const D=pr(k??[],{flow:a,indicator:"map-value-ind",next:z,offset:O.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(D.found){if(!o&&!I.found&&n.options.strict){if(k)for(const K of k){if(K===D.found)break;if(K.type==="newline"){s(K,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}I.start<D.found.offset-1024&&s(D.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else z&&("source"in z&&z.source&&z.source[0]===":"?s(z,"MISSING_CHAR",`Missing space after : in ${a}`):s(D.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const M=z?t(n,z,D,s):D.found?e(n,D.end,k,null,D,s):null;M?Oi(z)&&s(M.range,"BLOCK_IN_FLOW",Ii):D.comment&&(O.comment?O.comment+=`
`+D.comment:O.comment=D.comment);const W=new kt(O,M);if(n.options.keepSourceTokens&&(W.srcToken=S),o){const K=u;Hu(n,K.items,O)&&s(j,"DUPLICATE_KEY","Map keys must be unique"),K.items.push(W)}else{const K=new zt(n.schema);K.flow=!0,K.items.push(W);const Q=(M??O).range;K.range=[O.range[0],Q[1],Q[2]],u.items.push(K)}f=M?M.range[2]:D.end}}const h=o?"}":"]",[g,...y]=r.end;let m=f;if(g&&g.source===h)m=g.offset+g.source.length;else{const b=a[0].toUpperCase()+a.substring(1),S=d?`${b} must end with a ${h}`:`${b} in block collection must be sufficiently indented and end with a ${h}`;s(f,d?"MISSING_CHAR":"BAD_INDENT",S),g&&g.source.length!==1&&y.unshift(g)}if(y.length>0){const b=Wr(y,m,n.options.strict,s);b.comment&&(u.comment?u.comment+=`
`+b.comment:u.comment=b.comment),u.range=[r.offset,m,b.offset]}else u.range=[r.offset,m,m];return u}function zi(t,e,n,r,s,i){const o=n.type==="block-map"?cw(t,e,n,r,i):n.type==="block-seq"?uw(t,e,n,r,i):fw(t,e,n,r,i),a=o.constructor;return s==="!"||s===a.tagName?(o.tag=a.tagName,o):(s&&(o.tag=s),o)}function dw(t,e,n,r,s){const i=r.tag,o=i?e.directives.tagName(i.source,h=>s(i,"TAG_RESOLVE_FAILED",h)):null;if(n.type==="block-seq"){const{anchor:h,newlineAfterProp:g}=r,y=h&&i?h.offset>i.offset?h:i:h??i;y&&(!g||g.offset<y.offset)&&s(y,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!o||o==="!"||o===zt.tagName&&a==="map"||o===Un.tagName&&a==="seq")return zi(t,e,n,s,o);let l=e.schema.tags.find(h=>h.tag===o&&h.collection===a);if(!l){const h=e.schema.knownTags[o];if(h&&h.collection===a)e.schema.tags.push(Object.assign({},h,{default:!1})),l=h;else return h?s(i,"BAD_COLLECTION_TYPE",`${h.tag} used for ${a} collection, but expects ${h.collection??"scalar"}`,!0):s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),zi(t,e,n,s,o)}const u=zi(t,e,n,s,o,l),d=l.resolve?.(u,h=>s(i,"TAG_RESOLVE_FAILED",h),e.options)??u,f=ut(d)?d:new De(d);return f.range=u.range,f.tag=o,l?.format&&(f.format=l.format),f}function hw(t,e,n){const r=e.offset,s=pw(e,t.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=s.mode===">"?De.BLOCK_FOLDED:De.BLOCK_LITERAL,o=e.source?mw(e.source):[];let a=o.length;for(let m=o.length-1;m>=0;--m){const b=o[m][1];if(b===""||b==="\r")a=m;else break}if(a===0){const m=s.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let b=r+s.length;return e.source&&(b+=e.source.length),{value:m,type:i,comment:s.comment,range:[r,b,b]}}let l=e.indent+s.indent,u=e.offset+s.length,d=0;for(let m=0;m<a;++m){const[b,S]=o[m];if(S===""||S==="\r")s.indent===0&&b.length>l&&(l=b.length);else{b.length<l&&n(u+b.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(l=b.length),d=m,l===0&&!t.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=b.length+S.length+1}for(let m=o.length-1;m>=a;--m)o[m][0].length>l&&(a=m+1);let f="",h="",g=!1;for(let m=0;m<d;++m)f+=o[m][0].slice(l)+`
`;for(let m=d;m<a;++m){let[b,S]=o[m];u+=b.length+S.length+1;const T=S[S.length-1]==="\r";if(T&&(S=S.slice(0,-1)),S&&b.length<l){const k=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(u-S.length-(T?2:1),"BAD_INDENT",k),b=""}i===De.BLOCK_LITERAL?(f+=h+b.slice(l)+S,h=`
`):b.length>l||S[0]==="	"?(h===" "?h=`
`:!g&&h===`
`&&(h=`

`),f+=h+b.slice(l)+S,h=`
`,g=!0):S===""?h===`
`?f+=`
`:h=`
`:(f+=h+S,h=" ",g=!1)}switch(s.chomp){case"-":break;case"+":for(let m=a;m<o.length;++m)f+=`
`+o[m][0].slice(l);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}const y=r+s.length+e.source.length;return{value:f,type:i,comment:s.comment,range:[r,y,y]}}function pw({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=e[0],i=s[0];let o=0,a="",l=-1;for(let h=1;h<s.length;++h){const g=s[h];if(!a&&(g==="-"||g==="+"))a=g;else{const y=Number(g);!o&&y?o=y:l===-1&&(l=t+h)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let u=!1,d="",f=s.length;for(let h=1;h<e.length;++h){const g=e[h];switch(g.type){case"space":u=!0;case"newline":f+=g.source.length;break;case"comment":n&&!u&&r(g,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=g.source.length,d=g.source.substring(1);break;case"error":r(g,"UNEXPECTED_TOKEN",g.message),f+=g.source.length;break;default:{const y=`Unexpected token in block scalar header: ${g.type}`;r(g,"UNEXPECTED_TOKEN",y);const m=g.source;m&&typeof m=="string"&&(f+=m.length)}}}return{mode:i,indent:o,chomp:a,comment:d,length:f}}function mw(t){const e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),i=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)i.push([e[o],e[o+1]]);return i}function gw(t,e,n){const{offset:r,type:s,source:i,end:o}=t;let a,l;const u=(h,g,y)=>n(r+h,g,y);switch(s){case"scalar":a=De.PLAIN,l=yw(i,u);break;case"single-quoted-scalar":a=De.QUOTE_SINGLE,l=bw(i,u);break;case"double-quoted-scalar":a=De.QUOTE_DOUBLE,l=ww(i,u);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const d=r+i.length,f=Wr(o,d,e,n);return{value:l,type:a,comment:f.comment,range:[r,d,f.offset]}}function yw(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Yu(t)}function bw(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),Yu(t.slice(1,-1)).replace(/''/g,"'")}function Yu(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let s=r[1],i=" ",o=e.lastIndex;for(n.lastIndex=o;r=n.exec(t);)r[1]===""?i===`
`?s+=i:i=`
`:(s+=i+r[1],i=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(t),s+i+(r?.[1]??"")}function ww(t,e){let n="";for(let r=1;r<t.length-1;++r){const s=t[r];if(!(s==="\r"&&t[r+1]===`
`))if(s===`
`){const{fold:i,offset:o}=_w(t,r);n+=i,r=o}else if(s==="\\"){let i=t[++r];const o=vw[i];if(o)n+=o;else if(i===`
`)for(i=t[r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="\r"&&t[r+1]===`
`)for(i=t[++r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="x"||i==="u"||i==="U"){const a={x:2,u:4,U:8}[i];n+=kw(t,r+1,a,e),r+=a}else{const a=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(s===" "||s==="	"){const i=r;let o=t[r+1];for(;o===" "||o==="	";)o=t[++r+1];o!==`
`&&!(o==="\r"&&t[r+2]===`
`)&&(n+=r>i?t.slice(i,r+1):s)}else n+=s}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function _w(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}const vw={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function kw(t,e,n,r){const s=t.substr(e,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(o)){const a=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function Wu(t,e,n,r){const{value:s,type:i,comment:o,range:a}=e.type==="block-scalar"?hw(t,e,r):gw(e,t.options.strict,r),l=n?t.directives.tagName(n.source,f=>r(n,"TAG_RESOLVE_FAILED",f)):null;let u;t.options.stringKeys&&t.atKey?u=t.schema[Yt]:l?u=xw(t.schema,s,l,n,r):e.type==="scalar"?u=Sw(t,s,e,r):u=t.schema[Yt];let d;try{const f=u.resolve(s,h=>r(n??e,"TAG_RESOLVE_FAILED",h),t.options);d=Qe(f)?f:new De(f)}catch(f){const h=f instanceof Error?f.message:String(f);r(n??e,"TAG_RESOLVE_FAILED",h),d=new De(s)}return d.range=a,d.source=s,i&&(d.type=i),l&&(d.tag=l),u.format&&(d.format=u.format),o&&(d.comment=o),d}function xw(t,e,n,r,s){if(n==="!")return t[Yt];const i=[];for(const a of t.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)i.push(a);else return a;for(const a of i)if(a.test?.test(e))return a;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Yt])}function Sw({atKey:t,directives:e,schema:n},r,s,i){const o=n.tags.find(a=>(a.default===!0||t&&a.default==="key")&&a.test?.test(r))||n[Yt];if(n.compat){const a=n.compat.find(l=>l.default&&l.test?.test(r))??n[Yt];if(o.tag!==a.tag){const l=e.tagString(o.tag),u=e.tagString(a.tag),d=`Value may be parsed as either ${l} or ${u}`;i(s,"TAG_RESOLVE_FAILED",d,!0)}}return o}function Aw(t,e,n){if(e){n??(n=e.length);for(let r=n-1;r>=0;--r){let s=e[r];switch(s.type){case"space":case"comment":case"newline":t-=s.source.length;continue}for(s=e[++r];s?.type==="space";)t+=s.source.length,s=e[++r];break}}return t}const Nw={composeNode:Ju,composeEmptyNode:Wo};function Ju(t,e,n,r){const s=t.atKey,{spaceBefore:i,comment:o,anchor:a,tag:l}=n;let u,d=!0;switch(e.type){case"alias":u=Tw(t,e,r),(a||l)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=Wu(t,e,l,r),a&&(u.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=dw(Nw,t,e,n,r),a&&(u.anchor=a.source.substring(1));break;default:{const f=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",f),u=Wo(t,e.offset,void 0,null,n,r),d=!1}}return a&&u.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),s&&t.options.stringKeys&&(!Qe(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(l??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(u.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?u.comment=o:u.commentBefore=o),t.options.keepSourceTokens&&d&&(u.srcToken=e),u}function Wo(t,e,n,r,{spaceBefore:s,comment:i,anchor:o,tag:a,end:l},u){const d={type:"scalar",offset:Aw(e,n,r),indent:-1,source:""},f=Wu(t,d,a,u);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(f.spaceBefore=!0),i&&(f.comment=i,f.range[2]=l),f}function Tw({options:t},{offset:e,source:n,end:r},s){const i=new Ro(n.substring(1));i.source===""&&s(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,a=Wr(r,o,t.strict,s);return i.range=[e,o,a.offset],a.comment&&(i.comment=a.comment),i}function Ew(t,e,{offset:n,start:r,value:s,end:i},o){const a=Object.assign({_directives:e},t),l=new ai(void 0,a),u={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},d=pr(r,{indicator:"doc-start",next:s??i?.[0],offset:n,onError:o,parentIndent:0,startOnNewline:!0});d.found&&(l.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!d.hasNewline&&o(d.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=s?Ju(u,s,d,o):Wo(u,d.end,r,null,d,o);const f=l.contents.range[2],h=Wr(i,f,!1,o);return h.comment&&(l.comment=h.comment),l.range=[n,f,h.offset],l}function Or(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function jl(t){let e="",n=!1,r=!1;for(let s=0;s<t.length;++s){const i=t[s];switch(i[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(i.substring(1)||" "),n=!0,r=!1;break;case"%":t[s+1]?.[0]!=="#"&&(s+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}class Iw{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,s,i)=>{const o=Or(n);i?this.warnings.push(new lw(o,r,s)):this.errors.push(new jr(o,r,s))},this.directives=new vt({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:r,afterEmptyLine:s}=jl(this.prelude);if(r){const i=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(s||e.directives.docStart||!i)e.commentBefore=r;else if(ct(i)&&!i.flow&&i.items.length>0){let o=i.items[0];ft(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}else{const o=i.commentBefore;i.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:jl(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(const s of e)yield*this.next(s);yield*this.end(n,r)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,r,s)=>{const i=Or(e);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",r,s)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=Ew(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new jr(Or(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new jr(Or(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=Wr(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new jr(Or(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const r=Object.assign({_directives:this.directives},this.options),s=new ai(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}}const Xu="\uFEFF",Qu="",ef="",uo="";function Ow(t){switch(t){case Xu:return"byte-order-mark";case Qu:return"doc-mode";case ef:return"flow-error-end";case uo:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function Bt(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Cl=new Set("0123456789ABCDEFabcdef"),zw=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Ts=new Set(",[]{}"),jw=new Set(` ,[]{}
\r	`),ji=t=>!t||jw.has(t);class Cw{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){const s=this.buffer[r+e+1];if(s===`
`||!s&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&Bt(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Xu&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,r=e.indexOf("#");for(;r!==-1;){const i=e[r-1];if(i===" "||i==="	"){n=r-1;break}else r=e.indexOf("#",r+1)}for(;;){const i=e[n-1];if(i===" "||i==="	")n-=1;else break}const s=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield Qu,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&Bt(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Bt(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Bt(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(ji),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&s[0]!=="#"||r===0&&(s.startsWith("---")||s.startsWith("..."))&&Bt(s[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield ef,yield*this.parseLineStart();let i=0;for(;s[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),s[i]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(ji),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||Bt(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let s=r.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const i=this.continueScalar(s+1);if(i===-1)break;s=r.indexOf(`
`,i)}s!==-1&&(n=s-(r[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Bt(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:e=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let s=e+1;for(r=this.buffer[s];r===" ";)r=this.buffer[++s];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++s];e=s-1}else if(!this.blockScalarKeep)do{let i=e-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const a=i;for(;o===" ";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>a)e=i;else break}while(!0);return yield uo,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,s;for(;s=this.buffer[++r];)if(s===":"){const i=this.buffer[r+1];if(Bt(i)||e&&Ts.has(i))break;n=r}else if(Bt(s)){let i=this.buffer[r+1];if(s==="\r"&&(i===`
`?(r+=1,s=`
`,i=this.buffer[r+1]):n=r),i==="#"||e&&Ts.has(i))break;if(s===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(e&&Ts.has(s))break;n=r}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield uo,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(ji))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(Bt(n)||e&&Ts.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Bt(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(zw.has(n))n=this.buffer[++e];else if(n==="%"&&Cl.has(this.buffer[e+1])&&Cl.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Pw{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){const i=n+r>>1;this.lineStarts[i]<e?n=i+1:r=i}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const s=this.lineStarts[n-1];return{line:n,col:e-s+1}}}}function gn(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function Pl(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function tf(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Es(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function Hn(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function $l(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!gn(e.start,"explicit-key-ind")&&!gn(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,tf(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class $w{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Cw,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=Ow(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&$l(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const s=r.items[r.items.length-1];if(s.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=r.items[r.items.length-1];s.value?r.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{const s=r.items[r.items.length-1];!s||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&Pl(s.start)===-1&&(n.indent===0||s.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(r.type==="document"?r.end=s.start:r.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Pl(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=Es(this.peek(2)),r=Hn(n);let s;e.end?(s=e.end,s.push(this.sourceToken),delete e.end):s=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const r=!this.onKeyLine&&this.indent===e.indent,s=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let i=[];if(s&&n.sep&&!n.value){const o=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(i=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":s||n.value?(i.push(this.sourceToken),e.items.push({start:i}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):s||n.value?(i.push(this.sourceToken),e.items.push({start:i,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(gn(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if(tf(n.key)&&!gn(n.sep,"newline")){const o=Hn(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else i.length>0?n.sep=n.sep.concat(i,this.sourceToken):n.sep.push(this.sourceToken);else if(gn(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=Hn(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||s?e.items.push({start:i,key:null,sep:[this.sourceToken]}):gn(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);s||n.value?(e.items.push({start:i,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(e);if(o){if(o.type==="block-seq"){if(!n.explicitKey&&n.sep&&!gn(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&e.items.push({start:i});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||gn(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const r=this.startBlockValue(e);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const s=Es(r),i=Hn(s);$l(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Es(e),r=Hn(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Es(e),r=Hn(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Dw(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new Pw||null,prettyErrors:e}}function Lw(t,e={}){const{lineCounter:n,prettyErrors:r}=Dw(e),s=new $w(n?.addNewLine),i=new Iw(e);let o=null;for(const a of i.compose(s.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new jr(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(Ol(t,n)),o.warnings.forEach(Ol(t,n))),o}function Rw(t,e,n){let r;const s=Lw(t,n);if(!s)return null;if(s.warnings.forEach(i=>Eu(s.options.logLevel,i)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}const nf=fo(t=>({trains:{},currentTrain:void 0,setTrainsFromYml:e=>{try{const n=Rw(e),r=yy(n);r.valid?t({trains:nu.parse(n),parseErrors:void 0}):(console.error("Invalid YAML data:",r.errors),Pn.error("We couldn't load your trains. Please check that you uploaded the SavedTrainProperties YAML file from TrainCarts. See the browser console for more details.",{duration:1e4}),t({trains:{},parseErrors:r.errors}))}catch(n){console.error("Error parsing YAML:",n),Pn.error("We couldn't read your file. Please make sure it's a valid YAML and try again. See the browser console for more details.",{duration:1e4}),t({trains:{},parseErrors:["Failed to parse YAML.",String(n)]});return}},setTrains:e=>t({trains:e}),setCurrentTrain:e=>t({currentTrain:e}),clearCurrentTrain:()=>t({currentTrain:void 0}),reset:()=>t({trains:{},currentTrain:void 0,parseErrors:void 0})}));function Bw(){const t=Te.c(58),e=Tn(),n=nf(),[r,s]=Re.useState(n.currentTrain),[i,o]=Re.useState(e.cart),[a,l]=Re.useState(e.metadata.projectName);let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=v.jsx(Po,{children:"New TCA-Project"}),t[0]=u):u=t[0];let d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=v.jsx(qt,{htmlFor:"projectName",children:"Project name"}),t[1]=d):d=t[1];let f,h,g,y;t[2]===Symbol.for("react.memo_cache_sentinel")?(f=v.jsx(go,{id:"projectName",placeholder:"My TCA Project",className:"mt-2",onChange:ve=>l(ve.target.value)}),h=v.jsx("hr",{className:"my-4"}),g=v.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"TC Animator lets you animate one cart from a single train per project. To work on a different train or cart, create a new project for each one."}),y=v.jsx(qt,{htmlFor:"train",children:"Train"}),t[2]=f,t[3]=h,t[4]=g,t[5]=y):(f=t[2],h=t[3],g=t[4],y=t[5]);let m;t[6]!==n.trains?(m=ve=>{const q=n.trains[ve];q&&(s(q),o(null))},t[6]=n.trains,t[7]=m):m=t[7];let b;t[8]===Symbol.for("react.memo_cache_sentinel")?(b=v.jsx(Bi,{className:"w-full",id:"train",children:v.jsx(Ri,{placeholder:"Select a train"})}),t[8]=b):b=t[8];let S;t[9]===Symbol.for("react.memo_cache_sentinel")?(S=v.jsx(Fi,{children:"Trains"}),t[9]=S):S=t[9];let T;t[10]!==n.trains?(T=Object.values(n.trains).filter(Uw).map(Fw),t[10]=n.trains,t[11]=T):T=t[11];let N;t[12]!==T?(N=v.jsx(Mi,{children:v.jsxs(Li,{children:[S,T]})}),t[12]=T,t[13]=N):N=t[13];let k;t[14]!==N||t[15]!==m?(k=v.jsxs(Di,{onValueChange:m,children:[b,N]}),t[14]=N,t[15]=m,t[16]=k):k=t[16];let z;t[17]===Symbol.for("react.memo_cache_sentinel")?(z=v.jsx(qt,{htmlFor:"cart",className:"mt-4",children:"Cart"}),t[17]=z):z=t[17];let I;t[18]!==i||t[19]!==r?(I=r?.carts?Object.entries(r.carts).find(ve=>{const[,q]=ve;return q===i})?.[0]??"":"",t[18]=i,t[19]=r,t[20]=I):I=t[20];const j=!r?.carts;let O;t[21]!==r?.carts?(O=ve=>{const q=r?.carts?.[ve];q&&o(q)},t[21]=r?.carts,t[22]=O):O=t[22];let D;t[23]===Symbol.for("react.memo_cache_sentinel")?(D=v.jsx(Bi,{className:"w-full",id:"cart",children:v.jsx(Ri,{placeholder:"Select a cart"})}),t[23]=D):D=t[23];let M;t[24]===Symbol.for("react.memo_cache_sentinel")?(M=v.jsx(Fi,{children:"Carts"}),t[24]=M):M=t[24];let W;t[25]!==r?.carts?(W=Object.entries(r?.carts||{}).map(Mw),t[25]=r?.carts,t[26]=W):W=t[26];let K;t[27]!==W?(K=v.jsx(Mi,{children:v.jsxs(Li,{children:[M,W]})}),t[27]=W,t[28]=K):K=t[28];let Q;t[29]!==I||t[30]!==j||t[31]!==O||t[32]!==K?(Q=v.jsxs(Di,{value:I,disabled:j,onValueChange:O,children:[D,K]}),t[29]=I,t[30]=j,t[31]=O,t[32]=K,t[33]=Q):Q=t[33];let ae;t[34]!==k||t[35]!==Q?(ae=v.jsxs(jo,{children:[u,v.jsx($o,{asChild:!0,children:v.jsxs("div",{children:[d,f,h,g,y,k,z,Q]})})]}),t[34]=k,t[35]=Q,t[36]=ae):ae=t[36];let ce;t[37]!==e||t[38]!==n?(ce=()=>{e.reset(),n.reset()},t[37]=e,t[38]=n,t[39]=ce):ce=t[39];let ge;t[40]===Symbol.for("react.memo_cache_sentinel")?(ge=v.jsx(md,{}),t[40]=ge):ge=t[40];let ue;t[41]!==ce?(ue=v.jsxs(Bn,{variant:"secondary",onClick:ce,children:[ge,"Back"]}),t[41]=ce,t[42]=ue):ue=t[42];let te;t[43]!==i||t[44]!==r||t[45]!==a||t[46]!==e||t[47]!==n?(te=async()=>{a&&r&&i&&(e.setProjectName(a),n.setCurrentTrain(r),e.setCart(i),await e.saveProject())},t[43]=i,t[44]=r,t[45]=a,t[46]=e,t[47]=n,t[48]=te):te=t[48];const de=!(a&&r&&i);let ie;t[49]!==te||t[50]!==de?(ie=v.jsx(Bn,{onClick:te,disabled:de,children:"Create Project"}),t[49]=te,t[50]=de,t[51]=ie):ie=t[51];let Se;t[52]!==ue||t[53]!==ie?(Se=v.jsxs(Co,{className:"flex justify-between",children:[ue,ie]}),t[52]=ue,t[53]=ie,t[54]=Se):Se=t[54];let Ne;return t[55]!==ae||t[56]!==Se?(Ne=v.jsx(Oo,{open:!0,children:v.jsxs(zo,{children:[ae,Se]})}),t[55]=ae,t[56]=Se,t[57]=Ne):Ne=t[57],Ne}function Mw(t){const[e]=t;return v.jsx(Bs,{value:e,children:e},e)}function Fw(t){return v.jsx(Bs,{value:t.savedName,children:t.savedName},t.savedName)}function Uw(t){return t.carts}function Zw(){const t=Te.c(22),e=Tn(),n=nf();let r;t[0]!==n?(r=async()=>{const T=await sc({description:"Select a YAML file",mimeTypes:["application/x-yaml","text/yaml"],extensions:[".yaml",".yml"],id:"load-saved-train-properties",startIn:"documents"}).catch(Vw);if(T){const N=await T.text();n.setTrainsFromYml(N),n.setCurrentTrain(Object.values(n.trains)[0])}},t[0]=n,t[1]=r):r=t[1];const s=r;let i;t[2]!==e?(i=async()=>{Pn.promise(e.loadProjectFromFile(),{loading:"Loading project...",success:"Project loaded successfully!",error:"Failed to load project."})},t[2]=e,t[3]=i):i=t[3];const o=i;if(Object.entries(n.trains).length>0&&!e.metadata.createdAt){let T;return t[4]===Symbol.for("react.memo_cache_sentinel")?(T=v.jsx(Bw,{}),t[4]=T):T=t[4],T}const a=!e.metadata.createdAt;let l;t[5]===Symbol.for("react.memo_cache_sentinel")?(l=v.jsx(Po,{children:"Welcome to TC Animator!"}),t[5]=l):l=t[5];let u;t[6]===Symbol.for("react.memo_cache_sentinel")?(u=v.jsx("h3",{className:"text-lg",children:"Please import a SavedTrainProperties YAML file or open an existing project to get started."}),t[6]=u):u=t[6];let d;t[7]===Symbol.for("react.memo_cache_sentinel")?(d=v.jsx(dd,{className:"block size-24 mx-auto"}),t[7]=d):d=t[7];let f;t[8]!==s?(f=v.jsxs(Bn,{variant:"secondary",className:"aspect-square w-full h-auto flex flex-col",onClick:s,children:[d,"Import SavedTrainProperties"]}),t[8]=s,t[9]=f):f=t[9];let h;t[10]===Symbol.for("react.memo_cache_sentinel")?(h=v.jsx(hd,{className:"block size-24 mx-auto"}),t[10]=h):h=t[10];let g;t[11]!==o?(g=v.jsxs(Bn,{variant:"secondary",className:"aspect-square w-full h-auto flex flex-col",onClick:o,children:[h,"Open TCA-Project"]}),t[11]=o,t[12]=g):g=t[12];let y;t[13]!==f||t[14]!==g?(y=v.jsxs(jo,{children:[l,v.jsx($o,{asChild:!0,children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u,v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f,g]})]})})]}),t[13]=f,t[14]=g,t[15]=y):y=t[15];let m;t[16]===Symbol.for("react.memo_cache_sentinel")?(m=v.jsx(Co,{className:"text-sm text-muted-foreground",children:v.jsxs("a",{href:"https://foxxite.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:["Made with  by Foxxite | Articca",v.jsx(pd,{className:"inline-block size-4"})]})}),t[16]=m):m=t[16];let b;t[17]!==y?(b=v.jsxs(zo,{children:[y,m]}),t[17]=y,t[18]=b):b=t[18];let S;return t[19]!==b||t[20]!==a?(S=v.jsx(Oo,{open:a,children:b}),t[19]=b,t[20]=a,t[21]=S):S=t[21],S}function Vw(){return null}gd.createRoot(document.getElementById("root")).render(v.jsxs(Re.StrictMode,{children:[v.jsx(Tb,{}),v.jsx(Zw,{}),v.jsx(vb,{}),v.jsx(yd,{position:"top-center"})]}));
