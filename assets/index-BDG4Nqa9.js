const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/monaco-editor-CsNPwndW.js","assets/react-BfgDRwPV.js"])))=>i.map(i=>d[i]);
import{g as ke,j as y,P as uf,h as ff,k as df,G as hf,T as pf,C as mf,D as gf,l as bf,n as yf,o as wf,X as Ul,O as _f,q as vf,I as kf,S as xf,M as Sf,t as Af,u as Nf,v as Tf,w as Ef,y as If,z as Of,A as jf,B as zf,E as Cf,V as Pf,F as $f,H as Df,J as Lf,L as Rf,K as Mf,N as Zl,Q as Bf,U as Ff,Y as Uf,Z as Zf,_ as Vf,$ as qf,a0 as Kf,a1 as Gf,a2 as Hf,a3 as Yf,a4 as Wf,r as Le,a5 as Jf,a6 as Xf,a7 as Qf,a8 as ed,a9 as td,aa as mo,ab as nd,ac as rd,ad as sd,ae as $n,af as id,ag as od,ah as Jr,ai as ad,aj as ld,ak as cd,al as ud,am as fd,an as dd,ao as hd,ap as pd,aq as md,ar as gd,as as bd,at as yd,au as wd,av as _d,aw as vd,ax as kd,ay as xd,az as Sd,aA as Ad,aB as Nd,aC as Td,aD as Ed,aE as Id,aF as Od,aG as jd,aH as zd,aI as Cd}from"./react-BfgDRwPV.js";import{u as go,a as Vl,b as Pd,c as ql,T as $d,I as Dd,d as Ld,e as Rd,O as Md,L as Bd,B as Fd,f as Ud,P as Zd,G as Vd,g as qd,h as Kd,C as Gd,_ as Hd}from"./react-three-BRlJMJB4.js";import{a7 as ta,a8 as Yd,e as _n,a9 as bo,a0 as Wd,aa as Jd}from"./three-COLDv6GA.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Kl(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Kl(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Gl(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Kl(t))&&(r&&(r+=" "),r+=e);return r}const yo="-",Xd=t=>{const e=eh(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(yo);return a[0]===""&&a.length!==1&&a.shift(),Hl(a,e)||Qd(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Hl=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Hl(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(yo);return e.validators.find(({validator:o})=>o(i))?.classGroupId},na=/^\[(.+)\]$/,Qd=t=>{if(na.test(t)){const e=na.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},eh=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Di(n[s],r,s,e);return r},Di=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ra(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(th(s)){Di(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Di(o,ra(e,i),n,r)})})},ra=(t,e)=>{let n=t;return e.split(yo).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},th=t=>t.isThemeGetter,nh=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Li="!",Ri=":",rh=Ri.length,sh=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,a=0,l=0,c;for(let b=0;b<s.length;b++){let p=s[b];if(o===0&&a===0){if(p===Ri){i.push(s.slice(l,b)),l=b+rh;continue}if(p==="/"){c=b;continue}}p==="["?o++:p==="]"?o--:p==="("?a++:p===")"&&a--}const d=i.length===0?s:s.substring(l),f=ih(d),h=f!==d,g=c&&c>l?c-l:void 0;return{modifiers:i,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}};if(e){const s=e+Ri,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},ih=t=>t.endsWith(Li)?t.substring(0,t.length-1):t.startsWith(Li)?t.substring(1):t,oh=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||e[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},ah=t=>({cache:nh(t.cacheSize),parseClassName:sh(t),sortModifiers:oh(t),...Xd(t)}),lh=/\s+/,ch=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(lh);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{isExternal:f,modifiers:h,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:p}=n(d);if(f){l=d+(l.length>0?" "+l:l);continue}let w=!!p,S=r(w?b.substring(0,p):b);if(!S){if(!w){l=d+(l.length>0?" "+l:l);continue}if(S=r(b),!S){l=d+(l.length>0?" "+l:l);continue}w=!1}const N=i(h).join(":"),T=g?N+Li:N,k=T+S;if(o.includes(k))continue;o.push(k);const j=s(S,w);for(let O=0;O<j.length;++O){const z=j[O];o.push(T+z)}l=d+(l.length>0?" "+l:l)}return l};function uh(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Yl(e))&&(r&&(r+=" "),r+=n);return r}const Yl=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Yl(t[r]))&&(n&&(n+=" "),n+=e);return n};function fh(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=ah(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=ch(l,n);return s(l,d),d}return function(){return i(uh.apply(null,arguments))}}const dt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Wl=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Jl=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dh=/^\d+\/\d+$/,hh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ph=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mh=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,gh=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bh=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hn=t=>dh.test(t),Ue=t=>!!t&&!Number.isNaN(Number(t)),sn=t=>!!t&&Number.isInteger(Number(t)),ci=t=>t.endsWith("%")&&Ue(t.slice(0,-1)),Jt=t=>hh.test(t),yh=()=>!0,wh=t=>ph.test(t)&&!mh.test(t),Xl=()=>!1,_h=t=>gh.test(t),vh=t=>bh.test(t),kh=t=>!Se(t)&&!Ae(t),xh=t=>mr(t,tc,Xl),Se=t=>Wl.test(t),In=t=>mr(t,nc,wh),ui=t=>mr(t,Eh,Ue),sa=t=>mr(t,Ql,Xl),Sh=t=>mr(t,ec,vh),Xr=t=>mr(t,rc,_h),Ae=t=>Jl.test(t),xr=t=>gr(t,nc),Ah=t=>gr(t,Ih),ia=t=>gr(t,Ql),Nh=t=>gr(t,tc),Th=t=>gr(t,ec),Qr=t=>gr(t,rc,!0),mr=(t,e,n)=>{const r=Wl.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},gr=(t,e,n=!1)=>{const r=Jl.exec(t);return r?r[1]?e(r[1]):n:!1},Ql=t=>t==="position"||t==="percentage",ec=t=>t==="image"||t==="url",tc=t=>t==="length"||t==="size"||t==="bg-size",nc=t=>t==="length",Eh=t=>t==="number",Ih=t=>t==="family-name",rc=t=>t==="shadow",Oh=()=>{const t=dt("color"),e=dt("font"),n=dt("text"),r=dt("font-weight"),s=dt("tracking"),i=dt("leading"),o=dt("breakpoint"),a=dt("container"),l=dt("spacing"),c=dt("radius"),d=dt("shadow"),f=dt("inset-shadow"),h=dt("text-shadow"),g=dt("drop-shadow"),b=dt("blur"),p=dt("perspective"),w=dt("aspect"),S=dt("ease"),N=dt("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...k(),Ae,Se],O=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],I=()=>[Ae,Se,l],M=()=>[Hn,"full","auto",...I()],R=()=>[sn,"none","subgrid",Ae,Se],W=()=>["auto",{span:["full",sn,Ae,Se]},sn,Ae,Se],q=()=>[sn,"auto",Ae,Se],Q=()=>["auto","min","max","fr",Ae,Se],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],de=()=>["start","end","center","stretch","center-safe","end-safe"],be=()=>["auto",...I()],ce=()=>[Hn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],ne=()=>[t,Ae,Se],pe=()=>[...k(),ia,sa,{position:[Ae,Se]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Te=()=>["auto","cover","contain",Nh,xh,{size:[Ae,Se]}],Ee=()=>[ci,xr,In],we=()=>["","none","full",c,Ae,Se],G=()=>["",Ue,xr,In],Ne=()=>["solid","dashed","dotted","double"],$e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],De=()=>[Ue,ci,ia,sa],Fe=()=>["","none",b,Ae,Se],Ye=()=>["none",Ue,Ae,Se],v=()=>["none",Ue,Ae,Se],x=()=>[Ue,Ae,Se],E=()=>[Hn,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Jt],breakpoint:[Jt],color:[yh],container:[Jt],"drop-shadow":[Jt],ease:["in","out","in-out"],font:[kh],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Jt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Jt],shadow:[Jt],spacing:["px",Ue],text:[Jt],"text-shadow":[Jt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hn,Se,Ae,w]}],container:["container"],columns:[{columns:[Ue,Se,Ae,a]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[sn,"auto",Ae,Se]}],basis:[{basis:[Hn,"full","auto",a,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,Hn,"auto","initial","none",Se]}],grow:[{grow:["",Ue,Ae,Se]}],shrink:[{shrink:["",Ue,Ae,Se]}],order:[{order:[sn,"first","last","none",Ae,Se]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...de(),"normal"]}],"justify-self":[{"justify-self":["auto",...de()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...de(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...de(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...de(),"baseline"]}],"place-self":[{"place-self":["auto",...de()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:be()}],mx:[{mx:be()}],my:[{my:be()}],ms:[{ms:be()}],me:[{me:be()}],mt:[{mt:be()}],mr:[{mr:be()}],mb:[{mb:be()}],ml:[{ml:be()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:ce()}],w:[{w:[a,"screen",...ce()]}],"min-w":[{"min-w":[a,"screen","none",...ce()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...ce()]}],h:[{h:["screen","lh",...ce()]}],"min-h":[{"min-h":["screen","lh","none",...ce()]}],"max-h":[{"max-h":["screen","lh",...ce()]}],"font-size":[{text:["base",n,xr,In]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ae,ui]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ci,Se]}],"font-family":[{font:[Ah,Se,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ae,Se]}],"line-clamp":[{"line-clamp":[Ue,"none",Ae,ui]}],leading:[{leading:[i,...I()]}],"list-image":[{"list-image":["none",Ae,Se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ae,Se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ne()}],"text-color":[{text:ne()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",Ae,In]}],"text-decoration-color":[{decoration:ne()}],"underline-offset":[{"underline-offset":[Ue,"auto",Ae,Se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae,Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae,Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:Te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},sn,Ae,Se],radial:["",Ae,Se],conic:[sn,Ae,Se]},Th,Sh]}],"bg-color":[{bg:ne()}],"gradient-from-pos":[{from:Ee()}],"gradient-via-pos":[{via:Ee()}],"gradient-to-pos":[{to:Ee()}],"gradient-from":[{from:ne()}],"gradient-via":[{via:ne()}],"gradient-to":[{to:ne()}],rounded:[{rounded:we()}],"rounded-s":[{"rounded-s":we()}],"rounded-e":[{"rounded-e":we()}],"rounded-t":[{"rounded-t":we()}],"rounded-r":[{"rounded-r":we()}],"rounded-b":[{"rounded-b":we()}],"rounded-l":[{"rounded-l":we()}],"rounded-ss":[{"rounded-ss":we()}],"rounded-se":[{"rounded-se":we()}],"rounded-ee":[{"rounded-ee":we()}],"rounded-es":[{"rounded-es":we()}],"rounded-tl":[{"rounded-tl":we()}],"rounded-tr":[{"rounded-tr":we()}],"rounded-br":[{"rounded-br":we()}],"rounded-bl":[{"rounded-bl":we()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:ne()}],"border-color-x":[{"border-x":ne()}],"border-color-y":[{"border-y":ne()}],"border-color-s":[{"border-s":ne()}],"border-color-e":[{"border-e":ne()}],"border-color-t":[{"border-t":ne()}],"border-color-r":[{"border-r":ne()}],"border-color-b":[{"border-b":ne()}],"border-color-l":[{"border-l":ne()}],"divide-color":[{divide:ne()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,Ae,Se]}],"outline-w":[{outline:["",Ue,xr,In]}],"outline-color":[{outline:ne()}],shadow:[{shadow:["","none",d,Qr,Xr]}],"shadow-color":[{shadow:ne()}],"inset-shadow":[{"inset-shadow":["none",f,Qr,Xr]}],"inset-shadow-color":[{"inset-shadow":ne()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ne()}],"ring-offset-w":[{"ring-offset":[Ue,In]}],"ring-offset-color":[{"ring-offset":ne()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":ne()}],"text-shadow":[{"text-shadow":["none",h,Qr,Xr]}],"text-shadow-color":[{"text-shadow":ne()}],opacity:[{opacity:[Ue,Ae,Se]}],"mix-blend":[{"mix-blend":[...$e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":De()}],"mask-image-linear-to-pos":[{"mask-linear-to":De()}],"mask-image-linear-from-color":[{"mask-linear-from":ne()}],"mask-image-linear-to-color":[{"mask-linear-to":ne()}],"mask-image-t-from-pos":[{"mask-t-from":De()}],"mask-image-t-to-pos":[{"mask-t-to":De()}],"mask-image-t-from-color":[{"mask-t-from":ne()}],"mask-image-t-to-color":[{"mask-t-to":ne()}],"mask-image-r-from-pos":[{"mask-r-from":De()}],"mask-image-r-to-pos":[{"mask-r-to":De()}],"mask-image-r-from-color":[{"mask-r-from":ne()}],"mask-image-r-to-color":[{"mask-r-to":ne()}],"mask-image-b-from-pos":[{"mask-b-from":De()}],"mask-image-b-to-pos":[{"mask-b-to":De()}],"mask-image-b-from-color":[{"mask-b-from":ne()}],"mask-image-b-to-color":[{"mask-b-to":ne()}],"mask-image-l-from-pos":[{"mask-l-from":De()}],"mask-image-l-to-pos":[{"mask-l-to":De()}],"mask-image-l-from-color":[{"mask-l-from":ne()}],"mask-image-l-to-color":[{"mask-l-to":ne()}],"mask-image-x-from-pos":[{"mask-x-from":De()}],"mask-image-x-to-pos":[{"mask-x-to":De()}],"mask-image-x-from-color":[{"mask-x-from":ne()}],"mask-image-x-to-color":[{"mask-x-to":ne()}],"mask-image-y-from-pos":[{"mask-y-from":De()}],"mask-image-y-to-pos":[{"mask-y-to":De()}],"mask-image-y-from-color":[{"mask-y-from":ne()}],"mask-image-y-to-color":[{"mask-y-to":ne()}],"mask-image-radial":[{"mask-radial":[Ae,Se]}],"mask-image-radial-from-pos":[{"mask-radial-from":De()}],"mask-image-radial-to-pos":[{"mask-radial-to":De()}],"mask-image-radial-from-color":[{"mask-radial-from":ne()}],"mask-image-radial-to-color":[{"mask-radial-to":ne()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":De()}],"mask-image-conic-to-pos":[{"mask-conic-to":De()}],"mask-image-conic-from-color":[{"mask-conic-from":ne()}],"mask-image-conic-to-color":[{"mask-conic-to":ne()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:Te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ae,Se]}],filter:[{filter:["","none",Ae,Se]}],blur:[{blur:Fe()}],brightness:[{brightness:[Ue,Ae,Se]}],contrast:[{contrast:[Ue,Ae,Se]}],"drop-shadow":[{"drop-shadow":["","none",g,Qr,Xr]}],"drop-shadow-color":[{"drop-shadow":ne()}],grayscale:[{grayscale:["",Ue,Ae,Se]}],"hue-rotate":[{"hue-rotate":[Ue,Ae,Se]}],invert:[{invert:["",Ue,Ae,Se]}],saturate:[{saturate:[Ue,Ae,Se]}],sepia:[{sepia:["",Ue,Ae,Se]}],"backdrop-filter":[{"backdrop-filter":["","none",Ae,Se]}],"backdrop-blur":[{"backdrop-blur":Fe()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,Ae,Se]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,Ae,Se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,Ae,Se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,Ae,Se]}],"backdrop-invert":[{"backdrop-invert":["",Ue,Ae,Se]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,Ae,Se]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,Ae,Se]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,Ae,Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ae,Se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",Ae,Se]}],ease:[{ease:["linear","initial",S,Ae,Se]}],delay:[{delay:[Ue,Ae,Se]}],animate:[{animate:["none",N,Ae,Se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,Ae,Se]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:Ye()}],"rotate-x":[{"rotate-x":Ye()}],"rotate-y":[{"rotate-y":Ye()}],"rotate-z":[{"rotate-z":Ye()}],scale:[{scale:v()}],"scale-x":[{"scale-x":v()}],"scale-y":[{"scale-y":v()}],"scale-z":[{"scale-z":v()}],"scale-3d":["scale-3d"],skew:[{skew:x()}],"skew-x":[{"skew-x":x()}],"skew-y":[{"skew-y":x()}],transform:[{transform:[Ae,Se,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:E()}],"translate-x":[{"translate-x":E()}],"translate-y":[{"translate-y":E()}],"translate-z":[{"translate-z":E()}],"translate-none":["translate-none"],accent:[{accent:ne()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ne()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae,Se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae,Se]}],fill:[{fill:["none",...ne()]}],"stroke-w":[{stroke:[Ue,xr,In,ui]}],stroke:[{stroke:["none",...ne()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},jh=fh(Oh);function Me(...t){return jh(Gl(t))}function en(t){return-t*(Math.PI/180)}function oa(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(df,{"data-slot":"resizable-panel-group",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function es(t){const e=ke.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(uf,{"data-slot":"resizable-panel",...n}),e[2]=n,e[3]=r):r=e[3],r}function aa(t){const e=ke.c(12);let n,r,s;e[0]!==t?({withHandle:s,className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s):(n=e[1],r=e[2],s=e[3]);let i;e[4]!==n?(i=Me("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90 hover:bg-primary",n),e[4]=n,e[5]=i):i=e[5];let o;e[6]!==s?(o=s&&y.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:y.jsx(hf,{className:"size-2.5"})}),e[6]=s,e[7]=o):o=e[7];let a;return e[8]!==r||e[9]!==i||e[10]!==o?(a=y.jsx(ff,{"data-slot":"resizable-handle",className:i,...r,children:o}),e[8]=r,e[9]=i,e[10]=o,e[11]=a):a=e[11],a}function zh(t){const e=ke.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(bf,{"data-slot":"dialog",...n}),e[2]=n,e[3]=r):r=e[3],r}function Ch(t){const e=ke.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(yf,{"data-slot":"dialog-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function Ph(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(_f,{"data-slot":"dialog-overlay",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function $h(t){const e=ke.c(15);let n,r,s,i;e[0]!==t?({className:r,children:n,showCloseButton:i,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?!0:i;let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=y.jsx(Ph,{}),e[5]=a):a=e[5];let l;e[6]!==r?(l=Me("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),e[6]=r,e[7]=l):l=e[7];let c;e[8]!==o?(c=o&&y.jsxs(wf,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[y.jsx(Ul,{}),y.jsx("span",{className:"sr-only",children:"Close"})]}),e[8]=o,e[9]=c):c=e[9];let d;return e[10]!==n||e[11]!==s||e[12]!==l||e[13]!==c?(d=y.jsxs(Ch,{"data-slot":"dialog-portal",children:[a,y.jsxs(mf,{"data-slot":"dialog-content",className:l,...s,children:[n,c]})]}),e[10]=n,e[11]=s,e[12]=l,e[13]=c,e[14]=d):d=e[14],d}function Dh(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("div",{"data-slot":"dialog-header",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Lh(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("text-lg leading-none font-semibold",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(pf,{"data-slot":"dialog-title",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Rh(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("text-muted-foreground text-sm",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(gf,{"data-slot":"dialog-description",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Mh(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(Nf,{"data-slot":"menubar",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function la(t){const e=ke.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(Sf,{"data-slot":"menubar-menu",...n}),e[2]=n,e[3]=r):r=e[3],r}function Bh(t){const e=ke.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(Tf,{"data-slot":"menubar-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function Fh(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(vf,{"data-slot":"menubar-trigger",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Uh(t){const e=ke.c(14);let n,r,s,i,o;e[0]!==t?({className:n,align:s,alignOffset:i,sideOffset:o,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=o):(n=e[1],r=e[2],s=e[3],i=e[4],o=e[5]);const a=s===void 0?"start":s,l=i===void 0?-4:i,c=o===void 0?8:o;let d;e[6]!==n?(d=Me("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-md",n),e[6]=n,e[7]=d):d=e[7];let f;return e[8]!==a||e[9]!==l||e[10]!==r||e[11]!==c||e[12]!==d?(f=y.jsx(Bh,{children:y.jsx(Af,{"data-slot":"menubar-content",align:a,alignOffset:l,sideOffset:c,className:d,...r})}),e[8]=a,e[9]=l,e[10]=r,e[11]=c,e[12]=d,e[13]=f):f=e[13],f}function Yn(t){const e=ke.c(12);let n,r,s,i;e[0]!==t?({className:n,inset:r,variant:i,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?"default":i;let a;e[5]!==n?(a=Me("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[5]=n,e[6]=a):a=e[6];let l;return e[7]!==r||e[8]!==s||e[9]!==a||e[10]!==o?(l=y.jsx(kf,{"data-slot":"menubar-item","data-inset":r,"data-variant":o,className:a,...s}),e[7]=r,e[8]=s,e[9]=a,e[10]=o,e[11]=l):l=e[11],l}function fi(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("bg-border -mx-1 my-1 h-px",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(xf,{"data-slot":"menubar-separator",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function ca(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("text-muted-foreground ml-auto text-xs tracking-widest",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("span",{"data-slot":"menubar-shortcut",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Mi(t){const e=ke.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(zf,{"data-slot":"select",...n}),e[2]=n,e[3]=r):r=e[3],r}function Bi(t){const e=ke.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(Lf,{"data-slot":"select-group",...n}),e[2]=n,e[3]=r):r=e[3],r}function Fi(t){const e=ke.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(Pf,{"data-slot":"select-value",...n}),e[2]=n,e[3]=r):r=e[3],r}function Ui(t){const e=ke.c(13);let n,r,s,i;e[0]!==t?({className:r,size:i,children:n,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?"default":i;let a;e[5]!==r?(a=Me("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 mt-2",r),e[5]=r,e[6]=a):a=e[6];let l;e[7]===Symbol.for("react.memo_cache_sentinel")?(l=y.jsx(Mf,{asChild:!0,children:y.jsx(Zl,{className:"size-4 opacity-50"})}),e[7]=l):l=e[7];let c;return e[8]!==n||e[9]!==s||e[10]!==o||e[11]!==a?(c=y.jsxs(Cf,{"data-slot":"select-trigger","data-size":o,className:a,...s,children:[n,l]}),e[8]=n,e[9]=s,e[10]=o,e[11]=a,e[12]=c):c=e[12],c}function Zi(t){const e=ke.c(20);let n,r,s,i;e[0]!==t?({className:r,children:n,position:i,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?"popper":i,a=o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let l;e[5]!==r||e[6]!==a?(l=Me("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",a,r),e[5]=r,e[6]=a,e[7]=l):l=e[7];let c;e[8]===Symbol.for("react.memo_cache_sentinel")?(c=y.jsx(Zh,{}),e[8]=c):c=e[8];const d=o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1";let f;e[9]!==d?(f=Me("p-1",d),e[9]=d,e[10]=f):f=e[10];let h;e[11]!==n||e[12]!==f?(h=y.jsx(Bf,{className:f,children:n}),e[11]=n,e[12]=f,e[13]=h):h=e[13];let g;e[14]===Symbol.for("react.memo_cache_sentinel")?(g=y.jsx(Vh,{}),e[14]=g):g=e[14];let b;return e[15]!==o||e[16]!==s||e[17]!==l||e[18]!==h?(b=y.jsx($f,{children:y.jsxs(Df,{"data-slot":"select-content",className:l,position:o,...s,children:[c,h,g]})}),e[15]=o,e[16]=s,e[17]=l,e[18]=h,e[19]=b):b=e[19],b}function Vi(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("text-muted-foreground px-2 py-1.5 text-xs",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(Rf,{"data-slot":"select-label",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Bs(t){const e=ke.c(13);let n,r,s;e[0]!==t?({className:r,children:n,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s):(n=e[1],r=e[2],s=e[3]);let i;e[4]!==r?(i=Me("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),e[4]=r,e[5]=i):i=e[5];let o;e[6]===Symbol.for("react.memo_cache_sentinel")?(o=y.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:y.jsx(If,{children:y.jsx(Of,{className:"size-4"})})}),e[6]=o):o=e[6];let a;e[7]!==n?(a=y.jsx(jf,{children:n}),e[7]=n,e[8]=a):a=e[8];let l;return e[9]!==s||e[10]!==i||e[11]!==a?(l=y.jsxs(Ef,{"data-slot":"select-item",className:i,...s,children:[o,a]}),e[9]=s,e[10]=i,e[11]=a,e[12]=l):l=e[12],l}function Zh(t){const e=ke.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("flex cursor-default items-center justify-center py-1",n),e[3]=n,e[4]=s):s=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=y.jsx(Zf,{className:"size-4"}),e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==s?(o=y.jsx(Ff,{"data-slot":"select-scroll-up-button",className:s,...r,children:i}),e[6]=r,e[7]=s,e[8]=o):o=e[8],o}function Vh(t){const e=ke.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("flex cursor-default items-center justify-center py-1",n),e[3]=n,e[4]=s):s=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=y.jsx(Zl,{className:"size-4"}),e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==s?(o=y.jsx(Uf,{"data-slot":"select-scroll-down-button",className:s,...r,children:i}),e[6]=r,e[7]=s,e[8]=o):o=e[8],o}function qh(t){const e=ke.c(6);let n,r;e[0]!==t?({delayDuration:r,...n}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);const s=r===void 0?0:r;let i;return e[3]!==s||e[4]!==n?(i=y.jsx(Hf,{"data-slot":"tooltip-provider",delayDuration:s,...n}),e[3]=s,e[4]=n,e[5]=i):i=e[5],i}function Dn(t){const e=ke.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(qh,{children:y.jsx(qf,{"data-slot":"tooltip",...n})}),e[2]=n,e[3]=r):r=e[3],r}function Ln(t){const e=ke.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(Vf,{"data-slot":"tooltip-trigger",...n}),e[2]=n,e[3]=r):r=e[3],r}function Rn(t){const e=ke.c(13);let n,r,s,i;e[0]!==t?({className:r,sideOffset:i,children:n,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);const o=i===void 0?0:i;let a;e[5]!==r?(a=Me("bg-secondary text-secondary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",r),e[5]=r,e[6]=a):a=e[6];let l;e[7]===Symbol.for("react.memo_cache_sentinel")?(l=y.jsx(Yf,{className:"bg-secondary fill-secondary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"}),e[7]=l):l=e[7];let c;return e[8]!==n||e[9]!==s||e[10]!==o||e[11]!==a?(c=y.jsx(Kf,{children:y.jsxs(Gf,{"data-slot":"tooltip-content",sideOffset:o,className:a,...s,children:[n,l]})}),e[8]=n,e[9]=s,e[10]=o,e[11]=a,e[12]=c):c=e[12],c}const ua=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,fa=Gl,sc=(t,e)=>n=>{var r;if(e?.variants==null)return fa(t,n?.class,n?.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n?.[c],f=i?.[c];if(d===null)return null;const h=ua(d)||ua(f);return s[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(b=>{let[p,w]=b;return Array.isArray(w)?w.includes({...i,...a}[p]):{...i,...a}[p]===w})?[...c,f,h]:c},[]);return fa(t,o,l,n?.class,n?.className)},ic=sc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function vn(t){const e=ke.c(14);let n,r,s,i,o;e[0]!==t?({className:n,variant:o,size:s,asChild:i,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=o):(n=e[1],r=e[2],s=e[3],i=e[4],o=e[5]);const l=(i===void 0?!1:i)?Wf:"button";let c;e[6]!==n||e[7]!==s||e[8]!==o?(c=Me(ic({variant:o,size:s,className:n})),e[6]=n,e[7]=s,e[8]=o,e[9]=c):c=e[9];let d;return e[10]!==l||e[11]!==r||e[12]!==c?(d=y.jsx(l,{"data-slot":"button",className:c,...r}),e[10]=l,e[11]=r,e[12]=c,e[13]=d):d=e[13],d}const oc={r:146,g:163,b:187,a:1},Kh=t=>{if(typeof t=="string"){const e=t.match(/^#([0-9a-f]{3,8})$/i);if(e){const n=e[1],r=parseInt(n.slice(0,2),16),s=parseInt(n.slice(2,4),16),i=parseInt(n.slice(4,6),16),o=n.length>6?parseInt(n.slice(6,8),16)/255:1;return{r,g:s,b:i,a:o}}}return oc},Gh=t=>{const e=ke.c(24),{defaultColor:n,onChangeComplete:r}=t,s=n===void 0?oc:n,[i,o]=Le.useState(!1);let a;e[0]!==s?(a=typeof s=="string"?Kh(s):s,e[0]=s,e[1]=a):a=e[1];const[l,c]=Le.useState(a);let d;e[2]!==r?(d=Jf(le=>r(le),{wait:500}),e[2]=r,e[3]=d):d=e[3];const f=d;let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=()=>o(Hh),e[4]=h):h=e[4];const g=h;let b;e[5]===Symbol.for("react.memo_cache_sentinel")?(b=()=>o(!1),e[5]=b):b=e[5];const p=b;let w;e[6]!==f?(w=le=>{c(le.rgb),f(le)},e[6]=f,e[7]=w):w=e[7];const S=w,N=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`;let T;e[8]!==N?(T={width:"100%",height:"100%",background:N,borderRadius:"1px",border:"1px solid #ccc"},e[8]=N,e[9]=T):T=e[9];const k=T;let j;e[10]===Symbol.for("react.memo_cache_sentinel")?(j={position:"absolute",zIndex:2,left:"50%",transform:"translateX(-50%)"},e[10]=j):j=e[10];const O=j;let z;e[11]===Symbol.for("react.memo_cache_sentinel")?(z={position:"fixed",top:0,right:0,bottom:0,left:0},e[11]=z):z=e[11];const I=z;let M,R;e[12]!==i?(M=()=>{const le=de=>{i&&!de.target.closest(".color-picker")&&p()};return document.addEventListener("mousedown",le),()=>{document.removeEventListener("mousedown",le)}},R=[i],e[12]=i,e[13]=M,e[14]=R):(M=e[13],R=e[14]),Le.useEffect(M,R);let W;e[15]!==k?(W=y.jsx(vn,{onClick:g,variant:"secondary",className:"w-full",children:y.jsx("div",{style:k})}),e[15]=k,e[16]=W):W=e[16];let q;e[17]!==l||e[18]!==i||e[19]!==S?(q=i&&y.jsxs("div",{style:O,className:"color-picker",children:[y.jsx("div",{style:I,onClick:p}),y.jsx(Xf,{color:l,onChange:S,presetColors:["#92A3BB","#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],disableAlpha:!0})]}),e[17]=l,e[18]=i,e[19]=S,e[20]=q):q=e[20];let Q;return e[21]!==W||e[22]!==q?(Q=y.jsxs("div",{children:[W,q]}),e[21]=W,e[22]=q,e[23]=Q):Q=e[23],Q};function Hh(t){return!t}function wo(t){const e=ke.c(10);let n,r,s;e[0]!==t?({className:n,type:s,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s):(n=e[1],r=e[2],s=e[3]);let i;e[4]!==n?(i=Me("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm mt-2","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),e[4]=n,e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==i||e[8]!==s?(o=y.jsx("input",{type:s,"data-slot":"input",className:i,...r}),e[6]=r,e[7]=i,e[8]=s,e[9]=o):o=e[9],o}function Bt(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(Qf,{"data-slot":"label",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function ts(t){const e=ke.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),e[3]=n,e[4]=s):s=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=y.jsx(ed,{"data-slot":"switch-thumb",className:Me("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==s?(o=y.jsx(td,{"data-slot":"switch",className:s,...r,children:i}),e[6]=r,e[7]=s,e[8]=o):o=e[8],o}const Gt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ac=Object.create(null);for(const t in Gt)Object.hasOwn(Gt,t)&&(ac[Gt[t]]=t);const pt={to:{},get:{}};pt.get=function(t){const e=t.slice(0,3).toLowerCase();let n,r;switch(e){case"hsl":{n=pt.get.hsl(t),r="hsl";break}case"hwb":{n=pt.get.hwb(t),r="hwb";break}default:{n=pt.get.rgb(t),r="rgb";break}}return n?{model:r,value:n}:null};pt.get.rgb=function(t){if(!t)return null;const e=/^#([a-f\d]{3,4})$/i,n=/^#([a-f\d]{6})([a-f\d]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,s=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,i=/^(\w+)$/;let o=[0,0,0,1],a,l,c;if(a=t.match(n)){for(c=a[2],a=a[1],l=0;l<3;l++){const d=l*2;o[l]=Number.parseInt(a.slice(d,d+2),16)}c&&(o[3]=Number.parseInt(c,16)/255)}else if(a=t.match(e)){for(a=a[1],c=a[3],l=0;l<3;l++)o[l]=Number.parseInt(a[l]+a[l],16);c&&(o[3]=Number.parseInt(c+c,16)/255)}else if(a=t.match(r)){for(l=0;l<3;l++)o[l]=Number.parseInt(a[l+1],10);a[4]&&(o[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else if(a=t.match(s)){for(l=0;l<3;l++)o[l]=Math.round(Number.parseFloat(a[l+1])*2.55);a[4]&&(o[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else return(a=t.match(i))?a[1]==="transparent"?[0,0,0,0]:Object.hasOwn(Gt,a[1])?(o=Gt[a[1]],o[3]=1,o):null:null;for(l=0;l<3;l++)o[l]=yn(o[l],0,255);return o[3]=yn(o[3],0,1),o};pt.get.hsl=function(t){if(!t)return null;const e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){const r=Number.parseFloat(n[4]),s=(Number.parseFloat(n[1])%360+360)%360,i=yn(Number.parseFloat(n[2]),0,100),o=yn(Number.parseFloat(n[3]),0,100),a=yn(Number.isNaN(r)?1:r,0,1);return[s,i,o,a]}return null};pt.get.hwb=function(t){if(!t)return null;const e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*[\s,]\s*([+-]?[\d.]+)%\s*[\s,]\s*([+-]?[\d.]+)%\s*(?:[\s,]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){const r=Number.parseFloat(n[4]),s=(Number.parseFloat(n[1])%360+360)%360,i=yn(Number.parseFloat(n[2]),0,100),o=yn(Number.parseFloat(n[3]),0,100),a=yn(Number.isNaN(r)?1:r,0,1);return[s,i,o,a]}return null};pt.to.hex=function(...t){return"#"+ns(t[0])+ns(t[1])+ns(t[2])+(t[3]<1?ns(Math.round(t[3]*255)):"")};pt.to.rgb=function(...t){return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};pt.to.rgb.percent=function(...t){const e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"};pt.to.hsl=function(...t){return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};pt.to.hwb=function(...t){let e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};pt.to.keyword=function(...t){return ac[t.slice(0,3)]};function yn(t,e,n){return Math.min(Math.max(e,t),n)}function ns(t){const e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}const lc={};for(const t of Object.keys(Gt))lc[Gt[t]]=t;const ge={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},tn=(6/29)**3;function rr(t){const e=t>.0031308?1.055*t**.4166666666666667-.055:t*12.92;return Math.min(Math.max(0,e),1)}function sr(t){return t>.04045?((t+.055)/1.055)**2.4:t/12.92}for(const t of Object.keys(ge)){if(!("channels"in ge[t]))throw new Error("missing channels property: "+t);if(!("labels"in ge[t]))throw new Error("missing channel labels property: "+t);if(ge[t].labels.length!==ge[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=ge[t];delete ge[t].channels,delete ge[t].labels,Object.defineProperty(ge[t],"channels",{value:e}),Object.defineProperty(ge[t],"labels",{value:n})}ge.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.min(e,n,r),i=Math.max(e,n,r),o=i-s;let a,l;switch(i){case s:{a=0;break}case e:{a=(n-r)/o;break}case n:{a=2+(r-e)/o;break}case r:{a=4+(e-n)/o;break}}a=Math.min(a*60,360),a<0&&(a+=360);const c=(s+i)/2;return i===s?l=0:c<=.5?l=o/(i+s):l=o/(2-i-s),[a,l*100,c*100]};ge.rgb.hsv=function(t){let e,n,r,s,i;const o=t[0]/255,a=t[1]/255,l=t[2]/255,c=Math.max(o,a,l),d=c-Math.min(o,a,l),f=function(h){return(c-h)/6/d+1/2};if(d===0)s=0,i=0;else{switch(i=d/c,e=f(o),n=f(a),r=f(l),c){case o:{s=r-n;break}case a:{s=1/3+e-r;break}case l:{s=2/3+n-e;break}}s<0?s+=1:s>1&&(s-=1)}return[s*360,i*100,c*100]};ge.rgb.hwb=function(t){const e=t[0],n=t[1];let r=t[2];const s=ge.rgb.hsl(t)[0],i=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[s,i*100,r*100]};ge.rgb.oklab=function(t){const e=sr(t[0]/255),n=sr(t[1]/255),r=sr(t[2]/255),s=Math.cbrt(.4122214708*e+.5363325363*n+.0514459929*r),i=Math.cbrt(.2119034982*e+.6806995451*n+.1073969566*r),o=Math.cbrt(.0883024619*e+.2817188376*n+.6299787005*r),a=.2104542553*s+.793617785*i-.0040720468*o,l=1.9779984951*s-2.428592205*i+.4505937099*o,c=.0259040371*s+.7827717662*i-.808675766*o;return[a*100,l*100,c*100]};ge.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.min(1-e,1-n,1-r),i=(1-e-s)/(1-s)||0,o=(1-n-s)/(1-s)||0,a=(1-r-s)/(1-s)||0;return[i*100,o*100,a*100,s*100]};function Yh(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}ge.rgb.keyword=function(t){const e=lc[t];if(e)return e;let n=Number.POSITIVE_INFINITY,r;for(const s of Object.keys(Gt)){const i=Gt[s],o=Yh(t,i);o<n&&(n=o,r=s)}return r};ge.keyword.rgb=function(t){return Gt[t]};ge.rgb.xyz=function(t){const e=sr(t[0]/255),n=sr(t[1]/255),r=sr(t[2]/255),s=e*.4124564+n*.3575761+r*.1804375,i=e*.2126729+n*.7151522+r*.072175,o=e*.0193339+n*.119192+r*.9503041;return[s*100,i*100,o*100]};ge.rgb.lab=function(t){const e=ge.rgb.xyz(t);let n=e[0],r=e[1],s=e[2];n/=95.047,r/=100,s/=108.883,n=n>tn?n**(1/3):7.787*n+16/116,r=r>tn?r**(1/3):7.787*r+16/116,s=s>tn?s**(1/3):7.787*s+16/116;const i=116*r-16,o=500*(n-r),a=200*(r-s);return[i,o,a]};ge.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;let s,i;if(n===0)return i=r*255,[i,i,i];const o=r<.5?r*(1+n):r+n-r*n,a=2*r-o,l=[0,0,0];for(let c=0;c<3;c++)s=e+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?i=a+(o-a)*6*s:2*s<1?i=o:3*s<2?i=a+(o-a)*(2/3-s)*6:i=a,l[c]=i*255;return l};ge.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,r=t[2]/100,s=n;const i=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,s*=i<=1?i:2-i;const o=(r+n)/2,a=r===0?2*s/(i+s):2*n/(r+n);return[e,a*100,o*100]};ge.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let r=t[2]/100;const s=Math.floor(e)%6,i=e-Math.floor(e),o=255*r*(1-n),a=255*r*(1-n*i),l=255*r*(1-n*(1-i));switch(r*=255,s){case 0:return[r,l,o];case 1:return[a,r,o];case 2:return[o,r,l];case 3:return[o,a,r];case 4:return[l,o,r];case 5:return[r,o,a]}};ge.hsv.hsl=function(t){const e=t[0],n=t[1]/100,r=t[2]/100,s=Math.max(r,.01);let i,o;o=(2-n)*r;const a=(2-n)*s;return i=n*s,i/=a<=1?a:2-a,i=i||0,o/=2,[e,i*100,o*100]};ge.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,r=t[2]/100;const s=n+r;let i;s>1&&(n/=s,r/=s);const o=Math.floor(6*e),a=1-r;i=6*e-o,(o&1)!==0&&(i=1-i);const l=n+i*(a-n);let c,d,f;switch(o){default:case 6:case 0:{c=a,d=l,f=n;break}case 1:{c=l,d=a,f=n;break}case 2:{c=n,d=a,f=l;break}case 3:{c=n,d=l,f=a;break}case 4:{c=l,d=n,f=a;break}case 5:{c=a,d=n,f=l;break}}return[c*255,d*255,f*255]};ge.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=t[3]/100,i=1-Math.min(1,e*(1-s)+s),o=1-Math.min(1,n*(1-s)+s),a=1-Math.min(1,r*(1-s)+s);return[i*255,o*255,a*255]};ge.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100;let s,i,o;return s=e*3.2404542+n*-1.5371385+r*-.4985314,i=e*-.969266+n*1.8760108+r*.041556,o=e*.0556434+n*-.2040259+r*1.0572252,s=rr(s),i=rr(i),o=rr(o),[s*255,i*255,o*255]};ge.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>tn?e**(1/3):7.787*e+16/116,n=n>tn?n**(1/3):7.787*n+16/116,r=r>tn?r**(1/3):7.787*r+16/116;const s=116*n-16,i=500*(e-n),o=200*(n-r);return[s,i,o]};ge.xyz.oklab=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=Math.cbrt(.8189330101*e+.3618667424*n-.1288597137*r),i=Math.cbrt(.0329845436*e+.9293118715*n+.0361456387*r),o=Math.cbrt(.0482003018*e+.2643662691*n+.633851707*r),a=.2104542553*s+.793617785*i-.0040720468*o,l=1.9779984951*s-2.428592205*i+.4505937099*o,c=.0259040371*s+.7827717662*i-.808675766*o;return[a*100,l*100,c*100]};ge.oklab.oklch=function(t){return ge.lab.lch(t)};ge.oklab.xyz=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=(.999999998*e+.396337792*n+.215803758*r)**3,i=(1.000000008*e-.105561342*n-.063854175*r)**3,o=(1.000000055*e-.089484182*n-1.291485538*r)**3,a=1.227013851*s-.55779998*i+.281256149*o,l=-.040580178*s+1.11225687*i-.071676679*o,c=-.076381285*s-.421481978*i+1.58616322*o;return[a*100,l*100,c*100]};ge.oklab.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,s=(e+.3963377774*n+.2158037573*r)**3,i=(e-.1055613458*n-.0638541728*r)**3,o=(e-.0894841775*n-1.291485548*r)**3,a=rr(4.0767416621*s-3.3077115913*i+.2309699292*o),l=rr(-1.2684380046*s+2.6097574011*i-.3413193965*o),c=rr(-.0041960863*s-.7034186147*i+1.707614701*o);return[a*255,l*255,c*255]};ge.oklch.oklab=function(t){return ge.lch.lab(t)};ge.lab.xyz=function(t){const e=t[0],n=t[1],r=t[2];let s,i,o;i=(e+16)/116,s=n/500+i,o=i-r/200;const a=i**3,l=s**3,c=o**3;return i=a>tn?a:(i-16/116)/7.787,s=l>tn?l:(s-16/116)/7.787,o=c>tn?c:(o-16/116)/7.787,s*=95.047,i*=100,o*=108.883,[s,i,o]};ge.lab.lch=function(t){const e=t[0],n=t[1],r=t[2];let s;s=Math.atan2(r,n)*360/2/Math.PI,s<0&&(s+=360);const o=Math.sqrt(n*n+r*r);return[e,o,s]};ge.lch.lab=function(t){const e=t[0],n=t[1],s=t[2]/360*2*Math.PI,i=n*Math.cos(s),o=n*Math.sin(s);return[e,i,o]};ge.rgb.ansi16=function(t,e=null){const[n,r,s]=t;let i=e===null?ge.rgb.hsv(t)[2]:e;if(i=Math.round(i/50),i===0)return 30;let o=30+(Math.round(s/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return i===2&&(o+=60),o};ge.hsv.ansi16=function(t){return ge.rgb.ansi16(ge.hsv.rgb(t),t[2])};ge.rgb.ansi256=function(t){const e=t[0],n=t[1],r=t[2];return e>>4===n>>4&&n>>4===r>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};ge.ansi16.rgb=function(t){t=t[0];let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=(Math.trunc(t>50)+1)*.5,r=(e&1)*n*255,s=(e>>1&1)*n*255,i=(e>>2&1)*n*255;return[r,s,i]};ge.ansi256.rgb=function(t){if(t=t[0],t>=232){const i=(t-232)*10+8;return[i,i,i]}t-=16;let e;const n=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,s=e%6/5*255;return[n,r,s]};ge.rgb.hex=function(t){const n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".slice(n.length)+n};ge.hex.rgb=function(t){const e=t.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=[...n].map(a=>a+a).join(""));const r=Number.parseInt(n,16),s=r>>16&255,i=r>>8&255,o=r&255;return[s,i,o]};ge.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.max(Math.max(e,n),r),i=Math.min(Math.min(e,n),r),o=s-i;let a;const l=o<1?i/(1-o):0;return o<=0?a=0:s===e?a=(n-r)/o%6:s===n?a=2+(r-e)/o:a=4+(e-n)/o,a/=6,a%=1,[a*360,o*100,l*100]};ge.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n);let s=0;return r<1&&(s=(n-.5*r)/(1-r)),[t[0],r*100,s*100]};ge.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=e*n;let s=0;return r<1&&(s=(n-r)/(1-r)),[t[0],r*100,s*100]};ge.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];const s=[0,0,0],i=e%1*6,o=i%1,a=1-o;let l=0;switch(Math.floor(i)){case 0:{s[0]=1,s[1]=o,s[2]=0;break}case 1:{s[0]=a,s[1]=1,s[2]=0;break}case 2:{s[0]=0,s[1]=1,s[2]=o;break}case 3:{s[0]=0,s[1]=a,s[2]=1;break}case 4:{s[0]=o,s[1]=0,s[2]=1;break}default:s[0]=1,s[1]=0,s[2]=a}return l=(1-n)*r,[(n*s[0]+l)*255,(n*s[1]+l)*255,(n*s[2]+l)*255]};ge.hcg.hsv=function(t){const e=t[1]/100,n=t[2]/100,r=e+n*(1-e);let s=0;return r>0&&(s=e/r),[t[0],s*100,r*100]};ge.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let s=0;return r>0&&r<.5?s=e/(2*r):r>=.5&&r<1&&(s=e/(2*(1-r))),[t[0],s*100,r*100]};ge.hcg.hwb=function(t){const e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};ge.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,s=r-e;let i=0;return s<1&&(i=(r-s)/(1-s)),[t[0],s*100,i*100]};ge.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};ge.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};ge.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};ge.gray.hsl=function(t){return[0,0,t[0]]};ge.gray.hsv=ge.gray.hsl;ge.gray.hwb=function(t){return[0,100,t[0]]};ge.gray.cmyk=function(t){return[0,0,0,t[0]]};ge.gray.lab=function(t){return[t[0],0,0]};ge.gray.hex=function(t){const e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(r.length)+r};ge.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};function Wh(){const t={},e=Object.keys(ge);for(let{length:n}=e,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function Jh(t){const e=Wh(),n=[t];for(e[t].distance=0;n.length>0;){const r=n.pop(),s=Object.keys(ge[r]);for(let{length:i}=s,o=0;o<i;o++){const a=s[o],l=e[a];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,n.unshift(a))}}return e}function Xh(t,e){return function(n){return e(t(n))}}function Qh(t,e){const n=[e[t].parent,t];let r=ge[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)n.unshift(e[s].parent),r=Xh(ge[e[s].parent][s],r),s=e[s].parent;return r.conversion=n,r}function ep(t){const e=Jh(t),n={},r=Object.keys(e);for(let{length:s}=r,i=0;i<s;i++){const o=r[i];e[o].parent!==null&&(n[o]=Qh(o,e))}return n}const gt={},tp=Object.keys(ge);function np(t){const e=function(...n){const r=n[0];return r==null?r:(r.length>1&&(n=r),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function rp(t){const e=function(...n){const r=n[0];if(r==null)return r;r.length>1&&(n=r);const s=t(n);if(typeof s=="object")for(let{length:i}=s,o=0;o<i;o++)s[o]=Math.round(s[o]);return s};return"conversion"in t&&(e.conversion=t.conversion),e}for(const t of tp){gt[t]={},Object.defineProperty(gt[t],"channels",{value:ge[t].channels}),Object.defineProperty(gt[t],"labels",{value:ge[t].labels});const e=ep(t),n=Object.keys(e);for(const r of n){const s=e[r];gt[t][r]=rp(s),gt[t][r].raw=np(s)}}const cc=["keyword","gray","hex"],qi={};for(const t of Object.keys(gt))qi[[...gt[t].labels].sort().join("")]=t;const Ki={};function mt(t,e){if(!(this instanceof mt))return new mt(t,e);if(e&&e in cc&&(e=null),e&&!(e in gt))throw new Error("Unknown model: "+e);let n,r;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof mt)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){const s=pt.get(t);if(s===null)throw new Error("Unable to parse color from string: "+t);this.model=s.model,r=gt[this.model].channels,this.color=s.value.slice(0,r),this.valpha=typeof s.value[r]=="number"?s.value[r]:1}else if(t.length>0){this.model=e||"rgb",r=gt[this.model].channels;const s=Array.prototype.slice.call(t,0,r);this.color=Gi(s,r),this.valpha=typeof t[r]=="number"?t[r]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;const s=Object.keys(t);"alpha"in t&&(s.splice(s.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);const i=s.sort().join("");if(!(i in qi))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=qi[i];const{labels:o}=gt[this.model],a=[];for(n=0;n<o.length;n++)a.push(t[o[n]]);this.color=Gi(a)}if(Ki[this.model])for(r=gt[this.model].channels,n=0;n<r;n++){const s=Ki[this.model][n];s&&(this.color[n]=s(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}mt.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in pt.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);const n=e.valpha===1?e.color:[...e.color,this.valpha];return pt.to[e.model](...n)},percentString(t){const e=this.rgb().round(typeof t=="number"?t:1),n=e.valpha===1?e.color:[...e.color,this.valpha];return pt.to.rgb.percent(...n)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=gt[this.model],{labels:n}=gt[this.model];for(let r=0;r<e;r++)t[n[r]]=this.color[r];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new mt([...this.color.map(ip(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new mt([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:ot("rgb",0,ht(255)),green:ot("rgb",1,ht(255)),blue:ot("rgb",2,ht(255)),hue:ot(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:ot("hsl",1,ht(100)),lightness:ot("hsl",2,ht(100)),saturationv:ot("hsv",1,ht(100)),value:ot("hsv",2,ht(100)),chroma:ot("hcg",1,ht(100)),gray:ot("hcg",2,ht(100)),white:ot("hwb",1,ht(100)),wblack:ot("hwb",2,ht(100)),cyan:ot("cmyk",0,ht(100)),magenta:ot("cmyk",1,ht(100)),yellow:ot("cmyk",2,ht(100)),black:ot("cmyk",3,ht(100)),x:ot("xyz",0,ht(95.047)),y:ot("xyz",1,ht(100)),z:ot("xyz",2,ht(108.833)),l:ot("lab",0,ht(100)),a:ot("lab",1),b:ot("lab",2),keyword(t){return t!==void 0?new mt(t):gt[this.model].keyword(this.color)},hex(t){return t!==void 0?new mt(t):pt.to.hex(...this.rgb().round().color)},hexa(t){if(t!==void 0)return new mt(t);const e=this.rgb().round().color;let n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),pt.to.hex(...e)+n},rgbNumber(){const t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){const t=this.rgb().color,e=[];for(const[n,r]of t.entries()){const s=r/255;e[n]=s<=.04045?s/12.92:((s+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return mt.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const n=t.rgb(),r=this.rgb(),s=e===void 0?.5:e,i=2*s-1,o=n.alpha()-r.alpha(),a=((i*o===-1?i:(i+o)/(1+i*o))+1)/2,l=1-a;return mt.rgb(a*n.red()+l*r.red(),a*n.green()+l*r.green(),a*n.blue()+l*r.blue(),n.alpha()*s+r.alpha()*(1-s))}};for(const t of Object.keys(gt)){if(cc.includes(t))continue;const{channels:e}=gt[t];mt.prototype[t]=function(...n){return this.model===t?new mt(this):n.length>0?new mt(n,t):new mt([...op(gt[this.model][t].raw(this.color)),this.valpha],t)},mt[t]=function(...n){let r=n[0];return typeof r=="number"&&(r=Gi(n,e)),new mt(r,t)}}function sp(t,e){return Number(t.toFixed(e))}function ip(t){return function(e){return sp(e,t)}}function ot(t,e,n){t=Array.isArray(t)?t:[t];for(const r of t)(Ki[r]||=[])[e]=n;return t=t[0],function(r){let s;return r!==void 0?(n&&(r=n(r)),s=this[t](),s.color[e]=r,s):(s=this[t]().color[e],n&&(s=n(s)),s)}}function ht(t){return function(e){return Math.max(0,Math.min(t,e))}}function op(t){return Array.isArray(t)?t:[t]}function Gi(t,e){for(let n=0;n<e;n++)typeof t[n]!="number"&&(t[n]=0);return t}const Vr=mo()(nd((t,e)=>({theme:"dark",saveInterval:300,debugText:!1,gridColor:"#92a3bb",SSAOEnabled:!0,DOFEnabled:!0,controlDamping:!1,angleSnap:11.25,distanceSnap:.25,setTheme:n=>t({theme:n}),setSaveInterval:n=>t({saveInterval:n}),setDebugText:n=>t({debugText:n}),setGridColor:n=>t({gridColor:n}),setSSAOEnabled:n=>t({SSAOEnabled:n}),setDOFEnabled:n=>t({DOFEnabled:n}),setControlDamping:n=>t({controlDamping:n}),setAngleSnap:n=>t({angleSnap:n}),setDistanceSnap:n=>t({distanceSnap:n}),getComplementaryGridColor:()=>mt(e().gridColor).darken(.5).hex()}),{version:0,name:"preferences",storage:rd(()=>localStorage)})),ir=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),ap=ir?Promise.resolve().then(function(){return dp}):Promise.resolve().then(function(){return yp});async function uc(...t){return(await ap).default(...t)}ir?Promise.resolve().then(function(){return pp}):Promise.resolve().then(function(){return _p});const lp=ir?Promise.resolve().then(function(){return gp}):Promise.resolve().then(function(){return kp});async function cp(...t){return(await lp).default(...t)}const up=async t=>{const e=await t.getFile();return e.handle=t,e};var fp=async(t=[{}])=>{Array.isArray(t)||(t=[t]);const e=[];t.forEach((s,i)=>{e[i]={description:s.description||"Files",accept:{}},s.mimeTypes?s.mimeTypes.map(o=>{e[i].accept[o]=s.extensions||[]}):e[i].accept["*/*"]=s.extensions||[]});const n=await window.showOpenFilePicker({id:t[0].id,startIn:t[0].startIn,types:e,multiple:t[0].multiple||!1,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(up));return t[0].multiple?r:r[0]},dp={__proto__:null,default:fp};function Os(t){function e(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var r=n.done;return Promise.resolve(n.value).then(function(s){return{value:s,done:r}})}return Os=function(n){this.s=n,this.n=n.next},Os.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(n){var r=this.s.return;return r===void 0?Promise.resolve({value:n,done:!0}):e(r.apply(this.s,arguments))},throw:function(n){var r=this.s.return;return r===void 0?Promise.reject(n):e(r.apply(this.s,arguments))}},new Os(t)}const fc=async(t,e,n=t.name,r)=>{const s=[],i=[];var o,a=!1,l=!1;try{for(var c,d=(function(f){var h,g,b,p=2;for(typeof Symbol<"u"&&(g=Symbol.asyncIterator,b=Symbol.iterator);p--;){if(g&&(h=f[g])!=null)return h.call(f);if(b&&(h=f[b])!=null)return new Os(h.call(f));g="@@asyncIterator",b="@@iterator"}throw new TypeError("Object is not async iterable")})(t.values());a=!(c=await d.next()).done;a=!1){const f=c.value,h=`${n}/${f.name}`;f.kind==="file"?i.push(f.getFile().then(g=>(g.directoryHandle=t,g.handle=f,Object.defineProperty(g,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>h})))):f.kind!=="directory"||!e||r&&r(f)||s.push(fc(f,e,h,r))}}catch(f){l=!0,o=f}finally{try{a&&d.return!=null&&await d.return()}finally{if(l)throw o}}return[...(await Promise.all(s)).flat(),...await Promise.all(i)]};var hp=async(t={})=>{t.recursive=t.recursive||!1,t.mode=t.mode||"read";const e=await window.showDirectoryPicker({id:t.id,startIn:t.startIn,mode:t.mode});return(await(await e.values()).next()).done?[e]:fc(e,t.recursive,void 0,t.skipDirectory)},pp={__proto__:null,default:hp},mp=async(t,e=[{}],n=null,r=!1,s=null)=>{Array.isArray(e)||(e=[e]),e[0].fileName=e[0].fileName||"Untitled";const i=[];let o=null;if(t instanceof Blob&&t.type?o=t.type:t.headers&&t.headers.get("content-type")&&(o=t.headers.get("content-type")),e.forEach((c,d)=>{i[d]={description:c.description||"Files",accept:{}},c.mimeTypes?(d===0&&o&&c.mimeTypes.push(o),c.mimeTypes.map(f=>{i[d].accept[f]=c.extensions||[]})):o?i[d].accept[o]=c.extensions||[]:i[d].accept["*/*"]=c.extensions||[]}),n)try{await n.getFile()}catch(c){if(n=null,r)throw c}const a=n||await window.showSaveFilePicker({suggestedName:e[0].fileName,id:e[0].id,startIn:e[0].startIn,types:i,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1});!n&&s&&s(a);const l=await a.createWritable();return"stream"in t?(await t.stream().pipeTo(l),a):"body"in t?(await t.body.pipeTo(l),a):(await l.write(await t),await l.close(),a)},gp={__proto__:null,default:mp},bp=async(t=[{}])=>(Array.isArray(t)||(t=[t]),new Promise((e,n)=>{const r=document.createElement("input");r.type="file";const s=[...t.map(i=>i.mimeTypes||[]),...t.map(i=>i.extensions||[])].join();r.multiple=t[0].multiple||!1,r.accept=s||"",r.style.display="none",document.body.append(r),r.addEventListener("cancel",()=>{r.remove(),n(new DOMException("The user aborted a request.","AbortError"))}),r.addEventListener("change",()=>{r.remove(),e(r.multiple?Array.from(r.files):r.files[0])}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),yp={__proto__:null,default:bp},wp=async(t=[{}])=>(Array.isArray(t)||(t=[t]),t[0].recursive=t[0].recursive||!1,new Promise((e,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0,r.style.display="none",document.body.append(r),r.addEventListener("cancel",()=>{r.remove(),n(new DOMException("The user aborted a request.","AbortError"))}),r.addEventListener("change",()=>{r.remove();let s=Array.from(r.files);t[0].recursive?t[0].recursive&&t[0].skipDirectory&&(s=s.filter(i=>i.webkitRelativePath.split("/").every(o=>!t[0].skipDirectory({name:o,kind:"directory"})))):s=s.filter(i=>i.webkitRelativePath.split("/").length===2),e(s)}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),_p={__proto__:null,default:wp},vp=async(t,e={})=>{Array.isArray(e)&&(e=e[0]);const n=document.createElement("a");let r=t;"body"in t&&(r=await(async function(o,a){const l=o.getReader(),c=new ReadableStream({start:h=>(async function g(){return l.read().then(({done:b,value:p})=>{if(!b)return h.enqueue(p),g();h.close()})})()}),d=new Response(c),f=await d.blob();return l.releaseLock(),new Blob([f],{type:a})})(t.body,t.headers.get("content-type"))),n.download=e.fileName||"Untitled",n.href=URL.createObjectURL(await r);const s=()=>{typeof i=="function"&&i()},i=e.legacySetup&&e.legacySetup(s,()=>i(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),s()}),n.click(),null},kp={__proto__:null,default:vp},at=Uint8Array,Tt=Uint16Array,_o=Int32Array,Gs=new at([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hs=new at([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hi=new at([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dc=function(t,e){for(var n=new Tt(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new _o(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},hc=dc(Gs,2),pc=hc.b,Yi=hc.r;pc[28]=258,Yi[258]=28;var mc=dc(Hs,0),xp=mc.b,da=mc.r,Wi=new Tt(32768);for(var tt=0;tt<32768;++tt){var on=(tt&43690)>>1|(tt&21845)<<1;on=(on&52428)>>2|(on&13107)<<2,on=(on&61680)>>4|(on&3855)<<4,Wi[tt]=((on&65280)>>8|(on&255)<<8)>>1}var Ht=(function(t,e,n){for(var r=t.length,s=0,i=new Tt(e);s<r;++s)t[s]&&++i[t[s]-1];var o=new Tt(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(n){a=new Tt(1<<e);var l=15-e;for(s=0;s<r;++s)if(t[s])for(var c=s<<4|t[s],d=e-t[s],f=o[t[s]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)a[Wi[f]>>l]=c}else for(a=new Tt(r),s=0;s<r;++s)t[s]&&(a[s]=Wi[o[t[s]-1]++]>>15-t[s]);return a}),kn=new at(288);for(var tt=0;tt<144;++tt)kn[tt]=8;for(var tt=144;tt<256;++tt)kn[tt]=9;for(var tt=256;tt<280;++tt)kn[tt]=7;for(var tt=280;tt<288;++tt)kn[tt]=8;var Dr=new at(32);for(var tt=0;tt<32;++tt)Dr[tt]=5;var Sp=Ht(kn,9,0),Ap=Ht(kn,9,1),Np=Ht(Dr,5,0),Tp=Ht(Dr,5,1),di=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Dt=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},hi=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},vo=function(t){return(t+7)/8|0},qr=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new at(t.subarray(e,n))},Ep=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],_t=function(t,e,n){var r=new Error(e||Ep[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,_t),!n)throw r;return r},Ip=function(t,e,n,r){var s=t.length,i=r?r.length:0;if(!s||e.f&&!e.l)return n||new at(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new at(s*3));var c=function(x){var E=n.length;if(x>E){var B=new at(Math.max(E*2,x));B.set(n),n=B}},d=e.f||0,f=e.p||0,h=e.b||0,g=e.l,b=e.d,p=e.m,w=e.n,S=s*8;do{if(!g){d=Dt(t,f,1);var N=Dt(t,f+1,3);if(f+=3,N)if(N==1)g=Ap,b=Tp,p=9,w=5;else if(N==2){var O=Dt(t,f,31)+257,z=Dt(t,f+10,15)+4,I=O+Dt(t,f+5,31)+1;f+=14;for(var M=new at(I),R=new at(19),W=0;W<z;++W)R[Hi[W]]=Dt(t,f+W*3,7);f+=z*3;for(var q=di(R),Q=(1<<q)-1,le=Ht(R,q,1),W=0;W<I;){var de=le[Dt(t,f,Q)];f+=de&15;var T=de>>4;if(T<16)M[W++]=T;else{var be=0,ce=0;for(T==16?(ce=3+Dt(t,f,3),f+=2,be=M[W-1]):T==17?(ce=3+Dt(t,f,7),f+=3):T==18&&(ce=11+Dt(t,f,127),f+=7);ce--;)M[W++]=be}}var ne=M.subarray(0,O),pe=M.subarray(O);p=di(ne),w=di(pe),g=Ht(ne,p,1),b=Ht(pe,w,1)}else _t(1);else{var T=vo(f)+4,k=t[T-4]|t[T-3]<<8,j=T+k;if(j>s){l&&_t(0);break}a&&c(h+k),n.set(t.subarray(T,j),h),e.b=h+=k,e.p=f=j*8,e.f=d;continue}if(f>S){l&&_t(0);break}}a&&c(h+131072);for(var ie=(1<<p)-1,Te=(1<<w)-1,Ee=f;;Ee=f){var be=g[hi(t,f)&ie],we=be>>4;if(f+=be&15,f>S){l&&_t(0);break}if(be||_t(2),we<256)n[h++]=we;else if(we==256){Ee=f,g=null;break}else{var G=we-254;if(we>264){var W=we-257,Ne=Gs[W];G=Dt(t,f,(1<<Ne)-1)+pc[W],f+=Ne}var $e=b[hi(t,f)&Te],De=$e>>4;$e||_t(3),f+=$e&15;var pe=xp[De];if(De>3){var Ne=Hs[De];pe+=hi(t,f)&(1<<Ne)-1,f+=Ne}if(f>S){l&&_t(0);break}a&&c(h+131072);var Fe=h+G;if(h<pe){var Ye=i-pe,v=Math.min(pe,Fe);for(Ye+h<0&&_t(3);h<v;++h)n[h]=r[Ye+h]}for(;h<Fe;++h)n[h]=n[h-pe]}}e.l=g,e.p=Ee,e.b=h,e.f=d,g&&(d=1,e.m=p,e.d=b,e.n=w)}while(!d);return h!=n.length&&o?qr(n,0,h):n.subarray(0,h)},Xt=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Sr=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},pi=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:bc,l:0};if(s==1){var o=new at(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(j,O){return j.f-O.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,d=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=s-1;)a=n[n[c].f<n[f].f?c++:f++],l=n[c!=d&&n[c].f<n[f].f?c++:f++],n[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=i[0].s,r=1;r<s;++r)i[r].s>h&&(h=i[r].s);var g=new Tt(h+1),b=Ji(n[d-1],g,0);if(b>e){var r=0,p=0,w=b-e,S=1<<w;for(i.sort(function(O,z){return g[z.s]-g[O.s]||O.f-z.f});r<s;++r){var N=i[r].s;if(g[N]>e)p+=S-(1<<b-g[N]),g[N]=e;else break}for(p>>=w;p>0;){var T=i[r].s;g[T]<e?p-=1<<e-g[T]++-1:++r}for(;r>=0&&p;--r){var k=i[r].s;g[k]==e&&(--g[k],++p)}b=e}return{t:new at(g),l:b}},Ji=function(t,e,n){return t.s==-1?Math.max(Ji(t.l,e,n+1),Ji(t.r,e,n+1)):e[t.s]=n},ha=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Tt(++e),r=0,s=t[0],i=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return{c:n.subarray(0,r),n:e}},Ar=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},gc=function(t,e,n){var r=n.length,s=vo(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<r;++i)t[s+i+4]=n[i];return(s+4+r)*8},pa=function(t,e,n,r,s,i,o,a,l,c,d){Xt(e,d++,n),++s[256];for(var f=pi(s,15),h=f.t,g=f.l,b=pi(i,15),p=b.t,w=b.l,S=ha(h),N=S.c,T=S.n,k=ha(p),j=k.c,O=k.n,z=new Tt(19),I=0;I<N.length;++I)++z[N[I]&31];for(var I=0;I<j.length;++I)++z[j[I]&31];for(var M=pi(z,7),R=M.t,W=M.l,q=19;q>4&&!R[Hi[q-1]];--q);var Q=c+5<<3,le=Ar(s,kn)+Ar(i,Dr)+o,de=Ar(s,h)+Ar(i,p)+o+14+3*q+Ar(z,R)+2*z[16]+3*z[17]+7*z[18];if(l>=0&&Q<=le&&Q<=de)return gc(e,d,t.subarray(l,l+c));var be,ce,ne,pe;if(Xt(e,d,1+(de<le)),d+=2,de<le){be=Ht(h,g,0),ce=h,ne=Ht(p,w,0),pe=p;var ie=Ht(R,W,0);Xt(e,d,T-257),Xt(e,d+5,O-1),Xt(e,d+10,q-4),d+=14;for(var I=0;I<q;++I)Xt(e,d+3*I,R[Hi[I]]);d+=3*q;for(var Te=[N,j],Ee=0;Ee<2;++Ee)for(var we=Te[Ee],I=0;I<we.length;++I){var G=we[I]&31;Xt(e,d,ie[G]),d+=R[G],G>15&&(Xt(e,d,we[I]>>5&127),d+=we[I]>>12)}}else be=Sp,ce=kn,ne=Np,pe=Dr;for(var I=0;I<a;++I){var Ne=r[I];if(Ne>255){var G=Ne>>18&31;Sr(e,d,be[G+257]),d+=ce[G+257],G>7&&(Xt(e,d,Ne>>23&31),d+=Gs[G]);var $e=Ne&31;Sr(e,d,ne[$e]),d+=pe[$e],$e>3&&(Sr(e,d,Ne>>5&8191),d+=Hs[$e])}else Sr(e,d,be[Ne]),d+=ce[Ne]}return Sr(e,d,be[256]),d+ce[256]},Op=new _o([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bc=new at(0),jp=function(t,e,n,r,s,i){var o=i.z||t.length,a=new at(r+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(r,a.length-s),c=i.l,d=(i.r||0)&7;if(e){d&&(l[0]=i.r>>3);for(var f=Op[e-1],h=f>>13,g=f&8191,b=(1<<n)-1,p=i.p||new Tt(32768),w=i.h||new Tt(b+1),S=Math.ceil(n/3),N=2*S,T=function($){return(t[$]^t[$+1]<<S^t[$+2]<<N)&b},k=new _o(25e3),j=new Tt(288),O=new Tt(32),z=0,I=0,M=i.i||0,R=0,W=i.w||0,q=0;M+2<o;++M){var Q=T(M),le=M&32767,de=w[Q];if(p[le]=de,w[Q]=le,W<=M){var be=o-M;if((z>7e3||R>24576)&&(be>423||!c)){d=pa(t,l,0,k,j,O,I,R,q,M-q,d),R=z=I=0,q=M;for(var ce=0;ce<286;++ce)j[ce]=0;for(var ce=0;ce<30;++ce)O[ce]=0}var ne=2,pe=0,ie=g,Te=le-de&32767;if(be>2&&Q==T(M-Te))for(var Ee=Math.min(h,be)-1,we=Math.min(32767,M),G=Math.min(258,be);Te<=we&&--ie&&le!=de;){if(t[M+ne]==t[M+ne-Te]){for(var Ne=0;Ne<G&&t[M+Ne]==t[M+Ne-Te];++Ne);if(Ne>ne){if(ne=Ne,pe=Te,Ne>Ee)break;for(var $e=Math.min(Te,Ne-2),De=0,ce=0;ce<$e;++ce){var Fe=M-Te+ce&32767,Ye=p[Fe],v=Fe-Ye&32767;v>De&&(De=v,de=Fe)}}}le=de,de=p[le],Te+=le-de&32767}if(pe){k[R++]=268435456|Yi[ne]<<18|da[pe];var x=Yi[ne]&31,E=da[pe]&31;I+=Gs[x]+Hs[E],++j[257+x],++O[E],W=M+ne,++z}else k[R++]=t[M],++j[t[M]]}}for(M=Math.max(M,W);M<o;++M)k[R++]=t[M],++j[t[M]];d=pa(t,l,c,k,j,O,I,R,q,M-q,d),c||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=w,i.p=p,i.i=M,i.w=W)}else{for(var M=i.w||0;M<o+c;M+=65535){var B=M+65535;B>=o&&(l[d/8|0]=c,B=o),d=gc(l,d+1,t.subarray(M,B))}i.i=o}return qr(a,0,r+vo(d)+s)},zp=(function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(n&1&&-306674912)^n>>>1;t[e]=n}return t})(),Cp=function(){var t=-1;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=zp[n&255^e[r]]^n>>>8;t=n},d:function(){return~t}}},Pp=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new at(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return jp(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},yc=function(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n},Kt=function(t,e){return t[e]|t[e+1]<<8},Ft=function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},mi=function(t,e){return Ft(t,e)+Ft(t,e+4)*4294967296},yt=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function $p(t,e){return Pp(t,e||{},0,0)}function Dp(t,e){return Ip(t,{i:2},e&&e.out,e&&e.dictionary)}var wc=function(t,e,n,r){for(var s in t){var i=t[s],o=e+s,a=r;Array.isArray(i)&&(a=yc(r,i[1]),i=i[0]),i instanceof at?n[o]=[i,a]:(n[o+="/"]=[new at(0),a],wc(i,o,n,r))}},ma=typeof TextEncoder<"u"&&new TextEncoder,Xi=typeof TextDecoder<"u"&&new TextDecoder,Lp=0;try{Xi.decode(bc,{stream:!0}),Lp=1}catch{}var Rp=function(t){for(var e="",n=0;;){var r=t[n++],s=(r>127)+(r>223)+(r>239);if(n+s>t.length)return{s:e,r:qr(t,n-1)};s?s==3?(r=((r&15)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):s&1?e+=String.fromCharCode((r&31)<<6|t[n++]&63):e+=String.fromCharCode((r&15)<<12|(t[n++]&63)<<6|t[n++]&63):e+=String.fromCharCode(r)}};function Lr(t,e){var n;if(ma)return ma.encode(t);for(var r=t.length,s=new at(t.length+(t.length>>1)),i=0,o=function(c){s[i++]=c},n=0;n<r;++n){if(i+5>s.length){var a=new at(i+8+(r-n<<1));a.set(s),s=a}var l=t.charCodeAt(n);l<128||e?o(l):l<2048?(o(192|l>>6),o(128|l&63)):l>55295&&l<57344?(l=65536+(l&1047552)|t.charCodeAt(++n)&1023,o(240|l>>18),o(128|l>>12&63),o(128|l>>6&63),o(128|l&63)):(o(224|l>>12),o(128|l>>6&63),o(128|l&63))}return qr(s,0,i)}function Qi(t,e){if(e){for(var n="",r=0;r<t.length;r+=16384)n+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return n}else{if(Xi)return Xi.decode(t);var s=Rp(t),i=s.s,n=s.r;return n.length&&_t(8),i}}var Mp=function(t,e){return e+30+Kt(t,e+26)+Kt(t,e+28)},Bp=function(t,e,n){var r=Kt(t,e+28),s=Qi(t.subarray(e+46,e+46+r),!(Kt(t,e+8)&2048)),i=e+46+r,o=Ft(t,e+20),a=n&&o==4294967295?Fp(t,i):[o,Ft(t,e+24),Ft(t,e+42)],l=a[0],c=a[1],d=a[2];return[Kt(t,e+10),l,c,s,i+Kt(t,e+30)+Kt(t,e+32),d]},Fp=function(t,e){for(;Kt(t,e)!=1;e+=4+Kt(t,e+2));return[mi(t,e+12),mi(t,e+4),mi(t,e+20)]},eo=function(t){var e=0;if(t)for(var n in t){var r=t[n].length;r>65535&&_t(9),e+=r+4}return e},ga=function(t,e,n,r,s,i,o,a){var l=r.length,c=n.extra,d=a&&a.length,f=eo(c);yt(t,e,o!=null?33639248:67324752),e+=4,o!=null&&(t[e++]=20,t[e++]=n.os),t[e]=20,e+=2,t[e++]=n.flag<<1|(i<0&&8),t[e++]=s&&8,t[e++]=n.compression&255,t[e++]=n.compression>>8;var h=new Date(n.mtime==null?Date.now():n.mtime),g=h.getFullYear()-1980;if((g<0||g>119)&&_t(10),yt(t,e,g<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>1),e+=4,i!=-1&&(yt(t,e,n.crc),yt(t,e+4,i<0?-i-2:i),yt(t,e+8,n.size)),yt(t,e+12,l),yt(t,e+14,f),e+=16,o!=null&&(yt(t,e,d),yt(t,e+6,n.attrs),yt(t,e+10,o),e+=14),t.set(r,e),e+=l,f)for(var b in c){var p=c[b],w=p.length;yt(t,e,+b),yt(t,e+2,w),t.set(p,e+4),e+=4+w}return d&&(t.set(a,e),e+=d),e},Up=function(t,e,n,r,s){yt(t,e,101010256),yt(t,e+8,n),yt(t,e+10,n),yt(t,e+12,r),yt(t,e+16,s)};function Zp(t,e){e||(e={});var n={},r=[];wc(t,"",n,e);var s=0,i=0;for(var o in n){var a=n[o],l=a[0],c=a[1],d=c.level==0?0:8,f=Lr(o),h=f.length,g=c.comment,b=g&&Lr(g),p=b&&b.length,w=eo(c.extra);h>65535&&_t(11);var S=d?$p(l,c):l,N=S.length,T=Cp();T.p(l),r.push(yc(c,{size:l.length,crc:T.d(),c:S,f,m:b,u:h!=o.length||b&&g.length!=p,o:s,compression:d})),s+=30+h+w+N,i+=76+2*(h+w)+(p||0)+N}for(var k=new at(i+22),j=s,O=i-s,z=0;z<r.length;++z){var f=r[z];ga(k,f.o,f,f.f,f.u,f.c.length);var I=30+f.f.length+eo(f.extra);k.set(f.c,f.o+I),ga(k,s,f,f.f,f.u,f.c.length,f.o,f.m),s+=16+I+(f.m?f.m.length:0)}return Up(k,s,r.length,O,j),k}function Vp(t,e){for(var n={},r=t.length-22;Ft(t,r)!=101010256;--r)(!r||t.length-r>65558)&&_t(13);var s=Kt(t,r+8);if(!s)return{};var i=Ft(t,r+16),o=i==4294967295||s==65535;if(o){var a=Ft(t,r-12);o=Ft(t,a)==101075792,o&&(s=Ft(t,a+32),i=Ft(t,a+48))}for(var l=0;l<s;++l){var c=Bp(t,i,o),d=c[0],f=c[1],h=c[2],g=c[3],b=c[4],p=c[5],w=Mp(t,p);i=b,d?d==8?n[g]=Dp(t.subarray(w,w+f),{out:new at(h)}):_t(14,"unknown compression type "+d):n[g]=qr(t,w,w+f)}return n}var rs={},Nr={},ss={},ba;function xt(){if(ba)return ss;ba=1,Object.defineProperty(ss,"__esModule",{value:!0});let t=class extends Error{constructor(n){super(n),this.name="NBTError"}};return ss.default=t,ss}var Tr={},ya;function Pt(){if(ya)return Tr;ya=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.concatUint8Arrays=t,Tr.isLittleEndian=e;function t(...n){let r=0;for(let o of n)r+=o.length;let s=new Uint8Array(r),i=0;for(let o of n)s.set(o,i),i+=o.length;return s}function e(n){return n==="bedrock"}return Tr}var gi={},is={},os={},wa;function ko(){if(wa)return os;wa=1,Object.defineProperty(os,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt();let r=class an{constructor(i){this.value=i&0xffffffffffffffffn}static fromSNBTValue(i){if(i=i.trim(),!/[-+]?(?:0|[1-9][0-9]*)[lL]?/.test(i))throw new e.default("Invalid long SNBT value");return new an(BigInt(i.replace(/[lL]/,"").trim()))}static fromUint8Array(i,o){return new an(new DataView(i.buffer).getBigInt64(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return an.fromSNBTValue(i)}fromUint8Array(i,o){return an.fromUint8Array(i,o)}copy(){return new an(this.value)}equals(i){return i instanceof an&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return an.getTagId()}setValue(i){this.value=i&0xffffffffffffffffn}toSNBTValue(i){return this.value+"l"}toUint8Array(i){const o=new ArrayBuffer(8);return new DataView(o).setBigInt64(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.LONG}};return os.default=r,os}var as={},_a;function br(){if(_a)return as;_a=1,Object.defineProperty(as,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt();let r=class ln{constructor(i){this.value=i&4294967295}static fromSNBTValue(i){if(i=i.trim(),!/[-+]?(?:0|[1-9][0-9]*)/.test(i))throw new e.default("Invalid int SNBT value");return new ln(Number(i.trim()))}static fromUint8Array(i,o){return new ln(new DataView(i.buffer).getInt32(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return ln.fromSNBTValue(i)}fromUint8Array(i,o){return ln.fromUint8Array(i,o)}copy(){return new ln(this.value)}equals(i){return i instanceof ln&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return ln.getTagId()}setValue(i){this.value=i&4294967295}toSNBTValue(i){return this.value.toString()}toUint8Array(i){const o=new ArrayBuffer(4);return new DataView(o).setInt32(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.INT}};return as.default=r,as}var va;function qp(){if(va)return is;va=1,Object.defineProperty(is,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt(),r=ko(),s=br();let i=class cn{constructor(a){if(a.length>=2**31)throw new e.default("Long array is too long");this.value=a}static fromSNBTValue(a){a=a.replace(" ","").trim();const l=a.replace("[L;","").replace("]","").split(","),c=[];return l.forEach((d,f)=>c[f]=r.default.fromSNBTValue(d)),new cn(c)}static fromUint8Array(a,l){const c=[],d=s.default.fromUint8Array(a.slice(0,4),l).getValue();let f=4;for(let h=0;h<d;h++)c.push(r.default.fromUint8Array(a.slice(f,f+8),l)),f+=8;return new cn(c)}fromSNBTValue(a){return cn.fromSNBTValue(a)}fromUint8Array(a,l){return cn.fromUint8Array(a,l)}copy(){return new cn(this.value)}equals(a){return a instanceof cn&&this.value.every((l,c)=>l.equals(this.value[c]))}getValue(){return this.value}getValueDeep(){return this.value.map(a=>a.getValueDeep())}getTagId(){return cn.getTagId()}setValue(a){if(a.length>=2**31)throw new e.default("Long array is too long");this.value=a}toSNBTValue(a){let l="[L;"+(a==="formated"?" ":"");if(this.value.length>0){l+=a==="formated"?" ":"";for(let c=0;c<this.value.length-1;c++)l+=this.value[c].toSNBTValue(a)+","+(a==="formated"?" ":"");l+=this.value[this.value.length-1].toSNBTValue(a)}return l+="]",l}toUint8Array(a){return(0,n.concatUint8Arrays)(new s.default(this.value.length).toUint8Array(a),...this.value.map(l=>l.toUint8Array(a)))}static getTagId(){return t.default.LONG_ARRAY}};return is.default=i,is}var ls={},ka;function Kp(){if(ka)return ls;ka=1,Object.defineProperty(ls,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt(),r=br();let s=class un{constructor(o){if(o.length>=2**31)throw new e.default("Int array is too long");this.value=o}static fromSNBTValue(o){o=o.replace(" ","");const a=o.replace("[I;","").replace("]","").split(","),l=[];return a.forEach((c,d)=>l[d]=r.default.fromSNBTValue(c)),new un(l)}static fromUint8Array(o,a){const l=[],c=r.default.fromUint8Array(o.slice(0,4),a).getValue();let d=4;for(let f=0;f<c;f++)l.push(r.default.fromUint8Array(o.slice(d,d+4),a)),d+=4;return new un(l)}fromSNBTValue(o){return un.fromSNBTValue(o)}fromUint8Array(o,a){return un.fromUint8Array(o,a)}copy(){return new un(this.value)}equals(o){return o instanceof un&&this.value.every((a,l)=>a.equals(this.value[l]))}getValue(){return this.value}getValueDeep(){return this.value.map(o=>o.getValueDeep())}getTagId(){return un.getTagId()}setValue(o){if(o.length>=2**31)throw new e.default("Int array is too long");this.value=o}toSNBTValue(o){let a="[I;";if(this.value.length>0){a+=o==="formated"?" ":"";for(let l=0;l<this.value.length-1;l++)a+=this.value[l].toSNBTValue(o)+","+(o==="formated"?" ":"");a+=this.value[this.value.length-1].toSNBTValue(o)}return a+="]",a}toUint8Array(o){return(0,n.concatUint8Arrays)(new r.default(this.value.length).toUint8Array(o),...this.value.map(a=>a.toUint8Array(o)))}static getTagId(){return t.default.INT_ARRAY}};return ls.default=s,ls}var cs={},xa;function _c(){if(xa)return cs;xa=1,Object.defineProperty(cs,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt(),r=br();let s=class fn{constructor(o){if(o.length>=2**31)throw new e.default("List is too long");if(o.length>0&&o.some(a=>a.getTagId()!==o[0].getTagId()))throw new e.default("List contains different types");this.value=o}static fromSNBTValue(o){if(o=o.trim(),!o.startsWith("[")||!o.endsWith("]"))throw new Error("Invalid compound SNBT value");const a=[];let l=[],c="";for(let d=1;d<o.length-1;d++){const f=o.charAt(d),h=d-1<1?"":o.charAt(d-1),g=d+1>=o.length-1?"":o.charAt(d+1);switch(f){case"{":(!l[l.length-1]||!l[l.length-1].includes("string"))&&l.push("compound");break;case"[":(!l[l.length-1]||!l[l.length-1].includes("string"))&&l.push("list");break;case'"':l[l.length-1]==='"string"'?h!=="\\"&&l.pop():l[l.length-1]!=='"string"'&&l.push('"string"');break;case"'":l[l.length-1]==="'string'"?h!=="\\"&&l.pop():l[l.length-1]!=="'string'"&&l.push("'string'");break;case"]":l[l.length-1]==="list"&&l.pop();break;case"}":l[l.length-1]==="compound"&&l.pop();break}if(l.length>0)c+=f;else{const b=()=>{const p=(0,t.getPayloadTypeBySNBTValue)(c);a.push(p.fromSNBTValue(c)),c=""};if(f===" ")continue;f===","?b():(c+=f,g===""&&b())}}return new fn(a)}static fromUint8Array(o,a){const l=[],c=r.default.fromUint8Array(o.slice(1,5),a).getValue();if(c>0){const d=(0,t.getPayloadType)(o[0]);let f=5;for(let h=0;h<c;h++){const g=d.fromUint8Array(o.slice(f),a);l.push(g),f+=g.toUint8Array(a).length}}return new fn(l)}fromSNBTValue(o){return fn.fromSNBTValue(o)}fromUint8Array(o,a){return fn.fromUint8Array(o,a)}copy(){return new fn(this.value)}equals(o){return o instanceof fn&&this.value.every((a,l)=>a.equals(this.value[l]))}getValue(){return this.value}getValueDeep(){return this.value.map(o=>o.getValueDeep())}getTagId(){return fn.getTagId()}setValue(o){if(o.length>=2**31)throw new e.default("List is too long");if(o.length>0&&o.some(a=>a.getTagId()!==o[0].getTagId()))throw new e.default("List contains different types");this.value=o}toSNBTValue(o){let a="[";if(this.value.length>0){for(let l=0;l<this.value.length-1;l++)a+=this.value[l].toSNBTValue(o)+","+(o==="formated"?" ":"");a+=this.value[this.value.length-1].toSNBTValue(o)}return a+="]",a}toUint8Array(o){return(0,n.concatUint8Arrays)(this.value.length===0?new Uint8Array([0]):new Uint8Array([this.value[0].getTagId()]),new r.default(this.value.length).toUint8Array(o),...this.value.map(a=>a.toUint8Array(o)))}static getTagId(){return t.default.LIST}};return cs.default=s,cs}var us={},Sa;function xo(){if(Sa)return us;Sa=1,Object.defineProperty(us,"__esModule",{value:!0});const t=Et(),e=xt();let n=class Vt{constructor(s){this.value=s&255}static fromSNBTValue(s){if(s=s.trim(),s==="true")return new Vt(1);if(s==="false")return new Vt(0);if(!/[-+]?(?:0|[1-9][0-9]*)[bB]?/.test(s))throw new e.default("Invalid byte SNBT value");return new Vt(Number(s.replace(/[bB]/,"").trim()))}static fromUint8Array(s,i){return new Vt(new DataView(s.buffer).getInt8(0))}fromSNBTValue(s){return Vt.fromSNBTValue(s)}fromUint8Array(s,i){return Vt.fromUint8Array(s,i)}copy(){return new Vt(this.value)}equals(s){return s instanceof Vt&&this.value===s.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return Vt.getTagId()}setValue(s){this.value=s&255}toSNBTValue(s){return this.value+"b"}toUint8Array(s){const i=new ArrayBuffer(1);return new DataView(i).setInt8(0,this.value),new Uint8Array(i)}static getTagId(){return t.default.BYTE}};return us.default=n,us}var fs={},Aa;function vc(){if(Aa)return fs;Aa=1,Object.defineProperty(fs,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt();let r=class dn{constructor(i){this.value=i&65535}static fromSNBTValue(i){if(i=i=i.replace(" ","").trim(),!/[-+]?(?:0|[1-9][0-9]*)[sS]?/.test(i))throw new e.default("Invalid short SNBT value");return new dn(Number(i.replace(/[sS]/,"").trim()))}static fromUint8Array(i,o){return new dn(new DataView(i.buffer).getInt32(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return dn.fromSNBTValue(i)}fromUint8Array(i,o){return dn.fromUint8Array(i,o)}copy(){return new dn(this.value)}equals(i){return i instanceof dn&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return dn.getTagId()}setValue(i){this.value=i&65535}toSNBTValue(i){return this.value+"s"}toUint8Array(i){const o=new ArrayBuffer(2);return new DataView(o).setInt16(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.SHORT}};return fs.default=r,fs}var ds={},Na;function kc(){if(Na)return ds;Na=1,Object.defineProperty(ds,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt();let r=class qt{constructor(i){this.value=qt.numToFloat(i)}static fromSNBTValue(i){if(i=i.trim(),!/[-+]?(?:[0-9]+[.]?|[0-9]*[.][0-9]+)(?:e[-+]?[0-9]+)?[fF]?/.test(i))throw new e.default("Invalid float SNBT value");return new qt(Number(i.replace(/[fF]/,"").trim()))}static fromUint8Array(i,o){return new qt(new DataView(i.buffer).getFloat32(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return qt.fromSNBTValue(i)}fromUint8Array(i,o){return qt.fromUint8Array(i,o)}copy(){return new qt(this.value)}equals(i){return i instanceof qt&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return qt.getTagId()}setValue(i){this.value=qt.numToFloat(i)}toSNBTValue(i){return this.value+"f"}toUint8Array(i){const o=new ArrayBuffer(4);return new DataView(o).setFloat32(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.FLOAT}static numToFloat(i){return new Float32Array([i])[0]}};return ds.default=r,ds}var hs={},Ta;function xc(){if(Ta)return hs;Ta=1,Object.defineProperty(hs,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt();let r=class hn{constructor(i){this.value=i}static fromSNBTValue(i){if(i=i.trim(),/![-+]?(?:[0-9]+[.]?|[0-9]*[.][0-9]+)(?:e[-+]?[0-9]+)?[dD]?/.test(i))throw new e.default("Invalid double SNBT value");return new hn(Number(i.replace(/[dD]/,"").trim()))}static fromUint8Array(i,o){return new hn(new DataView(i.buffer).getFloat64(0,(0,n.isLittleEndian)(o)))}fromSNBTValue(i){return hn.fromSNBTValue(i)}fromUint8Array(i,o){return hn.fromUint8Array(i,o)}copy(){return new hn(this.value)}equals(i){return i instanceof hn&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return hn.getTagId()}setValue(i){this.value=i}toSNBTValue(i){return this.value+"d"}toUint8Array(i){const o=new ArrayBuffer(8);return new DataView(o).setFloat64(0,this.value,(0,n.isLittleEndian)(i)),new Uint8Array(o)}static getTagId(){return t.default.DOUBLE}};return hs.default=r,hs}var ps={},Ea;function Sc(){if(Ea)return ps;Ea=1,Object.defineProperty(ps,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt();let r=class pn{constructor(i){this.value=i}static fromSNBTValue(i){if(i=i.trim(),new TextEncoder().encode(i).length>65535)throw new e.default("String is too long");if(/([a-zA-Z0-9_\-.+]+)|('.+')|(".+")/.test(i))i.startsWith("'")&&i.endsWith("'")?i=i.substring(1,i.length-1).replace("\\'","'"):i.startsWith('"')&&i.endsWith('"')&&(i=i.substring(1,i.length-1).replace('\\"','"'));else throw new e.default("Invalid string SNBT value");return new pn(i)}static fromUint8Array(i,o){const a=new DataView(i.slice(0,2).buffer).getUint16(0);return new pn(new TextDecoder().decode(i.slice(2,a+2)))}fromSNBTValue(i){return pn.fromSNBTValue(i)}fromUint8Array(i,o){return pn.fromUint8Array(i,o)}copy(){return new pn(this.value)}equals(i){return i instanceof pn&&this.value===i.getValue()}getValue(){return this.value}getValueDeep(){return this.getValue()}getTagId(){return pn.getTagId()}setValue(i){this.value=i}toSNBTValue(i){return'"'+this.value.replace('"','\\"')+'"'}toUint8Array(i){const o=new TextEncoder().encode(this.value),a=new ArrayBuffer(2);return new DataView(a).setUint16(0,o.length),(0,n.concatUint8Arrays)(new Uint8Array(a),o)}static getTagId(){return t.default.STRING}};return ps.default=r,ps}var ms={},Ia;function Gp(){if(Ia)return ms;Ia=1,Object.defineProperty(ms,"__esModule",{value:!0});const t=Et(),e=xt(),n=Pt(),r=xo(),s=br();let i=class mn{constructor(a){if(a.length>=2**31)throw new e.default("Byte array is too long");this.value=a}static fromSNBTValue(a){a=a.replace(" ","").trim();const l=a.replace("[B;","").replace("]","").split(","),c=[];return l.forEach((d,f)=>c[f]=r.default.fromSNBTValue(d)),new mn(c)}static fromUint8Array(a,l){const c=[],d=s.default.fromUint8Array(a.slice(0,4),l).getValue();for(let f=0;f<d;f++)c.push(r.default.fromUint8Array(a.slice(f+4,f+5),l));return new mn(c)}fromSNBTValue(a){return mn.fromSNBTValue(a)}fromUint8Array(a,l){return mn.fromUint8Array(a,l)}copy(){return new mn(this.value)}equals(a){return a instanceof mn&&this.value.every((l,c)=>l.equals(this.value[c]))}getValue(){return this.value}getValueDeep(){return this.value.map(a=>a.getValueDeep())}getTagId(){return mn.getTagId()}setValue(a){if(a.length>=2**31)throw new e.default("Byte array is too long");this.value=a}toSNBTValue(a){let l="[B;";if(this.value.length>0){l+=a==="formated"?" ":"";for(let c=0;c<this.value.length-1;c++)l+=this.value[c].toSNBTValue(a)+","+(a==="formated"?" ":"");l+=this.value[this.value.length-1].toSNBTValue(a)}return l+="]",l}toUint8Array(a){return(0,n.concatUint8Arrays)(new s.default(this.value.length).toUint8Array(a),...this.value.map(l=>l.toUint8Array(a)))}static getTagId(){return t.default.BYTE_ARRAY}};return ms.default=i,ms}var gs={},Oa;function So(){if(Oa)return gs;Oa=1,Object.defineProperty(gs,"__esModule",{value:!0});const t=Et(),e=Pt(),n=Ac(),r=xt();let s=class gn{constructor(o){this.value=o}static fromSNBTValue(o){if(o=o.trim(),!o.startsWith("{")||!o.endsWith("}"))throw new Error("Invalid compound SNBT value");const a=[];let l="name",c="?",d=[],f="",h="";for(let g=1;g<o.length-1;g++){const b=o.charAt(g),p=g-1<1?"":o.charAt(g-1),w=g+1>=o.length-1?"":o.charAt(g+1);switch(l){case"name":switch(c){case"?":if(b==="'")c="'";else if(b==='"')c='"';else{if(b===" ")continue;if(/[a-zA-Z0-9_\-.+]/.test(b))c="",f+=b;else throw new r.default("Wrong SNBT format")}break;case'"':if(b==='"')p==="\\"?f+=b:(c="?",l="after-name");else if(b==="\\"){if(w==='"')continue;f+=b}else f+=b;break;case"'":if(b==="'")p==="\\"?f+=b:(c="?",l="after-name");else if(b==="\\"){if(w==="'")continue;f+=b}else f+=b;break;case"":/[a-zA-Z0-9_\-.+]/.test(b)?f+=b:(c="?",l="after-name",g--)}break;case"after-name":if(b===":")l="payload";else{if(b===" ")continue;throw new r.default("Wrong SNBT format")}break;case"payload":switch(b){case"{":(!d[d.length-1]||!d[d.length-1].includes("string"))&&d.push("compound");break;case"[":(!d[d.length-1]||!d[d.length-1].includes("string"))&&d.push("list");break;case'"':d[d.length-1]==='"string"'?p!=="\\"&&d.pop():d[d.length-1]!=='"string"'&&d.push('"string"');break;case"'":d[d.length-1]==="'string'"?p!=="\\"&&d.pop():d[d.length-1]!=="'string'"&&d.push("'string'");break;case"]":d[d.length-1]==="list"&&d.pop();break;case"}":d[d.length-1]==="compound"&&d.pop();break}if(d.length>0)h+=b;else{const S=()=>{const N=(0,t.getPayloadTypeBySNBTValue)(h);a.push(new n.Tag(f,N.fromSNBTValue(h))),h="",l="name",f=""};if(b===" ")continue;b===","?S():(h+=b,w===""&&S())}}}return new gn(a)}static fromUint8Array(o,a){const l=[];for(let c=0;c<o.length;){const d=o.slice(c);if(d[0]===t.default.END)break;const f=n.Tag.fromUint8Array(d,a);l.push(f),c+=f.toUint8Array(a).length}return new gn(l)}hasTagName(o){return this.value.some(a=>a.getTagName()===o)}hasTag(o){return this.value.some(a=>a.equals(o))}fromSNBTValue(o){return gn.fromSNBTValue(o)}fromUint8Array(o,a){return gn.fromUint8Array(o,a)}copy(){return new gn(this.value)}equals(o){return o instanceof gn&&this.value.every((a,l)=>a.equals(this.value[l]))}getValue(){return this.value}getValueDeep(){const o={};return this.value.forEach(a=>o[a.getTagName()]=a.getPayload().getValueDeep()),o}getTagId(){return gn.getTagId()}setValue(o){this.value=o}toSNBTValue(o){let a="{";if(this.value.length>0){for(let l=0;l<this.value.length-1;l++)a+=this.value[l].toSNBT(o)+","+(o==="formated"?" ":"");a+=this.value[this.value.length-1].toSNBT(o)}return a+="}",a}toUint8Array(o){return(0,e.concatUint8Arrays)(...this.value.map(a=>a.toUint8Array(o)),new Uint8Array([0]))}static getTagId(){return t.default.COMPOUND}};return gs.default=s,gs}var ja;function Et(){return ja||(ja=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.payloadTypes=void 0,t.getPayloadType=p,t.getPayloadTypeBySNBTValue=w;const e=qp(),n=Kp(),r=_c(),s=xo(),i=vc(),o=br(),a=ko(),l=kc(),c=xc(),d=Sc(),f=Gp(),h=So(),g=xt();var b;(function(S){S[S.END=0]="END",S[S.BYTE=1]="BYTE",S[S.SHORT=2]="SHORT",S[S.INT=3]="INT",S[S.LONG=4]="LONG",S[S.FLOAT=5]="FLOAT",S[S.DOUBLE=6]="DOUBLE",S[S.BYTE_ARRAY=7]="BYTE_ARRAY",S[S.STRING=8]="STRING",S[S.LIST=9]="LIST",S[S.COMPOUND=10]="COMPOUND",S[S.INT_ARRAY=11]="INT_ARRAY",S[S.LONG_ARRAY=12]="LONG_ARRAY"})(b||(b={})),t.payloadTypes=[s.default,i.default,o.default,a.default,l.default,c.default,f.default,d.default,r.default,h.default,n.default,e.default];function p(S){const N=t.payloadTypes.find(T=>T.getTagId()===S);if(!N)throw new g.default("Unknown payload type");return N}function w(S){if(S=S.trim(),S.startsWith("{")&&S.endsWith("}"))return p(b.COMPOUND);if(S.startsWith("[")&&S.endsWith("]"))return S=S.replace(" ",""),S.startsWith("[B;")?p(b.BYTE_ARRAY):S.startsWith("[I;")?p(b.INT_ARRAY):S.startsWith("[L;")?p(b.LONG_ARRAY):p(b.LIST);if(S==="false"||S==="true")return p(b.BYTE);const N=S[S.length-1];return N==="b"||N==="B"?p(b.BYTE):N==="s"||N==="S"?p(b.SHORT):N==="l"||N==="L"?p(b.LONG):N==="f"||N==="F"?p(b.FLOAT):N==="d"||N==="D"||/[-+]?(?:[0-9]+[.]|[0-9]*[.][0-9]+)(?:e[-+]?[0-9]+)?/.test(S)?p(b.DOUBLE):/[-+]?(?:0|[1-9][0-9]*)/.test(S)&&-2147483648<Number(S)&&Number(S)<2**31-1?p(b.INT):p(b.STRING)}t.default=b})(gi)),gi}var za;function Ac(){if(za)return Nr;za=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.Tag=void 0;const t=xt(),e=Pt(),n=Et(),r=xo(),s=vc(),i=ko(),o=br(),a=kc(),l=xc(),c=Sc(),d=_c(),f=So();let h=class bt{constructor(b,p,w=!1){if(b.length>65535)throw new t.default("Tag name is too long");if(w&&(p.getTagId()!==n.default.COMPOUND||b!==""))throw new t.default("Root tag must be a compound and its name must by empty");this.name=b,this.payload=p,this.root=w}copy(){return new bt(this.name,this.payload.copy())}equals(b){return this.name===b.name&&this.payload.equals(b.payload)}getTagId(){return this.payload.getTagId()}getTagName(){return this.name}isRoot(){return this.root}setTagName(b){if(b.length>65535)throw new t.default("Tag name is too long");this.name=b}getPayload(){return this.payload}setPayload(b){this.payload=b}toSNBT(b){return this.root?this.payload.toSNBTValue(b):`"${this.name.replace('"','\\"')}":${b==="formated"?" ":""}${this.payload.toSNBTValue(b)}`}toJSON(){return this.root?this.payload.getValueDeep():{[this.name]:this.payload.getValueDeep()}}toUint8Array(b){const p=new TextEncoder().encode(this.name),w=new ArrayBuffer(2);return new DataView(w).setUint16(0,p.length,!1),(0,e.concatUint8Arrays)(new Uint8Array([this.payload.getTagId()]),new Uint8Array(w),p,this.payload.toUint8Array(b))}static fromJSON(b,p=!1){const w=Object.keys(b);if(w.length!==1)return bt.fromJSON({"":b},p);switch(typeof b[w[0]]){case"string":return new bt(w[0],new c.default(b[w[0]]),p);case"boolean":return new bt(w[0],new r.default(b[w[0]]?1:0),p);case"bigint":case"number":const S=b[w[0]],N=Number(S);if(typeof S=="bigint"||Number.isInteger(S)){if(S<=127&&S>=-128)return new bt(w[0],new r.default(N),p);if(S<=32767&&S>=-32768)return new bt(w[0],new s.default(N),p);if(S<=2**31&&S>=-2147483648)return new bt(w[0],new o.default(N));if(S<=2n**63n-1n&&S>=-(2n**63n))return new bt(w[0],new i.default(BigInt(S)),p)}return new Float32Array([N])[0]==S?new bt(w[0],new a.default(N),p):new bt(w[0],new l.default(Number(N)),p);case"object":if(Array.isArray(b[w[0]]))return new bt(w[0],new d.default(b[w[0]].map(T=>bt.fromJSON({"":T}).getPayload())),p);{const T=[];for(const k in b[w[0]])T.push(bt.fromJSON({[k]:b[w[0]][k]}));return new bt(w[0],new f.default(T),p)}}throw new t.default("Invalid value format")}static fromUint8Array(b,p,w=!1){const S=(0,n.getPayloadType)(b[0]),N=new DataView(b.slice(1,5).buffer).getUint16(0,!1);return new bt(new TextDecoder().decode(b.slice(3,3+N)),S.fromUint8Array(b.slice(3+N),p),w)}static fromSNBTTag(b,p=!1){return b=b.trim(),new bt("",new f.default([]),p)}};return Nr.Tag=h,Nr}var Lt={},On={},Rt={},jn={},Ca;function Hp(){if(Ca)return jn;Ca=1;const t=4,e=0,n=1,r=2;function s(_){let re=_.length;for(;--re>=0;)_[re]=0}const i=0,o=1,a=2,l=3,c=258,d=29,f=256,h=f+1+d,g=30,b=19,p=2*h+1,w=15,S=16,N=7,T=256,k=16,j=17,O=18,z=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),I=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),M=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),W=512,q=new Array((h+2)*2);s(q);const Q=new Array(g*2);s(Q);const le=new Array(W);s(le);const de=new Array(c-l+1);s(de);const be=new Array(d);s(be);const ce=new Array(g);s(ce);function ne(_,re,se,me,ve){this.static_tree=_,this.extra_bits=re,this.extra_base=se,this.elems=me,this.max_length=ve,this.has_stree=_&&_.length}let pe,ie,Te;function Ee(_,re){this.dyn_tree=_,this.max_code=0,this.stat_desc=re}const we=_=>_<256?le[_]:le[256+(_>>>7)],G=(_,re)=>{_.pending_buf[_.pending++]=re&255,_.pending_buf[_.pending++]=re>>>8&255},Ne=(_,re,se)=>{_.bi_valid>S-se?(_.bi_buf|=re<<_.bi_valid&65535,G(_,_.bi_buf),_.bi_buf=re>>S-_.bi_valid,_.bi_valid+=se-S):(_.bi_buf|=re<<_.bi_valid&65535,_.bi_valid+=se)},$e=(_,re,se)=>{Ne(_,se[re*2],se[re*2+1])},De=(_,re)=>{let se=0;do se|=_&1,_>>>=1,se<<=1;while(--re>0);return se>>>1},Fe=_=>{_.bi_valid===16?(G(_,_.bi_buf),_.bi_buf=0,_.bi_valid=0):_.bi_valid>=8&&(_.pending_buf[_.pending++]=_.bi_buf&255,_.bi_buf>>=8,_.bi_valid-=8)},Ye=(_,re)=>{const se=re.dyn_tree,me=re.max_code,ve=re.stat_desc.static_tree,Ie=re.stat_desc.has_stree,C=re.stat_desc.extra_bits,Y=re.stat_desc.extra_base,m=re.stat_desc.max_length;let oe,Be,ae,Ze,ye,Xe,X=0;for(Ze=0;Ze<=w;Ze++)_.bl_count[Ze]=0;for(se[_.heap[_.heap_max]*2+1]=0,oe=_.heap_max+1;oe<p;oe++)Be=_.heap[oe],Ze=se[se[Be*2+1]*2+1]+1,Ze>m&&(Ze=m,X++),se[Be*2+1]=Ze,!(Be>me)&&(_.bl_count[Ze]++,ye=0,Be>=Y&&(ye=C[Be-Y]),Xe=se[Be*2],_.opt_len+=Xe*(Ze+ye),Ie&&(_.static_len+=Xe*(ve[Be*2+1]+ye)));if(X!==0){do{for(Ze=m-1;_.bl_count[Ze]===0;)Ze--;_.bl_count[Ze]--,_.bl_count[Ze+1]+=2,_.bl_count[m]--,X-=2}while(X>0);for(Ze=m;Ze!==0;Ze--)for(Be=_.bl_count[Ze];Be!==0;)ae=_.heap[--oe],!(ae>me)&&(se[ae*2+1]!==Ze&&(_.opt_len+=(Ze-se[ae*2+1])*se[ae*2],se[ae*2+1]=Ze),Be--)}},v=(_,re,se)=>{const me=new Array(w+1);let ve=0,Ie,C;for(Ie=1;Ie<=w;Ie++)ve=ve+se[Ie-1]<<1,me[Ie]=ve;for(C=0;C<=re;C++){let Y=_[C*2+1];Y!==0&&(_[C*2]=De(me[Y]++,Y))}},x=()=>{let _,re,se,me,ve;const Ie=new Array(w+1);for(se=0,me=0;me<d-1;me++)for(be[me]=se,_=0;_<1<<z[me];_++)de[se++]=me;for(de[se-1]=me,ve=0,me=0;me<16;me++)for(ce[me]=ve,_=0;_<1<<I[me];_++)le[ve++]=me;for(ve>>=7;me<g;me++)for(ce[me]=ve<<7,_=0;_<1<<I[me]-7;_++)le[256+ve++]=me;for(re=0;re<=w;re++)Ie[re]=0;for(_=0;_<=143;)q[_*2+1]=8,_++,Ie[8]++;for(;_<=255;)q[_*2+1]=9,_++,Ie[9]++;for(;_<=279;)q[_*2+1]=7,_++,Ie[7]++;for(;_<=287;)q[_*2+1]=8,_++,Ie[8]++;for(v(q,h+1,Ie),_=0;_<g;_++)Q[_*2+1]=5,Q[_*2]=De(_,5);pe=new ne(q,z,f+1,h,w),ie=new ne(Q,I,0,g,w),Te=new ne(new Array(0),M,0,b,N)},E=_=>{let re;for(re=0;re<h;re++)_.dyn_ltree[re*2]=0;for(re=0;re<g;re++)_.dyn_dtree[re*2]=0;for(re=0;re<b;re++)_.bl_tree[re*2]=0;_.dyn_ltree[T*2]=1,_.opt_len=_.static_len=0,_.sym_next=_.matches=0},B=_=>{_.bi_valid>8?G(_,_.bi_buf):_.bi_valid>0&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0},$=(_,re,se,me)=>{const ve=re*2,Ie=se*2;return _[ve]<_[Ie]||_[ve]===_[Ie]&&me[re]<=me[se]},L=(_,re,se)=>{const me=_.heap[se];let ve=se<<1;for(;ve<=_.heap_len&&(ve<_.heap_len&&$(re,_.heap[ve+1],_.heap[ve],_.depth)&&ve++,!$(re,me,_.heap[ve],_.depth));)_.heap[se]=_.heap[ve],se=ve,ve<<=1;_.heap[se]=me},K=(_,re,se)=>{let me,ve,Ie=0,C,Y;if(_.sym_next!==0)do me=_.pending_buf[_.sym_buf+Ie++]&255,me+=(_.pending_buf[_.sym_buf+Ie++]&255)<<8,ve=_.pending_buf[_.sym_buf+Ie++],me===0?$e(_,ve,re):(C=de[ve],$e(_,C+f+1,re),Y=z[C],Y!==0&&(ve-=be[C],Ne(_,ve,Y)),me--,C=we(me),$e(_,C,se),Y=I[C],Y!==0&&(me-=ce[C],Ne(_,me,Y)));while(Ie<_.sym_next);$e(_,T,re)},P=(_,re)=>{const se=re.dyn_tree,me=re.stat_desc.static_tree,ve=re.stat_desc.has_stree,Ie=re.stat_desc.elems;let C,Y,m=-1,oe;for(_.heap_len=0,_.heap_max=p,C=0;C<Ie;C++)se[C*2]!==0?(_.heap[++_.heap_len]=m=C,_.depth[C]=0):se[C*2+1]=0;for(;_.heap_len<2;)oe=_.heap[++_.heap_len]=m<2?++m:0,se[oe*2]=1,_.depth[oe]=0,_.opt_len--,ve&&(_.static_len-=me[oe*2+1]);for(re.max_code=m,C=_.heap_len>>1;C>=1;C--)L(_,se,C);oe=Ie;do C=_.heap[1],_.heap[1]=_.heap[_.heap_len--],L(_,se,1),Y=_.heap[1],_.heap[--_.heap_max]=C,_.heap[--_.heap_max]=Y,se[oe*2]=se[C*2]+se[Y*2],_.depth[oe]=(_.depth[C]>=_.depth[Y]?_.depth[C]:_.depth[Y])+1,se[C*2+1]=se[Y*2+1]=oe,_.heap[1]=oe++,L(_,se,1);while(_.heap_len>=2);_.heap[--_.heap_max]=_.heap[1],Ye(_,re),v(se,m,_.bl_count)},D=(_,re,se)=>{let me,ve=-1,Ie,C=re[1],Y=0,m=7,oe=4;for(C===0&&(m=138,oe=3),re[(se+1)*2+1]=65535,me=0;me<=se;me++)Ie=C,C=re[(me+1)*2+1],!(++Y<m&&Ie===C)&&(Y<oe?_.bl_tree[Ie*2]+=Y:Ie!==0?(Ie!==ve&&_.bl_tree[Ie*2]++,_.bl_tree[k*2]++):Y<=10?_.bl_tree[j*2]++:_.bl_tree[O*2]++,Y=0,ve=Ie,C===0?(m=138,oe=3):Ie===C?(m=6,oe=3):(m=7,oe=4))},U=(_,re,se)=>{let me,ve=-1,Ie,C=re[1],Y=0,m=7,oe=4;for(C===0&&(m=138,oe=3),me=0;me<=se;me++)if(Ie=C,C=re[(me+1)*2+1],!(++Y<m&&Ie===C)){if(Y<oe)do $e(_,Ie,_.bl_tree);while(--Y!==0);else Ie!==0?(Ie!==ve&&($e(_,Ie,_.bl_tree),Y--),$e(_,k,_.bl_tree),Ne(_,Y-3,2)):Y<=10?($e(_,j,_.bl_tree),Ne(_,Y-3,3)):($e(_,O,_.bl_tree),Ne(_,Y-11,7));Y=0,ve=Ie,C===0?(m=138,oe=3):Ie===C?(m=6,oe=3):(m=7,oe=4)}},F=_=>{let re;for(D(_,_.dyn_ltree,_.l_desc.max_code),D(_,_.dyn_dtree,_.d_desc.max_code),P(_,_.bl_desc),re=b-1;re>=3&&_.bl_tree[R[re]*2+1]===0;re--);return _.opt_len+=3*(re+1)+5+5+4,re},ee=(_,re,se,me)=>{let ve;for(Ne(_,re-257,5),Ne(_,se-1,5),Ne(_,me-4,4),ve=0;ve<me;ve++)Ne(_,_.bl_tree[R[ve]*2+1],3);U(_,_.dyn_ltree,re-1),U(_,_.dyn_dtree,se-1)},he=_=>{let re=4093624447,se;for(se=0;se<=31;se++,re>>>=1)if(re&1&&_.dyn_ltree[se*2]!==0)return e;if(_.dyn_ltree[18]!==0||_.dyn_ltree[20]!==0||_.dyn_ltree[26]!==0)return n;for(se=32;se<f;se++)if(_.dyn_ltree[se*2]!==0)return n;return e};let ue=!1;const je=_=>{ue||(x(),ue=!0),_.l_desc=new Ee(_.dyn_ltree,pe),_.d_desc=new Ee(_.dyn_dtree,ie),_.bl_desc=new Ee(_.bl_tree,Te),_.bi_buf=0,_.bi_valid=0,E(_)},xe=(_,re,se,me)=>{Ne(_,(i<<1)+(me?1:0),3),B(_),G(_,se),G(_,~se),se&&_.pending_buf.set(_.window.subarray(re,re+se),_.pending),_.pending+=se},qe=_=>{Ne(_,o<<1,3),$e(_,T,q),Fe(_)},Ce=(_,re,se,me)=>{let ve,Ie,C=0;_.level>0?(_.strm.data_type===r&&(_.strm.data_type=he(_)),P(_,_.l_desc),P(_,_.d_desc),C=F(_),ve=_.opt_len+3+7>>>3,Ie=_.static_len+3+7>>>3,Ie<=ve&&(ve=Ie)):ve=Ie=se+5,se+4<=ve&&re!==-1?xe(_,re,se,me):_.strategy===t||Ie===ve?(Ne(_,(o<<1)+(me?1:0),3),K(_,q,Q)):(Ne(_,(a<<1)+(me?1:0),3),ee(_,_.l_desc.max_code+1,_.d_desc.max_code+1,C+1),K(_,_.dyn_ltree,_.dyn_dtree)),E(_),me&&B(_)},Pe=(_,re,se)=>(_.pending_buf[_.sym_buf+_.sym_next++]=re,_.pending_buf[_.sym_buf+_.sym_next++]=re>>8,_.pending_buf[_.sym_buf+_.sym_next++]=se,re===0?_.dyn_ltree[se*2]++:(_.matches++,re--,_.dyn_ltree[(de[se]+f+1)*2]++,_.dyn_dtree[we(re)*2]++),_.sym_next===_.sym_end);return jn._tr_init=je,jn._tr_stored_block=xe,jn._tr_flush_block=Ce,jn._tr_tally=Pe,jn._tr_align=qe,jn}var bi,Pa;function Nc(){return Pa||(Pa=1,bi=(e,n,r,s)=>{let i=e&65535|0,o=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+n[s++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0}),bi}var yi,$a;function Tc(){if($a)return yi;$a=1;const t=()=>{let r,s=[];for(var i=0;i<256;i++){r=i;for(var o=0;o<8;o++)r=r&1?3988292384^r>>>1:r>>>1;s[i]=r}return s},e=new Uint32Array(t());return yi=(r,s,i,o)=>{const a=e,l=o+i;r^=-1;for(let c=o;c<l;c++)r=r>>>8^a[(r^s[c])&255];return r^-1},yi}var wi,Da;function Ao(){return Da||(Da=1,wi={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),wi}var _i,La;function Zn(){return La||(La=1,_i={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),_i}var Ra;function Yp(){if(Ra)return Rt;Ra=1;const{_tr_init:t,_tr_stored_block:e,_tr_flush_block:n,_tr_tally:r,_tr_align:s}=Hp(),i=Nc(),o=Tc(),a=Ao(),{Z_NO_FLUSH:l,Z_PARTIAL_FLUSH:c,Z_FULL_FLUSH:d,Z_FINISH:f,Z_BLOCK:h,Z_OK:g,Z_STREAM_END:b,Z_STREAM_ERROR:p,Z_DATA_ERROR:w,Z_BUF_ERROR:S,Z_DEFAULT_COMPRESSION:N,Z_FILTERED:T,Z_HUFFMAN_ONLY:k,Z_RLE:j,Z_FIXED:O,Z_DEFAULT_STRATEGY:z,Z_UNKNOWN:I,Z_DEFLATED:M}=Zn(),R=9,W=15,q=8,de=256+1+29,be=30,ce=19,ne=2*de+1,pe=15,ie=3,Te=258,Ee=Te+ie+1,we=32,G=42,Ne=57,$e=69,De=73,Fe=91,Ye=103,v=113,x=666,E=1,B=2,$=3,L=4,K=3,P=(u,H)=>(u.msg=a[H],H),D=u=>u*2-(u>4?9:0),U=u=>{let H=u.length;for(;--H>=0;)u[H]=0},F=u=>{let H,A,Z,V=u.w_size;H=u.hash_size,Z=H;do A=u.head[--Z],u.head[Z]=A>=V?A-V:0;while(--H);H=V,Z=H;do A=u.prev[--Z],u.prev[Z]=A>=V?A-V:0;while(--H)};let he=(u,H,A)=>(H<<u.hash_shift^A)&u.hash_mask;const ue=u=>{const H=u.state;let A=H.pending;A>u.avail_out&&(A=u.avail_out),A!==0&&(u.output.set(H.pending_buf.subarray(H.pending_out,H.pending_out+A),u.next_out),u.next_out+=A,H.pending_out+=A,u.total_out+=A,u.avail_out-=A,H.pending-=A,H.pending===0&&(H.pending_out=0))},je=(u,H)=>{n(u,u.block_start>=0?u.block_start:-1,u.strstart-u.block_start,H),u.block_start=u.strstart,ue(u.strm)},xe=(u,H)=>{u.pending_buf[u.pending++]=H},qe=(u,H)=>{u.pending_buf[u.pending++]=H>>>8&255,u.pending_buf[u.pending++]=H&255},Ce=(u,H,A,Z)=>{let V=u.avail_in;return V>Z&&(V=Z),V===0?0:(u.avail_in-=V,H.set(u.input.subarray(u.next_in,u.next_in+V),A),u.state.wrap===1?u.adler=i(u.adler,H,V,A):u.state.wrap===2&&(u.adler=o(u.adler,H,V,A)),u.next_in+=V,u.total_in+=V,V)},Pe=(u,H)=>{let A=u.max_chain_length,Z=u.strstart,V,fe,ze=u.prev_length,_e=u.nice_match;const wt=u.strstart>u.w_size-Ee?u.strstart-(u.w_size-Ee):0,Ge=u.window,it=u.w_mask,St=u.prev,lt=u.strstart+Te;let It=Ge[Z+ze-1],Nt=Ge[Z+ze];u.prev_length>=u.good_match&&(A>>=2),_e>u.lookahead&&(_e=u.lookahead);do if(V=H,!(Ge[V+ze]!==Nt||Ge[V+ze-1]!==It||Ge[V]!==Ge[Z]||Ge[++V]!==Ge[Z+1])){Z+=2,V++;do;while(Ge[++Z]===Ge[++V]&&Ge[++Z]===Ge[++V]&&Ge[++Z]===Ge[++V]&&Ge[++Z]===Ge[++V]&&Ge[++Z]===Ge[++V]&&Ge[++Z]===Ge[++V]&&Ge[++Z]===Ge[++V]&&Ge[++Z]===Ge[++V]&&Z<lt);if(fe=Te-(lt-Z),Z=lt-Te,fe>ze){if(u.match_start=H,ze=fe,fe>=_e)break;It=Ge[Z+ze-1],Nt=Ge[Z+ze]}}while((H=St[H&it])>wt&&--A!==0);return ze<=u.lookahead?ze:u.lookahead},_=u=>{const H=u.w_size;let A,Z,V;do{if(Z=u.window_size-u.lookahead-u.strstart,u.strstart>=H+(H-Ee)&&(u.window.set(u.window.subarray(H,H+H-Z),0),u.match_start-=H,u.strstart-=H,u.block_start-=H,u.insert>u.strstart&&(u.insert=u.strstart),F(u),Z+=H),u.strm.avail_in===0)break;if(A=Ce(u.strm,u.window,u.strstart+u.lookahead,Z),u.lookahead+=A,u.lookahead+u.insert>=ie)for(V=u.strstart-u.insert,u.ins_h=u.window[V],u.ins_h=he(u,u.ins_h,u.window[V+1]);u.insert&&(u.ins_h=he(u,u.ins_h,u.window[V+ie-1]),u.prev[V&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=V,V++,u.insert--,!(u.lookahead+u.insert<ie)););}while(u.lookahead<Ee&&u.strm.avail_in!==0)},re=(u,H)=>{let A=u.pending_buf_size-5>u.w_size?u.w_size:u.pending_buf_size-5,Z,V,fe,ze=0,_e=u.strm.avail_in;do{if(Z=65535,fe=u.bi_valid+42>>3,u.strm.avail_out<fe||(fe=u.strm.avail_out-fe,V=u.strstart-u.block_start,Z>V+u.strm.avail_in&&(Z=V+u.strm.avail_in),Z>fe&&(Z=fe),Z<A&&(Z===0&&H!==f||H===l||Z!==V+u.strm.avail_in)))break;ze=H===f&&Z===V+u.strm.avail_in?1:0,e(u,0,0,ze),u.pending_buf[u.pending-4]=Z,u.pending_buf[u.pending-3]=Z>>8,u.pending_buf[u.pending-2]=~Z,u.pending_buf[u.pending-1]=~Z>>8,ue(u.strm),V&&(V>Z&&(V=Z),u.strm.output.set(u.window.subarray(u.block_start,u.block_start+V),u.strm.next_out),u.strm.next_out+=V,u.strm.avail_out-=V,u.strm.total_out+=V,u.block_start+=V,Z-=V),Z&&(Ce(u.strm,u.strm.output,u.strm.next_out,Z),u.strm.next_out+=Z,u.strm.avail_out-=Z,u.strm.total_out+=Z)}while(ze===0);return _e-=u.strm.avail_in,_e&&(_e>=u.w_size?(u.matches=2,u.window.set(u.strm.input.subarray(u.strm.next_in-u.w_size,u.strm.next_in),0),u.strstart=u.w_size,u.insert=u.strstart):(u.window_size-u.strstart<=_e&&(u.strstart-=u.w_size,u.window.set(u.window.subarray(u.w_size,u.w_size+u.strstart),0),u.matches<2&&u.matches++,u.insert>u.strstart&&(u.insert=u.strstart)),u.window.set(u.strm.input.subarray(u.strm.next_in-_e,u.strm.next_in),u.strstart),u.strstart+=_e,u.insert+=_e>u.w_size-u.insert?u.w_size-u.insert:_e),u.block_start=u.strstart),u.high_water<u.strstart&&(u.high_water=u.strstart),ze?L:H!==l&&H!==f&&u.strm.avail_in===0&&u.strstart===u.block_start?B:(fe=u.window_size-u.strstart,u.strm.avail_in>fe&&u.block_start>=u.w_size&&(u.block_start-=u.w_size,u.strstart-=u.w_size,u.window.set(u.window.subarray(u.w_size,u.w_size+u.strstart),0),u.matches<2&&u.matches++,fe+=u.w_size,u.insert>u.strstart&&(u.insert=u.strstart)),fe>u.strm.avail_in&&(fe=u.strm.avail_in),fe&&(Ce(u.strm,u.window,u.strstart,fe),u.strstart+=fe,u.insert+=fe>u.w_size-u.insert?u.w_size-u.insert:fe),u.high_water<u.strstart&&(u.high_water=u.strstart),fe=u.bi_valid+42>>3,fe=u.pending_buf_size-fe>65535?65535:u.pending_buf_size-fe,A=fe>u.w_size?u.w_size:fe,V=u.strstart-u.block_start,(V>=A||(V||H===f)&&H!==l&&u.strm.avail_in===0&&V<=fe)&&(Z=V>fe?fe:V,ze=H===f&&u.strm.avail_in===0&&Z===V?1:0,e(u,u.block_start,Z,ze),u.block_start+=Z,ue(u.strm)),ze?$:E)},se=(u,H)=>{let A,Z;for(;;){if(u.lookahead<Ee){if(_(u),u.lookahead<Ee&&H===l)return E;if(u.lookahead===0)break}if(A=0,u.lookahead>=ie&&(u.ins_h=he(u,u.ins_h,u.window[u.strstart+ie-1]),A=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),A!==0&&u.strstart-A<=u.w_size-Ee&&(u.match_length=Pe(u,A)),u.match_length>=ie)if(Z=r(u,u.strstart-u.match_start,u.match_length-ie),u.lookahead-=u.match_length,u.match_length<=u.max_lazy_match&&u.lookahead>=ie){u.match_length--;do u.strstart++,u.ins_h=he(u,u.ins_h,u.window[u.strstart+ie-1]),A=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart;while(--u.match_length!==0);u.strstart++}else u.strstart+=u.match_length,u.match_length=0,u.ins_h=u.window[u.strstart],u.ins_h=he(u,u.ins_h,u.window[u.strstart+1]);else Z=r(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++;if(Z&&(je(u,!1),u.strm.avail_out===0))return E}return u.insert=u.strstart<ie-1?u.strstart:ie-1,H===f?(je(u,!0),u.strm.avail_out===0?$:L):u.sym_next&&(je(u,!1),u.strm.avail_out===0)?E:B},me=(u,H)=>{let A,Z,V;for(;;){if(u.lookahead<Ee){if(_(u),u.lookahead<Ee&&H===l)return E;if(u.lookahead===0)break}if(A=0,u.lookahead>=ie&&(u.ins_h=he(u,u.ins_h,u.window[u.strstart+ie-1]),A=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),u.prev_length=u.match_length,u.prev_match=u.match_start,u.match_length=ie-1,A!==0&&u.prev_length<u.max_lazy_match&&u.strstart-A<=u.w_size-Ee&&(u.match_length=Pe(u,A),u.match_length<=5&&(u.strategy===T||u.match_length===ie&&u.strstart-u.match_start>4096)&&(u.match_length=ie-1)),u.prev_length>=ie&&u.match_length<=u.prev_length){V=u.strstart+u.lookahead-ie,Z=r(u,u.strstart-1-u.prev_match,u.prev_length-ie),u.lookahead-=u.prev_length-1,u.prev_length-=2;do++u.strstart<=V&&(u.ins_h=he(u,u.ins_h,u.window[u.strstart+ie-1]),A=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart);while(--u.prev_length!==0);if(u.match_available=0,u.match_length=ie-1,u.strstart++,Z&&(je(u,!1),u.strm.avail_out===0))return E}else if(u.match_available){if(Z=r(u,0,u.window[u.strstart-1]),Z&&je(u,!1),u.strstart++,u.lookahead--,u.strm.avail_out===0)return E}else u.match_available=1,u.strstart++,u.lookahead--}return u.match_available&&(Z=r(u,0,u.window[u.strstart-1]),u.match_available=0),u.insert=u.strstart<ie-1?u.strstart:ie-1,H===f?(je(u,!0),u.strm.avail_out===0?$:L):u.sym_next&&(je(u,!1),u.strm.avail_out===0)?E:B},ve=(u,H)=>{let A,Z,V,fe;const ze=u.window;for(;;){if(u.lookahead<=Te){if(_(u),u.lookahead<=Te&&H===l)return E;if(u.lookahead===0)break}if(u.match_length=0,u.lookahead>=ie&&u.strstart>0&&(V=u.strstart-1,Z=ze[V],Z===ze[++V]&&Z===ze[++V]&&Z===ze[++V])){fe=u.strstart+Te;do;while(Z===ze[++V]&&Z===ze[++V]&&Z===ze[++V]&&Z===ze[++V]&&Z===ze[++V]&&Z===ze[++V]&&Z===ze[++V]&&Z===ze[++V]&&V<fe);u.match_length=Te-(fe-V),u.match_length>u.lookahead&&(u.match_length=u.lookahead)}if(u.match_length>=ie?(A=r(u,1,u.match_length-ie),u.lookahead-=u.match_length,u.strstart+=u.match_length,u.match_length=0):(A=r(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++),A&&(je(u,!1),u.strm.avail_out===0))return E}return u.insert=0,H===f?(je(u,!0),u.strm.avail_out===0?$:L):u.sym_next&&(je(u,!1),u.strm.avail_out===0)?E:B},Ie=(u,H)=>{let A;for(;;){if(u.lookahead===0&&(_(u),u.lookahead===0)){if(H===l)return E;break}if(u.match_length=0,A=r(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++,A&&(je(u,!1),u.strm.avail_out===0))return E}return u.insert=0,H===f?(je(u,!0),u.strm.avail_out===0?$:L):u.sym_next&&(je(u,!1),u.strm.avail_out===0)?E:B};function C(u,H,A,Z,V){this.good_length=u,this.max_lazy=H,this.nice_length=A,this.max_chain=Z,this.func=V}const Y=[new C(0,0,0,0,re),new C(4,4,8,4,se),new C(4,5,16,8,se),new C(4,6,32,32,se),new C(4,4,16,16,me),new C(8,16,32,32,me),new C(8,16,128,128,me),new C(8,32,128,256,me),new C(32,128,258,1024,me),new C(32,258,258,4096,me)],m=u=>{u.window_size=2*u.w_size,U(u.head),u.max_lazy_match=Y[u.level].max_lazy,u.good_match=Y[u.level].good_length,u.nice_match=Y[u.level].nice_length,u.max_chain_length=Y[u.level].max_chain,u.strstart=0,u.block_start=0,u.lookahead=0,u.insert=0,u.match_length=u.prev_length=ie-1,u.match_available=0,u.ins_h=0};function oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ne*2),this.dyn_dtree=new Uint16Array((2*be+1)*2),this.bl_tree=new Uint16Array((2*ce+1)*2),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(pe+1),this.heap=new Uint16Array(2*de+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*de+1),U(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Be=u=>{if(!u)return 1;const H=u.state;return!H||H.strm!==u||H.status!==G&&H.status!==Ne&&H.status!==$e&&H.status!==De&&H.status!==Fe&&H.status!==Ye&&H.status!==v&&H.status!==x?1:0},ae=u=>{if(Be(u))return P(u,p);u.total_in=u.total_out=0,u.data_type=I;const H=u.state;return H.pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap===2?Ne:H.wrap?G:v,u.adler=H.wrap===2?0:1,H.last_flush=-2,t(H),g},Ze=u=>{const H=ae(u);return H===g&&m(u.state),H},ye=(u,H)=>Be(u)||u.state.wrap!==2?p:(u.state.gzhead=H,g),Xe=(u,H,A,Z,V,fe)=>{if(!u)return p;let ze=1;if(H===N&&(H=6),Z<0?(ze=0,Z=-Z):Z>15&&(ze=2,Z-=16),V<1||V>R||A!==M||Z<8||Z>15||H<0||H>9||fe<0||fe>O||Z===8&&ze!==1)return P(u,p);Z===8&&(Z=9);const _e=new oe;return u.state=_e,_e.strm=u,_e.status=G,_e.wrap=ze,_e.gzhead=null,_e.w_bits=Z,_e.w_size=1<<_e.w_bits,_e.w_mask=_e.w_size-1,_e.hash_bits=V+7,_e.hash_size=1<<_e.hash_bits,_e.hash_mask=_e.hash_size-1,_e.hash_shift=~~((_e.hash_bits+ie-1)/ie),_e.window=new Uint8Array(_e.w_size*2),_e.head=new Uint16Array(_e.hash_size),_e.prev=new Uint16Array(_e.w_size),_e.lit_bufsize=1<<V+6,_e.pending_buf_size=_e.lit_bufsize*4,_e.pending_buf=new Uint8Array(_e.pending_buf_size),_e.sym_buf=_e.lit_bufsize,_e.sym_end=(_e.lit_bufsize-1)*3,_e.level=H,_e.strategy=fe,_e.method=A,Ze(u)},X=(u,H)=>Xe(u,H,M,W,q,z),te=(u,H)=>{if(Be(u)||H>h||H<0)return u?P(u,p):p;const A=u.state;if(!u.output||u.avail_in!==0&&!u.input||A.status===x&&H!==f)return P(u,u.avail_out===0?S:p);const Z=A.last_flush;if(A.last_flush=H,A.pending!==0){if(ue(u),u.avail_out===0)return A.last_flush=-1,g}else if(u.avail_in===0&&D(H)<=D(Z)&&H!==f)return P(u,S);if(A.status===x&&u.avail_in!==0)return P(u,S);if(A.status===G&&A.wrap===0&&(A.status=v),A.status===G){let V=M+(A.w_bits-8<<4)<<8,fe=-1;if(A.strategy>=k||A.level<2?fe=0:A.level<6?fe=1:A.level===6?fe=2:fe=3,V|=fe<<6,A.strstart!==0&&(V|=we),V+=31-V%31,qe(A,V),A.strstart!==0&&(qe(A,u.adler>>>16),qe(A,u.adler&65535)),u.adler=1,A.status=v,ue(u),A.pending!==0)return A.last_flush=-1,g}if(A.status===Ne){if(u.adler=0,xe(A,31),xe(A,139),xe(A,8),A.gzhead)xe(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),xe(A,A.gzhead.time&255),xe(A,A.gzhead.time>>8&255),xe(A,A.gzhead.time>>16&255),xe(A,A.gzhead.time>>24&255),xe(A,A.level===9?2:A.strategy>=k||A.level<2?4:0),xe(A,A.gzhead.os&255),A.gzhead.extra&&A.gzhead.extra.length&&(xe(A,A.gzhead.extra.length&255),xe(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(u.adler=o(u.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=$e;else if(xe(A,0),xe(A,0),xe(A,0),xe(A,0),xe(A,0),xe(A,A.level===9?2:A.strategy>=k||A.level<2?4:0),xe(A,K),A.status=v,ue(u),A.pending!==0)return A.last_flush=-1,g}if(A.status===$e){if(A.gzhead.extra){let V=A.pending,fe=(A.gzhead.extra.length&65535)-A.gzindex;for(;A.pending+fe>A.pending_buf_size;){let _e=A.pending_buf_size-A.pending;if(A.pending_buf.set(A.gzhead.extra.subarray(A.gzindex,A.gzindex+_e),A.pending),A.pending=A.pending_buf_size,A.gzhead.hcrc&&A.pending>V&&(u.adler=o(u.adler,A.pending_buf,A.pending-V,V)),A.gzindex+=_e,ue(u),A.pending!==0)return A.last_flush=-1,g;V=0,fe-=_e}let ze=new Uint8Array(A.gzhead.extra);A.pending_buf.set(ze.subarray(A.gzindex,A.gzindex+fe),A.pending),A.pending+=fe,A.gzhead.hcrc&&A.pending>V&&(u.adler=o(u.adler,A.pending_buf,A.pending-V,V)),A.gzindex=0}A.status=De}if(A.status===De){if(A.gzhead.name){let V=A.pending,fe;do{if(A.pending===A.pending_buf_size){if(A.gzhead.hcrc&&A.pending>V&&(u.adler=o(u.adler,A.pending_buf,A.pending-V,V)),ue(u),A.pending!==0)return A.last_flush=-1,g;V=0}A.gzindex<A.gzhead.name.length?fe=A.gzhead.name.charCodeAt(A.gzindex++)&255:fe=0,xe(A,fe)}while(fe!==0);A.gzhead.hcrc&&A.pending>V&&(u.adler=o(u.adler,A.pending_buf,A.pending-V,V)),A.gzindex=0}A.status=Fe}if(A.status===Fe){if(A.gzhead.comment){let V=A.pending,fe;do{if(A.pending===A.pending_buf_size){if(A.gzhead.hcrc&&A.pending>V&&(u.adler=o(u.adler,A.pending_buf,A.pending-V,V)),ue(u),A.pending!==0)return A.last_flush=-1,g;V=0}A.gzindex<A.gzhead.comment.length?fe=A.gzhead.comment.charCodeAt(A.gzindex++)&255:fe=0,xe(A,fe)}while(fe!==0);A.gzhead.hcrc&&A.pending>V&&(u.adler=o(u.adler,A.pending_buf,A.pending-V,V))}A.status=Ye}if(A.status===Ye){if(A.gzhead.hcrc){if(A.pending+2>A.pending_buf_size&&(ue(u),A.pending!==0))return A.last_flush=-1,g;xe(A,u.adler&255),xe(A,u.adler>>8&255),u.adler=0}if(A.status=v,ue(u),A.pending!==0)return A.last_flush=-1,g}if(u.avail_in!==0||A.lookahead!==0||H!==l&&A.status!==x){let V=A.level===0?re(A,H):A.strategy===k?Ie(A,H):A.strategy===j?ve(A,H):Y[A.level].func(A,H);if((V===$||V===L)&&(A.status=x),V===E||V===$)return u.avail_out===0&&(A.last_flush=-1),g;if(V===B&&(H===c?s(A):H!==h&&(e(A,0,0,!1),H===d&&(U(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),ue(u),u.avail_out===0))return A.last_flush=-1,g}return H!==f?g:A.wrap<=0?b:(A.wrap===2?(xe(A,u.adler&255),xe(A,u.adler>>8&255),xe(A,u.adler>>16&255),xe(A,u.adler>>24&255),xe(A,u.total_in&255),xe(A,u.total_in>>8&255),xe(A,u.total_in>>16&255),xe(A,u.total_in>>24&255)):(qe(A,u.adler>>>16),qe(A,u.adler&65535)),ue(u),A.wrap>0&&(A.wrap=-A.wrap),A.pending!==0?g:b)},Gn=u=>{if(Be(u))return p;const H=u.state.status;return u.state=null,H===v?P(u,w):g},et=(u,H)=>{let A=H.length;if(Be(u))return p;const Z=u.state,V=Z.wrap;if(V===2||V===1&&Z.status!==G||Z.lookahead)return p;if(V===1&&(u.adler=i(u.adler,H,A,0)),Z.wrap=0,A>=Z.w_size){V===0&&(U(Z.head),Z.strstart=0,Z.block_start=0,Z.insert=0);let wt=new Uint8Array(Z.w_size);wt.set(H.subarray(A-Z.w_size,A),0),H=wt,A=Z.w_size}const fe=u.avail_in,ze=u.next_in,_e=u.input;for(u.avail_in=A,u.next_in=0,u.input=H,_(Z);Z.lookahead>=ie;){let wt=Z.strstart,Ge=Z.lookahead-(ie-1);do Z.ins_h=he(Z,Z.ins_h,Z.window[wt+ie-1]),Z.prev[wt&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=wt,wt++;while(--Ge);Z.strstart=wt,Z.lookahead=ie-1,_(Z)}return Z.strstart+=Z.lookahead,Z.block_start=Z.strstart,Z.insert=Z.lookahead,Z.lookahead=0,Z.match_length=Z.prev_length=ie-1,Z.match_available=0,u.next_in=ze,u.input=_e,u.avail_in=fe,Z.wrap=V,g};return Rt.deflateInit=X,Rt.deflateInit2=Xe,Rt.deflateReset=Ze,Rt.deflateResetKeep=ae,Rt.deflateSetHeader=ye,Rt.deflate=te,Rt.deflateEnd=Gn,Rt.deflateSetDictionary=et,Rt.deflateInfo="pako deflate (from Nodeca project)",Rt}var bs={},Ma;function Ec(){if(Ma)return bs;Ma=1;const t=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);return bs.assign=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const r=n.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const s in r)t(r,s)&&(e[s]=r[s])}}return e},bs.flattenChunks=e=>{let n=0;for(let s=0,i=e.length;s<i;s++)n+=e[s].length;const r=new Uint8Array(n);for(let s=0,i=0,o=e.length;s<o;s++){let a=e[s];r.set(a,i),i+=a.length}return r},bs}var Er={},Ba;function Ic(){if(Ba)return Er;Ba=1;let t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t=!1}const e=new Uint8Array(256);for(let r=0;r<256;r++)e[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;e[254]=e[254]=1,Er.string2buf=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let s,i,o,a,l,c=r.length,d=0;for(a=0;a<c;a++)i=r.charCodeAt(a),(i&64512)===55296&&a+1<c&&(o=r.charCodeAt(a+1),(o&64512)===56320&&(i=65536+(i-55296<<10)+(o-56320),a++)),d+=i<128?1:i<2048?2:i<65536?3:4;for(s=new Uint8Array(d),l=0,a=0;l<d;a++)i=r.charCodeAt(a),(i&64512)===55296&&a+1<c&&(o=r.charCodeAt(a+1),(o&64512)===56320&&(i=65536+(i-55296<<10)+(o-56320),a++)),i<128?s[l++]=i:i<2048?(s[l++]=192|i>>>6,s[l++]=128|i&63):i<65536?(s[l++]=224|i>>>12,s[l++]=128|i>>>6&63,s[l++]=128|i&63):(s[l++]=240|i>>>18,s[l++]=128|i>>>12&63,s[l++]=128|i>>>6&63,s[l++]=128|i&63);return s};const n=(r,s)=>{if(s<65534&&r.subarray&&t)return String.fromCharCode.apply(null,r.length===s?r:r.subarray(0,s));let i="";for(let o=0;o<s;o++)i+=String.fromCharCode(r[o]);return i};return Er.buf2string=(r,s)=>{const i=s||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,s));let o,a;const l=new Array(i*2);for(a=0,o=0;o<i;){let c=r[o++];if(c<128){l[a++]=c;continue}let d=e[c];if(d>4){l[a++]=65533,o+=d-1;continue}for(c&=d===2?31:d===3?15:7;d>1&&o<i;)c=c<<6|r[o++]&63,d--;if(d>1){l[a++]=65533;continue}c<65536?l[a++]=c:(c-=65536,l[a++]=55296|c>>10&1023,l[a++]=56320|c&1023)}return n(l,a)},Er.utf8border=(r,s)=>{s=s||r.length,s>r.length&&(s=r.length);let i=s-1;for(;i>=0&&(r[i]&192)===128;)i--;return i<0||i===0?s:i+e[r[i]]>s?i:s},Er}var vi,Fa;function Oc(){if(Fa)return vi;Fa=1;function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return vi=t,vi}var Ua;function Wp(){if(Ua)return On;Ua=1;const t=Yp(),e=Ec(),n=Ic(),r=Ao(),s=Oc(),i=Object.prototype.toString,{Z_NO_FLUSH:o,Z_SYNC_FLUSH:a,Z_FULL_FLUSH:l,Z_FINISH:c,Z_OK:d,Z_STREAM_END:f,Z_DEFAULT_COMPRESSION:h,Z_DEFAULT_STRATEGY:g,Z_DEFLATED:b}=Zn();function p(T){this.options=e.assign({level:h,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:g},T||{});let k=this.options;k.raw&&k.windowBits>0?k.windowBits=-k.windowBits:k.gzip&&k.windowBits>0&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let j=t.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(j!==d)throw new Error(r[j]);if(k.header&&t.deflateSetHeader(this.strm,k.header),k.dictionary){let O;if(typeof k.dictionary=="string"?O=n.string2buf(k.dictionary):i.call(k.dictionary)==="[object ArrayBuffer]"?O=new Uint8Array(k.dictionary):O=k.dictionary,j=t.deflateSetDictionary(this.strm,O),j!==d)throw new Error(r[j]);this._dict_set=!0}}p.prototype.push=function(T,k){const j=this.strm,O=this.options.chunkSize;let z,I;if(this.ended)return!1;for(k===~~k?I=k:I=k===!0?c:o,typeof T=="string"?j.input=n.string2buf(T):i.call(T)==="[object ArrayBuffer]"?j.input=new Uint8Array(T):j.input=T,j.next_in=0,j.avail_in=j.input.length;;){if(j.avail_out===0&&(j.output=new Uint8Array(O),j.next_out=0,j.avail_out=O),(I===a||I===l)&&j.avail_out<=6){this.onData(j.output.subarray(0,j.next_out)),j.avail_out=0;continue}if(z=t.deflate(j,I),z===f)return j.next_out>0&&this.onData(j.output.subarray(0,j.next_out)),z=t.deflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===d;if(j.avail_out===0){this.onData(j.output);continue}if(I>0&&j.next_out>0){this.onData(j.output.subarray(0,j.next_out)),j.avail_out=0;continue}if(j.avail_in===0)break}return!0},p.prototype.onData=function(T){this.chunks.push(T)},p.prototype.onEnd=function(T){T===d&&(this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function w(T,k){const j=new p(k);if(j.push(T,!0),j.err)throw j.msg||r[j.err];return j.result}function S(T,k){return k=k||{},k.raw=!0,w(T,k)}function N(T,k){return k=k||{},k.gzip=!0,w(T,k)}return On.Deflate=p,On.deflate=w,On.deflateRaw=S,On.gzip=N,On.constants=Zn(),On}var zn={},Ot={},ki,Za;function Jp(){if(Za)return ki;Za=1;const t=16209,e=16191;return ki=function(r,s){let i,o,a,l,c,d,f,h,g,b,p,w,S,N,T,k,j,O,z,I,M,R,W,q;const Q=r.state;i=r.next_in,W=r.input,o=i+(r.avail_in-5),a=r.next_out,q=r.output,l=a-(s-r.avail_out),c=a+(r.avail_out-257),d=Q.dmax,f=Q.wsize,h=Q.whave,g=Q.wnext,b=Q.window,p=Q.hold,w=Q.bits,S=Q.lencode,N=Q.distcode,T=(1<<Q.lenbits)-1,k=(1<<Q.distbits)-1;e:do{w<15&&(p+=W[i++]<<w,w+=8,p+=W[i++]<<w,w+=8),j=S[p&T];t:for(;;){if(O=j>>>24,p>>>=O,w-=O,O=j>>>16&255,O===0)q[a++]=j&65535;else if(O&16){z=j&65535,O&=15,O&&(w<O&&(p+=W[i++]<<w,w+=8),z+=p&(1<<O)-1,p>>>=O,w-=O),w<15&&(p+=W[i++]<<w,w+=8,p+=W[i++]<<w,w+=8),j=N[p&k];n:for(;;){if(O=j>>>24,p>>>=O,w-=O,O=j>>>16&255,O&16){if(I=j&65535,O&=15,w<O&&(p+=W[i++]<<w,w+=8,w<O&&(p+=W[i++]<<w,w+=8)),I+=p&(1<<O)-1,I>d){r.msg="invalid distance too far back",Q.mode=t;break e}if(p>>>=O,w-=O,O=a-l,I>O){if(O=I-O,O>h&&Q.sane){r.msg="invalid distance too far back",Q.mode=t;break e}if(M=0,R=b,g===0){if(M+=f-O,O<z){z-=O;do q[a++]=b[M++];while(--O);M=a-I,R=q}}else if(g<O){if(M+=f+g-O,O-=g,O<z){z-=O;do q[a++]=b[M++];while(--O);if(M=0,g<z){O=g,z-=O;do q[a++]=b[M++];while(--O);M=a-I,R=q}}}else if(M+=g-O,O<z){z-=O;do q[a++]=b[M++];while(--O);M=a-I,R=q}for(;z>2;)q[a++]=R[M++],q[a++]=R[M++],q[a++]=R[M++],z-=3;z&&(q[a++]=R[M++],z>1&&(q[a++]=R[M++]))}else{M=a-I;do q[a++]=q[M++],q[a++]=q[M++],q[a++]=q[M++],z-=3;while(z>2);z&&(q[a++]=q[M++],z>1&&(q[a++]=q[M++]))}}else if((O&64)===0){j=N[(j&65535)+(p&(1<<O)-1)];continue n}else{r.msg="invalid distance code",Q.mode=t;break e}break}}else if((O&64)===0){j=S[(j&65535)+(p&(1<<O)-1)];continue t}else if(O&32){Q.mode=e;break e}else{r.msg="invalid literal/length code",Q.mode=t;break e}break}}while(i<o&&a<c);z=w>>3,i-=z,w-=z<<3,p&=(1<<w)-1,r.next_in=i,r.next_out=a,r.avail_in=i<o?5+(o-i):5-(i-o),r.avail_out=a<c?257+(c-a):257-(a-c),Q.hold=p,Q.bits=w},ki}var xi,Va;function Xp(){if(Va)return xi;Va=1;const t=15,e=852,n=592,r=0,s=1,i=2,o=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),a=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),l=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),c=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);return xi=(f,h,g,b,p,w,S,N)=>{const T=N.bits;let k=0,j=0,O=0,z=0,I=0,M=0,R=0,W=0,q=0,Q=0,le,de,be,ce,ne,pe=null,ie;const Te=new Uint16Array(t+1),Ee=new Uint16Array(t+1);let we=null,G,Ne,$e;for(k=0;k<=t;k++)Te[k]=0;for(j=0;j<b;j++)Te[h[g+j]]++;for(I=T,z=t;z>=1&&Te[z]===0;z--);if(I>z&&(I=z),z===0)return p[w++]=1<<24|64<<16|0,p[w++]=1<<24|64<<16|0,N.bits=1,0;for(O=1;O<z&&Te[O]===0;O++);for(I<O&&(I=O),W=1,k=1;k<=t;k++)if(W<<=1,W-=Te[k],W<0)return-1;if(W>0&&(f===r||z!==1))return-1;for(Ee[1]=0,k=1;k<t;k++)Ee[k+1]=Ee[k]+Te[k];for(j=0;j<b;j++)h[g+j]!==0&&(S[Ee[h[g+j]]++]=j);if(f===r?(pe=we=S,ie=20):f===s?(pe=o,we=a,ie=257):(pe=l,we=c,ie=0),Q=0,j=0,k=O,ne=w,M=I,R=0,be=-1,q=1<<I,ce=q-1,f===s&&q>e||f===i&&q>n)return 1;for(;;){G=k-R,S[j]+1<ie?(Ne=0,$e=S[j]):S[j]>=ie?(Ne=we[S[j]-ie],$e=pe[S[j]-ie]):(Ne=96,$e=0),le=1<<k-R,de=1<<M,O=de;do de-=le,p[ne+(Q>>R)+de]=G<<24|Ne<<16|$e|0;while(de!==0);for(le=1<<k-1;Q&le;)le>>=1;if(le!==0?(Q&=le-1,Q+=le):Q=0,j++,--Te[k]===0){if(k===z)break;k=h[g+S[j]]}if(k>I&&(Q&ce)!==be){for(R===0&&(R=I),ne+=O,M=k-R,W=1<<M;M+R<z&&(W-=Te[M+R],!(W<=0));)M++,W<<=1;if(q+=1<<M,f===s&&q>e||f===i&&q>n)return 1;be=Q&ce,p[be]=I<<24|M<<16|ne-w|0}}return Q!==0&&(p[ne+Q]=k-R<<24|64<<16|0),N.bits=I,0},xi}var qa;function Qp(){if(qa)return Ot;qa=1;const t=Nc(),e=Tc(),n=Jp(),r=Xp(),s=0,i=1,o=2,{Z_FINISH:a,Z_BLOCK:l,Z_TREES:c,Z_OK:d,Z_STREAM_END:f,Z_NEED_DICT:h,Z_STREAM_ERROR:g,Z_DATA_ERROR:b,Z_MEM_ERROR:p,Z_BUF_ERROR:w,Z_DEFLATED:S}=Zn(),N=16180,T=16181,k=16182,j=16183,O=16184,z=16185,I=16186,M=16187,R=16188,W=16189,q=16190,Q=16191,le=16192,de=16193,be=16194,ce=16195,ne=16196,pe=16197,ie=16198,Te=16199,Ee=16200,we=16201,G=16202,Ne=16203,$e=16204,De=16205,Fe=16206,Ye=16207,v=16208,x=16209,E=16210,B=16211,$=852,L=592,P=15,D=C=>(C>>>24&255)+(C>>>8&65280)+((C&65280)<<8)+((C&255)<<24);function U(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const F=C=>{if(!C)return 1;const Y=C.state;return!Y||Y.strm!==C||Y.mode<N||Y.mode>B?1:0},ee=C=>{if(F(C))return g;const Y=C.state;return C.total_in=C.total_out=Y.total=0,C.msg="",Y.wrap&&(C.adler=Y.wrap&1),Y.mode=N,Y.last=0,Y.havedict=0,Y.flags=-1,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new Int32Array($),Y.distcode=Y.distdyn=new Int32Array(L),Y.sane=1,Y.back=-1,d},he=C=>{if(F(C))return g;const Y=C.state;return Y.wsize=0,Y.whave=0,Y.wnext=0,ee(C)},ue=(C,Y)=>{let m;if(F(C))return g;const oe=C.state;return Y<0?(m=0,Y=-Y):(m=(Y>>4)+5,Y<48&&(Y&=15)),Y&&(Y<8||Y>15)?g:(oe.window!==null&&oe.wbits!==Y&&(oe.window=null),oe.wrap=m,oe.wbits=Y,he(C))},je=(C,Y)=>{if(!C)return g;const m=new U;C.state=m,m.strm=C,m.window=null,m.mode=N;const oe=ue(C,Y);return oe!==d&&(C.state=null),oe},xe=C=>je(C,P);let qe=!0,Ce,Pe;const _=C=>{if(qe){Ce=new Int32Array(512),Pe=new Int32Array(32);let Y=0;for(;Y<144;)C.lens[Y++]=8;for(;Y<256;)C.lens[Y++]=9;for(;Y<280;)C.lens[Y++]=7;for(;Y<288;)C.lens[Y++]=8;for(r(i,C.lens,0,288,Ce,0,C.work,{bits:9}),Y=0;Y<32;)C.lens[Y++]=5;r(o,C.lens,0,32,Pe,0,C.work,{bits:5}),qe=!1}C.lencode=Ce,C.lenbits=9,C.distcode=Pe,C.distbits=5},re=(C,Y,m,oe)=>{let Be;const ae=C.state;return ae.window===null&&(ae.wsize=1<<ae.wbits,ae.wnext=0,ae.whave=0,ae.window=new Uint8Array(ae.wsize)),oe>=ae.wsize?(ae.window.set(Y.subarray(m-ae.wsize,m),0),ae.wnext=0,ae.whave=ae.wsize):(Be=ae.wsize-ae.wnext,Be>oe&&(Be=oe),ae.window.set(Y.subarray(m-oe,m-oe+Be),ae.wnext),oe-=Be,oe?(ae.window.set(Y.subarray(m-oe,m),0),ae.wnext=oe,ae.whave=ae.wsize):(ae.wnext+=Be,ae.wnext===ae.wsize&&(ae.wnext=0),ae.whave<ae.wsize&&(ae.whave+=Be))),0},se=(C,Y)=>{let m,oe,Be,ae,Ze,ye,Xe,X,te,Gn,et,u,H,A,Z=0,V,fe,ze,_e,wt,Ge,it,St;const lt=new Uint8Array(4);let It,Nt;const ea=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(F(C)||!C.output||!C.input&&C.avail_in!==0)return g;m=C.state,m.mode===Q&&(m.mode=le),Ze=C.next_out,Be=C.output,Xe=C.avail_out,ae=C.next_in,oe=C.input,ye=C.avail_in,X=m.hold,te=m.bits,Gn=ye,et=Xe,St=d;e:for(;;)switch(m.mode){case N:if(m.wrap===0){m.mode=le;break}for(;te<16;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}if(m.wrap&2&&X===35615){m.wbits===0&&(m.wbits=15),m.check=0,lt[0]=X&255,lt[1]=X>>>8&255,m.check=e(m.check,lt,2,0),X=0,te=0,m.mode=T;break}if(m.head&&(m.head.done=!1),!(m.wrap&1)||(((X&255)<<8)+(X>>8))%31){C.msg="incorrect header check",m.mode=x;break}if((X&15)!==S){C.msg="unknown compression method",m.mode=x;break}if(X>>>=4,te-=4,it=(X&15)+8,m.wbits===0&&(m.wbits=it),it>15||it>m.wbits){C.msg="invalid window size",m.mode=x;break}m.dmax=1<<m.wbits,m.flags=0,C.adler=m.check=1,m.mode=X&512?W:Q,X=0,te=0;break;case T:for(;te<16;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}if(m.flags=X,(m.flags&255)!==S){C.msg="unknown compression method",m.mode=x;break}if(m.flags&57344){C.msg="unknown header flags set",m.mode=x;break}m.head&&(m.head.text=X>>8&1),m.flags&512&&m.wrap&4&&(lt[0]=X&255,lt[1]=X>>>8&255,m.check=e(m.check,lt,2,0)),X=0,te=0,m.mode=k;case k:for(;te<32;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}m.head&&(m.head.time=X),m.flags&512&&m.wrap&4&&(lt[0]=X&255,lt[1]=X>>>8&255,lt[2]=X>>>16&255,lt[3]=X>>>24&255,m.check=e(m.check,lt,4,0)),X=0,te=0,m.mode=j;case j:for(;te<16;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}m.head&&(m.head.xflags=X&255,m.head.os=X>>8),m.flags&512&&m.wrap&4&&(lt[0]=X&255,lt[1]=X>>>8&255,m.check=e(m.check,lt,2,0)),X=0,te=0,m.mode=O;case O:if(m.flags&1024){for(;te<16;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}m.length=X,m.head&&(m.head.extra_len=X),m.flags&512&&m.wrap&4&&(lt[0]=X&255,lt[1]=X>>>8&255,m.check=e(m.check,lt,2,0)),X=0,te=0}else m.head&&(m.head.extra=null);m.mode=z;case z:if(m.flags&1024&&(u=m.length,u>ye&&(u=ye),u&&(m.head&&(it=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Uint8Array(m.head.extra_len)),m.head.extra.set(oe.subarray(ae,ae+u),it)),m.flags&512&&m.wrap&4&&(m.check=e(m.check,oe,u,ae)),ye-=u,ae+=u,m.length-=u),m.length))break e;m.length=0,m.mode=I;case I:if(m.flags&2048){if(ye===0)break e;u=0;do it=oe[ae+u++],m.head&&it&&m.length<65536&&(m.head.name+=String.fromCharCode(it));while(it&&u<ye);if(m.flags&512&&m.wrap&4&&(m.check=e(m.check,oe,u,ae)),ye-=u,ae+=u,it)break e}else m.head&&(m.head.name=null);m.length=0,m.mode=M;case M:if(m.flags&4096){if(ye===0)break e;u=0;do it=oe[ae+u++],m.head&&it&&m.length<65536&&(m.head.comment+=String.fromCharCode(it));while(it&&u<ye);if(m.flags&512&&m.wrap&4&&(m.check=e(m.check,oe,u,ae)),ye-=u,ae+=u,it)break e}else m.head&&(m.head.comment=null);m.mode=R;case R:if(m.flags&512){for(;te<16;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}if(m.wrap&4&&X!==(m.check&65535)){C.msg="header crc mismatch",m.mode=x;break}X=0,te=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),C.adler=m.check=0,m.mode=Q;break;case W:for(;te<32;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}C.adler=m.check=D(X),X=0,te=0,m.mode=q;case q:if(m.havedict===0)return C.next_out=Ze,C.avail_out=Xe,C.next_in=ae,C.avail_in=ye,m.hold=X,m.bits=te,h;C.adler=m.check=1,m.mode=Q;case Q:if(Y===l||Y===c)break e;case le:if(m.last){X>>>=te&7,te-=te&7,m.mode=Fe;break}for(;te<3;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}switch(m.last=X&1,X>>>=1,te-=1,X&3){case 0:m.mode=de;break;case 1:if(_(m),m.mode=Te,Y===c){X>>>=2,te-=2;break e}break;case 2:m.mode=ne;break;case 3:C.msg="invalid block type",m.mode=x}X>>>=2,te-=2;break;case de:for(X>>>=te&7,te-=te&7;te<32;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}if((X&65535)!==(X>>>16^65535)){C.msg="invalid stored block lengths",m.mode=x;break}if(m.length=X&65535,X=0,te=0,m.mode=be,Y===c)break e;case be:m.mode=ce;case ce:if(u=m.length,u){if(u>ye&&(u=ye),u>Xe&&(u=Xe),u===0)break e;Be.set(oe.subarray(ae,ae+u),Ze),ye-=u,ae+=u,Xe-=u,Ze+=u,m.length-=u;break}m.mode=Q;break;case ne:for(;te<14;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}if(m.nlen=(X&31)+257,X>>>=5,te-=5,m.ndist=(X&31)+1,X>>>=5,te-=5,m.ncode=(X&15)+4,X>>>=4,te-=4,m.nlen>286||m.ndist>30){C.msg="too many length or distance symbols",m.mode=x;break}m.have=0,m.mode=pe;case pe:for(;m.have<m.ncode;){for(;te<3;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}m.lens[ea[m.have++]]=X&7,X>>>=3,te-=3}for(;m.have<19;)m.lens[ea[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,It={bits:m.lenbits},St=r(s,m.lens,0,19,m.lencode,0,m.work,It),m.lenbits=It.bits,St){C.msg="invalid code lengths set",m.mode=x;break}m.have=0,m.mode=ie;case ie:for(;m.have<m.nlen+m.ndist;){for(;Z=m.lencode[X&(1<<m.lenbits)-1],V=Z>>>24,fe=Z>>>16&255,ze=Z&65535,!(V<=te);){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}if(ze<16)X>>>=V,te-=V,m.lens[m.have++]=ze;else{if(ze===16){for(Nt=V+2;te<Nt;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}if(X>>>=V,te-=V,m.have===0){C.msg="invalid bit length repeat",m.mode=x;break}it=m.lens[m.have-1],u=3+(X&3),X>>>=2,te-=2}else if(ze===17){for(Nt=V+3;te<Nt;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}X>>>=V,te-=V,it=0,u=3+(X&7),X>>>=3,te-=3}else{for(Nt=V+7;te<Nt;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}X>>>=V,te-=V,it=0,u=11+(X&127),X>>>=7,te-=7}if(m.have+u>m.nlen+m.ndist){C.msg="invalid bit length repeat",m.mode=x;break}for(;u--;)m.lens[m.have++]=it}}if(m.mode===x)break;if(m.lens[256]===0){C.msg="invalid code -- missing end-of-block",m.mode=x;break}if(m.lenbits=9,It={bits:m.lenbits},St=r(i,m.lens,0,m.nlen,m.lencode,0,m.work,It),m.lenbits=It.bits,St){C.msg="invalid literal/lengths set",m.mode=x;break}if(m.distbits=6,m.distcode=m.distdyn,It={bits:m.distbits},St=r(o,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,It),m.distbits=It.bits,St){C.msg="invalid distances set",m.mode=x;break}if(m.mode=Te,Y===c)break e;case Te:m.mode=Ee;case Ee:if(ye>=6&&Xe>=258){C.next_out=Ze,C.avail_out=Xe,C.next_in=ae,C.avail_in=ye,m.hold=X,m.bits=te,n(C,et),Ze=C.next_out,Be=C.output,Xe=C.avail_out,ae=C.next_in,oe=C.input,ye=C.avail_in,X=m.hold,te=m.bits,m.mode===Q&&(m.back=-1);break}for(m.back=0;Z=m.lencode[X&(1<<m.lenbits)-1],V=Z>>>24,fe=Z>>>16&255,ze=Z&65535,!(V<=te);){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}if(fe&&(fe&240)===0){for(_e=V,wt=fe,Ge=ze;Z=m.lencode[Ge+((X&(1<<_e+wt)-1)>>_e)],V=Z>>>24,fe=Z>>>16&255,ze=Z&65535,!(_e+V<=te);){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}X>>>=_e,te-=_e,m.back+=_e}if(X>>>=V,te-=V,m.back+=V,m.length=ze,fe===0){m.mode=De;break}if(fe&32){m.back=-1,m.mode=Q;break}if(fe&64){C.msg="invalid literal/length code",m.mode=x;break}m.extra=fe&15,m.mode=we;case we:if(m.extra){for(Nt=m.extra;te<Nt;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}m.length+=X&(1<<m.extra)-1,X>>>=m.extra,te-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=G;case G:for(;Z=m.distcode[X&(1<<m.distbits)-1],V=Z>>>24,fe=Z>>>16&255,ze=Z&65535,!(V<=te);){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}if((fe&240)===0){for(_e=V,wt=fe,Ge=ze;Z=m.distcode[Ge+((X&(1<<_e+wt)-1)>>_e)],V=Z>>>24,fe=Z>>>16&255,ze=Z&65535,!(_e+V<=te);){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}X>>>=_e,te-=_e,m.back+=_e}if(X>>>=V,te-=V,m.back+=V,fe&64){C.msg="invalid distance code",m.mode=x;break}m.offset=ze,m.extra=fe&15,m.mode=Ne;case Ne:if(m.extra){for(Nt=m.extra;te<Nt;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}m.offset+=X&(1<<m.extra)-1,X>>>=m.extra,te-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){C.msg="invalid distance too far back",m.mode=x;break}m.mode=$e;case $e:if(Xe===0)break e;if(u=et-Xe,m.offset>u){if(u=m.offset-u,u>m.whave&&m.sane){C.msg="invalid distance too far back",m.mode=x;break}u>m.wnext?(u-=m.wnext,H=m.wsize-u):H=m.wnext-u,u>m.length&&(u=m.length),A=m.window}else A=Be,H=Ze-m.offset,u=m.length;u>Xe&&(u=Xe),Xe-=u,m.length-=u;do Be[Ze++]=A[H++];while(--u);m.length===0&&(m.mode=Ee);break;case De:if(Xe===0)break e;Be[Ze++]=m.length,Xe--,m.mode=Ee;break;case Fe:if(m.wrap){for(;te<32;){if(ye===0)break e;ye--,X|=oe[ae++]<<te,te+=8}if(et-=Xe,C.total_out+=et,m.total+=et,m.wrap&4&&et&&(C.adler=m.check=m.flags?e(m.check,Be,et,Ze-et):t(m.check,Be,et,Ze-et)),et=Xe,m.wrap&4&&(m.flags?X:D(X))!==m.check){C.msg="incorrect data check",m.mode=x;break}X=0,te=0}m.mode=Ye;case Ye:if(m.wrap&&m.flags){for(;te<32;){if(ye===0)break e;ye--,X+=oe[ae++]<<te,te+=8}if(m.wrap&4&&X!==(m.total&4294967295)){C.msg="incorrect length check",m.mode=x;break}X=0,te=0}m.mode=v;case v:St=f;break e;case x:St=b;break e;case E:return p;case B:default:return g}return C.next_out=Ze,C.avail_out=Xe,C.next_in=ae,C.avail_in=ye,m.hold=X,m.bits=te,(m.wsize||et!==C.avail_out&&m.mode<x&&(m.mode<Fe||Y!==a))&&re(C,C.output,C.next_out,et-C.avail_out),Gn-=C.avail_in,et-=C.avail_out,C.total_in+=Gn,C.total_out+=et,m.total+=et,m.wrap&4&&et&&(C.adler=m.check=m.flags?e(m.check,Be,et,C.next_out-et):t(m.check,Be,et,C.next_out-et)),C.data_type=m.bits+(m.last?64:0)+(m.mode===Q?128:0)+(m.mode===Te||m.mode===be?256:0),(Gn===0&&et===0||Y===a)&&St===d&&(St=w),St},me=C=>{if(F(C))return g;let Y=C.state;return Y.window&&(Y.window=null),C.state=null,d},ve=(C,Y)=>{if(F(C))return g;const m=C.state;return(m.wrap&2)===0?g:(m.head=Y,Y.done=!1,d)},Ie=(C,Y)=>{const m=Y.length;let oe,Be,ae;return F(C)||(oe=C.state,oe.wrap!==0&&oe.mode!==q)?g:oe.mode===q&&(Be=1,Be=t(Be,Y,m,0),Be!==oe.check)?b:(ae=re(C,Y,m,m),ae?(oe.mode=E,p):(oe.havedict=1,d))};return Ot.inflateReset=he,Ot.inflateReset2=ue,Ot.inflateResetKeep=ee,Ot.inflateInit=xe,Ot.inflateInit2=je,Ot.inflate=se,Ot.inflateEnd=me,Ot.inflateGetHeader=ve,Ot.inflateSetDictionary=Ie,Ot.inflateInfo="pako inflate (from Nodeca project)",Ot}var Si,Ka;function em(){if(Ka)return Si;Ka=1;function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return Si=t,Si}var Ga;function tm(){if(Ga)return zn;Ga=1;const t=Qp(),e=Ec(),n=Ic(),r=Ao(),s=Oc(),i=em(),o=Object.prototype.toString,{Z_NO_FLUSH:a,Z_FINISH:l,Z_OK:c,Z_STREAM_END:d,Z_NEED_DICT:f,Z_STREAM_ERROR:h,Z_DATA_ERROR:g,Z_MEM_ERROR:b}=Zn();function p(N){this.options=e.assign({chunkSize:1024*64,windowBits:15,to:""},N||{});const T=this.options;T.raw&&T.windowBits>=0&&T.windowBits<16&&(T.windowBits=-T.windowBits,T.windowBits===0&&(T.windowBits=-15)),T.windowBits>=0&&T.windowBits<16&&!(N&&N.windowBits)&&(T.windowBits+=32),T.windowBits>15&&T.windowBits<48&&(T.windowBits&15)===0&&(T.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let k=t.inflateInit2(this.strm,T.windowBits);if(k!==c)throw new Error(r[k]);if(this.header=new i,t.inflateGetHeader(this.strm,this.header),T.dictionary&&(typeof T.dictionary=="string"?T.dictionary=n.string2buf(T.dictionary):o.call(T.dictionary)==="[object ArrayBuffer]"&&(T.dictionary=new Uint8Array(T.dictionary)),T.raw&&(k=t.inflateSetDictionary(this.strm,T.dictionary),k!==c)))throw new Error(r[k])}p.prototype.push=function(N,T){const k=this.strm,j=this.options.chunkSize,O=this.options.dictionary;let z,I,M;if(this.ended)return!1;for(T===~~T?I=T:I=T===!0?l:a,o.call(N)==="[object ArrayBuffer]"?k.input=new Uint8Array(N):k.input=N,k.next_in=0,k.avail_in=k.input.length;;){for(k.avail_out===0&&(k.output=new Uint8Array(j),k.next_out=0,k.avail_out=j),z=t.inflate(k,I),z===f&&O&&(z=t.inflateSetDictionary(k,O),z===c?z=t.inflate(k,I):z===g&&(z=f));k.avail_in>0&&z===d&&k.state.wrap>0&&N[k.next_in]!==0;)t.inflateReset(k),z=t.inflate(k,I);switch(z){case h:case g:case f:case b:return this.onEnd(z),this.ended=!0,!1}if(M=k.avail_out,k.next_out&&(k.avail_out===0||z===d))if(this.options.to==="string"){let R=n.utf8border(k.output,k.next_out),W=k.next_out-R,q=n.buf2string(k.output,R);k.next_out=W,k.avail_out=j-W,W&&k.output.set(k.output.subarray(R,R+W),0),this.onData(q)}else this.onData(k.output.length===k.next_out?k.output:k.output.subarray(0,k.next_out));if(!(z===c&&M===0)){if(z===d)return z=t.inflateEnd(this.strm),this.onEnd(z),this.ended=!0,!0;if(k.avail_in===0)break}}return!0},p.prototype.onData=function(N){this.chunks.push(N)},p.prototype.onEnd=function(N){N===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg};function w(N,T){const k=new p(T);if(k.push(N),k.err)throw k.msg||r[k.err];return k.result}function S(N,T){return T=T||{},T.raw=!0,w(N,T)}return zn.Inflate=p,zn.inflate=w,zn.inflateRaw=S,zn.ungzip=w,zn.constants=Zn(),zn}var Ha;function nm(){if(Ha)return Lt;Ha=1;const{Deflate:t,deflate:e,deflateRaw:n,gzip:r}=Wp(),{Inflate:s,inflate:i,inflateRaw:o,ungzip:a}=tm(),l=Zn();return Lt.Deflate=t,Lt.deflate=e,Lt.deflateRaw=n,Lt.gzip=r,Lt.Inflate=s,Lt.inflate=i,Lt.inflateRaw=o,Lt.ungzip=a,Lt.constants=l,Lt}var Ir={exports:{}},Ai={exports:{}},js={exports:{}},rm=js.exports,Ya;function jc(){return Ya||(Ya=1,(function(t){(function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,i=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",l=1e14,c=14,d=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,g=1e9;function b(O){var z,I,M,R=G.prototype={constructor:G,toString:null,valueOf:null},W=new G(1),q=20,Q=4,le=-7,de=21,be=-1e7,ce=1e7,ne=!1,pe=1,ie=0,Te={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Ee="0123456789abcdefghijklmnopqrstuvwxyz",we=!0;function G(v,x){var E,B,$,L,K,P,D,U,F=this;if(!(F instanceof G))return new G(v,x);if(x==null){if(v&&v._isBigNumber===!0){F.s=v.s,!v.c||v.e>ce?F.c=F.e=null:v.e<be?F.c=[F.e=0]:(F.e=v.e,F.c=v.c.slice());return}if((P=typeof v=="number")&&v*0==0){if(F.s=1/v<0?(v=-v,-1):1,v===~~v){for(L=0,K=v;K>=10;K/=10,L++);L>ce?F.c=F.e=null:(F.e=L,F.c=[v]);return}U=String(v)}else{if(!r.test(U=String(v)))return M(F,U,P);F.s=U.charCodeAt(0)==45?(U=U.slice(1),-1):1}(L=U.indexOf("."))>-1&&(U=U.replace(".","")),(K=U.search(/e/i))>0?(L<0&&(L=K),L+=+U.slice(K+1),U=U.substring(0,K)):L<0&&(L=U.length)}else{if(N(x,2,Ee.length,"Base"),x==10&&we)return F=new G(v),Fe(F,q+F.e+1,Q);if(U=String(v),P=typeof v=="number"){if(v*0!=0)return M(F,U,P,x);if(F.s=1/v<0?(U=U.slice(1),-1):1,G.DEBUG&&U.replace(/^0\.0*|\./,"").length>15)throw Error(a+v)}else F.s=U.charCodeAt(0)===45?(U=U.slice(1),-1):1;for(E=Ee.slice(0,x),L=K=0,D=U.length;K<D;K++)if(E.indexOf(B=U.charAt(K))<0){if(B=="."){if(K>L){L=D;continue}}else if(!$&&(U==U.toUpperCase()&&(U=U.toLowerCase())||U==U.toLowerCase()&&(U=U.toUpperCase()))){$=!0,K=-1,L=0;continue}return M(F,String(v),P,x)}P=!1,U=I(U,x,10,F.s),(L=U.indexOf("."))>-1?U=U.replace(".",""):L=U.length}for(K=0;U.charCodeAt(K)===48;K++);for(D=U.length;U.charCodeAt(--D)===48;);if(U=U.slice(K,++D)){if(D-=K,P&&G.DEBUG&&D>15&&(v>d||v!==i(v)))throw Error(a+F.s*v);if((L=L-K-1)>ce)F.c=F.e=null;else if(L<be)F.c=[F.e=0];else{if(F.e=L,F.c=[],K=(L+1)%c,L<0&&(K+=c),K<D){for(K&&F.c.push(+U.slice(0,K)),D-=c;K<D;)F.c.push(+U.slice(K,K+=c));K=c-(U=U.slice(K)).length}else K-=D;for(;K--;U+="0");F.c.push(+U)}}else F.c=[F.e=0]}G.clone=b,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=G.set=function(v){var x,E;if(v!=null)if(typeof v=="object"){if(v.hasOwnProperty(x="DECIMAL_PLACES")&&(E=v[x],N(E,0,g,x),q=E),v.hasOwnProperty(x="ROUNDING_MODE")&&(E=v[x],N(E,0,8,x),Q=E),v.hasOwnProperty(x="EXPONENTIAL_AT")&&(E=v[x],E&&E.pop?(N(E[0],-g,0,x),N(E[1],0,g,x),le=E[0],de=E[1]):(N(E,-g,g,x),le=-(de=E<0?-E:E))),v.hasOwnProperty(x="RANGE"))if(E=v[x],E&&E.pop)N(E[0],-g,-1,x),N(E[1],1,g,x),be=E[0],ce=E[1];else if(N(E,-g,g,x),E)be=-(ce=E<0?-E:E);else throw Error(o+x+" cannot be zero: "+E);if(v.hasOwnProperty(x="CRYPTO"))if(E=v[x],E===!!E)if(E)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ne=E;else throw ne=!E,Error(o+"crypto unavailable");else ne=E;else throw Error(o+x+" not true or false: "+E);if(v.hasOwnProperty(x="MODULO_MODE")&&(E=v[x],N(E,0,9,x),pe=E),v.hasOwnProperty(x="POW_PRECISION")&&(E=v[x],N(E,0,g,x),ie=E),v.hasOwnProperty(x="FORMAT"))if(E=v[x],typeof E=="object")Te=E;else throw Error(o+x+" not an object: "+E);if(v.hasOwnProperty(x="ALPHABET"))if(E=v[x],typeof E=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(E))we=E.slice(0,10)=="0123456789",Ee=E;else throw Error(o+x+" invalid: "+E)}else throw Error(o+"Object expected: "+v);return{DECIMAL_PLACES:q,ROUNDING_MODE:Q,EXPONENTIAL_AT:[le,de],RANGE:[be,ce],CRYPTO:ne,MODULO_MODE:pe,POW_PRECISION:ie,FORMAT:Te,ALPHABET:Ee}},G.isBigNumber=function(v){if(!v||v._isBigNumber!==!0)return!1;if(!G.DEBUG)return!0;var x,E,B=v.c,$=v.e,L=v.s;e:if({}.toString.call(B)=="[object Array]"){if((L===1||L===-1)&&$>=-g&&$<=g&&$===i($)){if(B[0]===0){if($===0&&B.length===1)return!0;break e}if(x=($+1)%c,x<1&&(x+=c),String(B[0]).length==x){for(x=0;x<B.length;x++)if(E=B[x],E<0||E>=l||E!==i(E))break e;if(E!==0)return!0}}}else if(B===null&&$===null&&(L===null||L===1||L===-1))return!0;throw Error(o+"Invalid BigNumber: "+v)},G.maximum=G.max=function(){return $e(arguments,-1)},G.minimum=G.min=function(){return $e(arguments,1)},G.random=(function(){var v=9007199254740992,x=Math.random()*v&2097151?function(){return i(Math.random()*v)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(E){var B,$,L,K,P,D=0,U=[],F=new G(W);if(E==null?E=q:N(E,0,g),K=s(E/c),ne)if(crypto.getRandomValues){for(B=crypto.getRandomValues(new Uint32Array(K*=2));D<K;)P=B[D]*131072+(B[D+1]>>>11),P>=9e15?($=crypto.getRandomValues(new Uint32Array(2)),B[D]=$[0],B[D+1]=$[1]):(U.push(P%1e14),D+=2);D=K/2}else if(crypto.randomBytes){for(B=crypto.randomBytes(K*=7);D<K;)P=(B[D]&31)*281474976710656+B[D+1]*1099511627776+B[D+2]*4294967296+B[D+3]*16777216+(B[D+4]<<16)+(B[D+5]<<8)+B[D+6],P>=9e15?crypto.randomBytes(7).copy(B,D):(U.push(P%1e14),D+=7);D=K/7}else throw ne=!1,Error(o+"crypto unavailable");if(!ne)for(;D<K;)P=x(),P<9e15&&(U[D++]=P%1e14);for(K=U[--D],E%=c,K&&E&&(P=f[c-E],U[D]=i(K/P)*P);U[D]===0;U.pop(),D--);if(D<0)U=[L=0];else{for(L=-1;U[0]===0;U.splice(0,1),L-=c);for(D=1,P=U[0];P>=10;P/=10,D++);D<c&&(L-=c-D)}return F.e=L,F.c=U,F}})(),G.sum=function(){for(var v=1,x=arguments,E=new G(x[0]);v<x.length;)E=E.plus(x[v++]);return E},I=(function(){var v="0123456789";function x(E,B,$,L){for(var K,P=[0],D,U=0,F=E.length;U<F;){for(D=P.length;D--;P[D]*=B);for(P[0]+=L.indexOf(E.charAt(U++)),K=0;K<P.length;K++)P[K]>$-1&&(P[K+1]==null&&(P[K+1]=0),P[K+1]+=P[K]/$|0,P[K]%=$)}return P.reverse()}return function(E,B,$,L,K){var P,D,U,F,ee,he,ue,je,xe=E.indexOf("."),qe=q,Ce=Q;for(xe>=0&&(F=ie,ie=0,E=E.replace(".",""),je=new G(B),he=je.pow(E.length-xe),ie=F,je.c=x(j(w(he.c),he.e,"0"),10,$,v),je.e=je.c.length),ue=x(E,B,$,K?(P=Ee,v):(P=v,Ee)),U=F=ue.length;ue[--F]==0;ue.pop());if(!ue[0])return P.charAt(0);if(xe<0?--U:(he.c=ue,he.e=U,he.s=L,he=z(he,je,qe,Ce,$),ue=he.c,ee=he.r,U=he.e),D=U+qe+1,xe=ue[D],F=$/2,ee=ee||D<0||ue[D+1]!=null,ee=Ce<4?(xe!=null||ee)&&(Ce==0||Ce==(he.s<0?3:2)):xe>F||xe==F&&(Ce==4||ee||Ce==6&&ue[D-1]&1||Ce==(he.s<0?8:7)),D<1||!ue[0])E=ee?j(P.charAt(1),-qe,P.charAt(0)):P.charAt(0);else{if(ue.length=D,ee)for(--$;++ue[--D]>$;)ue[D]=0,D||(++U,ue=[1].concat(ue));for(F=ue.length;!ue[--F];);for(xe=0,E="";xe<=F;E+=P.charAt(ue[xe++]));E=j(E,U,P.charAt(0))}return E}})(),z=(function(){function v(B,$,L){var K,P,D,U,F=0,ee=B.length,he=$%h,ue=$/h|0;for(B=B.slice();ee--;)D=B[ee]%h,U=B[ee]/h|0,K=ue*D+U*he,P=he*D+K%h*h+F,F=(P/L|0)+(K/h|0)+ue*U,B[ee]=P%L;return F&&(B=[F].concat(B)),B}function x(B,$,L,K){var P,D;if(L!=K)D=L>K?1:-1;else for(P=D=0;P<L;P++)if(B[P]!=$[P]){D=B[P]>$[P]?1:-1;break}return D}function E(B,$,L,K){for(var P=0;L--;)B[L]-=P,P=B[L]<$[L]?1:0,B[L]=P*K+B[L]-$[L];for(;!B[0]&&B.length>1;B.splice(0,1));}return function(B,$,L,K,P){var D,U,F,ee,he,ue,je,xe,qe,Ce,Pe,_,re,se,me,ve,Ie,C=B.s==$.s?1:-1,Y=B.c,m=$.c;if(!Y||!Y[0]||!m||!m[0])return new G(!B.s||!$.s||(Y?m&&Y[0]==m[0]:!m)?NaN:Y&&Y[0]==0||!m?C*0:C/0);for(xe=new G(C),qe=xe.c=[],U=B.e-$.e,C=L+U+1,P||(P=l,U=p(B.e/c)-p($.e/c),C=C/c|0),F=0;m[F]==(Y[F]||0);F++);if(m[F]>(Y[F]||0)&&U--,C<0)qe.push(1),ee=!0;else{for(se=Y.length,ve=m.length,F=0,C+=2,he=i(P/(m[0]+1)),he>1&&(m=v(m,he,P),Y=v(Y,he,P),ve=m.length,se=Y.length),re=ve,Ce=Y.slice(0,ve),Pe=Ce.length;Pe<ve;Ce[Pe++]=0);Ie=m.slice(),Ie=[0].concat(Ie),me=m[0],m[1]>=P/2&&me++;do{if(he=0,D=x(m,Ce,ve,Pe),D<0){if(_=Ce[0],ve!=Pe&&(_=_*P+(Ce[1]||0)),he=i(_/me),he>1)for(he>=P&&(he=P-1),ue=v(m,he,P),je=ue.length,Pe=Ce.length;x(ue,Ce,je,Pe)==1;)he--,E(ue,ve<je?Ie:m,je,P),je=ue.length,D=1;else he==0&&(D=he=1),ue=m.slice(),je=ue.length;if(je<Pe&&(ue=[0].concat(ue)),E(Ce,ue,Pe,P),Pe=Ce.length,D==-1)for(;x(m,Ce,ve,Pe)<1;)he++,E(Ce,ve<Pe?Ie:m,Pe,P),Pe=Ce.length}else D===0&&(he++,Ce=[0]);qe[F++]=he,Ce[0]?Ce[Pe++]=Y[re]||0:(Ce=[Y[re]],Pe=1)}while((re++<se||Ce[0]!=null)&&C--);ee=Ce[0]!=null,qe[0]||qe.splice(0,1)}if(P==l){for(F=1,C=qe[0];C>=10;C/=10,F++);Fe(xe,L+(xe.e=F+U*c-1)+1,K,ee)}else xe.e=U,xe.r=+ee;return xe}})();function Ne(v,x,E,B){var $,L,K,P,D;if(E==null?E=Q:N(E,0,8),!v.c)return v.toString();if($=v.c[0],K=v.e,x==null)D=w(v.c),D=B==1||B==2&&(K<=le||K>=de)?k(D,K):j(D,K,"0");else if(v=Fe(new G(v),x,E),L=v.e,D=w(v.c),P=D.length,B==1||B==2&&(x<=L||L<=le)){for(;P<x;D+="0",P++);D=k(D,L)}else if(x-=K+(B===2&&L>K),D=j(D,L,"0"),L+1>P){if(--x>0)for(D+=".";x--;D+="0");}else if(x+=L-P,x>0)for(L+1==P&&(D+=".");x--;D+="0");return v.s<0&&$?"-"+D:D}function $e(v,x){for(var E,B,$=1,L=new G(v[0]);$<v.length;$++)B=new G(v[$]),(!B.s||(E=S(L,B))===x||E===0&&L.s===x)&&(L=B);return L}function De(v,x,E){for(var B=1,$=x.length;!x[--$];x.pop());for($=x[0];$>=10;$/=10,B++);return(E=B+E*c-1)>ce?v.c=v.e=null:E<be?v.c=[v.e=0]:(v.e=E,v.c=x),v}M=(function(){var v=/^(-?)0([xbo])(?=\w[\w.]*$)/i,x=/^([^.]+)\.$/,E=/^\.([^.]+)$/,B=/^-?(Infinity|NaN)$/,$=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(L,K,P,D){var U,F=P?K:K.replace($,"");if(B.test(F))L.s=isNaN(F)?null:F<0?-1:1;else{if(!P&&(F=F.replace(v,function(ee,he,ue){return U=(ue=ue.toLowerCase())=="x"?16:ue=="b"?2:8,!D||D==U?he:ee}),D&&(U=D,F=F.replace(x,"$1").replace(E,"0.$1")),K!=F))return new G(F,U);if(G.DEBUG)throw Error(o+"Not a"+(D?" base "+D:"")+" number: "+K);L.s=null}L.c=L.e=null}})();function Fe(v,x,E,B){var $,L,K,P,D,U,F,ee=v.c,he=f;if(ee){e:{for($=1,P=ee[0];P>=10;P/=10,$++);if(L=x-$,L<0)L+=c,K=x,D=ee[U=0],F=i(D/he[$-K-1]%10);else if(U=s((L+1)/c),U>=ee.length)if(B){for(;ee.length<=U;ee.push(0));D=F=0,$=1,L%=c,K=L-c+1}else break e;else{for(D=P=ee[U],$=1;P>=10;P/=10,$++);L%=c,K=L-c+$,F=K<0?0:i(D/he[$-K-1]%10)}if(B=B||x<0||ee[U+1]!=null||(K<0?D:D%he[$-K-1]),B=E<4?(F||B)&&(E==0||E==(v.s<0?3:2)):F>5||F==5&&(E==4||B||E==6&&(L>0?K>0?D/he[$-K]:0:ee[U-1])%10&1||E==(v.s<0?8:7)),x<1||!ee[0])return ee.length=0,B?(x-=v.e+1,ee[0]=he[(c-x%c)%c],v.e=-x||0):ee[0]=v.e=0,v;if(L==0?(ee.length=U,P=1,U--):(ee.length=U+1,P=he[c-L],ee[U]=K>0?i(D/he[$-K]%he[K])*P:0),B)for(;;)if(U==0){for(L=1,K=ee[0];K>=10;K/=10,L++);for(K=ee[0]+=P,P=1;K>=10;K/=10,P++);L!=P&&(v.e++,ee[0]==l&&(ee[0]=1));break}else{if(ee[U]+=P,ee[U]!=l)break;ee[U--]=0,P=1}for(L=ee.length;ee[--L]===0;ee.pop());}v.e>ce?v.c=v.e=null:v.e<be&&(v.c=[v.e=0])}return v}function Ye(v){var x,E=v.e;return E===null?v.toString():(x=w(v.c),x=E<=le||E>=de?k(x,E):j(x,E,"0"),v.s<0?"-"+x:x)}return R.absoluteValue=R.abs=function(){var v=new G(this);return v.s<0&&(v.s=1),v},R.comparedTo=function(v,x){return S(this,new G(v,x))},R.decimalPlaces=R.dp=function(v,x){var E,B,$,L=this;if(v!=null)return N(v,0,g),x==null?x=Q:N(x,0,8),Fe(new G(L),v+L.e+1,x);if(!(E=L.c))return null;if(B=(($=E.length-1)-p(this.e/c))*c,$=E[$])for(;$%10==0;$/=10,B--);return B<0&&(B=0),B},R.dividedBy=R.div=function(v,x){return z(this,new G(v,x),q,Q)},R.dividedToIntegerBy=R.idiv=function(v,x){return z(this,new G(v,x),0,1)},R.exponentiatedBy=R.pow=function(v,x){var E,B,$,L,K,P,D,U,F,ee=this;if(v=new G(v),v.c&&!v.isInteger())throw Error(o+"Exponent not an integer: "+Ye(v));if(x!=null&&(x=new G(x)),P=v.e>14,!ee.c||!ee.c[0]||ee.c[0]==1&&!ee.e&&ee.c.length==1||!v.c||!v.c[0])return F=new G(Math.pow(+Ye(ee),P?v.s*(2-T(v)):+Ye(v))),x?F.mod(x):F;if(D=v.s<0,x){if(x.c?!x.c[0]:!x.s)return new G(NaN);B=!D&&ee.isInteger()&&x.isInteger(),B&&(ee=ee.mod(x))}else{if(v.e>9&&(ee.e>0||ee.e<-1||(ee.e==0?ee.c[0]>1||P&&ee.c[1]>=24e7:ee.c[0]<8e13||P&&ee.c[0]<=9999975e7)))return L=ee.s<0&&T(v)?-0:0,ee.e>-1&&(L=1/L),new G(D?1/L:L);ie&&(L=s(ie/c+2))}for(P?(E=new G(.5),D&&(v.s=1),U=T(v)):($=Math.abs(+Ye(v)),U=$%2),F=new G(W);;){if(U){if(F=F.times(ee),!F.c)break;L?F.c.length>L&&(F.c.length=L):B&&(F=F.mod(x))}if($){if($=i($/2),$===0)break;U=$%2}else if(v=v.times(E),Fe(v,v.e+1,1),v.e>14)U=T(v);else{if($=+Ye(v),$===0)break;U=$%2}ee=ee.times(ee),L?ee.c&&ee.c.length>L&&(ee.c.length=L):B&&(ee=ee.mod(x))}return B?F:(D&&(F=W.div(F)),x?F.mod(x):L?Fe(F,ie,Q,K):F)},R.integerValue=function(v){var x=new G(this);return v==null?v=Q:N(v,0,8),Fe(x,x.e+1,v)},R.isEqualTo=R.eq=function(v,x){return S(this,new G(v,x))===0},R.isFinite=function(){return!!this.c},R.isGreaterThan=R.gt=function(v,x){return S(this,new G(v,x))>0},R.isGreaterThanOrEqualTo=R.gte=function(v,x){return(x=S(this,new G(v,x)))===1||x===0},R.isInteger=function(){return!!this.c&&p(this.e/c)>this.c.length-2},R.isLessThan=R.lt=function(v,x){return S(this,new G(v,x))<0},R.isLessThanOrEqualTo=R.lte=function(v,x){return(x=S(this,new G(v,x)))===-1||x===0},R.isNaN=function(){return!this.s},R.isNegative=function(){return this.s<0},R.isPositive=function(){return this.s>0},R.isZero=function(){return!!this.c&&this.c[0]==0},R.minus=function(v,x){var E,B,$,L,K=this,P=K.s;if(v=new G(v,x),x=v.s,!P||!x)return new G(NaN);if(P!=x)return v.s=-x,K.plus(v);var D=K.e/c,U=v.e/c,F=K.c,ee=v.c;if(!D||!U){if(!F||!ee)return F?(v.s=-x,v):new G(ee?K:NaN);if(!F[0]||!ee[0])return ee[0]?(v.s=-x,v):new G(F[0]?K:Q==3?-0:0)}if(D=p(D),U=p(U),F=F.slice(),P=D-U){for((L=P<0)?(P=-P,$=F):(U=D,$=ee),$.reverse(),x=P;x--;$.push(0));$.reverse()}else for(B=(L=(P=F.length)<(x=ee.length))?P:x,P=x=0;x<B;x++)if(F[x]!=ee[x]){L=F[x]<ee[x];break}if(L&&($=F,F=ee,ee=$,v.s=-v.s),x=(B=ee.length)-(E=F.length),x>0)for(;x--;F[E++]=0);for(x=l-1;B>P;){if(F[--B]<ee[B]){for(E=B;E&&!F[--E];F[E]=x);--F[E],F[B]+=l}F[B]-=ee[B]}for(;F[0]==0;F.splice(0,1),--U);return F[0]?De(v,F,U):(v.s=Q==3?-1:1,v.c=[v.e=0],v)},R.modulo=R.mod=function(v,x){var E,B,$=this;return v=new G(v,x),!$.c||!v.s||v.c&&!v.c[0]?new G(NaN):!v.c||$.c&&!$.c[0]?new G($):(pe==9?(B=v.s,v.s=1,E=z($,v,0,3),v.s=B,E.s*=B):E=z($,v,0,pe),v=$.minus(E.times(v)),!v.c[0]&&pe==1&&(v.s=$.s),v)},R.multipliedBy=R.times=function(v,x){var E,B,$,L,K,P,D,U,F,ee,he,ue,je,xe,qe,Ce=this,Pe=Ce.c,_=(v=new G(v,x)).c;if(!Pe||!_||!Pe[0]||!_[0])return!Ce.s||!v.s||Pe&&!Pe[0]&&!_||_&&!_[0]&&!Pe?v.c=v.e=v.s=null:(v.s*=Ce.s,!Pe||!_?v.c=v.e=null:(v.c=[0],v.e=0)),v;for(B=p(Ce.e/c)+p(v.e/c),v.s*=Ce.s,D=Pe.length,ee=_.length,D<ee&&(je=Pe,Pe=_,_=je,$=D,D=ee,ee=$),$=D+ee,je=[];$--;je.push(0));for(xe=l,qe=h,$=ee;--$>=0;){for(E=0,he=_[$]%qe,ue=_[$]/qe|0,K=D,L=$+K;L>$;)U=Pe[--K]%qe,F=Pe[K]/qe|0,P=ue*U+F*he,U=he*U+P%qe*qe+je[L]+E,E=(U/xe|0)+(P/qe|0)+ue*F,je[L--]=U%xe;je[L]=E}return E?++B:je.splice(0,1),De(v,je,B)},R.negated=function(){var v=new G(this);return v.s=-v.s||null,v},R.plus=function(v,x){var E,B=this,$=B.s;if(v=new G(v,x),x=v.s,!$||!x)return new G(NaN);if($!=x)return v.s=-x,B.minus(v);var L=B.e/c,K=v.e/c,P=B.c,D=v.c;if(!L||!K){if(!P||!D)return new G($/0);if(!P[0]||!D[0])return D[0]?v:new G(P[0]?B:$*0)}if(L=p(L),K=p(K),P=P.slice(),$=L-K){for($>0?(K=L,E=D):($=-$,E=P),E.reverse();$--;E.push(0));E.reverse()}for($=P.length,x=D.length,$-x<0&&(E=D,D=P,P=E,x=$),$=0;x;)$=(P[--x]=P[x]+D[x]+$)/l|0,P[x]=l===P[x]?0:P[x]%l;return $&&(P=[$].concat(P),++K),De(v,P,K)},R.precision=R.sd=function(v,x){var E,B,$,L=this;if(v!=null&&v!==!!v)return N(v,1,g),x==null?x=Q:N(x,0,8),Fe(new G(L),v,x);if(!(E=L.c))return null;if($=E.length-1,B=$*c+1,$=E[$]){for(;$%10==0;$/=10,B--);for($=E[0];$>=10;$/=10,B++);}return v&&L.e+1>B&&(B=L.e+1),B},R.shiftedBy=function(v){return N(v,-d,d),this.times("1e"+v)},R.squareRoot=R.sqrt=function(){var v,x,E,B,$,L=this,K=L.c,P=L.s,D=L.e,U=q+4,F=new G("0.5");if(P!==1||!K||!K[0])return new G(!P||P<0&&(!K||K[0])?NaN:K?L:1/0);if(P=Math.sqrt(+Ye(L)),P==0||P==1/0?(x=w(K),(x.length+D)%2==0&&(x+="0"),P=Math.sqrt(+x),D=p((D+1)/2)-(D<0||D%2),P==1/0?x="5e"+D:(x=P.toExponential(),x=x.slice(0,x.indexOf("e")+1)+D),E=new G(x)):E=new G(P+""),E.c[0]){for(D=E.e,P=D+U,P<3&&(P=0);;)if($=E,E=F.times($.plus(z(L,$,U,1))),w($.c).slice(0,P)===(x=w(E.c)).slice(0,P))if(E.e<D&&--P,x=x.slice(P-3,P+1),x=="9999"||!B&&x=="4999"){if(!B&&(Fe($,$.e+q+2,0),$.times($).eq(L))){E=$;break}U+=4,P+=4,B=1}else{(!+x||!+x.slice(1)&&x.charAt(0)=="5")&&(Fe(E,E.e+q+2,1),v=!E.times(E).eq(L));break}}return Fe(E,E.e+q+1,Q,v)},R.toExponential=function(v,x){return v!=null&&(N(v,0,g),v++),Ne(this,v,x,1)},R.toFixed=function(v,x){return v!=null&&(N(v,0,g),v=v+this.e+1),Ne(this,v,x)},R.toFormat=function(v,x,E){var B,$=this;if(E==null)v!=null&&x&&typeof x=="object"?(E=x,x=null):v&&typeof v=="object"?(E=v,v=x=null):E=Te;else if(typeof E!="object")throw Error(o+"Argument not an object: "+E);if(B=$.toFixed(v,x),$.c){var L,K=B.split("."),P=+E.groupSize,D=+E.secondaryGroupSize,U=E.groupSeparator||"",F=K[0],ee=K[1],he=$.s<0,ue=he?F.slice(1):F,je=ue.length;if(D&&(L=P,P=D,D=L,je-=L),P>0&&je>0){for(L=je%P||P,F=ue.substr(0,L);L<je;L+=P)F+=U+ue.substr(L,P);D>0&&(F+=U+ue.slice(L)),he&&(F="-"+F)}B=ee?F+(E.decimalSeparator||"")+((D=+E.fractionGroupSize)?ee.replace(new RegExp("\\d{"+D+"}\\B","g"),"$&"+(E.fractionGroupSeparator||"")):ee):F}return(E.prefix||"")+B+(E.suffix||"")},R.toFraction=function(v){var x,E,B,$,L,K,P,D,U,F,ee,he,ue=this,je=ue.c;if(v!=null&&(P=new G(v),!P.isInteger()&&(P.c||P.s!==1)||P.lt(W)))throw Error(o+"Argument "+(P.isInteger()?"out of range: ":"not an integer: ")+Ye(P));if(!je)return new G(ue);for(x=new G(W),U=E=new G(W),B=D=new G(W),he=w(je),L=x.e=he.length-ue.e-1,x.c[0]=f[(K=L%c)<0?c+K:K],v=!v||P.comparedTo(x)>0?L>0?x:U:P,K=ce,ce=1/0,P=new G(he),D.c[0]=0;F=z(P,x,0,1),$=E.plus(F.times(B)),$.comparedTo(v)!=1;)E=B,B=$,U=D.plus(F.times($=U)),D=$,x=P.minus(F.times($=x)),P=$;return $=z(v.minus(E),B,0,1),D=D.plus($.times(U)),E=E.plus($.times(B)),D.s=U.s=ue.s,L=L*2,ee=z(U,B,L,Q).minus(ue).abs().comparedTo(z(D,E,L,Q).minus(ue).abs())<1?[U,B]:[D,E],ce=K,ee},R.toNumber=function(){return+Ye(this)},R.toPrecision=function(v,x){return v!=null&&N(v,1,g),Ne(this,v,x,2)},R.toString=function(v){var x,E=this,B=E.s,$=E.e;return $===null?B?(x="Infinity",B<0&&(x="-"+x)):x="NaN":(v==null?x=$<=le||$>=de?k(w(E.c),$):j(w(E.c),$,"0"):v===10&&we?(E=Fe(new G(E),q+$+1,Q),x=j(w(E.c),E.e,"0")):(N(v,2,Ee.length,"Base"),x=I(j(w(E.c),$,"0"),10,v,B,!0)),B<0&&E.c[0]&&(x="-"+x)),x},R.valueOf=R.toJSON=function(){return Ye(this)},R._isBigNumber=!0,O!=null&&G.set(O),G}function p(O){var z=O|0;return O>0||O===z?z:z-1}function w(O){for(var z,I,M=1,R=O.length,W=O[0]+"";M<R;){for(z=O[M++]+"",I=c-z.length;I--;z="0"+z);W+=z}for(R=W.length;W.charCodeAt(--R)===48;);return W.slice(0,R+1||1)}function S(O,z){var I,M,R=O.c,W=z.c,q=O.s,Q=z.s,le=O.e,de=z.e;if(!q||!Q)return null;if(I=R&&!R[0],M=W&&!W[0],I||M)return I?M?0:-Q:q;if(q!=Q)return q;if(I=q<0,M=le==de,!R||!W)return M?0:!R^I?1:-1;if(!M)return le>de^I?1:-1;for(Q=(le=R.length)<(de=W.length)?le:de,q=0;q<Q;q++)if(R[q]!=W[q])return R[q]>W[q]^I?1:-1;return le==de?0:le>de^I?1:-1}function N(O,z,I,M){if(O<z||O>I||O!==i(O))throw Error(o+(M||"Argument")+(typeof O=="number"?O<z||O>I?" out of range: ":" not an integer: ":" not a primitive number: ")+String(O))}function T(O){var z=O.c.length-1;return p(O.e/c)==z&&O.c[z]%2!=0}function k(O,z){return(O.length>1?O.charAt(0)+"."+O.slice(1):O)+(z<0?"e":"e+")+z}function j(O,z,I){var M,R;if(z<0){for(R=I+".";++z;R+=I);O=R+O}else if(M=O.length,++z>M){for(R=I,z-=M;--z;R+=I);O+=R}else z<M&&(O=O.slice(0,z)+"."+O.slice(z));return O}n=b(),n.default=n.BigNumber=n,t.exports?t.exports=n:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=n)})(rm)})(js)),js.exports}var Wa;function sm(){return Wa||(Wa=1,(function(t){var e=jc(),n=t.exports;(function(){var r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s,i,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a;function l(d){return r.lastIndex=0,r.test(d)?'"'+d.replace(r,function(f){var h=o[f];return typeof h=="string"?h:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+d+'"'}function c(d,f){var h,g,b,p,w=s,S,N=f[d],T=N!=null&&(N instanceof e||e.isBigNumber(N));switch(N&&typeof N=="object"&&typeof N.toJSON=="function"&&(N=N.toJSON(d)),typeof a=="function"&&(N=a.call(f,d,N)),typeof N){case"string":return T?N:l(N);case"number":return isFinite(N)?String(N):"null";case"boolean":case"null":case"bigint":return String(N);case"object":if(!N)return"null";if(s+=i,S=[],Object.prototype.toString.apply(N)==="[object Array]"){for(p=N.length,h=0;h<p;h+=1)S[h]=c(h,N)||"null";return b=S.length===0?"[]":s?`[
`+s+S.join(`,
`+s)+`
`+w+"]":"["+S.join(",")+"]",s=w,b}if(a&&typeof a=="object")for(p=a.length,h=0;h<p;h+=1)typeof a[h]=="string"&&(g=a[h],b=c(g,N),b&&S.push(l(g)+(s?": ":":")+b));else Object.keys(N).forEach(function(k){var j=c(k,N);j&&S.push(l(k)+(s?": ":":")+j)});return b=S.length===0?"{}":s?`{
`+s+S.join(`,
`+s)+`
`+w+"}":"{"+S.join(",")+"}",s=w,b}}typeof n.stringify!="function"&&(n.stringify=function(d,f,h){var g;if(s="",i="",typeof h=="number")for(g=0;g<h;g+=1)i+=" ";else typeof h=="string"&&(i=h);if(a=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return c("",{"":d})})})()})(Ai)),Ai.exports}var Ni,Ja;function im(){if(Ja)return Ni;Ja=1;var t=null;const e=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,n=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var r=function(s){var i={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(s!=null){if(s.strict===!0&&(i.strict=!0),s.storeAsString===!0&&(i.storeAsString=!0),i.alwaysParseAsBig=s.alwaysParseAsBig===!0?s.alwaysParseAsBig:!1,i.useNativeBigInt=s.useNativeBigInt===!0?s.useNativeBigInt:!1,typeof s.constructorAction<"u")if(s.constructorAction==="error"||s.constructorAction==="ignore"||s.constructorAction==="preserve")i.constructorAction=s.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${s.constructorAction}`);if(typeof s.protoAction<"u")if(s.protoAction==="error"||s.protoAction==="ignore"||s.protoAction==="preserve")i.protoAction=s.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${s.protoAction}`)}var o,a,l={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},c,d=function(T){throw{name:"SyntaxError",message:T,at:o,text:c}},f=function(T){return T&&T!==a&&d("Expected '"+T+"' instead of '"+a+"'"),a=c.charAt(o),o+=1,a},h=function(){var T,k="";for(a==="-"&&(k="-",f("-"));a>="0"&&a<="9";)k+=a,f();if(a===".")for(k+=".";f()&&a>="0"&&a<="9";)k+=a;if(a==="e"||a==="E")for(k+=a,f(),(a==="-"||a==="+")&&(k+=a,f());a>="0"&&a<="9";)k+=a,f();if(T=+k,!isFinite(T))d("Bad number");else return t==null&&(t=jc()),k.length>15?i.storeAsString?k:i.useNativeBigInt?BigInt(k):new t(k):i.alwaysParseAsBig?i.useNativeBigInt?BigInt(T):new t(T):T},g=function(){var T,k,j="",O;if(a==='"')for(var z=o;f();){if(a==='"')return o-1>z&&(j+=c.substring(z,o-1)),f(),j;if(a==="\\"){if(o-1>z&&(j+=c.substring(z,o-1)),f(),a==="u"){for(O=0,k=0;k<4&&(T=parseInt(f(),16),!!isFinite(T));k+=1)O=O*16+T;j+=String.fromCharCode(O)}else if(typeof l[a]=="string")j+=l[a];else break;z=o}}d("Bad string")},b=function(){for(;a&&a<=" ";)f()},p=function(){switch(a){case"t":return f("t"),f("r"),f("u"),f("e"),!0;case"f":return f("f"),f("a"),f("l"),f("s"),f("e"),!1;case"n":return f("n"),f("u"),f("l"),f("l"),null}d("Unexpected '"+a+"'")},w,S=function(){var T=[];if(a==="["){if(f("["),b(),a==="]")return f("]"),T;for(;a;){if(T.push(w()),b(),a==="]")return f("]"),T;f(","),b()}}d("Bad array")},N=function(){var T,k=Object.create(null);if(a==="{"){if(f("{"),b(),a==="}")return f("}"),k;for(;a;){if(T=g(),b(),f(":"),i.strict===!0&&Object.hasOwnProperty.call(k,T)&&d('Duplicate key "'+T+'"'),e.test(T)===!0?i.protoAction==="error"?d("Object contains forbidden prototype property"):i.protoAction==="ignore"?w():k[T]=w():n.test(T)===!0?i.constructorAction==="error"?d("Object contains forbidden constructor property"):i.constructorAction==="ignore"?w():k[T]=w():k[T]=w(),b(),a==="}")return f("}"),k;f(","),b()}}d("Bad object")};return w=function(){switch(b(),a){case"{":return N();case"[":return S();case'"':return g();case"-":return h();default:return a>="0"&&a<="9"?h():p()}},function(T,k){var j;return c=T+"",o=0,a=" ",j=w(),b(),a&&d("Syntax error"),typeof k=="function"?(function O(z,I){var M,R=z[I];return R&&typeof R=="object"&&Object.keys(R).forEach(function(W){M=O(R,W),M!==void 0?R[W]=M:delete R[W]}),k.call(z,I,R)})({"":j},""):j}};return Ni=r,Ni}var Xa;function om(){if(Xa)return Ir.exports;Xa=1;var t=sm().stringify,e=im();return Ir.exports=function(n){return{parse:e(n),stringify:t}},Ir.exports.parse=e(),Ir.exports.stringify=t,Ir.exports}var Qa;function am(){if(Qa)return rs;Qa=1,Object.defineProperty(rs,"__esModule",{value:!0});const t=Ac(),e=xt(),n=nm(),r=So(),s=om();class i{constructor(a){if(!a.isRoot())throw new e.default("Must be a root tag");this.rootTag=a}static parseJSON(a){return new i(t.Tag.fromJSON({"":a},!0))}static parseSNBT(a){return new i(new t.Tag("",r.default.fromSNBTValue(a),!0))}static parseNBT(a,l,c){if(!c)if(a[0]===31&&a[1]===139)c="gzip";else if(a[0]<=12)c="none";else throw new e.default("Unknown compression type");return c==="gzip"&&(a=(0,n.inflate)(a)),new i(t.Tag.fromUint8Array(a,l,!0))}toJSON(){return this.rootTag.toJSON()}toJSONString(){return s.stringify(this.toJSON())}toSNBT(a){return this.rootTag.toSNBT(a)}toNBT(a="none",l){return a==="gzip"?(0,n.gzip)(this.rootTag.toUint8Array(l)):this.rootTag.toUint8Array(l)}getRootTag(){return this.rootTag}setRootTag(a){if(!a.isRoot())throw new e.default("Must be a root tag");this.rootTag=a}}return rs.default=i,rs}var lm=am();const cm=sd(lm);function J(t,e,n){function r(a,l){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(t),e(a,l);for(const d in o.prototype)d in a||Object.defineProperty(a,d,{value:o.prototype[d].bind(a)});a._zod.constr=o,a._zod.def=l}const s=n?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:t});function o(a){var l;const c=n?.Parent?new i:this;r(c,a),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}class or extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class zc extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Cc={};function xn(t){return Cc}function um(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function to(t,e){return typeof e=="bigint"?e.toString():e}function No(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function To(t){return t==null}function Eo(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function fm(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const l=r.match(/\d?e-(\d?)/);l?.[1]&&(s=Number.parseInt(l[1]))}const i=n>s?n:s,o=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return o%a/10**i}const el=Symbol("evaluating");function We(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==el)return r===void 0&&(r=el,r=n()),r},set(s){Object.defineProperty(t,e,{value:s})},configurable:!0})}function Pc(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function rn(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function yr(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function tl(t){return JSON.stringify(t)}const $c="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Fs(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const dm=No(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function cr(t){if(Fs(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(Fs(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Dc(t){return cr(t)?{...t}:Array.isArray(t)?[...t]:t}const hm=new Set(["string","number","symbol"]);function ur(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function En(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Oe(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function pm(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const mm={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function gm(t,e){const n=t._zod.def,r=yr(t._zod.def,{get shape(){const s={};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=n.shape[i])}return rn(this,"shape",s),s},checks:[]});return En(t,r)}function bm(t,e){const n=t._zod.def,r=yr(t._zod.def,{get shape(){const s={...t._zod.def.shape};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return rn(this,"shape",s),s},checks:[]});return En(t,r)}function ym(t,e){if(!cr(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=yr(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return rn(this,"shape",i),i},checks:[]});return En(t,s)}function wm(t,e){if(!cr(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return rn(this,"shape",r),r},checks:t._zod.def.checks};return En(t,n)}function _m(t,e){const n=yr(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return rn(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return En(t,n)}function vm(t,e,n){const r=yr(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=t?new t({type:"optional",innerType:s[o]}):s[o])}else for(const o in s)i[o]=t?new t({type:"optional",innerType:s[o]}):s[o];return rn(this,"shape",i),i},checks:[]});return En(e,r)}function km(t,e,n){const r=yr(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=new t({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new t({type:"nonoptional",innerType:s[o]});return rn(this,"shape",i),i},checks:[]});return En(e,r)}function Xn(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function Mn(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function ys(t){return typeof t=="string"?t:t?.message}function Sn(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const s=ys(t.inst?._zod.def?.error?.(t))??ys(e?.error?.(t))??ys(n.customError?.(t))??ys(n.localeError?.(t))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Io(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Rr(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const Lc=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,to,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Rc=J("$ZodError",Lc),Mc=J("$ZodError",Lc,{Parent:Error});function xm(t,e=n=>n.message){const n={},r=[];for(const s of t.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}function Sm(t,e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(a=>s({issues:a}));else if(o.code==="invalid_key")s({issues:o.issues});else if(o.code==="invalid_element")s({issues:o.issues});else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(t),r}const Oo=t=>(e,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new or;if(o.issues.length){const a=new(s?.Err??t)(o.issues.map(l=>Sn(l,i,xn())));throw $c(a,s?.callee),a}return o.value},jo=t=>async(e,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new(s?.Err??t)(o.issues.map(l=>Sn(l,i,xn())));throw $c(a,s?.callee),a}return o.value},Ys=t=>(e,n,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new or;return i.issues.length?{success:!1,error:new(t??Rc)(i.issues.map(o=>Sn(o,s,xn())))}:{success:!0,data:i.value}},Am=Ys(Mc),Ws=t=>async(e,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(o=>Sn(o,s,xn())))}:{success:!0,data:i.value}},Nm=Ws(Mc),Tm=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Oo(t)(e,n,s)},Em=t=>(e,n,r)=>Oo(t)(e,n,r),Im=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return jo(t)(e,n,s)},Om=t=>async(e,n,r)=>jo(t)(e,n,r),jm=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ys(t)(e,n,s)},zm=t=>(e,n,r)=>Ys(t)(e,n,r),Cm=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ws(t)(e,n,s)},Pm=t=>async(e,n,r)=>Ws(t)(e,n,r),$m=/^[cC][^\s-]{8,}$/,Dm=/^[0-9a-z]+$/,Lm=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Rm=/^[0-9a-vA-V]{20}$/,Mm=/^[A-Za-z0-9]{27}$/,Bm=/^[a-zA-Z0-9_-]{21}$/,Fm=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Um=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,nl=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Zm=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Vm="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function qm(){return new RegExp(Vm,"u")}const Km=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Gm=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Hm=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Ym=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Wm=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Bc=/^[A-Za-z0-9_-]*$/,Jm=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Xm=/^\+(?:[0-9]){6,14}[0-9]$/,Fc="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Qm=new RegExp(`^${Fc}$`);function Uc(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function e0(t){return new RegExp(`^${Uc(t)}$`)}function t0(t){const e=Uc({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${Fc}T(?:${r})$`)}const n0=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},r0=/^-?\d+$/,s0=/^-?\d+(?:\.\d+)?/,i0=/^(?:true|false)$/i,o0=/^[^A-Z]*$/,a0=/^[^a-z]*$/,At=J("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),Zc={number:"number",bigint:"bigint",object:"date"},Vc=J("$ZodCheckLessThan",(t,e)=>{At.init(t,e);const n=Zc[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),qc=J("$ZodCheckGreaterThan",(t,e)=>{At.init(t,e);const n=Zc[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),l0=J("$ZodCheckMultipleOf",(t,e)=>{At.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):fm(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),c0=J("$ZodCheckNumberFormat",(t,e)=>{At.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[s,i]=mm[e.format];t._zod.onattach.push(o=>{const a=o._zod.bag;a.format=e.format,a.minimum=s,a.maximum=i,n&&(a.pattern=r0)}),t._zod.check=o=>{const a=o.value;if(n){if(!Number.isInteger(a)){o.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?o.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):o.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}a<s&&o.issues.push({origin:"number",input:a,code:"too_small",minimum:s,inclusive:!0,inst:t,continue:!e.abort}),a>i&&o.issues.push({origin:"number",input:a,code:"too_big",maximum:i,inst:t})}}),u0=J("$ZodCheckMaxLength",(t,e)=>{var n;At.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!To(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const o=Io(s);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),f0=J("$ZodCheckMinLength",(t,e)=>{var n;At.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!To(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const o=Io(s);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),d0=J("$ZodCheckLengthEquals",(t,e)=>{var n;At.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!To(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),t._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const o=Io(s),a=i>e.length;r.issues.push({origin:o,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Js=J("$ZodCheckStringFormat",(t,e)=>{var n,r;At.init(t,e),t._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),h0=J("$ZodCheckRegex",(t,e)=>{Js.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),p0=J("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=o0),Js.init(t,e)}),m0=J("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=a0),Js.init(t,e)}),g0=J("$ZodCheckIncludes",(t,e)=>{At.init(t,e);const n=ur(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:t,continue:!e.abort})}}),b0=J("$ZodCheckStartsWith",(t,e)=>{At.init(t,e);const n=new RegExp(`^${ur(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),y0=J("$ZodCheckEndsWith",(t,e)=>{At.init(t,e);const n=new RegExp(`.*${ur(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),w0=J("$ZodCheckOverwrite",(t,e)=>{At.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class _0{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(o=>o),s=Math.min(...r.map(o=>o.length-o.trimStart().length)),i=r.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const e=Function,n=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...n,s.join(`
`))}}const v0={major:4,minor:1,patch:8},Je=J("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=v0;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const s of r)for(const i of s._zod.onattach)i(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const s=(o,a,l)=>{let c=Xn(o),d;for(const f of a){if(f._zod.def.when){if(!f._zod.def.when(o))continue}else if(c)continue;const h=o.issues.length,g=f._zod.check(o);if(g instanceof Promise&&l?.async===!1)throw new or;if(d||g instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await g,o.issues.length!==h&&(c||(c=Xn(o,h)))});else{if(o.issues.length===h)continue;c||(c=Xn(o,h))}}return d?d.then(()=>o):o},i=(o,a,l)=>{if(Xn(o))return o.aborted=!0,o;const c=s(a,r,l);if(c instanceof Promise){if(l.async===!1)throw new or;return c.then(d=>t._zod.parse(d,l))}return t._zod.parse(c,l)};t._zod.run=(o,a)=>{if(a.skipChecks)return t._zod.parse(o,a);if(a.direction==="backward"){const c=t._zod.parse({value:o.value,issues:[]},{...a,skipChecks:!0});return c instanceof Promise?c.then(d=>i(d,o,a)):i(c,o,a)}const l=t._zod.parse(o,a);if(l instanceof Promise){if(a.async===!1)throw new or;return l.then(c=>s(c,r,a))}return s(l,r,a)}}t["~standard"]={validate:s=>{try{const i=Am(t,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return Nm(t,s).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),zo=J("$ZodString",(t,e)=>{Je.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??n0(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),rt=J("$ZodStringFormat",(t,e)=>{Js.init(t,e),zo.init(t,e)}),k0=J("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=Um),rt.init(t,e)}),x0=J("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=nl(r))}else e.pattern??(e.pattern=nl());rt.init(t,e)}),S0=J("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Zm),rt.init(t,e)}),A0=J("$ZodURL",(t,e)=>{rt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Jm.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),N0=J("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=qm()),rt.init(t,e)}),T0=J("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Bm),rt.init(t,e)}),E0=J("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=$m),rt.init(t,e)}),I0=J("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=Dm),rt.init(t,e)}),O0=J("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Lm),rt.init(t,e)}),j0=J("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Rm),rt.init(t,e)}),z0=J("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=Mm),rt.init(t,e)}),C0=J("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=t0(e)),rt.init(t,e)}),P0=J("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=Qm),rt.init(t,e)}),$0=J("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=e0(e)),rt.init(t,e)}),D0=J("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Fm),rt.init(t,e)}),L0=J("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Km),rt.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),R0=J("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=Gm),rt.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),M0=J("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=Hm),rt.init(t,e)}),B0=J("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=Ym),rt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function Kc(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const F0=J("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=Wm),rt.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{Kc(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function U0(t){if(!Bc.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return Kc(n)}const Z0=J("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Bc),rt.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{U0(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),V0=J("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Xm),rt.init(t,e)});function q0(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const K0=J("$ZodJWT",(t,e)=>{rt.init(t,e),t._zod.check=n=>{q0(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),Gc=J("$ZodNumber",(t,e)=>{Je.init(t,e),t._zod.pattern=t._zod.bag.pattern??s0,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:t,...i?{received:i}:{}}),n}}),G0=J("$ZodNumber",(t,e)=>{c0.init(t,e),Gc.init(t,e)}),H0=J("$ZodBoolean",(t,e)=>{Je.init(t,e),t._zod.pattern=i0,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:t}),n}}),Y0=J("$ZodUnknown",(t,e)=>{Je.init(t,e),t._zod.parse=n=>n}),W0=J("$ZodNever",(t,e)=>{Je.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),J0=J("$ZodDate",(t,e)=>{Je.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const s=n.value,i=s instanceof Date;return i&&!Number.isNaN(s.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:s,...i?{received:"Invalid Date"}:{},inst:t}),n}});function rl(t,e,n){t.issues.length&&e.issues.push(...Mn(n,t.issues)),e.value[n]=t.value}const X0=J("$ZodArray",(t,e)=>{Je.init(t,e),t._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:t}),n;n.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const a=s[o],l=e.element._zod.run({value:a,issues:[]},r);l instanceof Promise?i.push(l.then(c=>rl(c,n,o))):rl(l,n,o)}return i.length?Promise.all(i).then(()=>n):n}});function Us(t,e,n,r){t.issues.length&&e.issues.push(...Mn(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function Hc(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=pm(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function Yc(t,e,n,r,s,i){const o=[],a=s.keySet,l=s.catchall._zod,c=l.def.type;for(const d of Object.keys(e)){if(a.has(d))continue;if(c==="never"){o.push(d);continue}const f=l.run({value:e[d],issues:[]},r);f instanceof Promise?t.push(f.then(h=>Us(h,n,d,e))):Us(f,n,d,e)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const Q0=J("$ZodObject",(t,e)=>{Je.init(t,e);const n=No(()=>Hc(e));We(t._zod,"propValues",()=>{const o=e.shape,a={};for(const l in o){const c=o[l]._zod;if(c.values){a[l]??(a[l]=new Set);for(const d of c.values)a[l].add(d)}}return a});const r=Fs,s=e.catchall;let i;t._zod.parse=(o,a)=>{i??(i=n.value);const l=o.value;if(!r(l))return o.issues.push({expected:"object",code:"invalid_type",input:l,inst:t}),o;o.value={};const c=[],d=i.shape;for(const f of i.keys){const g=d[f]._zod.run({value:l[f],issues:[]},a);g instanceof Promise?c.push(g.then(b=>Us(b,o,f,l))):Us(g,o,f,l)}return s?Yc(c,l,o,a,n.value,t):c.length?Promise.all(c).then(()=>o):o}}),eg=J("$ZodObjectJIT",(t,e)=>{Q0.init(t,e);const n=t._zod.parse,r=No(()=>Hc(e)),s=h=>{const g=new _0(["shape","payload","ctx"]),b=r.value,p=T=>{const k=tl(T);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};g.write("const input = payload.value;");const w=Object.create(null);let S=0;for(const T of b.keys)w[T]=`key_${S++}`;g.write("const newResult = {};");for(const T of b.keys){const k=w[T],j=tl(T);g.write(`const ${k} = ${p(T)};`),g.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${j}, ...iss.path] : [${j}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${j} in input) {
            newResult[${j}] = undefined;
          }
        } else {
          newResult[${j}] = ${k}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const N=g.compile();return(T,k)=>N(h,T,k)};let i;const o=Fs,a=!Cc.jitless,c=a&&dm.value,d=e.catchall;let f;t._zod.parse=(h,g)=>{f??(f=r.value);const b=h.value;return o(b)?a&&c&&g?.async===!1&&g.jitless!==!0?(i||(i=s(e.shape)),h=i(h,g),d?Yc([],b,h,g,f,t):h):n(h,g):(h.issues.push({expected:"object",code:"invalid_type",input:b,inst:t}),h)}});function sl(t,e,n,r){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const s=t.filter(i=>!Xn(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(o=>Sn(o,r,xn())))}),e)}const tg=J("$ZodUnion",(t,e)=>{Je.init(t,e),We(t._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),We(t._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),We(t._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),We(t._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>Eo(i.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(s,i)=>{if(n)return r(s,i);let o=!1;const a=[];for(const l of e.options){const c=l._zod.run({value:s.value,issues:[]},i);if(c instanceof Promise)a.push(c),o=!0;else{if(c.issues.length===0)return c;a.push(c)}}return o?Promise.all(a).then(l=>sl(l,s,t,i)):sl(a,s,t,i)}}),ng=J("$ZodIntersection",(t,e)=>{Je.init(t,e),t._zod.parse=(n,r)=>{const s=n.value,i=e.left._zod.run({value:s,issues:[]},r),o=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([l,c])=>il(n,l,c)):il(n,i,o)}});function no(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(cr(t)&&cr(e)){const n=Object.keys(e),r=Object.keys(t).filter(i=>n.indexOf(i)!==-1),s={...t,...e};for(const i of r){const o=no(t[i],e[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r],o=no(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function il(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Xn(t))return t;const r=no(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const rg=J("$ZodTuple",(t,e)=>{Je.init(t,e);const n=e.items,r=n.length-[...n].reverse().findIndex(s=>s._zod.optin!=="optional");t._zod.parse=(s,i)=>{const o=s.value;if(!Array.isArray(o))return s.issues.push({input:o,inst:t,expected:"tuple",code:"invalid_type"}),s;s.value=[];const a=[];if(!e.rest){const c=o.length>n.length,d=o.length<r-1;if(c||d)return s.issues.push({...c?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},input:o,inst:t,origin:"array"}),s}let l=-1;for(const c of n){if(l++,l>=o.length&&l>=r)continue;const d=c._zod.run({value:o[l],issues:[]},i);d instanceof Promise?a.push(d.then(f=>ws(f,s,l))):ws(d,s,l)}if(e.rest){const c=o.slice(n.length);for(const d of c){l++;const f=e.rest._zod.run({value:d,issues:[]},i);f instanceof Promise?a.push(f.then(h=>ws(h,s,l))):ws(f,s,l)}}return a.length?Promise.all(a).then(()=>s):s}});function ws(t,e,n){t.issues.length&&e.issues.push(...Mn(n,t.issues)),e.value[n]=t.value}const sg=J("$ZodRecord",(t,e)=>{Je.init(t,e),t._zod.parse=(n,r)=>{const s=n.value;if(!cr(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:t}),n;const i=[];if(e.keyType._zod.values){const o=e.keyType._zod.values;n.value={};for(const l of o)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const c=e.valueType._zod.run({value:s[l],issues:[]},r);c instanceof Promise?i.push(c.then(d=>{d.issues.length&&n.issues.push(...Mn(l,d.issues)),n.value[l]=d.value})):(c.issues.length&&n.issues.push(...Mn(l,c.issues)),n.value[l]=c.value)}let a;for(const l in s)o.has(l)||(a=a??[],a.push(l));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:t,keys:a})}else{n.value={};for(const o of Reflect.ownKeys(s)){if(o==="__proto__")continue;const a=e.keyType._zod.run({value:o,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:a.issues.map(c=>Sn(c,r,xn())),input:o,path:[o],inst:t}),n.value[a.value]=a.value;continue}const l=e.valueType._zod.run({value:s[o],issues:[]},r);l instanceof Promise?i.push(l.then(c=>{c.issues.length&&n.issues.push(...Mn(o,c.issues)),n.value[a.value]=c.value})):(l.issues.length&&n.issues.push(...Mn(o,l.issues)),n.value[a.value]=l.value)}}return i.length?Promise.all(i).then(()=>n):n}}),ig=J("$ZodEnum",(t,e)=>{Je.init(t,e);const n=um(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(s=>hm.has(typeof s)).map(s=>typeof s=="string"?ur(s):s.toString()).join("|")})$`),t._zod.parse=(s,i)=>{const o=s.value;return r.has(o)||s.issues.push({code:"invalid_value",values:n,input:o,inst:t}),s}}),og=J("$ZodLiteral",(t,e)=>{if(Je.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(n=>typeof n=="string"?ur(n):n?ur(n.toString()):String(n)).join("|")})$`),t._zod.parse=(n,r)=>{const s=n.value;return t._zod.values.has(s)||n.issues.push({code:"invalid_value",values:e.values,input:s,inst:t}),n}}),ag=J("$ZodTransform",(t,e)=>{Je.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new zc(t.constructor.name);const s=e.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(n.value=o,n));if(s instanceof Promise)throw new or;return n.value=s,n}});function ol(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const lg=J("$ZodOptional",(t,e)=>{Je.init(t,e),t._zod.optin="optional",t._zod.optout="optional",We(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),We(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Eo(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>ol(i,n.value)):ol(s,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),cg=J("$ZodNullable",(t,e)=>{Je.init(t,e),We(t._zod,"optin",()=>e.innerType._zod.optin),We(t._zod,"optout",()=>e.innerType._zod.optout),We(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Eo(n.source)}|null)$`):void 0}),We(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),ug=J("$ZodDefault",(t,e)=>{Je.init(t,e),t._zod.optin="optional",We(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>al(i,e)):al(s,e)}});function al(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const fg=J("$ZodPrefault",(t,e)=>{Je.init(t,e),t._zod.optin="optional",We(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),dg=J("$ZodNonOptional",(t,e)=>{Je.init(t,e),We(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>ll(i,t)):ll(s,t)}});function ll(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const hg=J("$ZodCatch",(t,e)=>{Je.init(t,e),We(t._zod,"optin",()=>e.innerType._zod.optin),We(t._zod,"optout",()=>e.innerType._zod.optout),We(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(o=>Sn(o,r,xn()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(i=>Sn(i,r,xn()))},input:n.value}),n.issues=[]),n)}}),pg=J("$ZodPipe",(t,e)=>{Je.init(t,e),We(t._zod,"values",()=>e.in._zod.values),We(t._zod,"optin",()=>e.in._zod.optin),We(t._zod,"optout",()=>e.out._zod.optout),We(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(n,r);return i instanceof Promise?i.then(o=>_s(o,e.in,r)):_s(i,e.in,r)}const s=e.in._zod.run(n,r);return s instanceof Promise?s.then(i=>_s(i,e.out,r)):_s(s,e.out,r)}});function _s(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const mg=J("$ZodReadonly",(t,e)=>{Je.init(t,e),We(t._zod,"propValues",()=>e.innerType._zod.propValues),We(t._zod,"values",()=>e.innerType._zod.values),We(t._zod,"optin",()=>e.innerType._zod.optin),We(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(cl):cl(s)}});function cl(t){return t.value=Object.freeze(t.value),t}const gg=J("$ZodLazy",(t,e)=>{Je.init(t,e),We(t._zod,"innerType",()=>e.getter()),We(t._zod,"pattern",()=>t._zod.innerType._zod.pattern),We(t._zod,"propValues",()=>t._zod.innerType._zod.propValues),We(t._zod,"optin",()=>t._zod.innerType._zod.optin??void 0),We(t._zod,"optout",()=>t._zod.innerType._zod.optout??void 0),t._zod.parse=(n,r)=>t._zod.innerType._zod.run(n,r)}),bg=J("$ZodCustom",(t,e)=>{At.init(t,e),Je.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>ul(i,n,r,t));ul(s,n,r,t)}});function ul(t,e,n,r){if(!t){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(Rr(s))}}class yg{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function wg(){return new yg}const vs=wg();function _g(t,e){return new t({type:"string",...Oe(e)})}function vg(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Oe(e)})}function fl(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Oe(e)})}function kg(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Oe(e)})}function xg(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Oe(e)})}function Sg(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Oe(e)})}function Ag(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Oe(e)})}function Ng(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Oe(e)})}function Tg(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Oe(e)})}function Eg(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Oe(e)})}function Ig(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Oe(e)})}function Og(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Oe(e)})}function jg(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Oe(e)})}function zg(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Oe(e)})}function Cg(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Oe(e)})}function Pg(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Oe(e)})}function $g(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Oe(e)})}function Dg(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Oe(e)})}function Lg(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Oe(e)})}function Rg(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Oe(e)})}function Mg(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Oe(e)})}function Bg(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Oe(e)})}function Fg(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Oe(e)})}function Ug(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Oe(e)})}function Zg(t,e){return new t({type:"string",format:"date",check:"string_format",...Oe(e)})}function Vg(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Oe(e)})}function qg(t,e){return new t({type:"string",format:"duration",check:"string_format",...Oe(e)})}function Kg(t,e){return new t({type:"number",checks:[],...Oe(e)})}function Gg(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Oe(e)})}function Hg(t,e){return new t({type:"boolean",...Oe(e)})}function Yg(t){return new t({type:"unknown"})}function Wg(t,e){return new t({type:"never",...Oe(e)})}function Jg(t,e){return new t({type:"date",...Oe(e)})}function dl(t,e){return new Vc({check:"less_than",...Oe(e),value:t,inclusive:!1})}function zs(t,e){return new Vc({check:"less_than",...Oe(e),value:t,inclusive:!0})}function hl(t,e){return new qc({check:"greater_than",...Oe(e),value:t,inclusive:!1})}function Cs(t,e){return new qc({check:"greater_than",...Oe(e),value:t,inclusive:!0})}function pl(t,e){return new l0({check:"multiple_of",...Oe(e),value:t})}function Wc(t,e){return new u0({check:"max_length",...Oe(e),maximum:t})}function Zs(t,e){return new f0({check:"min_length",...Oe(e),minimum:t})}function Jc(t,e){return new d0({check:"length_equals",...Oe(e),length:t})}function Xg(t,e){return new h0({check:"string_format",format:"regex",...Oe(e),pattern:t})}function Qg(t){return new p0({check:"string_format",format:"lowercase",...Oe(t)})}function e1(t){return new m0({check:"string_format",format:"uppercase",...Oe(t)})}function t1(t,e){return new g0({check:"string_format",format:"includes",...Oe(e),includes:t})}function n1(t,e){return new b0({check:"string_format",format:"starts_with",...Oe(e),prefix:t})}function r1(t,e){return new y0({check:"string_format",format:"ends_with",...Oe(e),suffix:t})}function Kr(t){return new w0({check:"overwrite",tx:t})}function s1(t){return Kr(e=>e.normalize(t))}function i1(){return Kr(t=>t.trim())}function o1(){return Kr(t=>t.toLowerCase())}function a1(){return Kr(t=>t.toUpperCase())}function l1(t,e,n){return new t({type:"array",element:e,...Oe(n)})}function c1(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Oe(n)})}function u1(t){const e=f1(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Rr(r,n.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),n.issues.push(Rr(s))}},t(n.value,n)));return e}function f1(t,e){const n=new At({check:"custom",...Oe(e)});return n._zod.check=t,n}const d1=J("ZodISODateTime",(t,e)=>{C0.init(t,e),st.init(t,e)});function h1(t){return Ug(d1,t)}const p1=J("ZodISODate",(t,e)=>{P0.init(t,e),st.init(t,e)});function m1(t){return Zg(p1,t)}const g1=J("ZodISOTime",(t,e)=>{$0.init(t,e),st.init(t,e)});function b1(t){return Vg(g1,t)}const y1=J("ZodISODuration",(t,e)=>{D0.init(t,e),st.init(t,e)});function w1(t){return qg(y1,t)}const _1=(t,e)=>{Rc.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>Sm(t,n)},flatten:{value:n=>xm(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,to,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,to,2)}},isEmpty:{get(){return t.issues.length===0}}})},$t=J("ZodError",_1,{Parent:Error}),v1=Oo($t),k1=jo($t),x1=Ys($t),S1=Ws($t),A1=Tm($t),N1=Em($t),T1=Im($t),E1=Om($t),I1=jm($t),O1=zm($t),j1=Cm($t),z1=Pm($t),nt=J("ZodType",(t,e)=>(Je.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone({...e,checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),t.clone=(n,r)=>En(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>v1(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>x1(t,n,r),t.parseAsync=async(n,r)=>k1(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>S1(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>A1(t,n,r),t.decode=(n,r)=>N1(t,n,r),t.encodeAsync=async(n,r)=>T1(t,n,r),t.decodeAsync=async(n,r)=>E1(t,n,r),t.safeEncode=(n,r)=>I1(t,n,r),t.safeDecode=(n,r)=>O1(t,n,r),t.safeEncodeAsync=async(n,r)=>j1(t,n,r),t.safeDecodeAsync=async(n,r)=>z1(t,n,r),t.refine=(n,r)=>t.check(Tb(n,r)),t.superRefine=n=>t.check(Eb(n)),t.overwrite=n=>t.check(Kr(n)),t.optional=()=>_l(t),t.nullable=()=>vl(t),t.nullish=()=>_l(vl(t)),t.nonoptional=n=>yb(t,n),t.array=()=>fr(t),t.or=n=>tu([t,n]),t.and=n=>ob(t,n),t.transform=n=>kl(t,db(n)),t.default=n=>mb(t,n),t.prefault=n=>bb(t,n),t.catch=n=>_b(t,n),t.pipe=n=>kl(t,n),t.readonly=()=>xb(t),t.describe=n=>{const r=t.clone();return vs.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return vs.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return vs.get(t);const r=t.clone();return vs.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),Xc=J("_ZodString",(t,e)=>{zo.init(t,e),nt.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(Xg(...r)),t.includes=(...r)=>t.check(t1(...r)),t.startsWith=(...r)=>t.check(n1(...r)),t.endsWith=(...r)=>t.check(r1(...r)),t.min=(...r)=>t.check(Zs(...r)),t.max=(...r)=>t.check(Wc(...r)),t.length=(...r)=>t.check(Jc(...r)),t.nonempty=(...r)=>t.check(Zs(1,...r)),t.lowercase=r=>t.check(Qg(r)),t.uppercase=r=>t.check(e1(r)),t.trim=()=>t.check(i1()),t.normalize=(...r)=>t.check(s1(...r)),t.toLowerCase=()=>t.check(o1()),t.toUpperCase=()=>t.check(a1())}),C1=J("ZodString",(t,e)=>{zo.init(t,e),Xc.init(t,e),t.email=n=>t.check(vg(P1,n)),t.url=n=>t.check(Ng($1,n)),t.jwt=n=>t.check(Fg(W1,n)),t.emoji=n=>t.check(Tg(D1,n)),t.guid=n=>t.check(fl(ml,n)),t.uuid=n=>t.check(kg(ks,n)),t.uuidv4=n=>t.check(xg(ks,n)),t.uuidv6=n=>t.check(Sg(ks,n)),t.uuidv7=n=>t.check(Ag(ks,n)),t.nanoid=n=>t.check(Eg(L1,n)),t.guid=n=>t.check(fl(ml,n)),t.cuid=n=>t.check(Ig(R1,n)),t.cuid2=n=>t.check(Og(M1,n)),t.ulid=n=>t.check(jg(B1,n)),t.base64=n=>t.check(Rg(G1,n)),t.base64url=n=>t.check(Mg(H1,n)),t.xid=n=>t.check(zg(F1,n)),t.ksuid=n=>t.check(Cg(U1,n)),t.ipv4=n=>t.check(Pg(Z1,n)),t.ipv6=n=>t.check($g(V1,n)),t.cidrv4=n=>t.check(Dg(q1,n)),t.cidrv6=n=>t.check(Lg(K1,n)),t.e164=n=>t.check(Bg(Y1,n)),t.datetime=n=>t.check(h1(n)),t.date=n=>t.check(m1(n)),t.time=n=>t.check(b1(n)),t.duration=n=>t.check(w1(n))});function He(t){return _g(C1,t)}const st=J("ZodStringFormat",(t,e)=>{rt.init(t,e),Xc.init(t,e)}),P1=J("ZodEmail",(t,e)=>{S0.init(t,e),st.init(t,e)}),ml=J("ZodGUID",(t,e)=>{k0.init(t,e),st.init(t,e)}),ks=J("ZodUUID",(t,e)=>{x0.init(t,e),st.init(t,e)}),$1=J("ZodURL",(t,e)=>{A0.init(t,e),st.init(t,e)}),D1=J("ZodEmoji",(t,e)=>{N0.init(t,e),st.init(t,e)}),L1=J("ZodNanoID",(t,e)=>{T0.init(t,e),st.init(t,e)}),R1=J("ZodCUID",(t,e)=>{E0.init(t,e),st.init(t,e)}),M1=J("ZodCUID2",(t,e)=>{I0.init(t,e),st.init(t,e)}),B1=J("ZodULID",(t,e)=>{O0.init(t,e),st.init(t,e)}),F1=J("ZodXID",(t,e)=>{j0.init(t,e),st.init(t,e)}),U1=J("ZodKSUID",(t,e)=>{z0.init(t,e),st.init(t,e)}),Z1=J("ZodIPv4",(t,e)=>{L0.init(t,e),st.init(t,e)}),V1=J("ZodIPv6",(t,e)=>{R0.init(t,e),st.init(t,e)}),q1=J("ZodCIDRv4",(t,e)=>{M0.init(t,e),st.init(t,e)}),K1=J("ZodCIDRv6",(t,e)=>{B0.init(t,e),st.init(t,e)}),G1=J("ZodBase64",(t,e)=>{F0.init(t,e),st.init(t,e)}),H1=J("ZodBase64URL",(t,e)=>{Z0.init(t,e),st.init(t,e)}),Y1=J("ZodE164",(t,e)=>{V0.init(t,e),st.init(t,e)}),W1=J("ZodJWT",(t,e)=>{K0.init(t,e),st.init(t,e)}),Qc=J("ZodNumber",(t,e)=>{Gc.init(t,e),nt.init(t,e),t.gt=(r,s)=>t.check(hl(r,s)),t.gte=(r,s)=>t.check(Cs(r,s)),t.min=(r,s)=>t.check(Cs(r,s)),t.lt=(r,s)=>t.check(dl(r,s)),t.lte=(r,s)=>t.check(zs(r,s)),t.max=(r,s)=>t.check(zs(r,s)),t.int=r=>t.check(gl(r)),t.safe=r=>t.check(gl(r)),t.positive=r=>t.check(hl(0,r)),t.nonnegative=r=>t.check(Cs(0,r)),t.negative=r=>t.check(dl(0,r)),t.nonpositive=r=>t.check(zs(0,r)),t.multipleOf=(r,s)=>t.check(pl(r,s)),t.step=(r,s)=>t.check(pl(r,s)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Ke(t){return Kg(Qc,t)}const J1=J("ZodNumberFormat",(t,e)=>{G0.init(t,e),Qc.init(t,e)});function gl(t){return Gg(J1,t)}const X1=J("ZodBoolean",(t,e)=>{H0.init(t,e),nt.init(t,e)});function Vn(t){return Hg(X1,t)}const Q1=J("ZodUnknown",(t,e)=>{Y0.init(t,e),nt.init(t,e)});function Vs(){return Yg(Q1)}const eb=J("ZodNever",(t,e)=>{W0.init(t,e),nt.init(t,e)});function tb(t){return Wg(eb,t)}const nb=J("ZodDate",(t,e)=>{J0.init(t,e),nt.init(t,e),t.min=(r,s)=>t.check(Cs(r,s)),t.max=(r,s)=>t.check(zs(r,s));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function bl(t){return Jg(nb,t)}const rb=J("ZodArray",(t,e)=>{X0.init(t,e),nt.init(t,e),t.element=e.element,t.min=(n,r)=>t.check(Zs(n,r)),t.nonempty=n=>t.check(Zs(1,n)),t.max=(n,r)=>t.check(Wc(n,r)),t.length=(n,r)=>t.check(Jc(n,r)),t.unwrap=()=>t.element});function fr(t,e){return l1(rb,t,e)}const eu=J("ZodObject",(t,e)=>{eg.init(t,e),nt.init(t,e),We(t,"shape",()=>e.shape),t.keyof=()=>cb(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Vs()}),t.loose=()=>t.clone({...t._zod.def,catchall:Vs()}),t.strict=()=>t.clone({...t._zod.def,catchall:tb()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>ym(t,n),t.safeExtend=n=>wm(t,n),t.merge=n=>_m(t,n),t.pick=n=>gm(t,n),t.omit=n=>bm(t,n),t.partial=(...n)=>vm(nu,t,n[0]),t.required=(...n)=>km(ru,t,n[0])});function Un(t,e){const n={type:"object",get shape(){return rn(this,"shape",t?Pc(t):{}),this.shape},...Oe(e)};return new eu(n)}function An(t,e){return new eu({type:"object",get shape(){return rn(this,"shape",Pc(t)),this.shape},catchall:Vs(),...Oe(e)})}const sb=J("ZodUnion",(t,e)=>{tg.init(t,e),nt.init(t,e),t.options=e.options});function tu(t,e){return new sb({type:"union",options:t,...Oe(e)})}const ib=J("ZodIntersection",(t,e)=>{ng.init(t,e),nt.init(t,e)});function ob(t,e){return new ib({type:"intersection",left:t,right:e})}const ab=J("ZodTuple",(t,e)=>{rg.init(t,e),nt.init(t,e),t.rest=n=>t.clone({...t._zod.def,rest:n})});function yl(t,e,n){const r=e instanceof Je,s=r?n:e,i=r?e:null;return new ab({type:"tuple",items:t,rest:i,...Oe(s)})}const lb=J("ZodRecord",(t,e)=>{sg.init(t,e),nt.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function Nn(t,e,n){return new lb({type:"record",keyType:t,valueType:e,...Oe(n)})}const ro=J("ZodEnum",(t,e)=>{ig.init(t,e),nt.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,s)=>{const i={};for(const o of r)if(n.has(o))i[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new ro({...e,checks:[],...Oe(s),entries:i})},t.exclude=(r,s)=>{const i={...e.entries};for(const o of r)if(n.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new ro({...e,checks:[],...Oe(s),entries:i})}});function cb(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new ro({type:"enum",entries:n,...Oe(e)})}const ub=J("ZodLiteral",(t,e)=>{og.init(t,e),nt.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function wl(t,e){return new ub({type:"literal",values:Array.isArray(t)?t:[t],...Oe(e)})}const fb=J("ZodTransform",(t,e)=>{ag.init(t,e),nt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new zc(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Rr(i,n.value,e));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),n.issues.push(Rr(o))}};const s=e.transform(n.value,n);return s instanceof Promise?s.then(i=>(n.value=i,n)):(n.value=s,n)}});function db(t){return new fb({type:"transform",transform:t})}const nu=J("ZodOptional",(t,e)=>{lg.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function _l(t){return new nu({type:"optional",innerType:t})}const hb=J("ZodNullable",(t,e)=>{cg.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function vl(t){return new hb({type:"nullable",innerType:t})}const pb=J("ZodDefault",(t,e)=>{ug.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function mb(t,e){return new pb({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Dc(e)}})}const gb=J("ZodPrefault",(t,e)=>{fg.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function bb(t,e){return new gb({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Dc(e)}})}const ru=J("ZodNonOptional",(t,e)=>{dg.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function yb(t,e){return new ru({type:"nonoptional",innerType:t,...Oe(e)})}const wb=J("ZodCatch",(t,e)=>{hg.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function _b(t,e){return new wb({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const vb=J("ZodPipe",(t,e)=>{pg.init(t,e),nt.init(t,e),t.in=e.in,t.out=e.out});function kl(t,e){return new vb({type:"pipe",in:t,out:e})}const kb=J("ZodReadonly",(t,e)=>{mg.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function xb(t){return new kb({type:"readonly",innerType:t})}const Sb=J("ZodLazy",(t,e)=>{gg.init(t,e),nt.init(t,e),t.unwrap=()=>t._zod.def.getter()});function Ab(t){return new Sb({type:"lazy",getter:t})}const Nb=J("ZodCustom",(t,e)=>{bg.init(t,e),nt.init(t,e)});function Tb(t,e={}){return c1(Nb,t,e)}function Eb(t){return u1(t)}const su=An({transform:He().optional(),posX:Ke(),posY:Ke(),posZ:Ke(),rotX:Ke(),rotY:Ke(),rotZ:Ke(),sizeX:Ke().optional(),sizeY:Ke().optional(),sizeZ:Ke().optional(),anchor:He().optional()}),Ib=An({enabled:Vn()}),iu=tu([An({"==":wl("org.bukkit.inventory.ItemStack"),DataVersion:Ke(),id:He(),count:Ke(),components:Nn(He(),He()).transform(t=>{const e={};for(const[n,r]of Object.entries(t))try{e[n]=cm.parseSNBT(r).toJSON()}catch{e[n]=r}return e}).optional(),schema_version:Ke()}),An({"==":wl("org.bukkit.inventory.ItemStack"),DataVersion:Ke(),id:He(),count:Ke(),components:Nn(He(),Vs()).optional(),schema_version:Ke()})]),ou=Ab(()=>Un({type:He(),item:iu.optional(),position:su,attachments:Nn(He(),ou).optional(),displayItem:Ib.optional(),shulkerColor:He().optional(),schematic:He().optional(),displayMode:He().optional(),firstPersonViewMode:He().optional(),firstPersonViewLockMode:He().optional(),lockRotation:Vn().optional(),names:fr(He()).optional(),text:He().optional(),animations:Nn(He(),An({nodes:fr(He()),looped:Vn().optional(),speed:Ke().optional()})).optional(),brightness:Un({block:Ke(),sky:Ke()}).optional()})),Ob=An({type:He(),entityType:He(),attachments:Nn(He(),ou),position:su.optional(),item:iu.optional(),shulkerColor:He().optional(),editor:Un({selectedIndex:Ke().optional(),animNodeSelectedOption:Ke().optional(),scrollOffset:Ke().optional(),expanded:Vn().optional()}).passthrough().optional(),animations:Nn(He(),Un({nodes:fr(He()),looped:Vn().optional(),speed:Ke().optional()}).passthrough()).optional(),physical:Un({cartLength:Ke().optional(),wheelCenter:Ke().optional(),wheelDistance:Ke().optional(),cartCouplerLength:Ke().optional()}).passthrough().optional()}),au=An({model:Ob.optional(),entityType:He(),flipped:Vn().optional()}),jb=An({savedName:He(),name:He().optional(),carts:Nn(He(),au).optional(),claims:fr(He()).optional(),spawnPattern:He().optional(),flipped:Vn().optional(),spawnLimit:Ke().optional(),usedModels:fr(He()).optional()}),lu=Nn(He(),jb);function zb(t){const e=lu.safeParse(t);return e.success?{valid:!0}:{valid:!1,errors:e.error.issues.map(n=>`${n.path.join(".")}: ${n.message}`)}}const Cb=Un({schemaVersion:Ke().min(0).default(0),projectName:He(),createdAt:bl().optional().nullable(),lastModifiedAt:bl().optional().nullable(),orbitControls:Un({position:yl([Ke(),Ke(),Ke()]),target:yl([Ke(),Ke(),Ke()]),zoom:Ke().optional()}).optional()});class Pb{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,n){this.keyToValue.set(e,n),this.valueToKey.set(n,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class cu{constructor(e){this.generateIdentifier=e,this.kv=new Pb}register(e,n){this.kv.getByValue(e)||(n||(n=this.generateIdentifier(e)),this.kv.set(n,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}}class $b extends cu{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,n){typeof n=="object"?(n.allowProps&&this.classToAllowedProps.set(e,n.allowProps),super.register(e,n.identifier)):super.register(e,n)}getAllowedProps(e){return this.classToAllowedProps.get(e)}}function Db(t){if("values"in Object)return Object.values(t);const e=[];for(const n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}function Lb(t,e){const n=Db(t);if("find"in n)return n.find(e);const r=n;for(let s=0;s<r.length;s++){const i=r[s];if(e(i))return i}}function dr(t,e){Object.entries(t).forEach(([n,r])=>e(r,n))}function Ps(t,e){return t.indexOf(e)!==-1}function xl(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(e(r))return r}}class Rb{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return Lb(this.transfomers,n=>n.isApplicable(e))}findByName(e){return this.transfomers[e]}}const Mb=t=>Object.prototype.toString.call(t).slice(8,-1),uu=t=>typeof t>"u",Bb=t=>t===null,Mr=t=>typeof t!="object"||t===null||t===Object.prototype?!1:Object.getPrototypeOf(t)===null?!0:Object.getPrototypeOf(t)===Object.prototype,so=t=>Mr(t)&&Object.keys(t).length===0,Tn=t=>Array.isArray(t),Fb=t=>typeof t=="string",Ub=t=>typeof t=="number"&&!isNaN(t),Zb=t=>typeof t=="boolean",Vb=t=>t instanceof RegExp,Br=t=>t instanceof Map,Fr=t=>t instanceof Set,fu=t=>Mb(t)==="Symbol",qb=t=>t instanceof Date&&!isNaN(t.valueOf()),Kb=t=>t instanceof Error,Sl=t=>typeof t=="number"&&isNaN(t),Gb=t=>Zb(t)||Bb(t)||uu(t)||Ub(t)||Fb(t)||fu(t),Hb=t=>typeof t=="bigint",Yb=t=>t===1/0||t===-1/0,Wb=t=>ArrayBuffer.isView(t)&&!(t instanceof DataView),Jb=t=>t instanceof URL,du=t=>t.replace(/\./g,"\\."),Ti=t=>t.map(String).map(du).join("."),Cr=t=>{const e=[];let n="";for(let s=0;s<t.length;s++){let i=t.charAt(s);if(i==="\\"&&t.charAt(s+1)==="."){n+=".",s++;continue}if(i==="."){e.push(n),n="";continue}n+=i}const r=n;return e.push(r),e};function Zt(t,e,n,r){return{isApplicable:t,annotation:e,transform:n,untransform:r}}const hu=[Zt(uu,"undefined",()=>null,()=>{}),Zt(Hb,"bigint",t=>t.toString(),t=>typeof BigInt<"u"?BigInt(t):(console.error("Please add a BigInt polyfill."),t)),Zt(qb,"Date",t=>t.toISOString(),t=>new Date(t)),Zt(Kb,"Error",(t,e)=>{const n={name:t.name,message:t.message};return e.allowedErrorProps.forEach(r=>{n[r]=t[r]}),n},(t,e)=>{const n=new Error(t.message);return n.name=t.name,n.stack=t.stack,e.allowedErrorProps.forEach(r=>{n[r]=t[r]}),n}),Zt(Vb,"regexp",t=>""+t,t=>{const e=t.slice(1,t.lastIndexOf("/")),n=t.slice(t.lastIndexOf("/")+1);return new RegExp(e,n)}),Zt(Fr,"set",t=>[...t.values()],t=>new Set(t)),Zt(Br,"map",t=>[...t.entries()],t=>new Map(t)),Zt(t=>Sl(t)||Yb(t),"number",t=>Sl(t)?"NaN":t>0?"Infinity":"-Infinity",Number),Zt(t=>t===0&&1/t===-1/0,"number",()=>"-0",Number),Zt(Jb,"URL",t=>t.toString(),t=>new URL(t))];function Xs(t,e,n,r){return{isApplicable:t,annotation:e,transform:n,untransform:r}}const pu=Xs((t,e)=>fu(t)?!!e.symbolRegistry.getIdentifier(t):!1,(t,e)=>["symbol",e.symbolRegistry.getIdentifier(t)],t=>t.description,(t,e,n)=>{const r=n.symbolRegistry.getValue(e[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r}),Xb=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((t,e)=>(t[e.name]=e,t),{}),mu=Xs(Wb,t=>["typed-array",t.constructor.name],t=>[...t],(t,e)=>{const n=Xb[e[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(t)});function gu(t,e){return t?.constructor?!!e.classRegistry.getIdentifier(t.constructor):!1}const bu=Xs(gu,(t,e)=>["class",e.classRegistry.getIdentifier(t.constructor)],(t,e)=>{const n=e.classRegistry.getAllowedProps(t.constructor);if(!n)return{...t};const r={};return n.forEach(s=>{r[s]=t[s]}),r},(t,e,n)=>{const r=n.classRegistry.getValue(e[1]);if(!r)throw new Error(`Trying to deserialize unknown class '${e[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(r.prototype),t)}),yu=Xs((t,e)=>!!e.customTransformerRegistry.findApplicable(t),(t,e)=>["custom",e.customTransformerRegistry.findApplicable(t).name],(t,e)=>e.customTransformerRegistry.findApplicable(t).serialize(t),(t,e,n)=>{const r=n.customTransformerRegistry.findByName(e[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(t)}),Qb=[bu,pu,yu,mu],Al=(t,e)=>{const n=xl(Qb,s=>s.isApplicable(t,e));if(n)return{value:n.transform(t,e),type:n.annotation(t,e)};const r=xl(hu,s=>s.isApplicable(t,e));if(r)return{value:r.transform(t,e),type:r.annotation}},wu={};hu.forEach(t=>{wu[t.annotation]=t});const ey=(t,e,n)=>{if(Tn(e))switch(e[0]){case"symbol":return pu.untransform(t,e,n);case"class":return bu.untransform(t,e,n);case"custom":return yu.untransform(t,e,n);case"typed-array":return mu.untransform(t,e,n);default:throw new Error("Unknown transformation: "+e)}else{const r=wu[e];if(!r)throw new Error("Unknown transformation: "+e);return r.untransform(t,n)}},Qn=(t,e)=>{if(e>t.size)throw new Error("index out of bounds");const n=t.keys();for(;e>0;)n.next(),e--;return n.next().value};function _u(t){if(Ps(t,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(Ps(t,"prototype"))throw new Error("prototype is not allowed as a property");if(Ps(t,"constructor"))throw new Error("constructor is not allowed as a property")}const ty=(t,e)=>{_u(e);for(let n=0;n<e.length;n++){const r=e[n];if(Fr(t))t=Qn(t,+r);else if(Br(t)){const s=+r,i=+e[++n]==0?"key":"value",o=Qn(t,s);switch(i){case"key":t=o;break;case"value":t=t.get(o);break}}else t=t[r]}return t},io=(t,e,n)=>{if(_u(e),e.length===0)return n(t);let r=t;for(let i=0;i<e.length-1;i++){const o=e[i];if(Tn(r)){const a=+o;r=r[a]}else if(Mr(r))r=r[o];else if(Fr(r)){const a=+o;r=Qn(r,a)}else if(Br(r)){if(i===e.length-2)break;const l=+o,c=+e[++i]==0?"key":"value",d=Qn(r,l);switch(c){case"key":r=d;break;case"value":r=r.get(d);break}}}const s=e[e.length-1];if(Tn(r)?r[+s]=n(r[+s]):Mr(r)&&(r[s]=n(r[s])),Fr(r)){const i=Qn(r,+s),o=n(i);i!==o&&(r.delete(i),r.add(o))}if(Br(r)){const i=+e[e.length-2],o=Qn(r,i);switch(+s==0?"key":"value"){case"key":{const l=n(o);r.set(l,r.get(o)),l!==o&&r.delete(o);break}case"value":{r.set(o,n(r.get(o)));break}}}return t};function oo(t,e,n=[]){if(!t)return;if(!Tn(t)){dr(t,(i,o)=>oo(i,e,[...n,...Cr(o)]));return}const[r,s]=t;s&&dr(s,(i,o)=>{oo(i,e,[...n,...Cr(o)])}),e(r,n)}function ny(t,e,n){return oo(e,(r,s)=>{t=io(t,s,i=>ey(i,r,n))}),t}function ry(t,e){function n(r,s){const i=ty(t,Cr(s));r.map(Cr).forEach(o=>{t=io(t,o,()=>i)})}if(Tn(e)){const[r,s]=e;r.forEach(i=>{t=io(t,Cr(i),()=>t)}),s&&dr(s,n)}else dr(e,n);return t}const sy=(t,e)=>Mr(t)||Tn(t)||Br(t)||Fr(t)||gu(t,e);function iy(t,e,n){const r=n.get(t);r?r.push(e):n.set(t,[e])}function oy(t,e){const n={};let r;return t.forEach(s=>{if(s.length<=1)return;e||(s=s.map(a=>a.map(String)).sort((a,l)=>a.length-l.length));const[i,...o]=s;i.length===0?r=o.map(Ti):n[Ti(i)]=o.map(Ti)}),r?so(n)?[r]:[r,n]:so(n)?void 0:n}const vu=(t,e,n,r,s=[],i=[],o=new Map)=>{const a=Gb(t);if(!a){iy(t,s,e);const g=o.get(t);if(g)return r?{transformedValue:null}:g}if(!sy(t,n)){const g=Al(t,n),b=g?{transformedValue:g.value,annotations:[g.type]}:{transformedValue:t};return a||o.set(t,b),b}if(Ps(i,t))return{transformedValue:null};const l=Al(t,n),c=l?.value??t,d=Tn(c)?[]:{},f={};dr(c,(g,b)=>{if(b==="__proto__"||b==="constructor"||b==="prototype")throw new Error(`Detected property ${b}. This is a prototype pollution risk, please remove it from your object.`);const p=vu(g,e,n,r,[...s,b],[...i,t],o);d[b]=p.transformedValue,Tn(p.annotations)?f[b]=p.annotations:Mr(p.annotations)&&dr(p.annotations,(w,S)=>{f[du(b)+"."+S]=w})});const h=so(f)?{transformedValue:d,annotations:l?[l.type]:void 0}:{transformedValue:d,annotations:l?[l.type,f]:f};return a||o.set(t,h),h};function ku(t){return Object.prototype.toString.call(t).slice(8,-1)}function Nl(t){return ku(t)==="Array"}function ay(t){if(ku(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return!!e&&e.constructor===Object&&e===Object.prototype}function ly(t,e,n,r,s){const i={}.propertyIsEnumerable.call(r,e)?"enumerable":"nonenumerable";i==="enumerable"&&(t[e]=n),s&&i==="nonenumerable"&&Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!0,configurable:!0})}function ao(t,e={}){if(Nl(t))return t.map(s=>ao(s,e));if(!ay(t))return t;const n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertySymbols(t);return[...n,...r].reduce((s,i)=>{if(Nl(e.props)&&!e.props.includes(i))return s;const o=t[i],a=ao(o,e);return ly(s,i,a,t,e.nonenumerable),s},{})}class Ve{constructor({dedupe:e=!1}={}){this.classRegistry=new $b,this.symbolRegistry=new cu(n=>n.description??""),this.customTransformerRegistry=new Rb,this.allowedErrorProps=[],this.dedupe=e}serialize(e){const n=new Map,r=vu(e,n,this,this.dedupe),s={json:r.transformedValue};r.annotations&&(s.meta={...s.meta,values:r.annotations});const i=oy(n,this.dedupe);return i&&(s.meta={...s.meta,referentialEqualities:i}),s}deserialize(e){const{json:n,meta:r}=e;let s=ao(n);return r?.values&&(s=ny(s,r.values,this)),r?.referentialEqualities&&(s=ry(s,r.referentialEqualities)),s}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,n){this.classRegistry.register(e,n)}registerSymbol(e,n){this.symbolRegistry.register(e,n)}registerCustom(e,n){this.customTransformerRegistry.register({name:n,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}}Ve.defaultInstance=new Ve;Ve.serialize=Ve.defaultInstance.serialize.bind(Ve.defaultInstance);Ve.deserialize=Ve.defaultInstance.deserialize.bind(Ve.defaultInstance);Ve.stringify=Ve.defaultInstance.stringify.bind(Ve.defaultInstance);Ve.parse=Ve.defaultInstance.parse.bind(Ve.defaultInstance);Ve.registerClass=Ve.defaultInstance.registerClass.bind(Ve.defaultInstance);Ve.registerSymbol=Ve.defaultInstance.registerSymbol.bind(Ve.defaultInstance);Ve.registerCustom=Ve.defaultInstance.registerCustom.bind(Ve.defaultInstance);Ve.allowErrorProps=Ve.defaultInstance.allowErrorProps.bind(Ve.defaultInstance);Ve.serialize;Ve.deserialize;Ve.stringify;Ve.parse;Ve.registerClass;Ve.registerCustom;Ve.registerSymbol;Ve.allowErrorProps;const Cn=Lr(""),xs=0,Wt=mo((t,e)=>{const n=r=>{const i={...typeof r=="function"?r(e()):r};return"saved"in i&&i.saved===!0?i.saved=!0:(i.metadata?.orbitControls||(i.saved=!1),i.selectedObjectPath&&(i.saved=e().saved)),t(i)};return{saved:!1,metadata:{schemaVersion:xs,projectName:"",createdAt:null,lastModifiedAt:null,orbitControls:void 0},cart:null,selectedObjectPath:void 0,setSelectedObjectPath:r=>n({selectedObjectPath:r}),setMetadata:r=>n({metadata:r}),setProjectName:r=>n(s=>({metadata:{...s.metadata,projectName:r}})),setCart:r=>n({cart:r}),clearCart:()=>n({cart:null}),saveProject:async r=>{const s=Wt.getState();if(!s.cart)throw new Error("No cart data to save.");const i=`${s.metadata.projectName||"TCA-Project"}.tcaproj`,o={...s.metadata,createdAt:s.metadata.createdAt||new Date},a=Zp({"metadata.json":Lr(Ve.stringify(o)),"cart.json":Lr(Ve.stringify(s.cart))},{level:9}),l=new Uint8Array(Cn.length+a.length);l.set(Cn),l.set(a,Cn.length);const c=new Uint8Array(l.length);c.set(l);const d=new Blob([c],{type:"application/binary"}),f=s.fileHandle;if(!f||r){const h=await $n.promise(cp(d,{fileName:i,extensions:[".tcaproj"],mimeTypes:["application/binary"],id:"tca-project"}),{loading:"Saving project...",success:"Project saved successfully!",error:"Failed to save the project."}).unwrap();h&&(n({saved:!0,fileHandle:h,metadata:{...o}}),h.name!==i&&n({metadata:{...o,lastModifiedAt:new Date,projectName:h.name.replace(/\.tcaproj$/,"")}}))}else await $n.promise(f.createWritable().then(async g=>(await g.write(c),await g.close(),!0)).catch(()=>!1),{loading:"Saving project...",success:"Project saved successfully!",error:"Failed to save the project."}).unwrap()&&n({saved:!0,fileHandle:f,metadata:{...o,lastModifiedAt:new Date}})},loadProjectFromFile:async()=>{const r=await uc({description:"Select a TCA-Project file",extensions:[".tcaproj"],mimeTypes:["application/binary"],id:"tca-project",startIn:"documents"}).catch(()=>null);if(!r)throw new Error("No file selected.");const s=await r.arrayBuffer(),i=new Uint8Array(Cn.length);if(i.set(Cn),!new Uint8Array(s.slice(0,Cn.length)).every((c,d)=>c===i[d]))throw new Error("Invalid TCA-Project file format.");const a=new Uint8Array(s.slice(Cn.length)),l=await Vp(a);for(const[c,d]of Object.entries(l))switch(c){case"metadata.json":{const f=Ve.parse(Qi(d)),h=Cb.safeParse(f);if(!h.success){console.error("Invalid metadata in project:",h.error),$n.error("We couldn't load your project. The metadata is invalid. See the browser console for more details.",{duration:1e4}),n({metadata:{schemaVersion:xs,projectName:"",createdAt:null,lastModifiedAt:null},cart:null,fileHandle:void 0});continue}n({metadata:h.data});break}case"cart.json":{const f=Ve.parse(Qi(d)),h=au.safeParse(f);if(!h.success){console.error("Invalid cart data in project:",h.error),$n.error("We couldn't load your project. The cart data is invalid. See the browser console for more details.",{duration:1e4}),n({metadata:{schemaVersion:xs,projectName:"",createdAt:null,lastModifiedAt:null},cart:null,fileHandle:void 0});continue}n({cart:h.data});break}default:console.warn(`Unknown file in TCA-Project: ${c}`);break}n({saved:!0,fileHandle:r.handle})},reset:()=>n({metadata:{schemaVersion:xs,projectName:"",createdAt:null,lastModifiedAt:null},cart:null,fileHandle:void 0})}});function cy(){const t=ke.c(56),e=Wt(),[n,r]=Le.useState(document.fullscreenElement),[s,i]=Le.useState(!1),[o,a]=Le.useState(!1),l=fy;let c,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{const Ee=()=>{r(document.fullscreenElement)};return document.addEventListener("fullscreenchange",Ee),()=>{document.removeEventListener("fullscreenchange",Ee)}},d=[],t[0]=c,t[1]=d):(c=t[0],d=t[1]),Le.useEffect(c,d);let f;t[2]!==e?(f=async()=>{i(!0),await e.saveProject(),e.reset(),i(!1)},t[2]=e,t[3]=f):f=t[3];const h=f;let g,b;t[4]!==e?(g=()=>{const Ee=we=>{we.key==="s"&&(we.ctrlKey||we.metaKey)&&e.cart?(we.preventDefault(),e.saveProject().catch(uy)):we.key===","&&(we.ctrlKey||we.metaKey)&&(we.preventDefault(),a(!0))};return window.addEventListener("keydown",Ee),()=>{window.removeEventListener("keydown",Ee)}},b=[e],t[4]=e,t[5]=g,t[6]=b):(g=t[5],b=t[6]),Le.useEffect(g,b);const p=e.metadata.projectName||"Untitled Project";let w;t[7]!==e.saved?(w=e.saved?y.jsx(Ul,{}):y.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:"currentColor",marginRight:4,aspectRatio:"1 / 1"}}),t[7]=e.saved,t[8]=w):w=t[8];let S;t[9]!==h||t[10]!==s||t[11]!==w?(S=y.jsx(vn,{className:"h-4 w-4",variant:"ghost",size:"icon",disabled:s,onClick:h,children:w}),t[9]=h,t[10]=s,t[11]=w,t[12]=S):S=t[12];let N;t[13]!==p||t[14]!==S?(N=y.jsxs("div",{className:"bg-card flex items-center gap-2 px-2",children:[p,S]}),t[13]=p,t[14]=S,t[15]=N):N=t[15];let T;t[16]===Symbol.for("react.memo_cache_sentinel")?(T=y.jsx(Fh,{children:"File"}),t[16]=T):T=t[16];let k;t[17]!==e?(k=async()=>e.saveProject(),t[17]=e,t[18]=k):k=t[18];let j;t[19]===Symbol.for("react.memo_cache_sentinel")?(j=y.jsx(ca,{children:"CTRL + S"}),t[19]=j):j=t[19];let O;t[20]!==s||t[21]!==k?(O=y.jsxs(Yn,{disabled:s,onClick:k,children:["Save Project ",j]}),t[20]=s,t[21]=k,t[22]=O):O=t[22];let z;t[23]!==e?(z=async()=>e.saveProject(!0),t[23]=e,t[24]=z):z=t[24];let I;t[25]!==s||t[26]!==z?(I=y.jsx(Yn,{disabled:s,onClick:z,children:"Save Project As"}),t[25]=s,t[26]=z,t[27]=I):I=t[27];let M;t[28]===Symbol.for("react.memo_cache_sentinel")?(M=y.jsx(fi,{}),t[28]=M):M=t[28];let R;t[29]!==e?(R=async()=>e.loadProjectFromFile(),t[29]=e,t[30]=R):R=t[30];let W;t[31]!==s||t[32]!==R?(W=y.jsx(Yn,{disabled:s,onClick:R,children:"Load Project"}),t[31]=s,t[32]=R,t[33]=W):W=t[33];let q;t[34]!==h||t[35]!==s?(q=y.jsx(Yn,{disabled:s,onClick:h,children:"New Project"}),t[34]=h,t[35]=s,t[36]=q):q=t[36];let Q;t[37]===Symbol.for("react.memo_cache_sentinel")?(Q=y.jsx(fi,{}),t[37]=Q):Q=t[37];let le;t[38]===Symbol.for("react.memo_cache_sentinel")?(le=()=>a(!0),t[38]=le):le=t[38];let de,be,ce;t[39]===Symbol.for("react.memo_cache_sentinel")?(de=y.jsxs(Yn,{onClick:le,children:["Preferences",y.jsx(ca,{children:"CTRL + ,"})]}),be=y.jsx(fi,{}),ce=y.jsx(Yn,{children:"Print"}),t[39]=de,t[40]=be,t[41]=ce):(de=t[39],be=t[40],ce=t[41]);let ne;t[42]!==O||t[43]!==I||t[44]!==W||t[45]!==q?(ne=y.jsxs(la,{children:[T,y.jsxs(Uh,{children:[O,I,M,W,q,Q,de,be,ce]})]}),t[42]=O,t[43]=I,t[44]=W,t[45]=q,t[46]=ne):ne=t[46];let pe;t[47]!==n?(pe=y.jsx(la,{children:y.jsx(vn,{className:"ml-auto",variant:"ghost",size:"icon",onClick:l,children:n?y.jsx(od,{}):y.jsx(id,{})})}),t[47]=n,t[48]=pe):pe=t[48];let ie;t[49]!==o?(ie=y.jsx(py,{open:o,setOpen:a}),t[49]=o,t[50]=ie):ie=t[50];let Te;return t[51]!==ne||t[52]!==pe||t[53]!==ie||t[54]!==N?(Te=y.jsxs(Mh,{className:"rounded-none",children:[N,ne,pe,ie]}),t[51]=ne,t[52]=pe,t[53]=ie,t[54]=N,t[55]=Te):Te=t[55],Te}function uy(t){console.error("Save failed:",t)}function fy(){document.fullscreenElement?document.exitFullscreen().catch(dy):document.documentElement.requestFullscreen().catch(hy)}function dy(t){console.error("Error exiting fullscreen mode:",t)}function hy(t){console.error("Error entering fullscreen mode:",t)}function py(t){const e=ke.c(61),{open:n,setOpen:r}=t,s=Vr();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=y.jsx(Lh,{children:"Preferences"}),e[0]=i):i=e[0];let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=y.jsx(Bt,{htmlFor:"theme-select",children:"Theme:"}),e[1]=o):o=e[1];let a;e[2]!==s?(a=pe=>{if(pe!=="light"&&pe!=="dark"){console.warn("Invalid theme selected:",pe);return}s.setTheme(pe)},e[2]=s,e[3]=a):a=e[3];let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=y.jsx(Ui,{className:"h-10 w-full",id:"theme-select",children:y.jsx(Fi,{placeholder:"Select theme"})}),e[4]=l):l=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=y.jsx(Zi,{children:y.jsxs(Bi,{children:[y.jsx(Vi,{children:"Available Themes"}),y.jsx(Bs,{value:"light",children:"Light"}),y.jsx(Bs,{value:"dark",children:"Dark"})]})}),e[5]=c):c=e[5];let d;e[6]!==s.theme||e[7]!==a?(d=y.jsxs("div",{className:"flex flex-col",children:[o,y.jsxs(Mi,{value:s.theme,onValueChange:a,children:[l,c]})]}),e[6]=s.theme,e[7]=a,e[8]=d):d=e[8];let f;e[9]===Symbol.for("react.memo_cache_sentinel")?(f=y.jsx(Bt,{htmlFor:"save-interval",children:"Auto-save Interval (seconds):"}),e[9]=f):f=e[9];let h;e[10]!==s?(h=pe=>{const ie=parseInt(pe.target.value,10);if(isNaN(ie)||ie<1){console.warn("Invalid save interval:",pe.target.value);return}s.setSaveInterval(ie)},e[10]=s,e[11]=h):h=e[11];let g;e[12]!==s.saveInterval||e[13]!==h?(g=y.jsxs("div",{className:"flex flex-col",children:[f,y.jsx(wo,{id:"save-interval",type:"number",min:1,value:s.saveInterval,onChange:h,className:"h-10 w-full"})]}),e[12]=s.saveInterval,e[13]=h,e[14]=g):g=e[14];let b;e[15]===Symbol.for("react.memo_cache_sentinel")?(b=y.jsx(Bt,{htmlFor:"grid-color",className:"mb-2 block",children:"Grid Color:"}),e[15]=b):b=e[15];let p;e[16]!==s?(p=pe=>{s.setGridColor(pe.hex)},e[16]=s,e[17]=p):p=e[17];let w;e[18]!==s.gridColor||e[19]!==p?(w=y.jsxs("div",{className:"flex flex-col",children:[b,y.jsx(Gh,{defaultColor:s.gridColor,onChangeComplete:p})]}),e[18]=s.gridColor,e[19]=p,e[20]=w):w=e[20];let S;e[21]===Symbol.for("react.memo_cache_sentinel")?(S=y.jsx(Ln,{asChild:!0,children:y.jsx(Jr,{className:"mr-[0.5] inline h-3"})}),e[21]=S):S=e[21];let N;e[22]===Symbol.for("react.memo_cache_sentinel")?(N=y.jsxs(Bt,{htmlFor:"debug-text",className:"mb-2 block",children:[y.jsxs(Dn,{children:[S,y.jsx(Rn,{children:y.jsx("p",{children:"Debug text displays additional information about the 3D scene, such as object coordinates and rendering details. It can be useful for troubleshooting but may clutter the view."})})]}),"Debug Text:"]}),e[22]=N):N=e[22];let T;e[23]!==s?(T=pe=>s.setDebugText(pe),e[23]=s,e[24]=T):T=e[24];let k;e[25]!==s.debugText||e[26]!==T?(k=y.jsxs("div",{className:"flex flex-row gap-2",children:[N,y.jsx(ts,{id:"debug-text",checked:s.debugText,onCheckedChange:T})]}),e[25]=s.debugText,e[26]=T,e[27]=k):k=e[27];let j;e[28]===Symbol.for("react.memo_cache_sentinel")?(j=y.jsx(Ln,{asChild:!0,children:y.jsx(Jr,{className:"mr-[0.5] inline h-3"})}),e[28]=j):j=e[28];let O;e[29]===Symbol.for("react.memo_cache_sentinel")?(O=y.jsxs(Bt,{htmlFor:"ssao-enabled",className:"mb-2 block",children:[y.jsxs(Dn,{children:[j,y.jsx(Rn,{children:y.jsx("p",{children:"Screen Space Ambient Occlusion (SSAO) is a shading method that adds soft shadows to enhance depth perception in 3D scenes. It can improve visual realism but may impact performance."})})]}),"SSAO Enabled:"]}),e[29]=O):O=e[29];let z;e[30]!==s?(z=pe=>s.setSSAOEnabled(pe),e[30]=s,e[31]=z):z=e[31];let I;e[32]!==s.SSAOEnabled||e[33]!==z?(I=y.jsxs("div",{className:"flex flex-row gap-2",children:[O,y.jsx(ts,{id:"ssao-enabled",checked:s.SSAOEnabled,onCheckedChange:z})]}),e[32]=s.SSAOEnabled,e[33]=z,e[34]=I):I=e[34];let M;e[35]===Symbol.for("react.memo_cache_sentinel")?(M=y.jsx(Ln,{asChild:!0,children:y.jsx(Jr,{className:"mr-[0.5] inline h-3"})}),e[35]=M):M=e[35];let R;e[36]===Symbol.for("react.memo_cache_sentinel")?(R=y.jsxs(Bt,{htmlFor:"dof-enabled",className:"mb-2 block",children:[y.jsxs(Dn,{children:[M,y.jsx(Rn,{children:y.jsx("p",{children:"Depth of Field (DOF) creates a blurred effect on objects outside the focus area, simulating camera lens behavior. It enhances realism but can be resource-intensive and may affect performance."})})]}),"Depth of Field Enabled:"]}),e[36]=R):R=e[36];let W;e[37]!==s?(W=pe=>s.setDOFEnabled(pe),e[37]=s,e[38]=W):W=e[38];let q;e[39]!==s.DOFEnabled||e[40]!==W?(q=y.jsxs("div",{className:"flex flex-row gap-2",children:[R,y.jsx(ts,{id:"dof-enabled",checked:s.DOFEnabled,onCheckedChange:W})]}),e[39]=s.DOFEnabled,e[40]=W,e[41]=q):q=e[41];let Q;e[42]===Symbol.for("react.memo_cache_sentinel")?(Q=y.jsx(Ln,{asChild:!0,children:y.jsx(Jr,{className:"mr-[0.5] inline h-3"})}),e[42]=Q):Q=e[42];let le;e[43]===Symbol.for("react.memo_cache_sentinel")?(le=y.jsxs(Bt,{htmlFor:"control-damping-enabled",className:"mb-2 block",children:[y.jsxs(Dn,{children:[Q,y.jsx(Rn,{children:y.jsx("p",{children:"Enabling control damping makes camera movements smoother by adding inertia. This results in a more natural feel when orbiting or panning the view, but may introduce a slight delay in responsiveness."})})]}),"Orbit Controls Damping:"]}),e[43]=le):le=e[43];let de;e[44]!==s?(de=pe=>s.setControlDamping(pe),e[44]=s,e[45]=de):de=e[45];let be;e[46]!==s.controlDamping||e[47]!==de?(be=y.jsxs("div",{className:"flex flex-row gap-2",children:[le,y.jsx(ts,{id:"control-damping",checked:s.controlDamping,onCheckedChange:de})]}),e[46]=s.controlDamping,e[47]=de,e[48]=be):be=e[48];let ce;e[49]!==w||e[50]!==k||e[51]!==I||e[52]!==q||e[53]!==be||e[54]!==d||e[55]!==g?(ce=y.jsx($h,{children:y.jsxs(Dh,{children:[i,y.jsx(Rh,{asChild:!0,children:y.jsxs("div",{children:["Here you can adjust your preferences for the application.",y.jsxs("div",{className:"mt-4 flex flex-col gap-4",children:[d,g,w,k,I,q,be]})]})})]})}),e[49]=w,e[50]=k,e[51]=I,e[52]=q,e[53]=be,e[54]=d,e[55]=g,e[56]=ce):ce=e[56];let ne;return e[57]!==n||e[58]!==r||e[59]!==ce?(ne=y.jsx(zh,{open:n,onOpenChange:r,children:ce}),e[57]=n,e[58]=r,e[59]=ce,e[60]=ne):ne=e[60],ne}let $s=[],Ds=[];function my(t){return $s.push(t),()=>{$s=$s.filter(e=>e!==t)}}function gy(t){return Ds.push(t),()=>{Ds=Ds.filter(e=>e!==t)}}function by(){const t=ke.c(3),e=Le.useRef(0);let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=performance.now(),t[0]=n):n=t[0];const r=Le.useRef(n),{gl:s}=go();let i;return t[1]!==s?(i=()=>{e.current=e.current+1;const o=performance.now(),a=o-r.current;if(a>500){const l=Math.round(e.current*1e3/a);e.current=0,r.current=o,$s.forEach(d=>d(l));const c=s.info;Ds.forEach(d=>d(c.render))}},t[1]=s,t[2]=i):i=t[2],Vl(i),null}function yy(t){const e=ke.c(24),{position:n}=t,r=n===void 0?"top-right":n,s=Vr(),[i,o]=Le.useState(0);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={calls:0,frame:0,lines:0,points:0,triangles:0},e[0]=a):a=e[0];const[l,c]=Le.useState(a);let d,f;e[1]===Symbol.for("react.memo_cache_sentinel")?(d=()=>my(o),f=[],e[1]=d,e[2]=f):(d=e[1],f=e[2]),Le.useEffect(d,f);let h,g;e[3]===Symbol.for("react.memo_cache_sentinel")?(h=()=>gy(c),g=[],e[3]=h,e[4]=g):(h=e[3],g=e[4]),Le.useEffect(h,g);const b=r.includes("top")?8:void 0,p=r.includes("bottom")?8:void 0,w=r.includes("left")?8:void 0,S=r.includes("right")?8:void 0;let N;e[5]!==S||e[6]!==b||e[7]!==p||e[8]!==w?(N={top:b,bottom:p,left:w,right:S},e[5]=S,e[6]=b,e[7]=p,e[8]=w,e[9]=N):N=e[9];const T=N;let k;e[10]!==T?(k={...T},e[10]=T,e[11]=k):k=e[11];let j;e[12]!==i?(j=y.jsxs("p",{children:[i," FPS"]}),e[12]=i,e[13]=j):j=e[13];let O;e[14]!==s.DOFEnabled||e[15]!==s.SSAOEnabled||e[16]!==s.controlDamping||e[17]!==s.debugText||e[18]!==l?(O=s.debugText&&y.jsxs(y.Fragment,{children:[y.jsx("hr",{className:"border-border my-1 border-t"}),y.jsxs("p",{children:["Draw Calls: ",l.calls]}),y.jsxs("p",{children:["Frame: ",l.frame]}),y.jsxs("p",{children:["Triangles: ",l.triangles]}),y.jsxs("p",{children:["Lines: ",l.lines]}),y.jsxs("p",{children:["Points: ",l.points]}),y.jsx("hr",{className:"border-border my-1 border-t"}),y.jsxs("p",{children:["Debug Text: ",s.debugText?"On":"Off"]}),y.jsxs("p",{children:["SSAO: ",s.SSAOEnabled?"On":"Off"]}),y.jsxs("p",{children:["Depth of Field: ",s.DOFEnabled?"On":"Off"]}),y.jsxs("p",{children:["Control Damping:"," ",s.controlDamping?"On":"Off"]})]}),e[14]=s.DOFEnabled,e[15]=s.SSAOEnabled,e[16]=s.controlDamping,e[17]=s.debugText,e[18]=l,e[19]=O):O=e[19];let z;return e[20]!==k||e[21]!==j||e[22]!==O?(z=y.jsxs("div",{className:"text-muted-foreground pointer-events-none absolute z-10 text-right font-mono text-sm",style:k,children:[j,O]}),e[20]=k,e[21]=j,e[22]=O,e[23]=z):z=e[23],z}function wy(t){const e=ke.c(26);let n,r,s,i,o,a;e[0]!==t?({className:n,defaultValue:r,value:a,min:i,max:o,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=o,e[6]=a):(n=e[1],r=e[2],s=e[3],i=e[4],o=e[5],a=e[6]);const l=i===void 0?0:i,c=o===void 0?100:o;let d,f;e[7]!==r||e[8]!==c||e[9]!==l||e[10]!==a?(f=Array.isArray(a)?a:Array.isArray(r)?r:[l,c],e[7]=r,e[8]=c,e[9]=l,e[10]=a,e[11]=f):f=e[11],d=f;const h=d;let g;e[12]!==n?(g=Me("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",n),e[12]=n,e[13]=g):g=e[13];let b;e[14]===Symbol.for("react.memo_cache_sentinel")?(b=Me("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),e[14]=b):b=e[14];let p;e[15]===Symbol.for("react.memo_cache_sentinel")?(p=y.jsx(ad,{"data-slot":"slider-track",className:b,children:y.jsx(ld,{"data-slot":"slider-range",className:Me("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),e[15]=p):p=e[15];let w;e[16]!==h.length?(w=Array.from({length:h.length},_y),e[16]=h.length,e[17]=w):w=e[17];let S;return e[18]!==r||e[19]!==c||e[20]!==l||e[21]!==s||e[22]!==g||e[23]!==w||e[24]!==a?(S=y.jsxs(cd,{"data-slot":"slider",defaultValue:r,value:a,min:l,max:c,className:g,...s,children:[p,w]}),e[18]=r,e[19]=c,e[20]=l,e[21]=s,e[22]=g,e[23]=w,e[24]=a,e[25]=S):S=e[25],S}function _y(t,e){return y.jsx(ud,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},e)}function vy(t){const e=ke.c(17),{value:n,onChange:r}=t,s=n===void 0?0:n;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=[0,1,5,11.25,15,22.5,30,45],e[0]=i):i=e[0];const o=i,[a,l]=Le.useState(s||0);let c;e[1]!==r?(c=k=>{l(k),r(k)},e[1]=r,e[2]=c):c=e[2];const d=c;let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=k=>o.reduce((j,O)=>Math.abs(O-k)<Math.abs(j-k)?O:j),e[3]=f):f=e[3];const h=f;let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g={minWidth:"5ch"},e[4]=g):g=e[4];const b=a>0?`${a}`:"Off";let p;e[5]!==b?(p=y.jsxs(Bt,{className:"flex items-center gap-1 font-semibold whitespace-nowrap",children:["Angle Snap:",y.jsx("span",{className:"inline-block",style:g,children:b})]}),e[5]=b,e[6]=p):p=e[6];let w;e[7]!==a?(w=[a],e[7]=a,e[8]=w):w=e[8];let S;e[9]!==d?(S=k=>{const j=h(k[0]);d(j)},e[9]=d,e[10]=S):S=e[10];let N;e[11]!==w||e[12]!==S?(N=y.jsx(wy,{min:0,max:45,step:.1,value:w,onValueChange:S,className:"w-full"}),e[11]=w,e[12]=S,e[13]=N):N=e[13];let T;return e[14]!==N||e[15]!==p?(T=y.jsxs("div",{className:"flex w-sm flex-row items-center gap-2",children:[p,N]}),e[14]=N,e[15]=p,e[16]=T):T=e[16],T}const Ss=[],ky=5;function xy(){const t=Math.floor(Math.random()*360),e=70+Math.random()*10,n=80+Math.random()*10;return`hsl(${t}, ${e}%, ${n}%)`}function Sy(){let t="",e=0;do t=xy(),e++;while(Ss.includes(t)&&e<10);return Ss.push(t),Ss.length>ky&&Ss.shift(),t}const xu=Le.forwardRef((t,e)=>{const n=ke.c(14),r=Pd("/tc-animator/textures/missing.png");let s,i;n[0]!==r?(i=r.clone(),i.magFilter=ta,i.minFilter=ta,n[0]=r,n[1]=i):i=n[1],s=i;const o=s;let a,l;n[2]===Symbol.for("react.memo_cache_sentinel")?(l=Sy(),n[2]=l):l=n[2],a=l;const c=a,[d,f]=Le.useState(!1);let h,g,b;n[3]===Symbol.for("react.memo_cache_sentinel")?(h=T=>{T.stopPropagation(),f(!0)},g=()=>f(!1),b=y.jsx("boxGeometry",{args:[1,1,1]}),n[3]=h,n[4]=g,n[5]=b):(h=n[3],g=n[4],b=n[5]);const p=d?c:"#000",w=d?.5:0;let S;n[6]!==p||n[7]!==w||n[8]!==o?(S=y.jsx("meshStandardMaterial",{map:o,color:c,emissive:p,emissiveIntensity:w}),n[6]=p,n[7]=w,n[8]=o,n[9]=S):S=n[9];let N;return n[10]!==t||n[11]!==e||n[12]!==S?(N=y.jsxs("mesh",{ref:e,...t,castShadow:!0,receiveShadow:!0,onPointerOver:h,onPointerOut:g,children:[b,S]}),n[10]=t,n[11]=e,n[12]=S,n[13]=N):N=n[13],N}),Ay="/tc-animator/models/dummy.glb";ql.preload(Ay);function Ny({scale:t=1,position:e=new _n(0,0,0)}){const{scene:n}=ql("/tc-animator/models/dummy.glb"),r=Yd(n);return y.jsx("primitive",{object:r,scale:t,position:e,castShadow:!0,receiveShadow:!0,rotation:[0,en(180),0]})}function Ty(t){const e=ke.c(27),{onSelect:n}=t,{cart:r,setSelectedObjectPath:s}=Wt(),i=Le.useRef(null);if(!r?.model)return null;const{position:o}=r.model,a=o?.posX||0,l=o?.posY||0,c=o?.posZ||0;let d;e[0]!==a||e[1]!==l||e[2]!==c?(d=new _n(a,l,c),e[0]=a,e[1]=l,e[2]=c,e[3]=d):d=e[3];const f=d,h=o?.rotX||0;let g;e[4]!==o?.rotY||e[5]!==o?.rotZ||e[6]!==h?(g=new bo(en(h),en(o?.rotY||0),en(o?.rotZ||0)),e[4]=o?.rotY,e[5]=o?.rotZ,e[6]=h,e[7]=g):g=e[7];const b=g,p=o?.sizeX||1,w=o?.sizeY||1,S=o?.sizeZ||1;let N;e[8]!==p||e[9]!==w||e[10]!==S?(N=new _n(p,w,S),e[8]=p,e[9]=w,e[10]=S,e[11]=N):N=e[11];const T=N;let k;e[12]!==n||e[13]!==s?(k=M=>{M.stopPropagation(),i.current&&(n(i.current),s("$.model"))},e[12]=n,e[13]=s,e[14]=k):k=e[14];let j;e[15]===Symbol.for("react.memo_cache_sentinel")?(j=y.jsx(xu,{}),e[15]=j):j=e[15];let O;e[16]!==T?(O=y.jsx("group",{scale:T,children:j}),e[16]=T,e[17]=O):O=e[17];let z;e[18]!==r.model||e[19]!==n?(z=y.jsx(Su,{attachments:r.model,onSelect:n,jsonPath:"$.model"}),e[18]=r.model,e[19]=n,e[20]=z):z=e[20];let I;return e[21]!==f||e[22]!==b||e[23]!==k||e[24]!==O||e[25]!==z?(I=y.jsxs("group",{ref:i,position:f,rotation:b,onClick:k,children:[O,z]}),e[21]=f,e[22]=b,e[23]=k,e[24]=O,e[25]=z,e[26]=I):I=e[26],I}function Ey(t){const e=ke.c(49),{attachment:n,onSelect:r,jsonPath:s}=t,i=Vr(),{setSelectedObjectPath:o}=Wt(),a=Le.useRef(null),l=n.position?.posX||0,c=n.position?.posY||0,d=n.position?.posZ||0;let f,h,g,b,p,w;if(e[0]!==n.names||e[1]!==n.position?.rotX||e[2]!==n.position?.rotY||e[3]!==n.position?.rotZ||e[4]!==n.position?.sizeX||e[5]!==n.position?.sizeY||e[6]!==n.position?.sizeZ||e[7]!==n.type||e[8]!==s||e[9]!==r||e[10]!==i.debugText||e[11]!==o||e[12]!==l||e[13]!==c||e[14]!==d){const T=new _n(l,c,d),k=new bo(en(n.position?.rotX||0),en(n.position?.rotY||0),en(n.position?.rotZ||0)),j=n.position?.sizeX||1,O=n.position?.sizeY||1,z=n.position?.sizeZ||1;let I;e[21]!==j||e[22]!==O||e[23]!==z?(I=new _n(j,O,z),e[21]=j,e[22]=O,e[23]=z,e[24]=I):I=e[24];const M=I;f=a,h=T,g=k,e[25]!==n.type||e[26]!==s||e[27]!==r||e[28]!==o?(b=W=>{a.current&&!["SEAT","HITBOX"].includes(n.type)&&(W.stopPropagation(),r(a.current),o(s))},e[25]=n.type,e[26]=s,e[27]=r,e[28]=o,e[29]=b):b=e[29];let R;e:switch(n.type){case"SEAT":{const W=i.debugText&&y.jsx(Tl,{fontSize:.3,color:"white",anchorX:"center",anchorY:"middle",outlineWidth:.05,outlineColor:"black",position:[0,3.5,0],children:`${n.names&&Array.isArray(n.names)&&n.names.length>0?n.names[0]:"Seat"}
Pos:${T.toArray().map(Cy)}`});let q;e[30]===Symbol.for("react.memo_cache_sentinel")?(q=y.jsx(Ny,{}),e[30]=q):q=e[30];let Q;e[31]!==W?(Q=y.jsxs(y.Fragment,{children:[W,q]}),e[31]=W,e[32]=Q):Q=e[32],R=Q;break e}case"HITBOX":{R=null;break e}default:{let W;e[33]===Symbol.for("react.memo_cache_sentinel")?(W=y.jsx(xu,{}),e[33]=W):W=e[33],R=W}}e[34]!==M||e[35]!==R?(p=y.jsx("group",{scale:M,children:R}),e[34]=M,e[35]=R,e[36]=p):p=e[36],w=i.debugText&&!["SEAT","HITBOX"].includes(n.type)&&y.jsx(Tl,{position:[0,1.5,0],fontSize:.3,color:"yellow",anchorX:"center",anchorY:"middle",scale:[1,1,1],outlineWidth:.05,outlineColor:"black",children:`${n.names&&Array.isArray(n.names)&&n.names.length>0?n.names[0]:""}
Pos:${T.toArray().map(zy)}
rot:${k.toArray().filter(jy).map(Oy)}
scale:${M.toArray().map(Iy)}`}),e[0]=n.names,e[1]=n.position?.rotX,e[2]=n.position?.rotY,e[3]=n.position?.rotZ,e[4]=n.position?.sizeX,e[5]=n.position?.sizeY,e[6]=n.position?.sizeZ,e[7]=n.type,e[8]=s,e[9]=r,e[10]=i.debugText,e[11]=o,e[12]=l,e[13]=c,e[14]=d,e[15]=f,e[16]=h,e[17]=g,e[18]=b,e[19]=p,e[20]=w}else f=e[15],h=e[16],g=e[17],b=e[18],p=e[19],w=e[20];let S;e[37]!==n||e[38]!==s||e[39]!==r?(S=n.attachments&&y.jsx(Su,{attachments:n,onSelect:r,jsonPath:`${s}`}),e[37]=n,e[38]=s,e[39]=r,e[40]=S):S=e[40];let N;return e[41]!==S||e[42]!==f||e[43]!==h||e[44]!==g||e[45]!==b||e[46]!==p||e[47]!==w?(N=y.jsxs("group",{ref:f,position:h,rotation:g,onClick:b,children:[p,w,S]}),e[41]=S,e[42]=f,e[43]=h,e[44]=g,e[45]=b,e[46]=p,e[47]=w,e[48]=N):N=e[48],N}function Iy(t){return t.toFixed(2)}function Oy(t){return t.toFixed(2)}function jy(t){return typeof t=="number"}function zy(t){return t.toFixed(2)}function Cy(t){return`
${t.toFixed(2)}`}function Su({attachments:t,onSelect:e,jsonPath:n}){return Object.entries(t.attachments||{}).map(([r,s])=>y.jsx(Ey,{attachment:s,onSelect:e,jsonPath:`${n}.attachments.${r}`},r))}function Tl(t){const e=ke.c(4),n=Le.useRef(null),{camera:r}=go();let s;e[0]!==r?(s=()=>{if(!n.current)return;const o=n.current.getWorldPosition(new _n),a=r.position.clone();a.y=o.y;const l=a.sub(o).normalize();let c=Math.atan2(l.x,l.z);if(n.current.parent){const d=new Wd;n.current.parent.getWorldQuaternion(d);const h=new bo().setFromQuaternion(d,"YXZ").y;c=c-h+Math.PI}else c=c+Math.PI;n.current.rotation.set(0,c+en(180),0)},e[0]=r,e[1]=s):s=e[1],Vl(s);let i;return e[2]!==t?(i=y.jsx($d,{ref:n,...t,children:t.children}),e[2]=t,e[3]=i):i=e[3],i}const Py=sc("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-card",outline:"border border-input bg-card shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function El(t){const e=ke.c(12);let n,r,s,i;e[0]!==t?({className:n,variant:i,size:s,...r}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i):(n=e[1],r=e[2],s=e[3],i=e[4]);let o;e[5]!==n||e[6]!==s||e[7]!==i?(o=Me(Py({variant:i,size:s,className:n})),e[5]=n,e[6]=s,e[7]=i,e[8]=o):o=e[8];let a;return e[9]!==r||e[10]!==o?(a=y.jsx(fd,{"data-slot":"toggle",className:o,...r}),e[9]=r,e[10]=o,e[11]=a):a=e[11],a}function $y({controlsRef:t}){const e=Wt(),{camera:n}=go();return Le.useEffect(()=>{const r=t.current,s=e.metadata.orbitControls;!r||!s||(n.position.copy(new _n(...s.position)),r.target.copy(new _n(...s.target)),s.zoom&&"zoom"in n&&(n.zoom=s.zoom,n.updateProjectionMatrix()),r.update())},[e.metadata.orbitControls,n,t]),Le.useEffect(()=>{const r=t.current;if(!r)return;const s=()=>{e.setMetadata({...e.metadata,orbitControls:{position:n.position.toArray(),target:r.target.toArray(),zoom:n.zoom}})};return r.addEventListener("change",s),()=>r.removeEventListener("change",s)},[n,e,t]),null}function Dy(){const t=ke.c(96),e=Vr(),n=Wt(),r=Le.useRef(null),[s,i]=Le.useState(null),[o,a]=Le.useState("translate"),[l,c]=Le.useState("world");let d,f;t[0]!==l?(d=()=>{const Pe=_=>{_.target&&_.target.isContentEditable||(_.key==="v"||_.key==="V"?a("translate"):_.key==="r"||_.key==="R"?a("rotate"):(_.key==="x"||_.key==="X")&&c(l==="world"?"local":"world"))};return window.addEventListener("keydown",Pe),()=>{window.removeEventListener("keydown",Pe)}},f=[l],t[0]=l,t[1]=d,t[2]=f):(d=t[1],f=t[2]),Le.useEffect(d,f);let h,g;if(t[3]!==n.cart||t[4]!==s?(h=()=>{s&&(n.cart||i(null))},g=[n.cart,s],t[3]=n.cart,t[4]=s,t[5]=h,t[6]=g):(h=t[5],g=t[6]),Le.useEffect(h,g),!n.cart){let Pe;return t[7]===Symbol.for("react.memo_cache_sentinel")?(Pe=y.jsx("div",{className:"flex h-full w-full items-center justify-center bg-black",children:y.jsx("p",{className:"text-muted-foreground",children:"No cart selected. Please create or open a project."})}),t[7]=Pe):Pe=t[7],Pe}let b;t[8]!==e.SSAOEnabled?(b=e.SSAOEnabled&&y.jsx(Dd,{},"ssao"),t[8]=e.SSAOEnabled,t[9]=b):b=t[9];let p;t[10]!==e.DOFEnabled?(p=e.DOFEnabled&&y.jsx(Ld,{focusDistance:2,focalLength:5,bokehScale:2},"dof"),t[10]=e.DOFEnabled,t[11]=p):p=t[11];let w;t[12]===Symbol.for("react.memo_cache_sentinel")?(w=y.jsx(Bd,{},"smaa"),t[12]=w):w=t[12];let S;t[13]!==s?(S=s&&y.jsx(Fd,{selection:[s],edgeStrength:4,blur:!0},"outline"),t[13]=s,t[14]=S):S=t[14];let N;t[15]!==b||t[16]!==p||t[17]!==S?(N=[b,p,w,S].filter(Boolean),t[15]=b,t[16]=p,t[17]=S,t[18]=N):N=t[18];const T=N;let k;t[19]===Symbol.for("react.memo_cache_sentinel")?(k={position:[3,3,3],fov:45},t[19]=k):k=t[19];let j,O;t[20]===Symbol.for("react.memo_cache_sentinel")?(j=[1,2],O={powerPreference:"high-performance",antialias:!1},t[20]=j,t[21]=O):(j=t[20],O=t[21]);let z;t[22]!==n?(z=Pe=>{Pe.type==="click"&&(n.setSelectedObjectPath(void 0),i(null))},t[22]=n,t[23]=z):z=t[23];let I;t[24]!==T?(I=y.jsx(Ud,{enableNormalPass:!0,depthBuffer:!0,stencilBuffer:!0,children:T}),t[24]=T,t[25]=I):I=t[25];let M,R,W,q;t[26]===Symbol.for("react.memo_cache_sentinel")?(M=y.jsx(by,{}),R=y.jsx(Zd,{all:!0}),W=y.jsx("ambientLight",{intensity:2}),q=y.jsx("directionalLight",{position:[5,5,5],intensity:3,castShadow:!0}),t[26]=M,t[27]=R,t[28]=W,t[29]=q):(M=t[26],R=t[27],W=t[28],q=t[29]);let Q;t[30]===Symbol.for("react.memo_cache_sentinel")?(Q=y.jsx(Ty,{onSelect:i}),t[30]=Q):Q=t[30];let le;t[31]===Symbol.for("react.memo_cache_sentinel")?(le=[.5,-.501,.5],t[31]=le):le=t[31];const de=e.gridColor;let be;t[32]!==e?(be=e.getComplementaryGridColor(),t[32]=e,t[33]=be):be=t[33];let ce;t[34]!==e.gridColor||t[35]!==be?(ce=y.jsx(Vd,{position:le,cellSize:.0625,sectionSize:1,cellThickness:.5,sectionThickness:1.5,cellColor:de,sectionColor:be,infiniteGrid:!0,side:Jd}),t[34]=e.gridColor,t[35]=be,t[36]=ce):ce=t[36];let ne;t[37]!==e.angleSnap||t[38]!==e.distanceSnap||t[39]!==s||t[40]!==o||t[41]!==l?(ne=s&&y.jsx(Rd,{object:s,mode:o,rotationSnap:en(e.angleSnap),translationSnap:e.distanceSnap,onMouseDown:()=>r.current.enabled=!1,onMouseUp:()=>r.current.enabled=!0,space:l}),t[37]=e.angleSnap,t[38]=e.distanceSnap,t[39]=s,t[40]=o,t[41]=l,t[42]=ne):ne=t[42];let pe;t[43]!==e.controlDamping?(pe=y.jsx(Md,{ref:r,makeDefault:!0,enableDamping:e.controlDamping}),t[43]=e.controlDamping,t[44]=pe):pe=t[44];let ie;t[45]===Symbol.for("react.memo_cache_sentinel")?(ie=[80,80],t[45]=ie):ie=t[45];let Te,Ee;t[46]===Symbol.for("react.memo_cache_sentinel")?(Te=y.jsx(qd,{alignment:"bottom-right",margin:ie,children:y.jsx(Kd,{axisColors:["#9d4b4b","#2f7f4f","#3b5b9d"],labelColor:"white"})}),Ee=y.jsx($y,{controlsRef:r}),t[46]=Te,t[47]=Ee):(Te=t[46],Ee=t[47]);let we;t[48]!==ce||t[49]!==ne||t[50]!==pe?(we=y.jsxs(Le.Suspense,{fallback:null,children:[Q,ce,ne,pe,Te,Ee]}),t[48]=ce,t[49]=ne,t[50]=pe,t[51]=we):we=t[51];let G;t[52]!==z||t[53]!==I||t[54]!==we?(G=y.jsxs(Gd,{className:"three-bg",camera:k,shadows:!0,dpr:j,gl:O,onPointerMissed:z,children:[I,M,R,W,q,we]}),t[52]=z,t[53]=I,t[54]=we,t[55]=G):G=t[55];let Ne;t[56]===Symbol.for("react.memo_cache_sentinel")?(Ne=y.jsx(yy,{}),t[56]=Ne):Ne=t[56];let $e;t[57]!==l?($e=()=>{c(l==="world"?"local":"world")},t[57]=l,t[58]=$e):$e=t[58];let De;t[59]!==l?(De=y.jsx(Ln,{children:l==="world"?y.jsx(dd,{}):y.jsx(hd,{})}),t[59]=l,t[60]=De):De=t[60];let Fe;t[61]!==$e||t[62]!==De?(Fe=y.jsx(vn,{variant:"secondary",size:"icon",asChild:!0,onClick:$e,children:De}),t[61]=$e,t[62]=De,t[63]=Fe):Fe=t[63];const Ye=l==="world"?"World Space":"Local Space";let v;t[64]===Symbol.for("react.memo_cache_sentinel")?(v=y.jsx("kbd",{className:"text-muted-foreground ml-1",children:"X"}),t[64]=v):v=t[64];let x;t[65]!==Ye?(x=y.jsxs(Rn,{children:[Ye,v]}),t[65]=Ye,t[66]=x):x=t[66];let E;t[67]!==Fe||t[68]!==x?(E=y.jsxs(Dn,{children:[Fe,x]}),t[67]=Fe,t[68]=x,t[69]=E):E=t[69];const B=o==="translate";let $;t[70]===Symbol.for("react.memo_cache_sentinel")?($=()=>a("translate"),t[70]=$):$=t[70];let L;t[71]===Symbol.for("react.memo_cache_sentinel")?(L=y.jsx(Ln,{children:y.jsx(pd,{})}),t[71]=L):L=t[71];let K;t[72]!==B?(K=y.jsx(El,{pressed:B,onClick:$,asChild:!0,children:L}),t[72]=B,t[73]=K):K=t[73];let P;t[74]===Symbol.for("react.memo_cache_sentinel")?(P=y.jsxs(Rn,{children:["Translate Mode",y.jsx("kbd",{className:"text-muted-foreground ml-1",children:"V"})]}),t[74]=P):P=t[74];let D;t[75]!==K?(D=y.jsxs(Dn,{children:[K,P]}),t[75]=K,t[76]=D):D=t[76];const U=o==="rotate";let F;t[77]===Symbol.for("react.memo_cache_sentinel")?(F=()=>a("rotate"),t[77]=F):F=t[77];let ee;t[78]===Symbol.for("react.memo_cache_sentinel")?(ee=y.jsx(Ln,{children:y.jsx(md,{})}),t[78]=ee):ee=t[78];let he;t[79]!==U?(he=y.jsx(El,{pressed:U,onClick:F,asChild:!0,children:ee}),t[79]=U,t[80]=he):he=t[80];let ue;t[81]===Symbol.for("react.memo_cache_sentinel")?(ue=y.jsxs(Rn,{children:["Rotate Mode",y.jsx("kbd",{className:"text-muted-foreground ml-1",children:"R"})]}),t[81]=ue):ue=t[81];let je;t[82]!==he?(je=y.jsxs(Dn,{children:[he,ue]}),t[82]=he,t[83]=je):je=t[83];let xe;t[84]!==e.angleSnap||t[85]!==e.setAngleSnap||t[86]!==o?(xe=o==="rotate"&&y.jsx(vy,{value:e.angleSnap,onChange:e.setAngleSnap}),t[84]=e.angleSnap,t[85]=e.setAngleSnap,t[86]=o,t[87]=xe):xe=t[87];let qe;t[88]!==E||t[89]!==D||t[90]!==je||t[91]!==xe?(qe=y.jsxs("div",{className:"absolute top-[8px] left-[8px] flex flex-row gap-[8px]",children:[E,D,je,xe]}),t[88]=E,t[89]=D,t[90]=je,t[91]=xe,t[92]=qe):qe=t[92];let Ce;return t[93]!==G||t[94]!==qe?(Ce=y.jsxs("div",{className:"relative h-full w-full",children:[G,Ne,qe]}),t[93]=G,t[94]=qe,t[95]=Ce):Ce=t[95],Ce}function Ly(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("flex flex-col gap-2",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(wd,{"data-slot":"tabs",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Ry(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(gd,{"data-slot":"tabs-list",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Ei(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(bd,{"data-slot":"tabs-trigger",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Ii(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("flex-1 outline-none",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(yd,{"data-slot":"tabs-content",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Il(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("bg-accent animate-pulse rounded-md",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("div",{"data-slot":"skeleton",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}const Ol=Le.lazy(()=>Hd(()=>import("./monaco-editor-CsNPwndW.js"),__vite__mapDeps([0,1])));function My(){const t=ke.c(20),e=Wt();let n,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=y.jsxs(Ry,{className:"w-full overflow-auto rounded-none",children:[y.jsx(Ei,{value:"object-controls",children:"Object Controls"}),y.jsx(Ei,{value:"cart-debug",children:"Cart Debug"}),y.jsx(Ei,{value:"project-debug",children:"Project Debug"})]}),r=y.jsx(Ii,{value:"object-controls",className:"px-4",children:"W.I.P."}),t[0]=n,t[1]=r):(n=t[0],r=t[1]);let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=y.jsx(Il,{className:"h-full w-full"}),t[2]=s):s=t[2];let i;t[3]!==e.cart?(i=JSON.stringify(e.cart,null,2),t[3]=e.cart,t[4]=i):i=t[4];let o;t[5]===Symbol.for("react.memo_cache_sentinel")?(o={minimap:{enabled:!0},scrollbar:{alwaysConsumeMouseWheel:!1},wordWrap:"on",automaticLayout:!0},t[5]=o):o=t[5];let a;t[6]!==e?(a=b=>{if(b)try{const p=JSON.parse(b);e.setCart(p)}catch(p){console.error("Failed to parse JSON:",p)}},t[6]=e,t[7]=a):a=t[7];let l;t[8]!==i||t[9]!==a?(l=y.jsx(Ii,{value:"cart-debug",children:y.jsx(Le.Suspense,{fallback:s,children:y.jsx(Ol,{language:"json",theme:"vs-dark",value:i,options:o,onChange:a})})}),t[8]=i,t[9]=a,t[10]=l):l=t[10];let c;t[11]===Symbol.for("react.memo_cache_sentinel")?(c=y.jsx(Il,{className:"h-full w-full"}),t[11]=c):c=t[11];let d;t[12]!==e?(d=JSON.stringify({...e,cart:void 0},null,2),t[12]=e,t[13]=d):d=t[13];let f;t[14]===Symbol.for("react.memo_cache_sentinel")?(f={minimap:{enabled:!0},scrollbar:{alwaysConsumeMouseWheel:!1},wordWrap:"on",automaticLayout:!0},t[14]=f):f=t[14];let h;t[15]!==d?(h=y.jsx(Ii,{value:"project-debug",children:y.jsx(Le.Suspense,{fallback:c,children:y.jsx(Ol,{language:"json",theme:"vs-dark",value:d,options:f})})}),t[15]=d,t[16]=h):h=t[16];let g;return t[17]!==h||t[18]!==l?(g=y.jsxs(Ly,{defaultValue:"project-debug",className:"-mt-4 h-full w-full",children:[n,r,l,h]}),t[17]=h,t[18]=l,t[19]=g):g=t[19],g}function By(){const t=ke.c(16),[e,n]=Le.useState(null),[r,s]=Le.useState(null),[i,o]=Le.useState(!1);let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=T=>{s(T),o(!1)},t[0]=a):a=t[0];const l=a;let c;t[1]!==r?(c=()=>{r&&r.playPause()},t[1]=r,t[2]=c):c=t[2];const d=c;let f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f=y.jsx(wo,{type:"file",accept:"audio/*",onChange:T=>{if(T.target.files&&T.target.files.length>0){const k=T.target.files[0];n(k)}}}),t[3]=f):f=t[3];let h;t[4]!==e?(h=e?URL.createObjectURL(e):"",t[4]=e,t[5]=h):h=t[5];let g,b;t[6]===Symbol.for("react.memo_cache_sentinel")?(g=()=>o(!0),b=()=>o(!1),t[6]=g,t[7]=b):(g=t[6],b=t[7]);let p;t[8]!==h?(p=y.jsx(_d,{url:h,waveColor:"#3a81f6",onReady:l,onPlay:g,onPause:b}),t[8]=h,t[9]=p):p=t[9];const w=i?"Pause":"Play";let S;t[10]!==d||t[11]!==w?(S=y.jsx("button",{onClick:d,children:w}),t[10]=d,t[11]=w,t[12]=S):S=t[12];let N;return t[13]!==p||t[14]!==S?(N=y.jsxs("div",{children:[f,p,S]}),t[13]=p,t[14]=S,t[15]=N):N=t[15],N}function Fy(){const t=ke.c(15),e=Vr(),n=Wt();let r,s;t[0]!==e.theme?(r=()=>{const b=window.document.documentElement;b.classList.remove("light","dark"),b.classList.add(e.theme)},s=[e.theme],t[0]=e.theme,t[1]=r,t[2]=s):(r=t[1],s=t[2]),Le.useEffect(r,s);let i,o;t[3]!==n?(i=()=>{const b=p=>{n.saved||!n.cart||(p.preventDefault(),p.returnValue="")};return window.addEventListener("beforeunload",b),()=>{window.removeEventListener("beforeunload",b)}},o=[n],t[3]=n,t[4]=i,t[5]=o):(i=t[4],o=t[5]),Le.useEffect(i,o);let a,l;t[6]!==e.saveInterval||t[7]!==n?(a=()=>{const b=setInterval(()=>{!n.saved&&n.cart&&n.saveProject().catch(Uy)},e.saveInterval*1e3);return()=>{clearInterval(b)}},l=[n,e.saveInterval],t[6]=e.saveInterval,t[7]=n,t[8]=a,t[9]=l):(a=t[8],l=t[9]),Le.useEffect(a,l);let c,d;t[10]===Symbol.for("react.memo_cache_sentinel")?(c=y.jsxs(es,{minSize:5,defaultSize:20,className:"bg-card flex flex-col gap-4",children:[y.jsx(cy,{}),y.jsx(My,{})]}),d=y.jsx(aa,{}),t[10]=c,t[11]=d):(c=t[10],d=t[11]);let f,h;t[12]===Symbol.for("react.memo_cache_sentinel")?(f=y.jsx(es,{children:y.jsxs(oa,{direction:"horizontal",autoSaveId:"tca-preview",autoSave:"true",children:[c,d,y.jsx(es,{minSize:5,children:y.jsx(Dy,{})})]})}),h=y.jsx(aa,{}),t[12]=f,t[13]=h):(f=t[12],h=t[13]);let g;return t[14]===Symbol.for("react.memo_cache_sentinel")?(g=y.jsx("div",{className:"h-screen w-screen",children:y.jsxs(oa,{direction:"vertical",autoSaveId:"tca-project",autoSave:"true",children:[f,h,y.jsxs(es,{minSize:5,defaultSize:40,className:"bg-card p-4",children:["Timeline",y.jsx(By,{})]})]})}),t[14]=g):g=t[14],g}function Uy(t){console.error("Auto-save failed:",t)}function Co(t){const e=ke.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(Ad,{"data-slot":"alert-dialog",...n}),e[2]=n,e[3]=r):r=e[3],r}function Zy(t){const e=ke.c(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==n?(r=y.jsx(Nd,{"data-slot":"alert-dialog-portal",...n}),e[2]=n,e[3]=r):r=e[3],r}function Vy(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(Td,{"data-slot":"alert-dialog-overlay",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Po(t){const e=ke.c(9);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]===Symbol.for("react.memo_cache_sentinel")?(s=y.jsx(Vy,{}),e[3]=s):s=e[3];let i;e[4]!==n?(i=Me("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),e[4]=n,e[5]=i):i=e[5];let o;return e[6]!==r||e[7]!==i?(o=y.jsxs(Zy,{children:[s,y.jsx(Sd,{"data-slot":"alert-dialog-content",className:i,...r})]}),e[6]=r,e[7]=i,e[8]=o):o=e[8],o}function $o(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("div",{"data-slot":"alert-dialog-header",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Do(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx("div",{"data-slot":"alert-dialog-footer",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Lo(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("text-lg font-semibold",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(kd,{"data-slot":"alert-dialog-title",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Ro(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me("text-muted-foreground text-sm",n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(xd,{"data-slot":"alert-dialog-description",className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function qy(t){const e=ke.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=Me(ic({variant:"outline"}),n),e[3]=n,e[4]=s):s=e[4];let i;return e[5]!==r||e[6]!==s?(i=y.jsx(vd,{className:s,...r}),e[5]=r,e[6]=s,e[7]=i):i=e[7],i}function Ky(){const t=[],e=document.createElement("canvas");return!!(e.getContext("webgl")||e.getContext("experimental-webgl"))||t.push("WebGL / 3D Graphics"),"AudioContext"in window||"webkitAudioContext"in window||t.push("Web Audio API (AudioContext)"),"requestAnimationFrame"in window||t.push("Animation Frame API (requestAnimationFrame)"),t}const Gy=()=>{const t=ke.c(22);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0];const[n,r]=Le.useState(e),[s,i]=Le.useState(!1);let o,a;if(t[1]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{const T=Ky();(T.length>0||!ir)&&(r(T),setTimeout(()=>{i(!0)},10))},a=[],t[1]=o,t[2]=a):(o=t[1],a=t[2]),Le.useEffect(o,a),!s)return null;let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=y.jsx(Lo,{children:"Missing Browser Capabilities"}),t[3]=l):l=t[3];let c;t[4]!==n?(c=n.map(Hy),t[4]=n,t[5]=c):c=t[5];let d;t[6]===Symbol.for("react.memo_cache_sentinel")?(d=!ir&&y.jsxs("li",{children:["File System Access API",y.jsx("br",{}),y.jsx("span",{className:"text-xs text-muted-foreground",children:"Used for autosave and loading files directly. Without it, you'll need to manually download and upload your files each time."})]}),t[6]=d):d=t[6];let f;t[7]!==c?(f=y.jsxs("ul",{className:"my-2 list-disc list-inside",children:[c,d]}),t[7]=c,t[8]=f):f=t[8];let h;t[9]===Symbol.for("react.memo_cache_sentinel")?(h=y.jsx("strong",{children:"Chrome"}),t[9]=h):h=t[9];let g;t[10]===Symbol.for("react.memo_cache_sentinel")?(g=y.jsx("strong",{children:"Edge"}),t[10]=g):g=t[10];let b;t[11]===Symbol.for("react.memo_cache_sentinel")?(b=y.jsx("strong",{children:"Brave"}),t[11]=b):b=t[11];let p;t[12]!==f?(p=y.jsxs($o,{children:[l,y.jsxs(Ro,{children:["This app requires certain browser features to work correctly. Your current browser is missing the following capabilities:",f,"To use all features, switch to a modern Chromium-based browser like ",h,","," ",g,", or ",b,"."]})]}),t[12]=f,t[13]=p):p=t[13];let w;t[14]!==n.length?(w=!ir&&n.length===0&&y.jsx(Do,{children:y.jsx(qy,{children:"Acknowledge"})}),t[14]=n.length,t[15]=w):w=t[15];let S;t[16]!==p||t[17]!==w?(S=y.jsxs(Po,{children:[p,w]}),t[16]=p,t[17]=w,t[18]=S):S=t[18];let N;return t[19]!==s||t[20]!==S?(N=y.jsx(Co,{open:s,onOpenChange:i,children:S}),t[19]=s,t[20]=S,t[21]=N):N=t[21],N};function Hy(t){return y.jsx("li",{children:t},t)}const Mo=Symbol.for("yaml.alias"),lo=Symbol.for("yaml.document"),wn=Symbol.for("yaml.map"),Au=Symbol.for("yaml.pair"),Yt=Symbol.for("yaml.scalar"),wr=Symbol.for("yaml.seq"),Ct=Symbol.for("yaml.node.type"),Kn=t=>!!t&&typeof t=="object"&&t[Ct]===Mo,Qs=t=>!!t&&typeof t=="object"&&t[Ct]===lo,Gr=t=>!!t&&typeof t=="object"&&t[Ct]===wn,ft=t=>!!t&&typeof t=="object"&&t[Ct]===Au,Qe=t=>!!t&&typeof t=="object"&&t[Ct]===Yt,Hr=t=>!!t&&typeof t=="object"&&t[Ct]===wr;function ct(t){if(t&&typeof t=="object")switch(t[Ct]){case wn:case wr:return!0}return!1}function ut(t){if(t&&typeof t=="object")switch(t[Ct]){case Mo:case wn:case Yt:case wr:return!0}return!1}const Nu=t=>(Qe(t)||ct(t))&&!!t.anchor,Pn=Symbol("break visit"),Yy=Symbol("skip children"),Pr=Symbol("remove node");function _r(t,e){const n=Wy(e);Qs(t)?er(null,t.contents,n,Object.freeze([t]))===Pr&&(t.contents=null):er(null,t,n,Object.freeze([]))}_r.BREAK=Pn;_r.SKIP=Yy;_r.REMOVE=Pr;function er(t,e,n,r){const s=Jy(t,e,n,r);if(ut(s)||ft(s))return Xy(t,r,s),er(t,s,n,r);if(typeof s!="symbol"){if(ct(e)){r=Object.freeze(r.concat(e));for(let i=0;i<e.items.length;++i){const o=er(i,e.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===Pn)return Pn;o===Pr&&(e.items.splice(i,1),i-=1)}}}else if(ft(e)){r=Object.freeze(r.concat(e));const i=er("key",e.key,n,r);if(i===Pn)return Pn;i===Pr&&(e.key=null);const o=er("value",e.value,n,r);if(o===Pn)return Pn;o===Pr&&(e.value=null)}}return s}function Wy(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function Jy(t,e,n,r){if(typeof n=="function")return n(t,e,r);if(Gr(e))return n.Map?.(t,e,r);if(Hr(e))return n.Seq?.(t,e,r);if(ft(e))return n.Pair?.(t,e,r);if(Qe(e))return n.Scalar?.(t,e,r);if(Kn(e))return n.Alias?.(t,e,r)}function Xy(t,e,n){const r=e[e.length-1];if(ct(r))r.items[t]=n;else if(ft(r))t==="key"?r.key=n:r.value=n;else if(Qs(r))r.contents=n;else{const s=Kn(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const Qy={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},ew=t=>t.replace(/[!,[\]{}]/g,e=>Qy[e]);class vt{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},vt.defaultYaml,e),this.tags=Object.assign({},vt.defaultTags,n)}clone(){const e=new vt(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new vt(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:vt.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},vt.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:vt.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},vt.defaultTags),this.atNextDocument=!1);const r=e.trim().split(/[ \t]+/),s=r.shift();switch(s){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[i,o]=r;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=r;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,o),!1}}default:return n(0,`Unknown directive ${s}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,s]=e.match(/^(.*!)([^!]*)$/s);s||n(`The ${e} tag has no suffix`);const i=this.tags[r];if(i)try{return i+decodeURIComponent(s)}catch(o){return n(String(o)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+ew(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let s;if(e&&r.length>0&&ut(e.contents)){const i={};_r(e.contents,(o,a)=>{ut(a)&&a.tag&&(i[a.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,o]of r)i==="!!"&&o==="tag:yaml.org,2002:"||(!e||s.some(a=>a.startsWith(o)))&&n.push(`%TAG ${i} ${o}`);return n.join(`
`)}}vt.defaultYaml={explicit:!1,version:"1.2"};vt.defaultTags={"!!":"tag:yaml.org,2002:"};function Tu(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function Eu(t){const e=new Set;return _r(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function Iu(t,e){for(let n=1;;++n){const r=`${t}${n}`;if(!e.has(r))return r}}function tw(t,e){const n=[],r=new Map;let s=null;return{onAnchor:i=>{n.push(i),s??(s=Eu(t));const o=Iu(e,s);return s.add(o),o},setAnchors:()=>{for(const i of n){const o=r.get(i);if(typeof o=="object"&&o.anchor&&(Qe(o.node)||ct(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=i,a}}},sourceObjects:r}}function tr(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,i=r.length;s<i;++s){const o=r[s],a=tr(t,r,String(s),o);a===void 0?delete r[s]:a!==o&&(r[s]=a)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const i=r.get(s),o=tr(t,r,s,i);o===void 0?r.delete(s):o!==i&&r.set(s,o)}else if(r instanceof Set)for(const s of Array.from(r)){const i=tr(t,r,s,s);i===void 0?r.delete(s):i!==s&&(r.delete(s),r.add(i))}else for(const[s,i]of Object.entries(r)){const o=tr(t,r,s,i);o===void 0?delete r[s]:o!==i&&(r[s]=o)}return t.call(e,n,r)}function zt(t,e,n){if(Array.isArray(t))return t.map((r,s)=>zt(r,String(s),n));if(t&&typeof t.toJSON=="function"){if(!n||!Nu(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=i=>{r.res=i,delete n.onCreate};const s=t.toJSON(e,n);return n.onCreate&&n.onCreate(s),s}return typeof t=="bigint"&&!n?.keep?Number(t):t}class Bo{constructor(e){Object.defineProperty(this,Ct,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){if(!Qs(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=zt(this,"",o);if(typeof s=="function")for(const{count:l,res:c}of o.anchors.values())s(c,l);return typeof i=="function"?tr(i,{"":a},"",a):a}}class Fo extends Bo{constructor(e){super(Mo),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let r;n?.aliasResolveCache?r=n.aliasResolveCache:(r=[],_r(e,{Node:(i,o)=>{(Kn(o)||Nu(o))&&r.push(o)}}),n&&(n.aliasResolveCache=r));let s;for(const i of r){if(i===this)break;i.anchor===this.source&&(s=i)}return s}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:s,maxAliasCount:i}=n,o=this.resolve(s,n);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=r.get(o);if(a||(zt(o,null,n),a=r.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Ls(s,o,r)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,r){const s=`*${this.source}`;if(e){if(Tu(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${s} `}return s}}function Ls(t,e,n){if(Kn(e)){const r=e.resolve(t),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(ct(e)){let r=0;for(const s of e.items){const i=Ls(t,s,n);i>r&&(r=i)}return r}else if(ft(e)){const r=Ls(t,e.key,n),s=Ls(t,e.value,n);return Math.max(r,s)}return 1}const Ou=t=>!t||typeof t!="function"&&typeof t!="object";class Re extends Bo{constructor(e){super(Yt),this.value=e}toJSON(e,n){return n?.keep?this.value:zt(this.value,e,n)}toString(){return String(this.value)}}Re.BLOCK_FOLDED="BLOCK_FOLDED";Re.BLOCK_LITERAL="BLOCK_LITERAL";Re.PLAIN="PLAIN";Re.QUOTE_DOUBLE="QUOTE_DOUBLE";Re.QUOTE_SINGLE="QUOTE_SINGLE";const nw="tag:yaml.org,2002:";function rw(t,e,n){if(e){const r=n.filter(i=>i.tag===e),s=r.find(i=>!i.format)??r[0];if(!s)throw new Error(`Tag ${e} not found`);return s}return n.find(r=>r.identify?.(t)&&!r.format)}function Ur(t,e,n){if(Qs(t)&&(t=t.contents),ut(t))return t;if(ft(t)){const f=n.schema[wn].createNode?.(n.schema,null,n);return f.items.push(t),f}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:i,schema:o,sourceObjects:a}=n;let l;if(r&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor??(l.anchor=s(t)),new Fo(l.anchor);l={anchor:null,node:null},a.set(t,l)}e?.startsWith("!!")&&(e=nw+e.slice(2));let c=rw(t,e,o.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const f=new Re(t);return l&&(l.node=f),f}c=t instanceof Map?o[wn]:Symbol.iterator in Object(t)?o[wr]:o[wn]}i&&(i(c),delete n.onTagObj);const d=c?.createNode?c.createNode(n.schema,t,n):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(n.schema,t,n):new Re(t);return e?d.tag=e:c.default||(d.tag=c.tag),l&&(l.node=d),d}function qs(t,e,n){let r=n;for(let s=e.length-1;s>=0;--s){const i=e[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=r,r=o}else r=new Map([[i,r]])}return Ur(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const jr=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class ju extends Bo{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>ut(r)||ft(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(jr(e))this.add(n);else{const[r,...s]=e,i=this.get(r,!0);if(ct(i))i.addIn(s,n);else if(i===void 0&&this.schema)this.set(r,qs(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const s=this.get(n,!0);if(ct(s))return s.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...s]=e,i=this.get(r,!0);return s.length===0?!n&&Qe(i)?i.value:i:ct(i)?i.getIn(s,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!ft(n))return!1;const r=n.value;return r==null||e&&Qe(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const s=this.get(n,!0);return ct(s)?s.hasIn(r):!1}setIn(e,n){const[r,...s]=e;if(s.length===0)this.set(r,n);else{const i=this.get(r,!0);if(ct(i))i.setIn(s,n);else if(i===void 0&&this.schema)this.set(r,qs(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}}const sw=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Qt(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Bn=(t,e,n)=>t.endsWith(`
`)?Qt(n,e):n.includes(`
`)?`
`+Qt(n,e):(t.endsWith(" ")?"":" ")+n,zu="flow",co="block",Rs="quoted";function ei(t,e,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!s||s<0)return t;s<i&&(i=0);const l=Math.max(1+i,1+s-e.length);if(t.length<=l)return t;const c=[],d={};let f=s-e.length;typeof r=="number"&&(r>s-Math.max(2,i)?c.push(0):f=s-r);let h,g,b=!1,p=-1,w=-1,S=-1;n===co&&(p=jl(t,p,e.length),p!==-1&&(f=p+l));for(let T;T=t[p+=1];){if(n===Rs&&T==="\\"){switch(w=p,t[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}S=p}if(T===`
`)n===co&&(p=jl(t,p,e.length)),f=p+e.length+l,h=void 0;else{if(T===" "&&g&&g!==" "&&g!==`
`&&g!=="	"){const k=t[p+1];k&&k!==" "&&k!==`
`&&k!=="	"&&(h=p)}if(p>=f)if(h)c.push(h),f=h+l,h=void 0;else if(n===Rs){for(;g===" "||g==="	";)g=T,T=t[p+=1],b=!0;const k=p>S+1?p-2:w-1;if(d[k])return t;c.push(k),d[k]=!0,f=k+l,h=void 0}else b=!0}g=T}if(b&&a&&a(),c.length===0)return t;o&&o();let N=t.slice(0,c[0]);for(let T=0;T<c.length;++T){const k=c[T],j=c[T+1]||t.length;k===0?N=`
${e}${t.slice(0,j)}`:(n===Rs&&d[k]&&(N+=`${t[k]}\\`),N+=`
${e}${t.slice(k+1,j)}`)}return N}function jl(t,e,n){let r=e,s=e+1,i=t[s];for(;i===" "||i==="	";)if(e<s+n)i=t[++e];else{do i=t[++e];while(i&&i!==`
`);r=e,s=e+1,i=t[s]}return r}const ti=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),ni=t=>/^(%|---|\.\.\.)/m.test(t);function iw(t,e,n){if(!e||e<0)return!1;const r=e-n,s=t.length;if(s<=r)return!1;for(let i=0,o=0;i<s;++i)if(t[i]===`
`){if(i-o>r)return!0;if(o=i+1,s-o<=r)return!1}return!0}function $r(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,s=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(ni(t)?"  ":"");let o="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const d=n.substr(l+2,4);switch(d){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:d.substr(0,2)==="00"?o+="\\x"+d.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<s)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=i,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,r?o:ei(o,i,Rs,ti(e,!1))}function uo(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return $r(t,e);const n=e.indent||(ni(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:ei(r,n,zu,ti(e,!1))}function nr(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=$r;else{const s=t.includes('"'),i=t.includes("'");s&&!i?r=uo:i&&!s?r=$r:r=n?uo:$r}return r(t,e)}let fo;try{fo=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{fo=/\n+(?!\n|$)/g}function Ms({comment:t,type:e,value:n},r,s,i){const{blockQuote:o,commentString:a,lineWidth:l}=r.options;if(!o||/\n[\t ]+$/.test(n))return nr(n,r);const c=r.indent||(r.forceBlockIndent||ni(n)?"  ":""),d=o==="literal"?!0:o==="folded"||e===Re.BLOCK_FOLDED?!1:e===Re.BLOCK_LITERAL?!0:!iw(n,l,c.length);if(!n)return d?`|
`:`>
`;let f,h;for(h=n.length;h>0;--h){const j=n[h-1];if(j!==`
`&&j!=="	"&&j!==" ")break}let g=n.substring(h);const b=g.indexOf(`
`);b===-1?f="-":n===g||b!==g.length-1?(f="+",i&&i()):f="",g&&(n=n.slice(0,-g.length),g[g.length-1]===`
`&&(g=g.slice(0,-1)),g=g.replace(fo,`$&${c}`));let p=!1,w,S=-1;for(w=0;w<n.length;++w){const j=n[w];if(j===" ")p=!0;else if(j===`
`)S=w;else break}let N=n.substring(0,S<w?S+1:w);N&&(n=n.substring(N.length),N=N.replace(/\n+/g,`$&${c}`));let k=(p?c?"2":"1":"")+f;if(t&&(k+=" "+a(t.replace(/ ?[\r\n]+/g," ")),s&&s()),!d){const j=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let O=!1;const z=ti(r,!0);o!=="folded"&&e!==Re.BLOCK_FOLDED&&(z.onOverflow=()=>{O=!0});const I=ei(`${N}${j}${g}`,c,co,z);if(!O)return`>${k}
${c}${I}`}return n=n.replace(/\n+/g,`$&${c}`),`|${k}
${c}${N}${n}${g}`}function ow(t,e,n,r){const{type:s,value:i}=t,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:d}=e;if(a&&i.includes(`
`)||d&&/[[\]{},]/.test(i))return nr(i,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||d||!i.includes(`
`)?nr(i,e):Ms(t,e,n,r);if(!a&&!d&&s!==Re.PLAIN&&i.includes(`
`))return Ms(t,e,n,r);if(ni(i)){if(l==="")return e.forceBlockIndent=!0,Ms(t,e,n,r);if(a&&l===c)return nr(i,e)}const f=i.replace(/\n+/g,`$&
${l}`);if(o){const h=p=>p.default&&p.tag!=="tag:yaml.org,2002:str"&&p.test?.test(f),{compat:g,tags:b}=e.doc.schema;if(b.some(h)||g?.some(h))return nr(i,e)}return a?f:ei(f,l,zu,ti(e,!1))}function Uo(t,e,n,r){const{implicitKey:s,inFlow:i}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==Re.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=Re.QUOTE_DOUBLE);const l=d=>{switch(d){case Re.BLOCK_FOLDED:case Re.BLOCK_LITERAL:return s||i?nr(o.value,e):Ms(o,e,n,r);case Re.QUOTE_DOUBLE:return $r(o.value,e);case Re.QUOTE_SINGLE:return uo(o.value,e);case Re.PLAIN:return ow(o,e,n,r);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:d,defaultStringType:f}=e.options,h=s&&d||f;if(c=l(h),c===null)throw new Error(`Unsupported default string type ${h}`)}return c}function Cu(t,e){const n=Object.assign({blockQuote:!0,commentString:sw,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function aw(t,e){if(e.tag){const s=t.filter(i=>i.tag===e.tag);if(s.length>0)return s.find(i=>i.format===e.format)??s[0]}let n,r;if(Qe(e)){r=e.value;let s=t.filter(i=>i.identify?.(r));if(s.length>1){const i=s.filter(o=>o.test);i.length>0&&(s=i)}n=s.find(i=>i.format===e.format)??s.find(i=>!i.format)}else r=e,n=t.find(s=>s.nodeClass&&r instanceof s.nodeClass);if(!n){const s=r?.constructor?.name??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${s} value`)}return n}function lw(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(Qe(t)||ct(t))&&t.anchor;i&&Tu(i)&&(n.add(i),s.push(`&${i}`));const o=t.tag??(e.default?null:e.tag);return o&&s.push(r.directives.tagString(o)),s.join(" ")}function hr(t,e,n,r){if(ft(t))return t.toString(e,n,r);if(Kn(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let s;const i=ut(t)?t:e.doc.createNode(t,{onTagObj:l=>s=l});s??(s=aw(e.doc.schema.tags,i));const o=lw(i,s,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof s.stringify=="function"?s.stringify(i,e,n,r):Qe(i)?Uo(i,e,n,r):i.toString(e,n,r);return o?Qe(i)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}function cw({key:t,value:e},n,r,s){const{allNullValues:i,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:d,simpleKeys:f}}=n;let h=ut(t)&&t.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(ct(t)||!ut(t)&&typeof t=="object"){const z="With simple keys, collection cannot be used as a key value";throw new Error(z)}}let g=!f&&(!t||h&&e==null&&!n.inFlow||ct(t)||(Qe(t)?t.type===Re.BLOCK_FOLDED||t.type===Re.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!g&&(f||!i),indent:a+l});let b=!1,p=!1,w=hr(t,n,()=>b=!0,()=>p=!0);if(!g&&!n.inFlow&&w.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");g=!0}if(n.inFlow){if(i||e==null)return b&&r&&r(),w===""?"?":g?`? ${w}`:w}else if(i&&!f||e==null&&g)return w=`? ${w}`,h&&!b?w+=Bn(w,n.indent,c(h)):p&&s&&s(),w;b&&(h=null),g?(h&&(w+=Bn(w,n.indent,c(h))),w=`? ${w}
${a}:`):(w=`${w}:`,h&&(w+=Bn(w,n.indent,c(h))));let S,N,T;ut(e)?(S=!!e.spaceBefore,N=e.commentBefore,T=e.comment):(S=!1,N=null,T=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!g&&!h&&Qe(e)&&(n.indentAtStart=w.length+1),p=!1,!d&&l.length>=2&&!n.inFlow&&!g&&Hr(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let k=!1;const j=hr(e,n,()=>k=!0,()=>p=!0);let O=" ";if(h||S||N){if(O=S?`
`:"",N){const z=c(N);O+=`
${Qt(z,n.indent)}`}j===""&&!n.inFlow?O===`
`&&(O=`

`):O+=`
${n.indent}`}else if(!g&&ct(e)){const z=j[0],I=j.indexOf(`
`),M=I!==-1,R=n.inFlow??e.flow??e.items.length===0;if(M||!R){let W=!1;if(M&&(z==="&"||z==="!")){let q=j.indexOf(" ");z==="&"&&q!==-1&&q<I&&j[q+1]==="!"&&(q=j.indexOf(" ",q+1)),(q===-1||I<q)&&(W=!0)}W||(O=`
${n.indent}`)}}else(j===""||j[0]===`
`)&&(O="");return w+=O+j,n.inFlow?k&&r&&r():T&&!k?w+=Bn(w,n.indent,c(T)):p&&s&&s(),w}function Pu(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const As="<<",nn={identify:t=>t===As||typeof t=="symbol"&&t.description===As,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Re(Symbol(As)),{addToJSMap:$u}),stringify:()=>As},uw=(t,e)=>(nn.identify(e)||Qe(e)&&(!e.type||e.type===Re.PLAIN)&&nn.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===nn.tag&&n.default);function $u(t,e,n){if(n=t&&Kn(n)?n.resolve(t.doc):n,Hr(n))for(const r of n.items)Oi(t,e,r);else if(Array.isArray(n))for(const r of n)Oi(t,e,r);else Oi(t,e,n)}function Oi(t,e,n){const r=t&&Kn(n)?n.resolve(t.doc):n;if(!Gr(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,t,Map);for(const[i,o]of s)e instanceof Map?e.has(i)||e.set(i,o):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Du(t,e,{key:n,value:r}){if(ut(n)&&n.addToJSMap)n.addToJSMap(t,e,r);else if(uw(t,n))$u(t,e,r);else{const s=zt(n,"",t);if(e instanceof Map)e.set(s,zt(r,s,t));else if(e instanceof Set)e.add(s);else{const i=fw(n,s,t),o=zt(r,i,t);i in e?Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[i]=o}}return e}function fw(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(ut(t)&&n?.doc){const r=Cu(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;const s=t.toString(r);if(!n.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),Pu(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(e)}function Zo(t,e,n){const r=Ur(t,void 0,n),s=Ur(e,void 0,n);return new kt(r,s)}class kt{constructor(e,n=null){Object.defineProperty(this,Ct,{value:Au}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return ut(n)&&(n=n.clone(e)),ut(r)&&(r=r.clone(e)),new kt(n,r)}toJSON(e,n){const r=n?.mapAsMap?new Map:{};return Du(n,r,this)}toString(e,n,r){return e?.doc?cw(this,e,n,r):JSON.stringify(this)}}function Lu(t,e,n){return(e.inFlow??t.flow?hw:dw)(t,e,n)}function dw({comment:t,items:e},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=n,d=Object.assign({},n,{indent:i,type:null});let f=!1;const h=[];for(let b=0;b<e.length;++b){const p=e[b];let w=null;if(ut(p))!f&&p.spaceBefore&&h.push(""),Ks(n,h,p.commentBefore,f),p.comment&&(w=p.comment);else if(ft(p)){const N=ut(p.key)?p.key:null;N&&(!f&&N.spaceBefore&&h.push(""),Ks(n,h,N.commentBefore,f))}f=!1;let S=hr(p,d,()=>w=null,()=>f=!0);w&&(S+=Bn(S,i,c(w))),f&&w&&(f=!1),h.push(r+S)}let g;if(h.length===0)g=s.start+s.end;else{g=h[0];for(let b=1;b<h.length;++b){const p=h[b];g+=p?`
${l}${p}`:`
`}}return t?(g+=`
`+Qt(c(t),l),a&&a()):f&&o&&o(),g}function hw({items:t},e,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:i,flowCollectionPadding:o,options:{commentString:a}}=e;r+=i;const l=Object.assign({},e,{indent:r,inFlow:!0,type:null});let c=!1,d=0;const f=[];for(let b=0;b<t.length;++b){const p=t[b];let w=null;if(ut(p))p.spaceBefore&&f.push(""),Ks(e,f,p.commentBefore,!1),p.comment&&(w=p.comment);else if(ft(p)){const N=ut(p.key)?p.key:null;N&&(N.spaceBefore&&f.push(""),Ks(e,f,N.commentBefore,!1),N.comment&&(c=!0));const T=ut(p.value)?p.value:null;T?(T.comment&&(w=T.comment),T.commentBefore&&(c=!0)):p.value==null&&N?.comment&&(w=N.comment)}w&&(c=!0);let S=hr(p,l,()=>w=null);b<t.length-1&&(S+=","),w&&(S+=Bn(S,r,a(w))),!c&&(f.length>d||S.includes(`
`))&&(c=!0),f.push(S),d=f.length}const{start:h,end:g}=n;if(f.length===0)return h+g;if(!c){const b=f.reduce((p,w)=>p+w.length+2,2);c=e.options.lineWidth>0&&b>e.options.lineWidth}if(c){let b=h;for(const p of f)b+=p?`
${i}${s}${p}`:`
`;return`${b}
${s}${g}`}else return`${h}${o}${f.join(" ")}${o}${g}`}function Ks({indent:t,options:{commentString:e}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const i=Qt(e(r),t);n.push(i.trimStart())}}function Fn(t,e){const n=Qe(e)?e.value:e;for(const r of t)if(ft(r)&&(r.key===e||r.key===n||Qe(r.key)&&r.key.value===n))return r}class jt extends ju{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(wn,e),this.items=[]}static from(e,n,r){const{keepUndefined:s,replacer:i}=r,o=new this(e),a=(l,c)=>{if(typeof i=="function")c=i.call(n,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||s)&&o.items.push(Zo(l,c,r))};if(n instanceof Map)for(const[l,c]of n)a(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){let r;ft(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new kt(e,e?.value):r=new kt(e.key,e.value);const s=Fn(this.items,r.key),i=this.schema?.sortMapEntries;if(s){if(!n)throw new Error(`Key ${r.key} already set`);Qe(s.value)&&Ou(r.value)?s.value.value=r.value:s.value=r.value}else if(i){const o=this.items.findIndex(a=>i(r,a)<0);o===-1?this.items.push(r):this.items.splice(o,0,r)}else this.items.push(r)}delete(e){const n=Fn(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const s=Fn(this.items,e)?.value;return(!n&&Qe(s)?s.value:s)??void 0}has(e){return!!Fn(this.items,e)}set(e,n){this.add(new kt(e,n),!0)}toJSON(e,n,r){const s=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(s);for(const i of this.items)Du(n,s,i);return s}toString(e,n,r){if(!e)return JSON.stringify(this);for(const s of this.items)if(!ft(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Lu(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}const vr={collection:"map",default:!0,nodeClass:jt,tag:"tag:yaml.org,2002:map",resolve(t,e){return Gr(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>jt.from(t,e,n)};class qn extends ju{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(wr,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=Ns(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=Ns(e);if(typeof r!="number")return;const s=this.items[r];return!n&&Qe(s)?s.value:s}has(e){const n=Ns(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=Ns(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[r];Qe(s)&&Ou(n)?s.value=n:this.items[r]=n}toJSON(e,n){const r=[];n?.onCreate&&n.onCreate(r);let s=0;for(const i of this.items)r.push(zt(i,String(s++),n));return r}toString(e,n,r){return e?Lu(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof s=="function"){const l=n instanceof Set?a:String(o++);a=s.call(n,l,a)}i.items.push(Ur(a,void 0,r))}}return i}}function Ns(t){let e=Qe(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const kr={collection:"seq",default:!0,nodeClass:qn,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Hr(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>qn.from(t,e,n)},ri={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),Uo(t,e,n,r)}},si={identify:t=>t==null,createNode:()=>new Re(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Re(null),stringify:({source:t},e)=>typeof t=="string"&&si.test.test(t)?t:e.options.nullStr},Vo={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new Re(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&Vo.test.test(t)){const r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};function Ut({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);const s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let a=e-(i.length-o-1);for(;a-- >0;)i+="0"}return i}const Ru={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ut},Mu={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Ut(t)}},Bu={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new Re(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:Ut},ii=t=>typeof t=="bigint"||Number.isInteger(t),qo=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function Fu(t,e,n){const{value:r}=t;return ii(r)&&r>=0?n+r.toString(e):Ut(t)}const Uu={identify:t=>ii(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>qo(t,2,8,n),stringify:t=>Fu(t,8,"0o")},Zu={identify:ii,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>qo(t,0,10,n),stringify:Ut},Vu={identify:t=>ii(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>qo(t,2,16,n),stringify:t=>Fu(t,16,"0x")},pw=[vr,kr,ri,si,Vo,Uu,Zu,Vu,Ru,Mu,Bu];function zl(t){return typeof t=="bigint"||Number.isInteger(t)}const Ts=({value:t})=>JSON.stringify(t),mw=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Ts},{identify:t=>t==null,createNode:()=>new Re(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Ts},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:Ts},{identify:zl,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>zl(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Ts}],gw={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},bw=[vr,kr].concat(mw,gw),Ko={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,s,i){if(!n)return"";const o=n;let a;if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=Re.BLOCK_LITERAL),e!==Re.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),c=Math.ceil(a.length/l),d=new Array(c);for(let f=0,h=0;f<c;++f,h+=l)d[f]=a.substr(h,l);a=d.join(e===Re.BLOCK_LITERAL?`
`:" ")}return Uo({comment:t,type:e,value:a},r,s,i)}};function qu(t,e){if(Hr(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!ft(r)){if(Gr(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");const s=r.items[0]||new kt(new Re(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){const i=s.value??s.key;i.comment=i.comment?`${r.comment}
${i.comment}`:r.comment}r=s}t.items[n]=ft(r)?r:new kt(r)}}else e("Expected a sequence for this tag");return t}function Ku(t,e,n){const{replacer:r}=n,s=new qn(t);s.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof r=="function"&&(o=r.call(e,String(i++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;s.items.push(Zo(a,l,n))}return s}const Go={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:qu,createNode:Ku};class ar extends qn{constructor(){super(),this.add=jt.prototype.add.bind(this),this.delete=jt.prototype.delete.bind(this),this.get=jt.prototype.get.bind(this),this.has=jt.prototype.has.bind(this),this.set=jt.prototype.set.bind(this),this.tag=ar.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n?.onCreate&&n.onCreate(r);for(const s of this.items){let i,o;if(ft(s)?(i=zt(s.key,"",n),o=zt(s.value,i,n)):i=zt(s,"",n),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,o)}return r}static from(e,n,r){const s=Ku(e,n,r),i=new this;return i.items=s.items,i}}ar.tag="tag:yaml.org,2002:omap";const Ho={collection:"seq",identify:t=>t instanceof Map,nodeClass:ar,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=qu(t,e),r=[];for(const{key:s}of n.items)Qe(s)&&(r.includes(s.value)?e(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new ar,n)},createNode:(t,e,n)=>ar.from(t,e,n)};function Gu({value:t,source:e},n){return e&&(t?Hu:Yu).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const Hu={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Re(!0),stringify:Gu},Yu={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Re(!1),stringify:Gu},yw={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ut},ww={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Ut(t)}},_w={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new Re(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:Ut},Yr=t=>typeof t=="bigint"||Number.isInteger(t);function oi(t,e,n,{intAsBigInt:r}){const s=t[0];if((s==="-"||s==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return s==="-"?BigInt(-1)*o:o}const i=parseInt(t,n);return s==="-"?-1*i:i}function Yo(t,e,n){const{value:r}=t;if(Yr(r)){const s=r.toString(e);return r<0?"-"+n+s.substr(1):n+s}return Ut(t)}const vw={identify:Yr,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>oi(t,2,2,n),stringify:t=>Yo(t,2,"0b")},kw={identify:Yr,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>oi(t,1,8,n),stringify:t=>Yo(t,8,"0")},xw={identify:Yr,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>oi(t,0,10,n),stringify:Ut},Sw={identify:Yr,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>oi(t,2,16,n),stringify:t=>Yo(t,16,"0x")};class lr extends jt{constructor(e){super(e),this.tag=lr.tag}add(e){let n;ft(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new kt(e.key,null):n=new kt(e,null),Fn(this.items,n.key)||this.items.push(n)}get(e,n){const r=Fn(this.items,e);return!n&&ft(r)?Qe(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Fn(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new kt(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof s=="function"&&(o=s.call(n,o,o)),i.items.push(Zo(o,null,r));return i}}lr.tag="tag:yaml.org,2002:set";const Wo={collection:"map",identify:t=>t instanceof Set,nodeClass:lr,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>lr.from(t,e,n),resolve(t,e){if(Gr(t)){if(t.hasAllNullValues(!0))return Object.assign(new lr,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function Jo(t,e){const n=t[0],r=n==="-"||n==="+"?t.substring(1):t,s=o=>e?BigInt(o):Number(o),i=r.replace(/_/g,"").split(":").reduce((o,a)=>o*s(60)+s(a),s(0));return n==="-"?s(-1)*i:i}function Wu(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return Ut(t);let r="";e<0&&(r="-",e*=n(-1));const s=n(60),i=[e%s];return e<60?i.unshift(0):(e=(e-i[0])/s,i.unshift(e%s),e>=60&&(e=(e-i[0])/s,i.unshift(e))),r+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Ju={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>Jo(t,n),stringify:Wu},Xu={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>Jo(t,!1),stringify:Wu},ai={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(ai.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(n,r-1,s,i||0,o||0,a||0,l);const d=e[8];if(d&&d!=="Z"){let f=Jo(d,!1);Math.abs(f)<30&&(f*=60),c-=6e4*f}return new Date(c)},stringify:({value:t})=>t?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},Cl=[vr,kr,ri,si,Hu,Yu,vw,kw,xw,Sw,yw,ww,_w,Ko,nn,Ho,Go,Wo,Ju,Xu,ai],Pl=new Map([["core",pw],["failsafe",[vr,kr,ri]],["json",bw],["yaml11",Cl],["yaml-1.1",Cl]]),$l={binary:Ko,bool:Vo,float:Bu,floatExp:Mu,floatNaN:Ru,floatTime:Xu,int:Zu,intHex:Vu,intOct:Uu,intTime:Ju,map:vr,merge:nn,null:si,omap:Ho,pairs:Go,seq:kr,set:Wo,timestamp:ai},Aw={"tag:yaml.org,2002:binary":Ko,"tag:yaml.org,2002:merge":nn,"tag:yaml.org,2002:omap":Ho,"tag:yaml.org,2002:pairs":Go,"tag:yaml.org,2002:set":Wo,"tag:yaml.org,2002:timestamp":ai};function ji(t,e,n){const r=Pl.get(e);if(r&&!t)return n&&!r.includes(nn)?r.concat(nn):r.slice();let s=r;if(!s)if(Array.isArray(t))s=[];else{const i=Array.from(Pl.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${i} or define customTags array`)}if(Array.isArray(t))for(const i of t)s=s.concat(i);else typeof t=="function"&&(s=t(s.slice()));return n&&(s=s.concat(nn)),s.reduce((i,o)=>{const a=typeof o=="string"?$l[o]:o;if(!a){const l=JSON.stringify(o),c=Object.keys($l).map(d=>JSON.stringify(d)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${c}`)}return i.includes(a)||i.push(a),i},[])}const Nw=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class Xo{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:s,schema:i,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?ji(e,"compat"):e?ji(null,e):null,this.name=typeof i=="string"&&i||"core",this.knownTags=s?Aw:{},this.tags=ji(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,wn,{value:vr}),Object.defineProperty(this,Yt,{value:ri}),Object.defineProperty(this,wr,{value:kr}),this.sortMapEntries=typeof o=="function"?o:o===!0?Nw:null}clone(){const e=Object.create(Xo.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function Tw(t,e){const n=[];let r=e.directives===!0;if(e.directives!==!1&&t.directives){const l=t.directives.toString(t);l?(n.push(l),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");const s=Cu(t,e),{commentString:i}=s.options;if(t.commentBefore){n.length!==1&&n.unshift("");const l=i(t.commentBefore);n.unshift(Qt(l,""))}let o=!1,a=null;if(t.contents){if(ut(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){const d=i(t.contents.commentBefore);n.push(Qt(d,""))}s.forceBlockIndent=!!t.comment,a=t.contents.comment}const l=a?void 0:()=>o=!0;let c=hr(t.contents,s,()=>a=null,l);a&&(c+=Bn(c,"",i(a))),(c[0]==="|"||c[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${c}`:n.push(c)}else n.push(hr(t.contents,s));if(t.directives?.docEnd)if(t.comment){const l=i(t.comment);l.includes(`
`)?(n.push("..."),n.push(Qt(l,""))):n.push(`... ${l}`)}else n.push("...");else{let l=t.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(Qt(i(l),"")))}return n.join(`
`)+`
`}class li{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Ct,{value:lo});let s=null;typeof n=="function"||Array.isArray(n)?s=n:r===void 0&&n&&(r=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:o}=i;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new vt({version:o}),this.setSchema(o,r),this.contents=e===void 0?null:this.createNode(e,s,r)}clone(){const e=Object.create(li.prototype,{[Ct]:{value:lo}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=ut(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Wn(this.contents)&&this.contents.add(e)}addIn(e,n){Wn(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const r=Eu(this);e.anchor=!n||r.has(n)?Iu(n||"a",r):n}return new Fo(e.anchor)}createNode(e,n,r){let s;if(typeof n=="function")e=n.call({"":e},"",e),s=n;else if(Array.isArray(n)){const w=N=>typeof N=="number"||N instanceof String||N instanceof Number,S=n.filter(w).map(String);S.length>0&&(n=n.concat(S)),s=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:d}=r??{},{onAnchor:f,setAnchors:h,sourceObjects:g}=tw(this,o||"a"),b={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:c,replacer:s,schema:this.schema,sourceObjects:g},p=Ur(e,d,b);return a&&ct(p)&&(p.flow=!0),h(),p}createPair(e,n,r={}){const s=this.createNode(e,null,r),i=this.createNode(n,null,r);return new kt(s,i)}delete(e){return Wn(this.contents)?this.contents.delete(e):!1}deleteIn(e){return jr(e)?this.contents==null?!1:(this.contents=null,!0):Wn(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return ct(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return jr(e)?!n&&Qe(this.contents)?this.contents.value:this.contents:ct(this.contents)?this.contents.getIn(e,n):void 0}has(e){return ct(this.contents)?this.contents.has(e):!1}hasIn(e){return jr(e)?this.contents!==void 0:ct(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=qs(this.schema,[e],n):Wn(this.contents)&&this.contents.set(e,n)}setIn(e,n){jr(e)?this.contents=n:this.contents==null?this.contents=qs(this.schema,Array.from(e),n):Wn(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new vt({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new vt({version:e}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const s=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new Xo(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:s,onAnchor:i,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},l=zt(this.contents,n??"",a);if(typeof i=="function")for(const{count:c,res:d}of a.anchors.values())i(d,c);return typeof o=="function"?tr(o,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return Tw(this,e)}}function Wn(t){if(ct(t))return!0;throw new Error("Expected a YAML collection as document contents")}class Qu extends Error{constructor(e,n,r,s){super(),this.name=e,this.code=r,this.message=s,this.pos=n}}class zr extends Qu{constructor(e,n,r){super("YAMLParseError",e,n,r)}}class Ew extends Qu{constructor(e,n,r){super("YAMLWarning",e,n,r)}}const Dl=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,o=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const a=Math.min(i-39,o.length-79);o=""+o.substring(a),i-=a-1}if(o.length>80&&(o=o.substring(0,79)+""),r>1&&/^ *$/.test(o.substring(0,i))){let a=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===r&&l.col>s&&(a=Math.max(1,Math.min(l.col-s,80-i)));const c=" ".repeat(i)+"^".repeat(a);n.message+=`:

${o}
${c}
`}};function pr(t,{flow:e,indicator:n,next:r,offset:s,onError:i,parentIndent:o,startOnNewline:a}){let l=!1,c=a,d=a,f="",h="",g=!1,b=!1,p=null,w=null,S=null,N=null,T=null,k=null,j=null;for(const I of t)switch(b&&(I.type!=="space"&&I.type!=="newline"&&I.type!=="comma"&&i(I.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),b=!1),p&&(c&&I.type!=="comment"&&I.type!=="newline"&&i(p,"TAB_AS_INDENT","Tabs are not allowed as indentation"),p=null),I.type){case"space":!e&&(n!=="doc-start"||r?.type!=="flow-collection")&&I.source.includes("	")&&(p=I),d=!0;break;case"comment":{d||i(I,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const M=I.source.substring(1)||" ";f?f+=h+M:f=M,h="",c=!1;break}case"newline":c?f?f+=I.source:(!k||n!=="seq-item-ind")&&(l=!0):h+=I.source,c=!0,g=!0,(w||S)&&(N=I),d=!0;break;case"anchor":w&&i(I,"MULTIPLE_ANCHORS","A node can have at most one anchor"),I.source.endsWith(":")&&i(I.offset+I.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),w=I,j??(j=I.offset),c=!1,d=!1,b=!0;break;case"tag":{S&&i(I,"MULTIPLE_TAGS","A node can have at most one tag"),S=I,j??(j=I.offset),c=!1,d=!1,b=!0;break}case n:(w||S)&&i(I,"BAD_PROP_ORDER",`Anchors and tags must be after the ${I.source} indicator`),k&&i(I,"UNEXPECTED_TOKEN",`Unexpected ${I.source} in ${e??"collection"}`),k=I,c=n==="seq-item-ind"||n==="explicit-key-ind",d=!1;break;case"comma":if(e){T&&i(I,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),T=I,c=!1,d=!1;break}default:i(I,"UNEXPECTED_TOKEN",`Unexpected ${I.type} token`),c=!1,d=!1}const O=t[t.length-1],z=O?O.offset+O.source.length:s;return b&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p&&(c&&p.indent<=o||r?.type==="block-map"||r?.type==="block-seq")&&i(p,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:T,found:k,spaceBefore:l,comment:f,hasNewline:g,anchor:w,tag:S,newlineAfterProp:N,end:z,start:j??z}}function Zr(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(Zr(e.key)||Zr(e.value))return!0}return!1;default:return!0}}function ho(t,e,n){if(e?.type==="flow-collection"){const r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&Zr(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function ef(t,e,n){const{uniqueKeys:r}=t.options;if(r===!1)return!1;const s=typeof r=="function"?r:(i,o)=>i===o||Qe(i)&&Qe(o)&&i.value===o.value;return e.some(i=>s(i.key,n))}const Ll="All mapping items must start at the same column";function Iw({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=i?.nodeClass??jt,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,c=null;for(const d of r.items){const{start:f,key:h,sep:g,value:b}=d,p=pr(f,{indicator:"explicit-key-ind",next:h??g?.[0],offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0}),w=!p.found;if(w){if(h&&(h.type==="block-seq"?s(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==r.indent&&s(l,"BAD_INDENT",Ll)),!p.anchor&&!p.tag&&!g){c=p.end,p.comment&&(a.comment?a.comment+=`
`+p.comment:a.comment=p.comment);continue}(p.newlineAfterProp||Zr(h))&&s(h??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else p.found?.indent!==r.indent&&s(l,"BAD_INDENT",Ll);n.atKey=!0;const S=p.end,N=h?t(n,h,p,s):e(n,S,f,null,p,s);n.schema.compat&&ho(r.indent,h,s),n.atKey=!1,ef(n,a.items,N)&&s(S,"DUPLICATE_KEY","Map keys must be unique");const T=pr(g??[],{indicator:"map-value-ind",next:b,offset:N.range[2],onError:s,parentIndent:r.indent,startOnNewline:!h||h.type==="block-scalar"});if(l=T.end,T.found){w&&(b?.type==="block-map"&&!T.hasNewline&&s(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&p.start<T.found.offset-1024&&s(N.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const k=b?t(n,b,T,s):e(n,l,g,null,T,s);n.schema.compat&&ho(r.indent,b,s),l=k.range[2];const j=new kt(N,k);n.options.keepSourceTokens&&(j.srcToken=d),a.items.push(j)}else{w&&s(N.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),T.comment&&(N.comment?N.comment+=`
`+T.comment:N.comment=T.comment);const k=new kt(N);n.options.keepSourceTokens&&(k.srcToken=d),a.items.push(k)}}return c&&c<l&&s(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,c??l],a}function Ow({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=i?.nodeClass??qn,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,c=null;for(const{start:d,value:f}of r.items){const h=pr(d,{indicator:"seq-item-ind",next:f,offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||f)f&&f.type==="block-seq"?s(h.end,"BAD_INDENT","All sequence items must start at the same column"):s(l,"MISSING_CHAR","Sequence item without - indicator");else{c=h.end,h.comment&&(a.comment=h.comment);continue}const g=f?t(n,f,h,s):e(n,h.end,d,null,h,s);n.schema.compat&&ho(r.indent,f,s),l=g.range[2],a.items.push(g)}return a.range=[r.offset,l,c??l],a}function Wr(t,e,n,r){let s="";if(t){let i=!1,o="";for(const a of t){const{source:l,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{n&&!i&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const d=l.substring(1)||" ";s?s+=o+d:s=d,o="";break}case"newline":s&&(o+=l),i=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:s,offset:e}}const zi="Block collections are not allowed within flow collections",Ci=t=>t&&(t.type==="block-map"||t.type==="block-seq");function jw({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=r.start.source==="{",a=o?"flow map":"flow sequence",l=i?.nodeClass??(o?jt:qn),c=new l(n.schema);c.flow=!0;const d=n.atRoot;d&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let f=r.offset+r.start.source.length;for(let w=0;w<r.items.length;++w){const S=r.items[w],{start:N,key:T,sep:k,value:j}=S,O=pr(N,{flow:a,indicator:"explicit-key-ind",next:T??k?.[0],offset:f,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!O.found){if(!O.anchor&&!O.tag&&!k&&!j){w===0&&O.comma?s(O.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):w<r.items.length-1&&s(O.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),O.comment&&(c.comment?c.comment+=`
`+O.comment:c.comment=O.comment),f=O.end;continue}!o&&n.options.strict&&Zr(T)&&s(T,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(w===0)O.comma&&s(O.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(O.comma||s(O.start,"MISSING_CHAR",`Missing , between ${a} items`),O.comment){let z="";e:for(const I of N)switch(I.type){case"comma":case"space":break;case"comment":z=I.source.substring(1);break e;default:break e}if(z){let I=c.items[c.items.length-1];ft(I)&&(I=I.value??I.key),I.comment?I.comment+=`
`+z:I.comment=z,O.comment=O.comment.substring(z.length+1)}}if(!o&&!k&&!O.found){const z=j?t(n,j,O,s):e(n,O.end,k,null,O,s);c.items.push(z),f=z.range[2],Ci(j)&&s(z.range,"BLOCK_IN_FLOW",zi)}else{n.atKey=!0;const z=O.end,I=T?t(n,T,O,s):e(n,z,N,null,O,s);Ci(T)&&s(I.range,"BLOCK_IN_FLOW",zi),n.atKey=!1;const M=pr(k??[],{flow:a,indicator:"map-value-ind",next:j,offset:I.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(M.found){if(!o&&!O.found&&n.options.strict){if(k)for(const q of k){if(q===M.found)break;if(q.type==="newline"){s(q,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}O.start<M.found.offset-1024&&s(M.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else j&&("source"in j&&j.source&&j.source[0]===":"?s(j,"MISSING_CHAR",`Missing space after : in ${a}`):s(M.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const R=j?t(n,j,M,s):M.found?e(n,M.end,k,null,M,s):null;R?Ci(j)&&s(R.range,"BLOCK_IN_FLOW",zi):M.comment&&(I.comment?I.comment+=`
`+M.comment:I.comment=M.comment);const W=new kt(I,R);if(n.options.keepSourceTokens&&(W.srcToken=S),o){const q=c;ef(n,q.items,I)&&s(z,"DUPLICATE_KEY","Map keys must be unique"),q.items.push(W)}else{const q=new jt(n.schema);q.flow=!0,q.items.push(W);const Q=(R??I).range;q.range=[I.range[0],Q[1],Q[2]],c.items.push(q)}f=R?R.range[2]:M.end}}const h=o?"}":"]",[g,...b]=r.end;let p=f;if(g&&g.source===h)p=g.offset+g.source.length;else{const w=a[0].toUpperCase()+a.substring(1),S=d?`${w} must end with a ${h}`:`${w} in block collection must be sufficiently indented and end with a ${h}`;s(f,d?"MISSING_CHAR":"BAD_INDENT",S),g&&g.source.length!==1&&b.unshift(g)}if(b.length>0){const w=Wr(b,p,n.options.strict,s);w.comment&&(c.comment?c.comment+=`
`+w.comment:c.comment=w.comment),c.range=[r.offset,p,w.offset]}else c.range=[r.offset,p,p];return c}function Pi(t,e,n,r,s,i){const o=n.type==="block-map"?Iw(t,e,n,r,i):n.type==="block-seq"?Ow(t,e,n,r,i):jw(t,e,n,r,i),a=o.constructor;return s==="!"||s===a.tagName?(o.tag=a.tagName,o):(s&&(o.tag=s),o)}function zw(t,e,n,r,s){const i=r.tag,o=i?e.directives.tagName(i.source,h=>s(i,"TAG_RESOLVE_FAILED",h)):null;if(n.type==="block-seq"){const{anchor:h,newlineAfterProp:g}=r,b=h&&i?h.offset>i.offset?h:i:h??i;b&&(!g||g.offset<b.offset)&&s(b,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!o||o==="!"||o===jt.tagName&&a==="map"||o===qn.tagName&&a==="seq")return Pi(t,e,n,s,o);let l=e.schema.tags.find(h=>h.tag===o&&h.collection===a);if(!l){const h=e.schema.knownTags[o];if(h&&h.collection===a)e.schema.tags.push(Object.assign({},h,{default:!1})),l=h;else return h?s(i,"BAD_COLLECTION_TYPE",`${h.tag} used for ${a} collection, but expects ${h.collection??"scalar"}`,!0):s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),Pi(t,e,n,s,o)}const c=Pi(t,e,n,s,o,l),d=l.resolve?.(c,h=>s(i,"TAG_RESOLVE_FAILED",h),e.options)??c,f=ut(d)?d:new Re(d);return f.range=c.range,f.tag=o,l?.format&&(f.format=l.format),f}function Cw(t,e,n){const r=e.offset,s=Pw(e,t.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=s.mode===">"?Re.BLOCK_FOLDED:Re.BLOCK_LITERAL,o=e.source?$w(e.source):[];let a=o.length;for(let p=o.length-1;p>=0;--p){const w=o[p][1];if(w===""||w==="\r")a=p;else break}if(a===0){const p=s.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let w=r+s.length;return e.source&&(w+=e.source.length),{value:p,type:i,comment:s.comment,range:[r,w,w]}}let l=e.indent+s.indent,c=e.offset+s.length,d=0;for(let p=0;p<a;++p){const[w,S]=o[p];if(S===""||S==="\r")s.indent===0&&w.length>l&&(l=w.length);else{w.length<l&&n(c+w.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(l=w.length),d=p,l===0&&!t.atRoot&&n(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=w.length+S.length+1}for(let p=o.length-1;p>=a;--p)o[p][0].length>l&&(a=p+1);let f="",h="",g=!1;for(let p=0;p<d;++p)f+=o[p][0].slice(l)+`
`;for(let p=d;p<a;++p){let[w,S]=o[p];c+=w.length+S.length+1;const N=S[S.length-1]==="\r";if(N&&(S=S.slice(0,-1)),S&&w.length<l){const k=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(c-S.length-(N?2:1),"BAD_INDENT",k),w=""}i===Re.BLOCK_LITERAL?(f+=h+w.slice(l)+S,h=`
`):w.length>l||S[0]==="	"?(h===" "?h=`
`:!g&&h===`
`&&(h=`

`),f+=h+w.slice(l)+S,h=`
`,g=!0):S===""?h===`
`?f+=`
`:h=`
`:(f+=h+S,h=" ",g=!1)}switch(s.chomp){case"-":break;case"+":for(let p=a;p<o.length;++p)f+=`
`+o[p][0].slice(l);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}const b=r+s.length+e.source.length;return{value:f,type:i,comment:s.comment,range:[r,b,b]}}function Pw({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=e[0],i=s[0];let o=0,a="",l=-1;for(let h=1;h<s.length;++h){const g=s[h];if(!a&&(g==="-"||g==="+"))a=g;else{const b=Number(g);!o&&b?o=b:l===-1&&(l=t+h)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let c=!1,d="",f=s.length;for(let h=1;h<e.length;++h){const g=e[h];switch(g.type){case"space":c=!0;case"newline":f+=g.source.length;break;case"comment":n&&!c&&r(g,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=g.source.length,d=g.source.substring(1);break;case"error":r(g,"UNEXPECTED_TOKEN",g.message),f+=g.source.length;break;default:{const b=`Unexpected token in block scalar header: ${g.type}`;r(g,"UNEXPECTED_TOKEN",b);const p=g.source;p&&typeof p=="string"&&(f+=p.length)}}}return{mode:i,indent:o,chomp:a,comment:d,length:f}}function $w(t){const e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),i=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)i.push([e[o],e[o+1]]);return i}function Dw(t,e,n){const{offset:r,type:s,source:i,end:o}=t;let a,l;const c=(h,g,b)=>n(r+h,g,b);switch(s){case"scalar":a=Re.PLAIN,l=Lw(i,c);break;case"single-quoted-scalar":a=Re.QUOTE_SINGLE,l=Rw(i,c);break;case"double-quoted-scalar":a=Re.QUOTE_DOUBLE,l=Mw(i,c);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const d=r+i.length,f=Wr(o,d,e,n);return{value:l,type:a,comment:f.comment,range:[r,d,f.offset]}}function Lw(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),tf(t)}function Rw(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),tf(t.slice(1,-1)).replace(/''/g,"'")}function tf(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let s=r[1],i=" ",o=e.lastIndex;for(n.lastIndex=o;r=n.exec(t);)r[1]===""?i===`
`?s+=i:i=`
`:(s+=i+r[1],i=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(t),s+i+(r?.[1]??"")}function Mw(t,e){let n="";for(let r=1;r<t.length-1;++r){const s=t[r];if(!(s==="\r"&&t[r+1]===`
`))if(s===`
`){const{fold:i,offset:o}=Bw(t,r);n+=i,r=o}else if(s==="\\"){let i=t[++r];const o=Fw[i];if(o)n+=o;else if(i===`
`)for(i=t[r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="\r"&&t[r+1]===`
`)for(i=t[++r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="x"||i==="u"||i==="U"){const a={x:2,u:4,U:8}[i];n+=Uw(t,r+1,a,e),r+=a}else{const a=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(s===" "||s==="	"){const i=r;let o=t[r+1];for(;o===" "||o==="	";)o=t[++r+1];o!==`
`&&!(o==="\r"&&t[r+2]===`
`)&&(n+=r>i?t.slice(i,r+1):s)}else n+=s}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function Bw(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}const Fw={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Uw(t,e,n,r){const s=t.substr(e,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(o)){const a=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function nf(t,e,n,r){const{value:s,type:i,comment:o,range:a}=e.type==="block-scalar"?Cw(t,e,r):Dw(e,t.options.strict,r),l=n?t.directives.tagName(n.source,f=>r(n,"TAG_RESOLVE_FAILED",f)):null;let c;t.options.stringKeys&&t.atKey?c=t.schema[Yt]:l?c=Zw(t.schema,s,l,n,r):e.type==="scalar"?c=Vw(t,s,e,r):c=t.schema[Yt];let d;try{const f=c.resolve(s,h=>r(n??e,"TAG_RESOLVE_FAILED",h),t.options);d=Qe(f)?f:new Re(f)}catch(f){const h=f instanceof Error?f.message:String(f);r(n??e,"TAG_RESOLVE_FAILED",h),d=new Re(s)}return d.range=a,d.source=s,i&&(d.type=i),l&&(d.tag=l),c.format&&(d.format=c.format),o&&(d.comment=o),d}function Zw(t,e,n,r,s){if(n==="!")return t[Yt];const i=[];for(const a of t.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)i.push(a);else return a;for(const a of i)if(a.test?.test(e))return a;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Yt])}function Vw({atKey:t,directives:e,schema:n},r,s,i){const o=n.tags.find(a=>(a.default===!0||t&&a.default==="key")&&a.test?.test(r))||n[Yt];if(n.compat){const a=n.compat.find(l=>l.default&&l.test?.test(r))??n[Yt];if(o.tag!==a.tag){const l=e.tagString(o.tag),c=e.tagString(a.tag),d=`Value may be parsed as either ${l} or ${c}`;i(s,"TAG_RESOLVE_FAILED",d,!0)}}return o}function qw(t,e,n){if(e){n??(n=e.length);for(let r=n-1;r>=0;--r){let s=e[r];switch(s.type){case"space":case"comment":case"newline":t-=s.source.length;continue}for(s=e[++r];s?.type==="space";)t+=s.source.length,s=e[++r];break}}return t}const Kw={composeNode:rf,composeEmptyNode:Qo};function rf(t,e,n,r){const s=t.atKey,{spaceBefore:i,comment:o,anchor:a,tag:l}=n;let c,d=!0;switch(e.type){case"alias":c=Gw(t,e,r),(a||l)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=nf(t,e,l,r),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=zw(Kw,t,e,n,r),a&&(c.anchor=a.source.substring(1));break;default:{const f=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",f),c=Qo(t,e.offset,void 0,null,n,r),d=!1}}return a&&c.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),s&&t.options.stringKeys&&(!Qe(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&r(l??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(c.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?c.comment=o:c.commentBefore=o),t.options.keepSourceTokens&&d&&(c.srcToken=e),c}function Qo(t,e,n,r,{spaceBefore:s,comment:i,anchor:o,tag:a,end:l},c){const d={type:"scalar",offset:qw(e,n,r),indent:-1,source:""},f=nf(t,d,a,c);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(f.spaceBefore=!0),i&&(f.comment=i,f.range[2]=l),f}function Gw({options:t},{offset:e,source:n,end:r},s){const i=new Fo(n.substring(1));i.source===""&&s(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,a=Wr(r,o,t.strict,s);return i.range=[e,o,a.offset],a.comment&&(i.comment=a.comment),i}function Hw(t,e,{offset:n,start:r,value:s,end:i},o){const a=Object.assign({_directives:e},t),l=new li(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},d=pr(r,{indicator:"doc-start",next:s??i?.[0],offset:n,onError:o,parentIndent:0,startOnNewline:!0});d.found&&(l.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!d.hasNewline&&o(d.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=s?rf(c,s,d,o):Qo(c,d.end,r,null,d,o);const f=l.contents.range[2],h=Wr(i,f,!1,o);return h.comment&&(l.comment=h.comment),l.range=[n,f,h.offset],l}function Or(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function Rl(t){let e="",n=!1,r=!1;for(let s=0;s<t.length;++s){const i=t[s];switch(i[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(i.substring(1)||" "),n=!0,r=!1;break;case"%":t[s+1]?.[0]!=="#"&&(s+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}class Yw{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,s,i)=>{const o=Or(n);i?this.warnings.push(new Ew(o,r,s)):this.errors.push(new zr(o,r,s))},this.directives=new vt({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:r,afterEmptyLine:s}=Rl(this.prelude);if(r){const i=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(s||e.directives.docStart||!i)e.commentBefore=r;else if(ct(i)&&!i.flow&&i.items.length>0){let o=i.items[0];ft(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}else{const o=i.commentBefore;i.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Rl(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(const s of e)yield*this.next(s);yield*this.end(n,r)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,r,s)=>{const i=Or(e);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",r,s)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=Hw(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new zr(Or(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new zr(Or(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=Wr(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new zr(Or(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const r=Object.assign({_directives:this.directives},this.options),s=new li(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}}const sf="\uFEFF",of="",af="",po="";function Ww(t){switch(t){case sf:return"byte-order-mark";case of:return"doc-mode";case af:return"flow-error-end";case po:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function Mt(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Ml=new Set("0123456789ABCDEFabcdef"),Jw=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Es=new Set(",[]{}"),Xw=new Set(` ,[]{}
\r	`),$i=t=>!t||Xw.has(t);class Qw{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){const s=this.buffer[r+e+1];if(s===`
`||!s&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&Mt(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===sf&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,r=e.indexOf("#");for(;r!==-1;){const i=e[r-1];if(i===" "||i==="	"){n=r-1;break}else r=e.indexOf("#",r+1)}for(;;){const i=e[n-1];if(i===" "||i==="	")n-=1;else break}const s=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield of,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&Mt(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Mt(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Mt(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil($i),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&s[0]!=="#"||r===0&&(s.startsWith("---")||s.startsWith("..."))&&Mt(s[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield af,yield*this.parseLineStart();let i=0;for(;s[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),s[i]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil($i),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||Mt(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let s=r.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const i=this.continueScalar(s+1);if(i===-1)break;s=r.indexOf(`
`,i)}s!==-1&&(n=s-(r[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Mt(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:e=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let s=e+1;for(r=this.buffer[s];r===" ";)r=this.buffer[++s];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++s];e=s-1}else if(!this.blockScalarKeep)do{let i=e-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const a=i;for(;o===" ";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>a)e=i;else break}while(!0);return yield po,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,s;for(;s=this.buffer[++r];)if(s===":"){const i=this.buffer[r+1];if(Mt(i)||e&&Es.has(i))break;n=r}else if(Mt(s)){let i=this.buffer[r+1];if(s==="\r"&&(i===`
`?(r+=1,s=`
`,i=this.buffer[r+1]):n=r),i==="#"||e&&Es.has(i))break;if(s===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(e&&Es.has(s))break;n=r}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield po,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil($i))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(Mt(n)||e&&Es.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Mt(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(Jw.has(n))n=this.buffer[++e];else if(n==="%"&&Ml.has(this.buffer[e+1])&&Ml.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class e_{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){const i=n+r>>1;this.lineStarts[i]<e?n=i+1:r=i}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const s=this.lineStarts[n-1];return{line:n,col:e-s+1}}}}function bn(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function Bl(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function lf(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Is(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function Jn(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function Fl(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!bn(e.start,"explicit-key-ind")&&!bn(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,lf(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class t_{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Qw,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=Ww(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&Fl(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const s=r.items[r.items.length-1];if(s.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=r.items[r.items.length-1];s.value?r.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{const s=r.items[r.items.length-1];!s||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&Bl(s.start)===-1&&(n.indent===0||s.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(r.type==="document"?r.end=s.start:r.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Bl(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=Is(this.peek(2)),r=Jn(n);let s;e.end?(s=e.end,s.push(this.sourceToken),delete e.end):s=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const r=!this.onKeyLine&&this.indent===e.indent,s=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let i=[];if(s&&n.sep&&!n.value){const o=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(i=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":s||n.value?(i.push(this.sourceToken),e.items.push({start:i}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):s||n.value?(i.push(this.sourceToken),e.items.push({start:i,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(bn(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if(lf(n.key)&&!bn(n.sep,"newline")){const o=Jn(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else i.length>0?n.sep=n.sep.concat(i,this.sourceToken):n.sep.push(this.sourceToken);else if(bn(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=Jn(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||s?e.items.push({start:i,key:null,sep:[this.sourceToken]}):bn(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);s||n.value?(e.items.push({start:i,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(e);if(o){if(o.type==="block-seq"){if(!n.explicitKey&&n.sep&&!bn(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&e.items.push({start:i});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||bn(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const r=this.startBlockValue(e);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const s=Is(r),i=Jn(s);Fl(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Is(e),r=Jn(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Is(e),r=Jn(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function n_(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new e_||null,prettyErrors:e}}function r_(t,e={}){const{lineCounter:n,prettyErrors:r}=n_(e),s=new t_(n?.addNewLine),i=new Yw(e);let o=null;for(const a of i.compose(s.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new zr(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(Dl(t,n)),o.warnings.forEach(Dl(t,n))),o}function s_(t,e,n){let r;const s=r_(t,n);if(!s)return null;if(s.warnings.forEach(i=>Pu(s.options.logLevel,i)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}const cf=mo(t=>({trains:{},currentTrain:void 0,setTrainsFromYml:e=>{try{const n=s_(e),r=zb(n);r.valid?t({trains:lu.parse(n),parseErrors:void 0}):(console.error("Invalid YAML data:",r.errors),$n.error("We couldn't load your trains. Please check that you uploaded the SavedTrainProperties YAML file from TrainCarts. See the browser console for more details.",{duration:1e4}),t({trains:{},parseErrors:r.errors}))}catch(n){console.error("Error parsing YAML:",n),$n.error("We couldn't read your file. Please make sure it's a valid YAML and try again. See the browser console for more details.",{duration:1e4}),t({trains:{},parseErrors:["Failed to parse YAML.",String(n)]});return}},setTrains:e=>t({trains:e}),setCurrentTrain:e=>t({currentTrain:e}),clearCurrentTrain:()=>t({currentTrain:void 0}),reset:()=>t({trains:{},currentTrain:void 0,parseErrors:void 0})}));function i_(){const t=ke.c(58),e=Wt(),n=cf(),[r,s]=Le.useState(n.currentTrain),[i,o]=Le.useState(e.cart),[a,l]=Le.useState(e.metadata.projectName);let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=y.jsx(Lo,{children:"New TCA-Project"}),t[0]=c):c=t[0];let d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=y.jsx(Bt,{htmlFor:"projectName",children:"Project name"}),t[1]=d):d=t[1];let f,h,g,b;t[2]===Symbol.for("react.memo_cache_sentinel")?(f=y.jsx(wo,{id:"projectName",placeholder:"My TCA Project",className:"mt-2",onChange:we=>l(we.target.value)}),h=y.jsx("hr",{className:"my-4"}),g=y.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"TC Animator lets you animate one cart from a single train per project. To work on a different train or cart, create a new project for each one."}),b=y.jsx(Bt,{htmlFor:"train",children:"Train"}),t[2]=f,t[3]=h,t[4]=g,t[5]=b):(f=t[2],h=t[3],g=t[4],b=t[5]);let p;t[6]!==n.trains?(p=we=>{const G=n.trains[we];G&&(s(G),o(null))},t[6]=n.trains,t[7]=p):p=t[7];let w;t[8]===Symbol.for("react.memo_cache_sentinel")?(w=y.jsx(Ui,{className:"w-full",id:"train",children:y.jsx(Fi,{placeholder:"Select a train"})}),t[8]=w):w=t[8];let S;t[9]===Symbol.for("react.memo_cache_sentinel")?(S=y.jsx(Vi,{children:"Trains"}),t[9]=S):S=t[9];let N;t[10]!==n.trains?(N=Object.values(n.trains).filter(l_).map(a_),t[10]=n.trains,t[11]=N):N=t[11];let T;t[12]!==N?(T=y.jsx(Zi,{children:y.jsxs(Bi,{children:[S,N]})}),t[12]=N,t[13]=T):T=t[13];let k;t[14]!==T||t[15]!==p?(k=y.jsxs(Mi,{onValueChange:p,children:[w,T]}),t[14]=T,t[15]=p,t[16]=k):k=t[16];let j;t[17]===Symbol.for("react.memo_cache_sentinel")?(j=y.jsx(Bt,{htmlFor:"cart",className:"mt-4",children:"Cart"}),t[17]=j):j=t[17];let O;t[18]!==i||t[19]!==r?(O=r?.carts?Object.entries(r.carts).find(we=>{const[,G]=we;return G===i})?.[0]??"":"",t[18]=i,t[19]=r,t[20]=O):O=t[20];const z=!r?.carts;let I;t[21]!==r?.carts?(I=we=>{const G=r?.carts?.[we];G&&o(G)},t[21]=r?.carts,t[22]=I):I=t[22];let M;t[23]===Symbol.for("react.memo_cache_sentinel")?(M=y.jsx(Ui,{className:"w-full",id:"cart",children:y.jsx(Fi,{placeholder:"Select a cart"})}),t[23]=M):M=t[23];let R;t[24]===Symbol.for("react.memo_cache_sentinel")?(R=y.jsx(Vi,{children:"Carts"}),t[24]=R):R=t[24];let W;t[25]!==r?.carts?(W=Object.entries(r?.carts||{}).map(o_),t[25]=r?.carts,t[26]=W):W=t[26];let q;t[27]!==W?(q=y.jsx(Zi,{children:y.jsxs(Bi,{children:[R,W]})}),t[27]=W,t[28]=q):q=t[28];let Q;t[29]!==O||t[30]!==z||t[31]!==I||t[32]!==q?(Q=y.jsxs(Mi,{value:O,disabled:z,onValueChange:I,children:[M,q]}),t[29]=O,t[30]=z,t[31]=I,t[32]=q,t[33]=Q):Q=t[33];let le;t[34]!==k||t[35]!==Q?(le=y.jsxs($o,{children:[c,y.jsx(Ro,{asChild:!0,children:y.jsxs("div",{children:[d,f,h,g,b,k,j,Q]})})]}),t[34]=k,t[35]=Q,t[36]=le):le=t[36];let de;t[37]!==e||t[38]!==n?(de=()=>{e.reset(),n.reset()},t[37]=e,t[38]=n,t[39]=de):de=t[39];let be;t[40]===Symbol.for("react.memo_cache_sentinel")?(be=y.jsx(jd,{}),t[40]=be):be=t[40];let ce;t[41]!==de?(ce=y.jsxs(vn,{variant:"secondary",onClick:de,children:[be,"Back"]}),t[41]=de,t[42]=ce):ce=t[42];let ne;t[43]!==i||t[44]!==r||t[45]!==a||t[46]!==e||t[47]!==n?(ne=async()=>{a&&r&&i&&(e.setProjectName(a),n.setCurrentTrain(r),e.setCart(i),await e.saveProject())},t[43]=i,t[44]=r,t[45]=a,t[46]=e,t[47]=n,t[48]=ne):ne=t[48];const pe=!(a&&r&&i);let ie;t[49]!==ne||t[50]!==pe?(ie=y.jsx(vn,{onClick:ne,disabled:pe,children:"Create Project"}),t[49]=ne,t[50]=pe,t[51]=ie):ie=t[51];let Te;t[52]!==ce||t[53]!==ie?(Te=y.jsxs(Do,{className:"flex justify-between",children:[ce,ie]}),t[52]=ce,t[53]=ie,t[54]=Te):Te=t[54];let Ee;return t[55]!==le||t[56]!==Te?(Ee=y.jsx(Co,{open:!0,children:y.jsxs(Po,{children:[le,Te]})}),t[55]=le,t[56]=Te,t[57]=Ee):Ee=t[57],Ee}function o_(t){const[e]=t;return y.jsx(Bs,{value:e,children:e},e)}function a_(t){return y.jsx(Bs,{value:t.savedName,children:t.savedName},t.savedName)}function l_(t){return t.carts}function c_(){const t=ke.c(22),e=Wt(),n=cf();let r;t[0]!==n?(r=async()=>{const N=await uc({description:"Select a YAML file",mimeTypes:["application/x-yaml","text/yaml"],extensions:[".yaml",".yml"],id:"load-saved-train-properties",startIn:"documents"}).catch(u_);if(N){const T=await N.text();n.setTrainsFromYml(T),n.setCurrentTrain(Object.values(n.trains)[0])}},t[0]=n,t[1]=r):r=t[1];const s=r;let i;t[2]!==e?(i=async()=>{$n.promise(e.loadProjectFromFile(),{loading:"Loading project...",success:"Project loaded successfully!",error:"Failed to load project."})},t[2]=e,t[3]=i):i=t[3];const o=i;if(Object.entries(n.trains).length>0&&!e.metadata.createdAt){let N;return t[4]===Symbol.for("react.memo_cache_sentinel")?(N=y.jsx(i_,{}),t[4]=N):N=t[4],N}const a=!e.metadata.createdAt;let l;t[5]===Symbol.for("react.memo_cache_sentinel")?(l=y.jsx(Lo,{children:"Welcome to TC Animator!"}),t[5]=l):l=t[5];let c;t[6]===Symbol.for("react.memo_cache_sentinel")?(c=y.jsx("h3",{className:"text-lg",children:"Please import a SavedTrainProperties YAML file or open an existing project to get started."}),t[6]=c):c=t[6];let d;t[7]===Symbol.for("react.memo_cache_sentinel")?(d=y.jsx(Ed,{className:"block size-24 mx-auto"}),t[7]=d):d=t[7];let f;t[8]!==s?(f=y.jsxs(vn,{variant:"secondary",className:"aspect-square w-full h-auto flex flex-col",onClick:s,children:[d,"Import SavedTrainProperties"]}),t[8]=s,t[9]=f):f=t[9];let h;t[10]===Symbol.for("react.memo_cache_sentinel")?(h=y.jsx(Id,{className:"block size-24 mx-auto"}),t[10]=h):h=t[10];let g;t[11]!==o?(g=y.jsxs(vn,{variant:"secondary",className:"aspect-square w-full h-auto flex flex-col",onClick:o,children:[h,"Open TCA-Project"]}),t[11]=o,t[12]=g):g=t[12];let b;t[13]!==f||t[14]!==g?(b=y.jsxs($o,{children:[l,y.jsx(Ro,{asChild:!0,children:y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c,y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f,g]})]})})]}),t[13]=f,t[14]=g,t[15]=b):b=t[15];let p;t[16]===Symbol.for("react.memo_cache_sentinel")?(p=y.jsx(Do,{className:"text-sm text-muted-foreground",children:y.jsxs("a",{href:"https://foxxite.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:["Made with  by Foxxite | Articca",y.jsx(Od,{className:"inline-block size-4"})]})}),t[16]=p):p=t[16];let w;t[17]!==b?(w=y.jsxs(Po,{children:[b,p]}),t[17]=b,t[18]=w):w=t[18];let S;return t[19]!==w||t[20]!==a?(S=y.jsx(Co,{open:a,children:w}),t[19]=w,t[20]=a,t[21]=S):S=t[21],S}function u_(){return null}zd.createRoot(document.getElementById("root")).render(y.jsxs(Le.StrictMode,{children:[y.jsx(Gy,{}),y.jsx(c_,{}),y.jsx(Fy,{}),y.jsx(Cd,{position:"top-center"})]}));
